<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>TIL</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//posts/10" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="TIL" data-gatsby-head="true"/><meta property="og:title" content="TIL" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/TIL/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//posts/10" data-gatsby-head="true"/><meta name="twitter:title" content="TIL" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/7d7290728862aada.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/7d7290728862aada.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/873-eb138c3217d71553.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/posts/%5Bpage%5D-de1dc5579188f9be.js" defer=""></script><script src="/TIL/_next/static/olPs1cVezSGTqD7OaewDI/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/olPs1cVezSGTqD7OaewDI/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="Next.js 15에서 cacheTag 사용해서 효율적으로 캐시 관리하는 방법" href="/TIL/post/2025-04-22-cacheTag"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Next.js 15에서 cacheTag 사용해서 효율적으로 캐시 관리하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Next.js 15에서 cacheTag 사용해서 효율적으로 캐시 관리하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">Next.js 15에서 cacheTag 사용해서 효율적으로 캐시 관리하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">9<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Next.js 15에서 Connection 관리하는 방법" href="/TIL/post/2025-04-22-connection"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Next.js 15에서 Connection 관리하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Next.js 15에서 Connection 관리하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">Next.js 15에서 Connection 관리하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Next.js 15에서 cacheLife 설정하는 방법 및 캐시 수명 관리 방법 정리" href="/TIL/post/2025-04-22-cacheLife"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Next.js 15에서 cacheLife 설정하는 방법 및 캐시 수명 관리 방법 정리" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Next.js 15에서 cacheLife 설정하는 방법 및 캐시 수명 관리 방법 정리" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">Next.js 15에서 cacheLife 설정하는 방법 및 캐시 수명 관리 방법 정리</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">17<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Next.js 15에서 after 메서드 활용하는 최신 방법 2025" href="/TIL/post/2025-04-22-after"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Next.js 15에서 after 메서드 활용하는 최신 방법 2025" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Next.js 15에서 after 메서드 활용하는 최신 방법 2025" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">Next.js 15에서 after 메서드 활용하는 최신 방법 2025</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">8<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Next.js 15에서 sitemap.xml 자동으로 생성하는 방법" href="/TIL/post/2025-04-22-sitemapxml"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Next.js 15에서 sitemap.xml 자동으로 생성하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Next.js 15에서 sitemap.xml 자동으로 생성하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">Next.js 15에서 sitemap.xml 자동으로 생성하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">18<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="웹 SEO를 위한 robots.txt 작성과 활용법" href="/TIL/post/2025-04-22-robotstxt"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="웹 SEO를 위한 robots.txt 작성과 활용법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="웹 SEO를 위한 robots.txt 작성과 활용법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">웹 SEO를 위한 robots.txt 작성과 활용법</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Next.js 15에서 OpenGraph-Image와 Twitter-Image 설정하는 방법 " href="/TIL/post/2025-04-22-opengraph-imageandtwitter-image"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Next.js 15에서 OpenGraph-Image와 Twitter-Image 설정하는 방법 " loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Next.js 15에서 OpenGraph-Image와 Twitter-Image 설정하는 방법 " loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">Next.js 15에서 OpenGraph-Image와 Twitter-Image 설정하는 방법 </strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">25<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Nextjs15에서 manifest.json 설정하는 방법" href="/TIL/post/2025-04-22-manifestjson"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Nextjs15에서 manifest.json 설정하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Nextjs15에서 manifest.json 설정하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">Nextjs15에서 manifest.json 설정하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="nextjs 15에서 meta data 사용하는 방법" href="/TIL/post/2025-04-22-MetadataFilesAPIReference"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="nextjs 15에서 meta data 사용하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="nextjs 15에서 meta data 사용하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">nextjs 15에서 meta data 사용하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="2025년 Next.js 15에서 favicon, icon, apple-icon 쉽게 설정하는 방법" href="/TIL/post/2025-04-22-faviconiconandapple-icon"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="2025년 Next.js 15에서 favicon, icon, apple-icon 쉽게 설정하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/nextjs.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="2025년 Next.js 15에서 favicon, icon, apple-icon 쉽게 설정하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">2025년 Next.js 15에서 favicon, icon, apple-icon 쉽게 설정하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">18 hours ago</span><span class="PostList_reading_time__6CBMQ">21<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><a class="link" href="/TIL/posts/1">1</a><a class="link" href="/TIL/posts/2">2</a><a class="link" href="/TIL/posts/3">3</a><a class="link" href="/TIL/posts/4">4</a><a class="link" href="/TIL/posts/5">5</a><a class="link" href="/TIL/posts/6">6</a><a class="link" href="/TIL/posts/7">7</a><a class="link" href="/TIL/posts/8">8</a><a class="link" href="/TIL/posts/9">9</a><a class="link posts_-active__YVJEi" href="/TIL/posts/10">10</a><a class="link" href="/TIL/posts/11">11</a><a class="link" href="/TIL/posts/12">12</a><a class="link" href="/TIL/posts/13">13</a><a class="link" href="/TIL/posts/14">14</a><a class="link" href="/TIL/posts/15">15</a><a class="link" href="/TIL/posts/16">16</a><a class="link" href="/TIL/posts/17">17</a><a class="link" href="/TIL/posts/18">18</a><a class="link" href="/TIL/posts/19">19</a><a class="link" href="/TIL/posts/20">20</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"Next.js 15에서 cacheTag 사용해서 효율적으로 캐시 관리하는 방법","description":"","date":"2025-04-22 02:59","slug":"2025-04-22-cacheTag","content":"\n# cacheTag\n\ncacheTag 함수는 캐시된 데이터를 태그로 관리해서 필요한 순간에만 캐시를 지우거나 갱신할 수 있게 도와줘요. 태그를 캐시 항목에 붙여두면, 전체 캐시를 지우는 대신 특정 태그가 붙은 데이터만 골라서 재검증하거나 삭제할 수 있답니다. 이 기능 덕분에 캐시 관리가 훨씬 스마트해지고 효율적이죠!\n\n## 사용 방법\n\ncacheTag를 사용하려면, 먼저 프로젝트의 `next.config.js` 파일에서 `dynamicIO` 플래그를 활성화해야 해요. 이렇게요:\n\n```js\n// next.config.js\nmodule.exports = {\n  experimental: {\n    dynamicIO: true,\n  },\n};\n```\n\n\u003e `dynamicIO` 옵션은 아직 실험적인 기능이라, 안정성이 필요한 프로젝트에서는 신중하게 적용하는 게 좋아요.\n\n이 설정을 한 다음, 원하는 캐시 데이터에 태그를 달아서 관리할 수 있습니다.\n\n---\n\n### 참고로 더!\n\n- 태그 관리 덕분에 특정 부분만 업데이트해야 할 때, 서버 성능과 사용자 경험이 크게 개선됩니다.\n- 이 기능은 특히 데이터가 자주 바뀌면서도 전체를 다시 로드하는 건 비효율적인 서비스(예: 뉴스 피드, 실시간 데이터 보여주는 앱 등)에 유용해요.\n- `cacheTag`를 사용하면서 동시에 어떻게 캐시 무효화 전략을 세울지 고민해보면 프로젝트의 퍼포먼스 최적화에 큰 도움이 됩니다.\n\n필요하면 다음에 캐시 사용 예제에 대해서도 알려줄게요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.js에서 새롭게 제공하는 캐시 태그(cacheTag) 기능을 재미있게 활용해볼까요? 이번에 소개할 코드는 캐시를 더 세밀하게 관리할 수 있게 도와주는 설정과 함수예요.\n\n### 1. next.config.js 설정\n\n먼저 `next.config.js` 파일에서 실험적 기능인 `dynamicIO`를 활성화해야 해요. 이 옵션을 켜면 Next.js가 새로운 캐시 태그 기능을 사용할 수 있도록 준비된답니다.\n\n```js\nimport type { NextConfig } from \"next\";\n\nconst nextConfig: NextConfig = {\n  experimental: {\n    dynamicIO: true,\n  },\n};\n\nexport default nextConfig;\n```\n\n여기서 `dynamicIO`는 아직 완전히 안정화된 기능은 아니지만, 캐시 제어나 데이터 페칭에 좀 더 유연한 방식으로 접근할 수 있게 해줘요.\n\n---\n\n### 2. 캐시 태그 지정하기 - `cacheTag`\n\n이제 함수 안에서 `cacheTag` 함수를 써보죠! 이 함수는 하나의 문자열 태그, 혹은 문자열 배열로 캐시 태그를 지정할 수 있어요.\n\n```js\nimport { unstable_cacheTag as cacheTag } from \"next/cache\";\n\nexport async function getData() {\n  \"use cache\";\n  cacheTag(\"my-data\");\n  const data = await fetch(\"/api/data\");\n  return data;\n}\n```\n\n- 먼저 함수 최상단 `'use cache'` 디렉티브를 호출해 캐시 기능을 활성화해줍니다.\n- `cacheTag('my-data')`로 해당 함수가 사용하는 캐시 태그를 지정하죠.\n- 이렇게 하면 `my-data`라는 태그를 기준으로 캐싱되고, 이 태그만 선택적으로 무효화할 수 있습니다.\n\n이게 뭐가 좋느냐면, 데이터를 전체 페이지가 아니라 세부 단위별로 새로고침할 수 있다는 점이에요. 예를 들어, 특정 API 데이터를 업데이트해야 할 때 전체 페이지를 빌드할 필요 없이 해당 데이터만 캐시를 지우고 재생성할 수 있게 되는 거죠.\n\n---\n\n### 3. 캐시 무효화 (Cache Purge) - `revalidateTag`\n\n캐시가 오래되었거나, 데이터를 리프레시하려면 태그 단위로 캐시를 무효화하는 게 중요한데요. Next.js는 `revalidateTag` API로 이걸 쉽게 지원합니다.\n\n```js\nimport { revalidateTag } from \"next/cache\";\n\nexport async function POST() {\n  // 예: API 라우트에서 데이터가 변경될 때 해당 캐시 태그를 무효화\n  await doDataUpdate();\n  revalidateTag(\"my-data\");\n  return new Response('Cache cleared for \"my-data\" tag');\n}\n```\n\n- 위 예시처럼, 서버측 함수에서 데이터 수정 후 `revalidateTag('my-data')`를 호출하면 `'my-data'` 관련된 캐시가 모두 무효화됩니다.\n- 그러면 다음 요청 시점에 다시 최신 데이터를 받아서 캐쉬를 갱신하게 되죠.\n\n---\n\n## 요약\n\n| 기능                     | 설명                                                       |\n| ------------------------ | ---------------------------------------------------------- |\n| `experimental.dynamicIO` | Next.js에서 캐시 태그 사용을 위한 실험적 설정              |\n| `cacheTag`               | 함수 내에서 캐시 태그를 지정, 데이터 단위별 캐시 제어 가능 |\n| `revalidateTag`          | 특정 태그에 해당하는 캐시를 서버에서 강제로 무효화         |\n\n---\n\n## 한마디\n\n이번에 소개한 캐시 태그 기능은 특히 데이터가 자주 업데이트되는 상황에서 유용해요. API 응답이나 UI 컴포넌트의 일부를 효과적으로 갱신할 수 있으니, 무조건 페이지 전체를 다시 빌드하는 구조에서 벗어나고 싶다면 한 번 꼭 시도해보세요. 실험적이라 공식 문서와 버전이 바뀌는지는 꾸준히 체크하는 것도 잊지 마시고요!\n\n더 궁금한 점 있으면 언제든 댓글로 남겨주세요. 같이 공부해봐요! 😊\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n위 코드는 Next.js의 서버 컴포넌트에서 캐시를 제어할 때 사용하는 예제입니다. 여기서 핵심은 revalidateTag라는 함수로 특정 캐시 태그를 재검증(revalidate)해서, 데이터가 바뀌었을 때 최신 상태로 유지하게 만드는 거예요.\n\n```js\n\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\n\nexport default async function submit() {\n  await addPost(); // 새로운 포스트를 추가하는 비동기 함수\n  revalidateTag(\"my-data\"); // 'my-data'라는 태그가 붙은 캐시를 재검증해서 최신으로 업데이트\n}\n```\n\n위 코드에서 addPost()가 끝나면, 'my-data'라는 태그를 가진 캐시는 재검증돼서 이전 데이터가 아닌 새 데이터를 가져오도록 만드는 역할이에요.\n\n---\n\n## 알아두면 좋은 팁\n\n| 내용            | 설명                                                                               |\n| --------------- | ---------------------------------------------------------------------------------- |\n| Idempotent Tags | 동일한 태그를 여러 번 적용해도 추가적인 효과가 없어요. 중복 적용해도 무방해요.     |\n| Multiple Tags   | 한 캐시 엔트리에 여러 태그를 붙일 수 있어요. 배열 형태로 태그들을 넘겨주면 됩니다. |\n\n예를 들어 이렇게 사용해요:\n\n```js\ncacheTag(\"tag-one\", \"tag-two\");\n```\n\n위와 같이 여러 태그를 한 번에 붙이면, 이 캐시 항목이 두 가지 태그에 묶여서 둘 중 하나라도 변경될 경우 재검증됩니다.\n\n---\n\n### 개인적으로 추가로 알려드릴 점!\n\n캐시 태그를 이렇게 사용하면 무조건 캐시 무효화(invalidation)를 하느니, 필요한 부분만 선별적으로 업데이트하는 '스마트 캐싱' 전략을 세우기 좋아요. 데이터가 자주 변하는 서비스에서는 서버 성능과 유저 경험을 둘 다 잡기 위해 꼭 익혀야 하는 기능입니다.\n\nNext.js 13+ 버전에서 제공하는 이 기능을 잘 활용하면, SSR(Server Side Rendering) 혹은 ISR(Incremental Static Regeneration) 환경에서도 원하는 타이밍에 효율적으로 데이터를 업데이트할 수 있어요. 번거로운 캐시 조작을 줄이고, 최신 데이터도 놓치지 않게 해주는 아주 쓸모 있는 기능이죠!\n\n필요하시면 addPost() 같은 함수 내부 구현도 같이 다뤄볼테니, 언제든 질문 주세요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 예제\n\n### 컴포넌트나 함수에 태그 달기\n\n캐시된 함수나 컴포넌트 안에서 `cacheTag`를 호출해서 캐시 데이터를 태그할 수 있어요. 이렇게 하면 캐시 관리가 좀 더 편리해지고, 특정 태그를 기준으로 캐시를 재검증하거나 삭제할 수 있답니다.\n\n```js\nimport { unstable_cacheTag as cacheTag } from \"next/cache\";\n\ninterface BookingsProps {\n  type: string;\n}\n\nexport async function Bookings({ type = \"haircut\" }: BookingsProps) {\n  \"use cache\";\n  cacheTag(\"bookings-data\");\n\n  async function getBookingsData() {\n    const data = await fetch(`/api/bookings?type=${encodeURIComponent(type)}`);\n    return data;\n  }\n\n  return; //...\n}\n```\n\n---\n\n여기서 중요한 포인트는 `'use cache'`라는 디렉티브를 함수 최상단에 써서 이 함수가 캐싱 기능을 사용할 거라고 알려준다는 점이에요. 그리고 `cacheTag('bookings-data')`를 호출해서 이 함수가 반환하는 데이터에 `bookings-data`라는 태그를 붙이는 거죠.\n\n이렇게 태그를 달아두면, 나중에 `bookings-data` 태그가 붙은 캐시들을 한꺼번에 무효화하거나 업데이트할 때 훨씬 편리해져요.\n\n또한 참고할 점은, 이 기능이 아직 불안정(`unstable`)한 API이므로, 앞으로 변경될 가능성이 있다는 점이에요. 그래도 Next.js 같은 최신 프레임워크에서 제공하는 기능을 미리 써보면서 경험해보는 것도 좋겠죠?\n\n추가로, 만약 다양한 타입의 예약 데이터를 관리해야 한다면 태그 이름을 `bookings-data:${type}` 같은 식으로 동적으로 생성하는 것도 좋은 방법이에요. 이렇게 하면 특정 타입만 골라서 캐시를 제어할 수 있거든요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### 외부 데이터로부터 태그 만들기\n\n비동기 함수(async function)에서 반환된 데이터를 이용해서 캐시 항목에 태그를 붙일 수 있어요.\n\n```js\nimport { unstable_cacheTag as cacheTag } from \"next/cache\";\n\ninterface BookingsProps {\n  type: string;\n}\n\nexport async function Bookings({ type = \"haircut\" }: BookingsProps) {\n  async function getBookingsData() {\n    \"use cache\"; // 캐시 활용을 위한 지시어\n    const data = await fetch(`/api/bookings?type=${encodeURIComponent(type)}`);\n    cacheTag(\"bookings-data\", data.id); // 받은 데이터의 id를 태그값으로 지정\n    return data;\n  }\n  return; //...\n}\n```\n\n여기서 중요한 포인트는 `cacheTag`를 사용해 데이터를 태그함으로써 특정 조건에 따라 캐시를 더 정밀하게 관리할 수 있다는 거예요. 예를 들어, 예약 타입별로 캐시를 구분하거나 데이터 ID별로 캐시 무효화를 쉽게 할 수 있죠.\n\n그리고 `use cache`라는 키워드가 보이죠? 이건 Next.js가 이 함수 결과를 캐싱하도록 알려주는 역할을 합니다. 실제 프로젝트에서는 이렇게 재사용 가능한 데이터를 효율적으로 다룰 때 꼭 활용해보세요!\n\n### 태그된 캐시 무효화하기\n\n작성한 태그를 기반으로 캐시를 무효화해 특정 데이터가 변경되었을 때 최신 상태를 유지할 수 있어요.\n\n```js\nimport { unstable_invalidateCacheTag as invalidateCacheTag } from \"next/cache\";\n\nexport async function invalidateBookingCache(id: string) {\n  // 'bookings-data'라는 태그에 id 값으로 붙인 캐시를 무효화합니다.\n  invalidateCacheTag(\"bookings-data\", id);\n}\n```\n\n이렇게 태그 단위로 캐시를 무효화하면, 불필요한 전체 캐시 초기화 없이 원하는 부분만 갱신 가능해져서 효율적이에요. 만약 데이터 변경 이벤트가 발생하면 이 함수를 호출해 관련 캐시를 리프레시하는 방식으로 활용하면 됩니다.\n\n캐시 태그 활용법은 Next.js 13버전 이후의 캐시 전략에서 굉장히 강력한 기능 중 하나이니 꼭 익혀두세요! 개발하며 때때로 캐시 데이터가 꼬일 때 이 방법으로 깔끔하게 관리할 수 있습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n'revalidateTag'를 사용하면 필요한 시점에 특정 태그의 캐시를 무효화해서 최신 데이터를 반영할 수 있어요. 예를 들어, 아래 코드처럼 'bookings-data'라는 태그에 달려있는 캐시를 갱신해줄 수 있죠.\n\n```js\n\"use server\";\n\nimport { revalidateTag } from \"next/cache\";\n\nexport async function updateBookings() {\n  await updateBookingData();\n  revalidateTag(\"bookings-data\");\n}\n```\n\n간단히 말해, updateBookingData() 함수가 예약 데이터를 업데이트한 뒤에 revalidateTag('bookings-data')를 호출하면, Next.js가 그 태그에 연결된 캐시를 무효화해서 사용자들에게 최신 정보를 보여주게 됩니다.\n\n여기서 중요한 점은, 캐시 무효화를 태그 단위로 관리할 수 있다는 거예요. 덕분에 전체 페이지 캐시를 다 날리지 않고도, 특정 데이터 부분만 신속하게 업데이트할 수 있으니 효율적이죠!\n\n추가로, revalidateTag는 서버 컴포넌트나 API 라우트 등 서버 측 코드에서만 사용 가능하다는 점도 기억해 주세요. 클라이언트 측에서는 사용할 수 없고, 반드시 'use server' directive가 있어야 합니다.\n","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":9},{"title":"Next.js 15에서 Connection 관리하는 방법","description":"","date":"2025-04-22 02:59","slug":"2025-04-22-connection","content":"\n# connection 함수 살펴보기\n\n오늘은 Next.js에서 제공하는 `connection()` 함수에 대해 이야기해볼게요. 이 함수는 이름만 들으면 네트워크 연결처럼 느껴지지만, 실제로는 렌더링 시점을 제어하는 역할을 한답니다.\n\n## connection() 함수가 뭐예요?\n\n쉽게 말해, `connection()` 함수는 렌더링을 잠시 멈췄다가 **유저의 요청이 들어올 때까지 기다렸다가** 렌더링을 계속하도록 해줘요.\n\n왜 이런 기능이 필요하냐고요? 보통 컴포넌트들은 프리렌더링(빌드 타임에 미리 화면을 만들어두는 것)을 하거든요. 그런데 우리가 원하는 건 프리렌더링이 아니라, **실시간으로 변화하는 값**을 화면에 보여주는 거라면 다르게 처리해야 해요.\n\n예를 들면 `Math.random()`이나 `new Date()`처럼 매번 다른 결과를 내는 값들이 그러하죠. 이런 값들은 빌드할 때 계산해버리면, 그 결과가 계속 고정되어 버리잖아요? 그래서 유저가 접속할 때마다 새로 계산해서 보여줘야 하는 경우가 있어요.\n\n이럴 때 `connection()` 함수를 쓰면, 빌드 타임에 렌더링하는 대신 유저 요청 시점에 렌더링하도록 하는 거죠.\n\n## 간단한 예제 코드\n\n```jsx\nimport { connection } from \"next/server\";\n\nexport default async function Page() {\n  await connection();\n  // 이 아래에서 작성한 코드는 빌드 시점이 아니라,\n  // 실제 요청이 들어올 때 실행돼요!\n  const rand = Math.random();\n  return \u003cspan\u003e{rand}\u003c/span\u003e;\n}\n```\n\n보시면 `await connection()`을 호출하는 순간부터 아래 코드는 빌드 타임에 무시되고, 유저가 페이지를 요청했을 때 실행된답니다.\n\n## 이런 점도 알아두면 좋아요!\n\n- `connection()`은 서버에서만 동작해요. 그래서 클라이언트 쪽 코드에서는 사용할 수 없고, 주로 서버 컴포넌트 안에서 써요.\n- 프리렌더링을 완전히 안 하니까, 렌더링 속도는 약간 느릴 수 있어요. 그러니 꼭 필요할 때만 사용하는 게 좋아요.\n- `connection()` 없이도 `force-dynamic` 같은 옵션으로도 비슷한 효과를 낼 수 있는데, 사용 의도에 따라 적절하게 선택하면 돼요.\n\n## 마무리\n\n정리하자면, `connection()`은 **빌드 타임이 아닌 요청 시점에 렌더링을 하도록 만들어주는 함수**에요. 그래서 동적인 데이터를 실시간에 가깝게 보여야 할 때 정말 유용하답니다.\n\nNext.js를 쓸 때 이 함수가 왜 필요한지, 어떻게 쓰는지 이해하면 좀 더 유연한 서버 컴포넌트를 만들 수 있어요. 나중에 실시간 데이터 처리 혹은 매번 변하는 값을 렌더링해야 할 때 한 번 써보면 좋겠습니다!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 참고 자료\n\n### 함수 타입\n\n```js\nfunction connection(): Promise\u003cvoid\u003e\n```\n\n### 파라미터\n\n이 함수는 딱히 파라미터를 받지 않아요. 그냥 연결을 시도하고, 연결이 성공하면 `Promise`가 해결되고, 실패하면 에러가 발생하는 구조입니다.\n\n---\n\n함수 이름인 `connection`으로 봤을 때, 아마도 데이터베이스 연결이나 네트워크 연결 같은 걸 담당하는 함수가 아닐까 싶은데요. 실제로 이런 함수는 비동기 작업이 많기 때문에 `Promise\u003cvoid\u003e`를 반환하는 게 일반적입니다.\n\n`Promise\u003cvoid\u003e`라는 건, 작업이 성공적으로 끝나면 별다른 값을 반환하지 않는다는 뜻이에요. 그래서 이 함수를 사용할 때는 `await connection()` 처럼 쓰거나, `.then()`을 사용해서 연결이 끝난 후에 실행할 코드를 작성하면 됩니다.\n\n```js\nasync function initApp() {\n  try {\n    await connection();\n    console.log(\"연결 완료!\");\n  } catch (error) {\n    console.error(\"연결 실패:\", error);\n  }\n}\n```\n\n연결이 성공했는지 여부에 따라서 애플리케이션 로직이 달라질 수 있기 때문에, 꼭 `try-catch` 문이나 `.catch()`를 활용해 에러 처리를 해주시는 게 좋아요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- 이 함수는 어떠한 매개변수도 받지 않습니다.\n\n### 반환 값\n\n- 함수는 void를 반환하는 Promise를 리턴합니다. 즉, 호출자가 결과 값을 활용하도록 설계된 함수가 아니에요.\n\n## 알아두면 좋은 점\n\n이런 타입의 함수는 보통 내부에서 비동기 작업을 처리하지만, 결과를 직접적으로 반환하거나 전달하지 않고 그냥 처리만 하고 끝나는 경우에 많이 쓰여요. 예를 들어 로그를 저장하거나, 캐시를 비우는 작업처럼 \"결과가 있으면 좋지만 없어도 되는\" 경우에요.\n\n만약 함수의 처리가 실패할 수 있다면, Promise를 리턴하니 async/await나 then/catch로 에러를 잡아주는 걸 잊지 마세요! 그래야 앱이 예기치 않게 멈추는 걸 막을 수 있습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- connection이 unstable_noStore를 대체해서, 앞으로 Next.js의 방향에 더 잘 맞게 업데이트되었어요.\n- 이 함수는 동적 렌더링이 꼭 필요할 때만 사용하면 되며, 일반적인 Dynamic API들을 사용할 경우에는 필요하지 않아요.\n\n### 버전 히스토리\n\n| 버전         | 변경사항                 |\n| ------------ | ------------------------ |\n| `v15.0.0`    | `connection`가 안정화됨. |\n| `v15.0.0-RC` | `connection` 도입됨.     |\n\n참고로, Next.js가 점점 더 SSR(서버 사이드 렌더링)과 SSG(정적 사이트 생성)을 효율적으로 처리할 수 있도록 많은 개선을 하고 있어서, 이런 함수들이 안정화되는 게 개발자 입장에서 꽤 반가운 소식이에요. 특히 동적 콘텐츠를 다룰 때 성능과 안정성을 높이는 데 도움이 된답니다!\n","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":4},{"title":"Next.js 15에서 cacheLife 설정하는 방법 및 캐시 수명 관리 방법 정리","description":"","date":"2025-04-22 02:57","slug":"2025-04-22-cacheLife","content":"\n# cacheLife 함수 알아보기\n\n안녕하세요, 개발 블로거입니다! 오늘은 `cacheLife`라는 함수에 대해 이야기해보려고 해요. 이 함수는 함수나 컴포넌트의 캐시 수명을 설정하는 데 쓰여요. 캐시 수명이란, 쉽게 말해 '데이터를 얼마나 오래 저장해서 재사용할지'를 결정하는 시간이죠.\n\n이 `cacheLife` 함수는 `use cache` 지시어와 함께 사용해야 하며, 반드시 함수나 컴포넌트의 범위 안에서 호출해야 한다는 점 기억하세요.\n\n## 사용법\n\n`cacheLife`를 사용하려면 우선 프로젝트 설정 파일인 `next.config.js`에 `dynamicIO` 플래그를 활성화해야 합니다:\n\n```js\n// next.config.js\nmodule.exports = {\n  experimental: {\n    dynamicIO: true,\n  },\n};\n```\n\n왜 이렇게 설정해야 하냐면, `dynamicIO` 플래그가 켜져야 동적인 입출력 처리와 캐싱 기능이 제대로 작동하기 때문이에요.\n\n### 참고로!\n\n만약 캐시를 너무 오래 유지하면 데이터가 오래된 상태일 수 있으니, 적절한 캐시 수명을 설정하는 게 중요해요. 반대로 너무 짧게 설정하면 캐시 효과가 떨어지고 서버 부하가 늘 수 있답니다.\n\n추가로, React나 Next.js와 같은 프레임워크를 사용 중이라면, `cacheLife` 설정과 `use cache` 관련 지시어를 적절히 조합해 컴포넌트 렌더링 최적화를 도모할 수 있습니다.\n\n다음에 좀 더 구체적인 사용 예제와 실전 팁을 공유할게요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이번에 Next.js에서 소개된 새로운 기능 중 하나인 `dynamicIO`와 `cacheLife`에 대해 간단히 살펴볼게요. 직접 써보고 정리한 내용이니 참고해서 프로젝트에 적용해봐도 좋을 것 같아요!\n\n---\n\n### `dynamicIO` Experimental 옵션 설정하기\n\nNext.js는 계속 발전 중이라 실험적인 기능도 종종 나옵니다. `dynamicIO`는 그중 하나인데, 이걸 켜면 IO 작업을 더 동적으로 처리할 수 있는 환경을 만들어줍니다.\n\n```js\nimport type { NextConfig } from \"next\";\n\nconst nextConfig: NextConfig = {\n  experimental: {\n    dynamicIO: true,\n  },\n};\n\nexport default nextConfig;\n```\n\n- 위처럼 `next.config.js` 혹은 `next.config.ts`에서 `experimental.dynamicIO` 옵션을 `true`로 설정하면 돼요.\n- 공식 문서에서는 이 옵션이 아직 실험 단계라서, 실제 서비스에서는 좀 더 안정화될 때까지 조심스럽게 사용하는 걸 권장합니다.\n\n---\n\n### `cacheLife` 함수 사용하기\n\n`cacheLife`는 Next.js에서 새롭게 제공하는 캐싱 관련 유틸리티예요. 특히 서버 컴포넌트나 함수 내에서 캐싱 수명을 관리할 때 유용하죠.\n\n```js\n\"use cache\";\nimport { unstable_cacheLife as cacheLife } from \"next/cache\";\n\nexport default async function Page() {\n  // cacheLife를 이용해 캐시 수명을 조절하는 로직 구현 가능\n  return \u003cdiv\u003ePage\u003c/div\u003e;\n}\n```\n\n- 여기서 `use cache`라는 디렉티브도 눈에 띄는데, 이건 Next.js가 해당 모듈을 캐싱 대상으로 인식하게 해줘요.\n- `unstable_cacheLife`는 아직 실험적인 API라는 뜻이라, 이름 앞에 `unstable_`가 붙어 있어요.\n- 이 함수를 활용하면, 필요한 부분의 캐시 유지 시간을 섬세하게 조절할 수 있어요. 예를 들어, 데이터 페칭 결과를 일정 시간 동안만 캐싱하고 싶을 때 유용하답니다.\n\n---\n\n### 참고사항 및 팁\n\n| 내용                                | 설명                                                               |\n| ----------------------------------- | ------------------------------------------------------------------ |\n| `dynamicIO` 기능의 목적             | I/O 작업을 더 동적으로 처리하여 효율적인 데이터 페칭과 렌더링 가능 |\n| `cacheLife` 활용법                  | 캐시 수명을 직접 설정해 보다 세밀한 리소스 관리 가능               |\n| 'unstable\\_' 접두사 의미            | 아직 안정화되지 않은 API, 앞으로 변경될 가능성 있음                |\n| Next.js 실험적 기능 활용시 주의사항 | 실제 서비스에 적용할 때는 충분한 테스트 후 사용하는 것이 좋음      |\n\n혹시 이 기능들을 실제로 프로젝트에 적용해보고 어려운 점이나 궁금한 점이 있으면 댓글로 남겨주세요! 저도 더 공부해서 좋은 팁들 공유할게요. Next.js 계속 발전하는 만큼, 우리도 함께 성장해보자구요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### 기본 캐시 프로필 소개\n\nNext.js에서는 다양한 시간대에 맞춘 이름 있는 캐시 프로필 세트를 제공해요. 만약 `use cache` 디렉티브와 함께 `cacheLife` 함수에 캐시 프로필을 지정하지 않으면, Next.js가 기본 캐시 프로필을 자동으로 적용해줍니다.\n\n하지만 저는 항상 `use cache`를 사용할 때는 명시적으로 캐시 프로필을 지정해주는 걸 추천해요. 그래야 내가 원하는 캐싱 동작을 확실히 정의할 수 있거든요!\n\n아래는 Next.js가 제공하는 기본 캐시 프로필들의 종류와 각 프로필이 가진 `stale`, `revalidate`, `expire` 타임라인, 그리고 설명입니다.\n\n| 프로필    | stale | revalidate | expire | 설명                                                                   |\n| --------- | ----- | ---------- | ------ | ---------------------------------------------------------------------- |\n| `default` | 5분   | 15분       | 1년    | 자주 업데이트 필요 없는 콘텐츠에 적합한 기본 프로필                    |\n| `seconds` | 0     | 1초        | 1초    | 거의 실시간 업데이트가 필요한 빠르게 변하는 콘텐츠에 적합              |\n| `minutes` | 5분   | 1분        | 1시간  | 한 시간 내 자주 업데이트되는 콘텐츠에 적합                             |\n| `hours`   | 5분   | 1시간      | 1일    | 하루 단위로 업데이트되며 약간 오래된 캐시가 허용되는 콘텐츠에 적합     |\n| `days`    | 5분   | 1일        | 1주일  | 주 단위로 업데이트되며 하루 정도 오래된 캐시 정도 괜찮은 콘텐츠에 적합 |\n| `weeks`   | 5분   | 1주일      | 30일   | 월 단위 업데이트이며 일주일 정도 캐시가 오래돼도 괜찮은 콘텐츠에 적합  |\n| `max`     | 5분   | 30일       | 1년    | 거의 변경되지 않는 매우 안정적인 콘텐츠에 적합                         |\n\n---\n\n### 덧붙여서...\n\n- `stale` 기간이란, 캐시된 데이터가 구식(stale)으로 간주되기 전까지의 시간입니다. 이 기간 동안은 캐시된 데이터를 사용하지만, `revalidate` 시점에는 백그라운드에서 새로운 데이터를 받아와서 캐시를 갱신하게 돼요.\n- `revalidate`는 백그라운드에서 데이터를 다시 요청하는 시기를 뜻해요. 이때 응답은 즉시 캐시된 값으로 처리하고, 서버에서 신규 데이터를 받아 업데이트합니다.\n- `expire`는 캐시가 완전히 만료되어 더 이상 사용할 수 없는 시점을 의미합니다.\n\n만약 자주 업데이트가 필요한 뉴스 사이트나 주식 시세, 실시간 스포츠 결과 같은 데이터라면 `seconds`나 `minutes` 프로필을, 변화가 거의 없는 블로그 포스트나 정적인 이미지 리소스라면 `max` 프로필 같은 장기 캐싱을 선택하는 게 효율적이에요.\n\nNext.js 캐시 기능은 이렇게 시간 기반 프로필을 잘 활용하면 사용자 경험도 개선하고 서버 부하도 줄일 수 있으니, 꼭 적절하게 설정해서 활용해 보시길 바랍니다!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n캐시 프로필을 참조할 때 사용하는 문자열 값들은 그 자체로 특별한 의미를 가지기보다는, 코드 내에서 의미를 부여하는 라벨 역할을 해요. 덕분에 캐시된 콘텐츠를 더 쉽고 직관적으로 관리할 수 있답니다.\n\n\u003e 참고할 점: staleTimes와 expireTime 설정을 변경하면 기본 캐시 프로필의 stale과 expire 속성도 함께 업데이트돼요. 즉, 일관성 있게 캐시 설정을 관리할 수 있다는 뜻이죠.\n\n### 커스텀 캐시 프로필 만들기\n\nNext.js 프로젝트에서 커스텀 캐시 프로필을 만들어 사용하고 싶다면, `next.config.ts` 파일 내의 `cacheLife` 옵션에 직접 추가하면 돼요. 이렇게 하면 프로젝트 요구사항에 맞게 캐시 정책을 세밀하게 조정할 수 있답니다.\n\n아래는 `cacheLife` 옵션을 활용해 여러 캐시 프로필을 정의하는 예시입니다:\n\n```typescript\n// next.config.ts\nexport default {\n  experimental: {\n    cacheLife: {\n      shortCache: { staleTime: 60, expireTime: 120 }, // 짧게 유지되는 캐시 예시 (초단위)\n      longCache: { staleTime: 3600, expireTime: 7200 }, // 오래 유지되는 캐시 예시\n      noCache: { staleTime: 0, expireTime: 0 }, // 캐시를 사용하지 않는 프로필\n    },\n  },\n};\n```\n\n이렇게 프로필을 만들고 나면, 데이터 요청이나 페이지 캐싱 시에 해당 프로필 이름(`shortCache`, `longCache` 등)을 참조해 필요한 캐시 정책을 간편하게 적용할 수 있죠.\n\n\u003e 팁! 캐시를 적절히 활용하면 서버 부하도 줄이고, 사용자 경험도 크게 향상시킬 수 있어요. 하지만 너무 오래된 캐시는 오히려 구버전 콘텐츠를 보여줄 수 있으니, 상황에 따라 적절한 `staleTime`과 `expireTime` 설정이 중요하답니다.\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nCache profiles는 캐시와 관련된 몇 가지 속성을 담고 있는 객체입니다. 각 속성은 캐시가 어떻게 동작하는지 세밀하게 조절할 수 있게 도와주죠. 아래 표를 보면서 살펴볼게요.\n\n| Property     | Value  | Description                                                                                                                                   | Requirement                          |\n| ------------ | ------ | --------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------ |\n| `stale`      | number | 클라이언트가 서버에 확인하지 않고 값을 캐시에 저장해두는 기간입니다.                                                                          | 선택 사항                            |\n| `revalidate` | number | 서버에서 캐시를 새로 고칠 주기입니다. 리밸리데이트 중에는 오래된 값(stale)을 보여줄 수 있어요.                                                | 선택 사항                            |\n| `expire`     | number | 값이 오래된 상태(stale)로 유지될 수 있는 최대 기간입니다. 이 기간이 지나면 동적(fetch)으로 전환됩니다. 반드시 `revalidate`보다 길어야 합니다. | 선택 사항 – `revalidate`보다 커야 함 |\n\n---\n\n여기서 조금 혼동될 수 있는 부분이 `stale` 속성과 `staleTimes` 설정인데요, 간단히 말씀드리면:\n\n- `stale`은 클라이언트 사이드 라우터 쪽 캐시만 제어합니다. 즉, 특정 함수나 경로(route)별로 직접 '얼마 동안 캐싱할지'를 정할 수 있다는 거죠.\n- 반면에 `staleTimes`는 전역(globa) 설정으로, 동적(dynamic) 데이터와 정적(static) 데이터 모두에 영향을 미칩니다.\n\n---\n\n그리고 한 가지 팁!  \n`stale` 속성은 **Cache-control: max-age** HTTP 헤더 값을 설정하는 게 아닙니다. 이건 서버에서 보내는 캐시 지시자(header)이지만, `stale`은 오로지 클라이언트 라우터의 로컬 캐시 관리를 위한 설정이라는 점, 꼭 기억하세요.\n\n이런 캐시 컨트롤 방법은 앱을 더 빠르게 만들면서도 최신 데이터를 적절히 유지하는 데 아주 유용해요. 각 상황에 맞게 잘 조절해보면서 퍼포먼스 최적화에 활용해보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 예시\n\n### 재사용 가능한 캐시 프로필 정의하기\n\nnext.config.ts 파일에서 재사용 가능한 캐시 프로필을 정의할 수 있어요. 프로필 이름은 사용 목적에 맞게 지정하고, `stale`, `revalidate`, `expire` 속성들을 설정해주면 됩니다. 필요한 만큼 여러 개의 커스텀 캐시 프로필을 만들어 사용할 수 있어요. 각 프로필은 이름을 문자열로 `cacheLife` 함수에 전달해서 참조할 수 있답니다.\n\n아래 예시는 14일간 캐시를 유지하고, 1일마다 재검증을 수행하는 `biweekly`라는 캐시 프로필을 정의한 코드입니다.\n\n```typescript\nimport type { NextConfig } from \"next\";\n\nconst nextConfig: NextConfig = {\n  experimental: {\n    dynamicIO: true,\n    cacheLife: {\n      biweekly: {\n        stale: 60 * 60 * 24 * 14, // 14일 동안 stale 상태 유지\n        revalidate: 60 * 60 * 24, // 1일 간격으로 재검증\n        expire: 60 * 60 * 24 * 14, // 14일 후 캐시 만료\n      },\n    },\n  },\n};\n\nmodule.exports = nextConfig;\n```\n\n---\n\n**참고로 캐시 관련 설정을 잘 해두면, 페이지 로딩 속도가 크게 향상되고 서버 부하도 줄일 수 있어요.** 특히 자주 변하지 않는 데이터라면 이런 캐시 프로필을 적극 활용해서 효율적인 서비스 운영을 할 수 있답니다.\n\n단, `stale`, `revalidate`, `expire` 값은 상황에 맞게 조절해야 해요. 예측 가능한 사용자 트래픽, 데이터 갱신 빈도 등을 고려해 보세요. 너무 길게 설정하면 오래된 데이터가 노출될 수도 있으니까 주의가 필요해요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n위 예시는 14일 동안 캐시를 유지하고, 매일 업데이트를 확인하며, 14일이 지나면 캐시가 만료되도록 설정한 거예요. 이렇게 만든 캐시 프로필은 애플리케이션 전반에서 이름으로 참조해서 사용할 수 있답니다.\n\n```js\n\"use cache\";\nimport { unstable_cacheLife as cacheLife } from \"next/cache\";\n\nexport default async function Page() {\n  return \u003cdiv\u003ePage\u003c/div\u003e;\n}\n```\n\n### 기본 캐시 프로필 덮어쓰기(오버라이딩)\n\nNext.js에서 제공하는 기본 캐시 프로필은 캐시된 데이터가 얼마나 신선한지, 혹은 얼마나 오래된 것인지를 결정하는 데 도움을 줘요. 그런데 어떤 애플리케이션은 기본 프로필보다 더 세분화된 캐싱 전략이 필요할 수 있죠. 이럴 때는 내 입맛에 맞게 이름이 붙은(즉, 커스텀) 캐시 프로필을 만들어서 쓸 수 있어요.\n\n예를 들어, 자주 업데이트되는 뉴스 섹션엔 'shortCache', 변경이 거의 없는 공지사항엔 'longCache' 같은 이름을 붙여서 관리하면 더 효율적이고 관리하기도 편하답니다. 이렇게 하면 빠른 캐시 만료가 필요한 곳과 오래 두어도 무방한 부분을 명확히 구분할 수 있어요.\n\n\u003e **참고 팁:** 캐시 프로필을 세밀하게 관리하면, 서버 부담을 줄이면서도 사용자에게 항상 신선한 콘텐츠를 제공할 수 있어요. 너무 보수적으로 캐시 기간을 설정하면 빈번한 요청 처리로 서버에 부담이 갈 수 있으니, 애플리케이션 특성에 맞게 적절히 조절하는 게 중요합니다!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nnext.js에서 기본으로 제공하는 캐시 프로필(named cache profiles)을 커스텀하고 싶을 때, 같은 이름으로 새 설정을 만들어서 덮어쓸 수 있다는 점, 알고 계셨나요? 기본 프로필을 그대로 쓰는 것도 좋지만, 프로젝트 상황에 맞게 적절히 조정하면 효율적인 캐시 관리가 가능해집니다.\n\n예를 들어, 기본 “days” 캐시 프로필을 이렇게 오버라이딩할 수 있어요:\n\n```js\nconst nextConfig = {\n  experimental: {\n    dynamicIO: true,\n    cacheLife: {\n      days: {\n        stale: 3600, // 1시간 동안 stale 상태 유지\n        revalidate: 900, // 15분마다 재검증\n        expire: 86400, // 1일 후 만료\n      },\n    },\n  },\n};\n\nmodule.exports = nextConfig;\n```\n\n여기서 좀 더 설명을 드리자면,\n\n- `stale`: 캐시된 데이터가 조금 오래됐어도 바로 폐기하지 않고, 이 시간만큼은 stale 상태로 허용합니다. (즉, 약간 낡은 데이터도 사용할 수 있게끔 시간을 설정하는 거예요.)\n- `revalidate`: 재검증(interval) 주기로, 이 시간이 지나면 캐시를 백그라운드에서 새로고침합니다.\n- `expire`: 캐시가 완전히 만료되는 시간으로, 이 시간이 지나면 캐시를 폐기하고 새 데이터를 받아옵니다.\n\n이런 설정 덕분에 데이터를 너무 자주 다시 받느라 리소스를 낭비하지 않고, 살짝 오래된 데이터도 쓸 수 있게 해서 효율성을 높일 수 있답니다.\n\n### 캐시 프로필 직접 정의하기 (Defining cache profiles inline)\n\n기본 프로필이 아니라 완전히 새롭게 캐시 프로필을 정의하고 싶을 때도 있습니다. 예를 들어, 'hours'라는 이름으로 6시간 단위의 캐시 전략을 직접 만들어볼 수 있죠.\n\n```js\nconst nextConfig = {\n  experimental: {\n    dynamicIO: true,\n    cacheLife: {\n      hours: {\n        stale: 600, // 10분간 stale 허용\n        revalidate: 300, // 5분마다 재검증\n        expire: 21600, // 6시간 후 만료\n      },\n    },\n  },\n};\n\nmodule.exports = nextConfig;\n```\n\n이렇게 나만의 캐시 전략을 만들어두면, 복잡한 프로젝트에서 여러 페이지나 API에 맞게 캐시 설정을 다양하게 적용할 수 있어서 매우 유용해요.\n\n\u003e **팁:** 캐싱 전략을 짤 때, 너무 짧은 expire는 서버 부담을 늘리고, 너무 긴 expire는 사용자에게 오래된 데이터를 보여줄 위험이 생기므로 적절한 균형이 중요합니다!\n\n필요에 따라 값들을 튜닝하면서 최적의 캐시 전략을 찾아가 보세요. 앞으로도 이런 유용한 실전 팁 계속 소개할게요! 궁금한 점 있으면 언제든 물어봐 주세요 :)\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이번에는 Next.js에서 캐싱을 좀 더 세밀하게 제어하는 방법에 대해 이야기해볼게요. 특히 `cacheLife` 함수를 사용해서 원하는 캐시 프로필을 직접 설정하는 방법을 다뤄보겠습니다.\n\n```js\n\"use cache\";\nimport { unstable_cacheLife as cacheLife } from \"next/cache\";\n\nexport default async function Page() {\n  return \u003cdiv\u003ePage\u003c/div\u003e;\n}\n```\n\n위 코드는 기본적인 캐시 설정 예시예요. 여기서 `cacheLife` 함수에 객체 형태의 설정값을 넘기면 내가 원하는 캐시 정책을 직접 만들 수 있어요. 그런데 중요한 점은 이렇게 만든 캐시 프로필은 해당 함수나 파일에 한해서만 적용된다는 거예요.\n\n만약 여러분의 앱 전체에서 같은 캐시 정책을 반복해서 쓰고 싶다면, 매번 이렇게 작성하는 대신 `next.config.ts` 파일 안에 `cacheLife` 속성을 추가하는 게 좋은 방법입니다. 그러면 전역적으로 일관된 캐싱 전략을 관리할 수 있거든요.\n\n---\n\n### 좀 더 살펴보는 `use cache`와 `cacheLife`의 중첩 사용법\n\n`'use cache'`는 Next.js에서 함수가 캐시 가능하다는 걸 알려주는 지시문이고, `cacheLife`는 그 캐시의 수명과 동작 정책을 좀 더 구체적으로 설정해주는 역할을 해요.\n\n```js\n\"use cache\";\nimport { unstable_cacheLife as cacheLife } from \"next/cache\";\n\n// 예를 들어, 캐시 수명을 60초로 지정하고 싶을 때\nconst myCacheConfig = cacheLife({ maxAge: 60 });\n\nexport default myCacheConfig(async function Page() {\n  return \u003cdiv\u003e캐시가 60초 동안 유지됩니다.\u003c/div\u003e;\n});\n```\n\n위처럼 `cacheLife`가 반환하는 함수로 래핑하면, 그 안 함수는 해당 캐시 정책을 따르게 됩니다.\n\n---\n\n### 추가 팁!\n\n- **maxAge**: 캐시 데이터가 얼마동안 살아있을지 초 단위로 지정해요.\n- **staleWhileRevalidate**: 캐시가 만료되더라도 새 데이터를 받아올 때까지 옛날 캐시를 계속 보여주는 설정이에요.\n- **캐시 무효화**: 필요할 땐 특정 조건이나 API 호출 시 캐시를 초기화해줄 수도 있는데, 이 부분도 꼭 체크해보시면 좋아요.\n\nReact 컴포넌트나 API 라우트에서 잘 활용하면, 불필요한 데이터 재요청을 줄이고 사용자 경험을 개선할 수 있답니다.\n\n필요하면 다음에 더 자세한 캐시 전략이나 예제도 정리해서 소개할게요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n같은 경로나 컴포넌트 트리 안에서 여러 캐싱 동작(caching behavior)을 정의할 때, 안쪽(내부) 캐시가 자신만의 cacheLife 프로필을 지정하면, 바깥쪽(외부) 캐시는 그 중 가장 짧은 캐시 지속시간을 자동으로 따르게 돼요. 단, 이건 바깥쪽 캐시가 명시적으로 cacheLife 프로필을 지정하지 않은 경우에만 적용됩니다.\n\n예를 들어, 페이지에 `use cache` 지시어를 붙이면서 별도로 캐시 프로필을 지정하지 않으면, 기본값인 `cacheLife(\"default\")`가 암묵적으로 적용돼요. 그런데 이 페이지에 불러오는 컴포넌트가 자체 캐시 프로필을 가진 `use cache`를 사용한다면, 내부와 외부 캐시 프로필이 비교되어서, 가장 짧은 시간이 적용됩니다.\n\n간단히 말해, 여러 레이어의 캐시가 있으면 \"가장 짧은 시간 기준\"으로 캐싱 기간을 설정해서, 데이터를 너무 오래 쓰지 않도록 조절해 준다는 거죠.\n\n---\n\n예를 들어서 본 부모 컴포넌트 코드를 한번 보면:\n\n```js\n// Parent component\nimport { unstable_cacheLife as cacheLife } from \"next/cache\";\nimport { ChildComponent } from \"./child\";\n\ncacheLife(\"days\"); // \"days\" 기준 캐싱 지속시간 지정\n\nreturn (\n  \u003cdiv\u003e\n    \u003cChildComponent /\u003e\n  \u003c/div\u003e\n);\n```\n\n그리고 별도의 파일에서 임포트한 자식 컴포넌트는 다음처럼 정의해요.\n\n(자식 컴포넌트 코드는 다음에 나올 거랍니다!)\n\n---\n\n### 추가 팁!\n\n- 캐시 지속 시간을 지정할 때는 `\"hours\"`, `\"minutes\"`, `\"seconds\"`처럼 구체적으로 설정하셔도 되고, 직접 숫자 단위(예: `cacheLife(60 * 60 * 24)`)로 초 단위 값을 줄 수도 있습니다.\n- 내부 컴포넌트의 캐시가 더 짧으면, 전체적으로 데이터 최신성이 더 잘 유지되기 때문에 업데이트 반영 속도가 빨라지죠.\n- 반대로 외부에서 명시적으로 긴 cacheLife를 지정하면 내부 캐시는 무시되고 외부 걸린 시간 기준으로 유지돼요. 따라서 캐시가 꼬이지 않도록 캐시 설정을 꼼꼼하게 관리하는 게 중요합니다.\n\n다음 메시지에 자식 컴포넌트 코드를 소개할게요!\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n안녕하세요! 오늘은 Next.js에서 제공하는 `unstable_cacheLife` 함수에 대해 살펴볼게요. 이 함수는 캐시 수명을 설정할 때 사용되는데, 아직 공식적으로 안정화되지 않은 기능이라 `unstable_` 접두사가 붙어 있답니다.\n\n예시 코드가 주어졌는데, 쉽게 설명해볼게요.\n\n```js\n// Child 컴포넌트에서\nimport { unstable_cacheLife as cacheLife } from \"next/cache\";\n\ncacheLife(\"hours\");\nreturn \u003cdiv\u003eChild Content\u003c/div\u003e;\n\n// 이 컴포넌트의 캐시는 'hours' 프로필 기준으로 관리됩니다.\n```\n\n여기서 `cacheLife('hours')`라고 설정하면, 이 컴포넌트는 상대적으로 짧은 시간 단위인 'hours' 기준으로 캐시가 유지돼요. 즉, 더 빨리 캐시가 만료된다는 뜻이죠.\n\n### 참고할 점!\n\n- `cacheLife` 안에 들어갈 수 있는 프로필은 보통 'seconds', 'minutes', 'hours', 'days' 등이 있어요.\n- 이 기능은 아직 실험 단계라 문서가 계속 업데이트되고, API도 바뀔 수 있어요.\n- 캐시 수명을 적절히 조정하면 사용자 경험을 향상시키면서 서버 부하도 줄일 수 있다는 점에서 유용해요!\n\n### 마치며\n\nNext.js에서 캐시를 더 세밀하게 제어하고 싶을 때 `unstable_cacheLife`를 써볼 수 있지만, 아직 완전 안정적이지 않은 점을 기억하세요. 프로덕션에서는 주의해서 사용하고, 공식 문서 업데이트를 꾸준히 확인하는 걸 추천드립니다!\n\n도움이 되셨다면 좋겠네요. 다음에도 유용한 팁으로 찾아올게요! 😊\n","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":17},{"title":"Next.js 15에서 after 메서드 활용하는 최신 방법 2025","description":"","date":"2025-04-22 02:56","slug":"2025-04-22-after","content":"\n\n# after\n\n`after`는 응답(response)이나 프리렌더(prerender)가 완료된 후에 작업을 예약해서 실행할 수 있게 해주는 기능입니다. 쉽게 말해, 사용자에게 응답을 보내는 데 방해가 되지 않아야 하는 작업들—예를 들어 로그 기록, 분석 데이터 수집 같은 부수 효과들—을 뒤로 미룰 때 유용해요.\n\n이 기능은 Server Components (예: `generateMetadata` 포함), Server Actions, Route Handlers, 그리고 Middleware에서도 사용할 수 있습니다.\n\n사용법은 간단해요. `after` 함수에 콜백 함수를 넘겨주면, 응답이 끝난 뒤에 그 콜백이 실행됩니다. 그래서 응답 속도를 늦추지 않고도 필요한 작업을 뒤에서 처리할 수 있죠.\n\n---\n\n### 추가 팁!\n- 예를 들어, 사용자의 방문 기록을 DB에 저장하는 로직을 `after`로 실행하면, 방문자 입장에선 페이지가 빠르게 로드되고, 백엔드에서는 기록 작업이 조용히 이루어져 좋은 UX를 만들 수 있어요.\n- 하지만 너무 무거운 작업을 `after`에 넣으면 서버 자원을 불필요하게 잡아먹을 수 있으니, 적절한 용도로 사용해야 합니다.\n- 만약 처리 중 에러가 나도 응답에는 영향을 주지 않습니다. 에러 핸들링도 따로 챙겨주면 좋아요.\n\n---\n\n필요하면 예제 코드도 공유해 드릴게요—함께 공부해봅시다!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n안녕하세요! 오늘은 Next.js의 서버 컴포넌트에서 `after` 함수를 어떻게 활용할 수 있는지 간단하게 알려드릴게요.\n\n```js\nimport { after } from 'next/server'\n// 커스텀 로깅 함수\nimport { log } from '@/app/utils'\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  after(() =\u003e {\n    // 레이아웃이 렌더링되고 사용자에게 전송된 후에 실행됩니다.\n    log()\n  })\n  return \u003c\u003e{children}\u003c/\u003e\n}\n```\n\n### 핵심 포인트!  \n`after` 함수는 렌더링이 끝난 다음, 클라이언트에게 응답을 보낸 후 콜백 함수를 실행시키는 역할을 해요. 예를 들면, 로그를 남기거나 데이터를 트래킹할 때 유용하겠죠.\n\n\u003e **참고:** `after`는 동적 API가 아니에요. 그러니까 이걸 호출한다고 해서 페이지가 자동으로 동적 라우트(dynamic route)가 되는 건 아닙니다.  \n\u003e 만약 static page 내에서 사용하면, 이 콜백 함수는 빌드 타임이나 페이지가 다시 검증(revalidate) 될 때 실행됩니다.\n\n---\n\n## `after` 함수 주요 특징 정리!\n\n| 파라미터 | 설명 |\n|---------|------|\n| 콜백 함수 | 렌더링 직후 실행할 함수. 비동기 콜백도 지원하지만, 응답을 막지는 않음 |\n\n---\n\n### 더 알아두면 좋은 점  \n- 서버 컴포넌트라서 클라이언트에서 확인할 수 없는 서버 정보도 수집하기 편합니다.  \n- 로그 외에도 꼭 필요한 후처리를 비동기적으로 깔끔하게 처리하고 싶을 때 좋습니다.  \n- `after`의 콜백은 사용자에게 페이지가 전달된 후 실행되니 렌더링 성능에 영향을 주지 않고, 부담 없이 후처리를 맡길 수 있어요.\n\n---\n\nNext.js로 서버 사이드 렌더링을 다룰 때 이런 후처리 방법을 알고 있으면 성능 튜닝이나 디버깅에 큰 도움이 됩니다. 오늘도 좋은 개발하시길 바라요! 😊\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- 응답(또는 프리렌더링)이 완료된 후 실행될 콜백 함수입니다.\n\n### 실행 시간(Duration)\n\n`after` 함수는 기본적으로 플랫폼에서 설정된 최대 실행 시간(또는 라우트별로 설정된 최대 지속 시간) 동안 실행됩니다. 만약 사용하는 플랫폼이 지원한다면, 라우트의 `maxDuration` 설정을 통해 타임아웃 제한을 조절할 수 있어요.\n\n## 참고하면 좋은 점\n\n- 콜백 함수가 너무 오래 실행되면 타임아웃이 발생할 수 있으니, 작업이 오래 걸리는 경우 최대 실행 시간을 적절히 설정하는 것이 중요합니다.\n- 이 기능은 서버리스 환경이나 프리렌더링 작업에서 특히 유용해요. 예를 들어, 데이터를 미리 가져오거나 로깅 작업을 비동기적으로 처리할 때 활용할 수 있답니다.\n- `maxDuration` 설정이 없는 경우에는 플랫폼 기본값이 적용되니, 꼭 확인해 보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- after는 응답이 정상적으로 완료되지 않아도 실행이 됩니다. 에러가 발생하거나 notFound 또는 redirect가 호출된 경우에도 마찬가지에요.\n- React 캐시를 활용해서 after 내부에서 호출되는 함수들의 중복 실행을 방지할 수 있어요.\n- after는 중첩해서 사용할 수도 있어요. 예를 들어, after 호출을 감싸는 유틸리티 함수를 만들어서 추가 기능을 덧붙일 수도 있죠.\n\n## 대안들\n\nafter의 주된 용도는 주 응답을 막지 않고 부수적인 작업을 처리하는 거예요. 이 점에서 플랫폼의 waitUntil()이나 프로미스에서 await을 빼는 것과 비슷하지만, 중요한 차이점이 있어요:\n\n| 구분           | 설명                                                                                                                                              |\n|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------|\n| waitUntil()    | 프로미스를 받아서 요청 수명주기 동안 실행할 작업을 예약해요.                                                                                         |\n| after          | 응답이 완전히 끝난 후에 실행할 콜백을 받아요.                                                                                                      |\n| await 제거     | 응답 중에 실행을 시작해 리소스를 이용해요. 또한 서버리스 환경에서는 응답 후 함수 실행을 바로 멈추기 때문에 작업이 중단될 위험이 있어요.               |\n\n쉽게 말해서 waitUntil()은 백그라운드에서 요청과 함께 작업을 처리하지만 after는 응답이 끝난 후에 작업을 처리해요. await을 쓰지 않는 건 리소스 낭비와 안정성 문제를 초래할 수 있으니 상황에 맞게 선택하는 게 중요해요.\n\n참고로, 서버리스 환경에서는 특히 이런 비동기 작업이 응답 직후에 중단될 위험이 크기 때문에 after나 waitUntil() 같은 명확한 처리방식을 사용하는 게 좋아요. 그리고 React 캐시를 적극 활용하면 함수 호출 중복도 줄이고 성능도 높일 수 있으니 꼭 활용해보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.js에서는 'after'를 사용하는 걸 추천해요. 이유는 'after'가 Next.js의 다른 API나 컨텍스트들을 잘 고려해서 설계되었기 때문이죠. 즉, 더 안정적이고 일관성 있게 동작할 수 있다는 뜻이에요.\n\n## 예제\n\n### 요청(Request) API와 함께 사용하기\n\n서버 액션(Server Actions)이나 라우트 핸들러(Route Handlers) 내에서 'after' 블록 안에 쿠키(cookies)나 헤더(headers) 같은 요청 관련 API를 사용할 수 있어요. 예를 들어, 어떤 데이터 변경(mutation) 작업 후에 활동 기록을 로그로 남기고 싶을 때 유용하답니다.\n\n실제로 이걸 어떻게 활용할 수 있는지 살짝 보여드릴게요. 간단한 예제로, 사용자가 데이터를 변경한 뒤에 로그를 남기는 경우를 생각해 볼 수 있죠.\n\n(여기에 간단한 코드 예제가 들어가면 더 이해가 쏙쏙 될 텐데, 혹시 필요하면 알려주세요! 제가 바로 준비해드릴게요.)\n\n---\n\n참고로, Next.js에서 이렇게 'after'를 활용하면 요청에 대한 응답 처리 후에 후처리를 자연스럽게 할 수 있어서, 코드가 깔끔해지고 유지보수도 쉬워진답니다. 여러분도 프로젝트에 적용해 보시면 좋을 것 같아요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.js의 `after` 훅을 활용해서 서버 액션 후에 로깅 작업을 진행하는 예제를 보여드렸는데요, 여기서 주의할 점이 있어요.\n\n```js\nimport { after } from 'next/server'\nimport { logUserAction } from '@/app/utils'\n\nexport async function POST(request: Request) {\n  // Perform mutation\n  after(async () =\u003e {\n    const userAgent = (await headers().get('user-agent')) || 'unknown'\n    const sessionCookie =\n      (await cookies().get('session-id'))?.value || 'anonymous'\n\n    logUserAction({ sessionCookie, userAgent })\n  })\n\n  return new Response(JSON.stringify({ status: 'success' }), {\n    status: 200,\n    headers: { 'Content-Type': 'application/json' },\n  })\n}\n```\n\n문제는 `after`에서 `headers()`나 `cookies()` 같은 request API를 사용할 수 없다는 점이에요. 왜냐하면 Next.js는 Partial Prerendering(부분 프리렌더링)을 지원하기 위해 요청 API를 어떤 컴포넌트가 사용하는지 알아야 하는데, `after` 훅은 React 렌더링 라이프사이클 이후에 실행되기 때문에 그 제약에 걸려버립니다.\n\n즉, `after` 내부에서는 요청 관련 API를 호출하면 에러가 발생할 수 있으니 꼭 다른 곳에서 요청 정보를 추출하고, `after`에는 순수히 후처리 로직만 넣어주는 게 안전해요.\n\n아래는 간단히 Next.js 버전별 `after` 훅 관련 히스토리를 정리한 표입니다.\n\n| Version History | Description                      |\n|-----------------|---------------------------------|\n| `v15.1.0`       | `after`가 안정화됨 (stable)      |\n| `v15.0.0-rc`    | `unstable_after`가 도입됨        |\n\n이 내용 참고하셔서, `after` 훅을 활용할 때는 request API 접근 제한을 명심하고, 코드를 설계해보세요. 혹시 `after`에서 request 정보를 꼭 사용해야 할 경우엔, 요청 데이터를 미리 받고 전달하는 구조로 만들어야 작업이 가능하답니다.\n\n더불어, 이런 구조적 제한은 Next.js가 최적화를 위해 도입한 부분이라, Partial Prerendering 덕분에 페이지 로딩 성능이 좋아지는 장점도 있으니 이해하고 활용하면 유용해요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":8},{"title":"Next.js 15에서 sitemap.xml 자동으로 생성하는 방법","description":"","date":"2025-04-22 02:54","slug":"2025-04-22-sitemapxml","content":"\n\n# sitemap.xml\n\nsitemap.(xml|js|ts)은 검색 엔진 크롤러가 사이트를 더 효율적으로 색인할 수 있도록 도와주는, Sitemaps XML 형식을 따르는 특별한 파일이에요.\n\n### Sitemap 파일(.xml)\n\n작은 규모의 앱이라면, 루트 디렉토리에 sitemap.xml 파일을 만들어 두는 게 가장 간단한 방법이에요. 이렇게 하면 크롤러가 바로 이 파일을 찾아서 사이트 구조를 쉽게 파악할 수 있답니다.\n\n---\n\n### 참고로 알아두면 좋은 점!\n\n- sitemap.xml에 사이트 내 주요 URL들을 담으면, 구글 같은 검색 엔진이 어떤 페이지를 우선적으로 크롤링할지 효율적으로 판단해요.\n- 페이지가 너무 많으면 하나의 sitemap.xml에 다 담기 어려운데, 이럴 땐 sitemap index 파일을 사용하거나 여러 개의 sitemap 파일을 나누어 관리할 수도 있어요.\n- 웹사이트가 자주 바뀌는 경우엔 sitemap.xml에 `lastmod` 태그를 넣어서 마지막 변경 시점을 알리는 것도 좋아요. 그러면 크롤러가 변경된 부분을 빠르게 반영할 수 있어요.\n\n마지막으로, sitemap.xml을 만드는 데 너무 복잡하게 생각하지 마세요. 간단하게 시작하고, 사이트가 커지면 점차 확장하는 방향으로 가면 충분합니다!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nsitemap.xml 파일을 직접 작성하는 것도 방법이지만, 프로젝트 규모가 커지면서 수동으로 관리하기엔 점점 힘들어집니다. 그래서 요즘엔 코드로 sitemap을 자동 생성하는 방식을 많이 사용해요.\n\n```js\n\u003curlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://acme.com\u003c/loc\u003e\n    \u003clastmod\u003e2023-04-06T15:02:24.021Z\u003c/lastmod\u003e\n    \u003cchangefreq\u003eyearly\u003c/changefreq\u003e\n    \u003cpriority\u003e1\u003c/priority\u003e\n  \u003c/url\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://acme.com/about\u003c/loc\u003e\n    \u003clastmod\u003e2023-04-06T15:02:24.021Z\u003c/lastmod\u003e\n    \u003cchangefreq\u003emonthly\u003c/changefreq\u003e\n    \u003cpriority\u003e0.8\u003c/priority\u003e\n  \u003c/url\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://acme.com/blog\u003c/loc\u003e\n    \u003clastmod\u003e2023-04-06T15:02:24.021Z\u003c/lastmod\u003e\n    \u003cchangefreq\u003eweekly\u003c/changefreq\u003e\n    \u003cpriority\u003e0.5\u003c/priority\u003e\n  \u003c/url\u003e\n\u003c/urlset\u003e\n```\n\n위처럼 정적인 sitemap도 좋지만, JavaScript나 TypeScript를 활용하면 더 유연하게 sitemap을 관리할 수 있죠.\n\n---\n\n## 코드로 sitemap 만들기 (.js, .ts)\n\n예를 들어, `sitemap.js` 또는 `sitemap.ts` 같은 파일을 만들어서 거기서 URL 배열을 내보내는 함수를 작성할 수 있어요. TypeScript를 사용하면 `Sitemap` 타입도 제공되니까 타입 안정성도 챙길 수 있고요.\n\n```ts\nimport { Sitemap } from 'some-sitemap-package'; // 예시, 실제로는 사용중인 라이브러리 따라 다름\n\nconst sitemap: Sitemap = [\n  {\n    loc: 'https://acme.com',\n    lastmod: new Date().toISOString(),\n    changefreq: 'yearly',\n    priority: 1.0\n  },\n  {\n    loc: 'https://acme.com/about',\n    lastmod: new Date().toISOString(),\n    changefreq: 'monthly',\n    priority: 0.8\n  },\n  {\n    loc: 'https://acme.com/blog',\n    lastmod: new Date().toISOString(),\n    changefreq: 'weekly',\n    priority: 0.5\n  }\n];\n\nexport default function getSitemap() {\n  return sitemap;\n}\n```\n\n\u003e **참고!** `sitemap.js` 파일은 특별한 Route Handler의 역할을 하며, 기본적으로 캐싱이 되기 때문에 사이트 성능에도 도움이 됩니다. 다만, 동적 API를 사용하거나 dynamic config 옵션이 있으면 캐싱이 적용되지 않을 수 있답니다.\n\n---\n\n### 추가 팁\n\n- **자동 갱신:** 블로그처럼 새 글이 자주 올라오는 사이트는 게시글이 추가될 때마다 sitemap을 자동으로 업데이트하는 게 좋아요.\n- **우선순위(priority):** 검색 엔진에게 어떤 페이지가 더 중요한지 알려주는 역할을 해요. 1.0이 가장 높은 값이고 0.0에 가까울수록 낮아요.\n- **변경 빈도(changefreq):** 페이지가 얼마나 자주 변경되는지 알려주면 검색 엔진이 크롤링 빈도를 조절하는 데 도움이 돼요.\n\n이렇게 코드로 sitemap을 관리하면, 추가하거나 수정할 때 훨씬 편하고 실수를 줄일 수 있어요. 꼭 한번 활용해 보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.js의 `MetadataRoute.Sitemap` 타입으로 작성한 자바스크립트 객체를 실제 XML 사이트맵 형식으로 어떻게 변환하는지 보여주는 예제인데요.\n\n코드를 보면 사이트맵에 들어갈 URL 리스트와 각 URL에 대한 메타정보(마지막 수정일, 변경 빈도, 우선순위)를 객체 배열로 반환하고 있어요. 그걸 XML `\u003curlset\u003e` 태그 내부에 `\u003curl\u003e`단위로 나눠서 넣으면, 검색엔진이 이해할 수 있는 표준 사이트맵 파일이 완성됩니다.\n\n---\n\n### 자바스크립트 객체 ⇨ XML 사이트맵 대응표\n\n| 자바스크립트 속성명 | XML 사이트맵 태그명  | 설명                         |\n|---------------------|---------------------|------------------------------|\n| url                 | `\u003cloc\u003e`             | URL 위치                     |\n| lastModified        | `\u003clastmod\u003e`         | 마지막 수정일 (ISO 8601 표기)|\n| changeFrequency     | `\u003cchangefreq\u003e`      | URL 변경 빈도 ('yearly', 'monthly', 'weekly' 등) |\n| priority            | `\u003cpriority\u003e`        | 우선순위 (0.0 ~ 1.0 사이 숫자) |\n\n---\n\n### 추가 팁: Image Sitemap 만들기\n\n사이트맵에 이미지가 포함된 페이지를 별도로 표현할 때는 **Image Sitemap**이라고 불러요. 이미지를 효과적으로 검색엔진에 알릴 수 있어서 SEO에 도움이 되는 중요한 기능이죠.\n\n예를 들어, 이미지 정보를 담는 XML 구조는 다음과 같아요.\n\n```js\n\u003curl\u003e\n  \u003cloc\u003ehttps://example.com/page-with-image\u003c/loc\u003e\n  \u003cimage:image\u003e\n    \u003cimage:loc\u003ehttps://example.com/images/image1.jpg\u003c/image:loc\u003e\n    \u003cimage:caption\u003eImage Caption Here\u003c/image:caption\u003e\n    \u003cimage:title\u003eImage Title Here\u003c/image:title\u003e\n  \u003c/image:image\u003e\n\u003c/url\u003e\n```\n\n이미지 정보를 추가할 때는 각 `\u003curl\u003e` 안에 `\u003cimage:image\u003e` 태그를 중첩시키고, 내부에 이미지 URL, 캡션, 타이틀 등을 넣어 줍니다.\n\n---\n\nNode.js나 Next.js 환경에서 이런 XML을 프로그래밍적으로 생성할 때는 보통 라이브러리를 쓰거나, 직접 문자열 템플릿을 만들어서 변환하죠. 여러분도 이 자료를 참고해서 자동으로 사이트맵을 만들면 워낙 편하니 꼭 도전해보길 추천할게요! 검색엔진 최적화(SEO)에 매우 큰 도움이 됩니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이미지 사이트맵을 만들 때는 `images` 속성을 활용할 수 있어요. 이미지가 포함된 사이트맵은 구글 검색에서 이미지 색인에 도움을 주니까, 이미지가 많은 사이트를 운영한다면 꼭 활용해보길 추천해요. 자세한 내용은 구글 개발자 문서(Developer Docs)에서 확인할 수 있습니다.\n\n아래는 Next.js에서 `MetadataRoute.Sitemap` 타입을 사용해 이미지 사이트맵을 만드는 예제 코드예요:\n\n```js\nimport type { MetadataRoute } from 'next'\n\nexport default function sitemap(): MetadataRoute.Sitemap {\n  return [\n    {\n      url: 'https://example.com',\n      lastModified: '2021-01-01',\n      changeFrequency: 'weekly',\n      priority: 0.5,\n      images: ['https://example.com/image.jpg'],\n    },\n  ]\n}\n```\n\n이 코드를 통해 생성되는 사이트맵 XML은 다음과 같이 생겼답니다:\n\n```js\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003curlset\n  xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n  xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\"\n\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://example.com\u003c/loc\u003e\n    \u003cimage:image\u003e\n      \u003cimage:loc\u003ehttps://example.com/image.jpg\u003c/image:loc\u003e\n    \u003c/image:image\u003e\n    \u003clastmod\u003e2021-01-01\u003c/lastmod\u003e\n    \u003cchangefreq\u003eweekly\u003c/changefreq\u003e\n    \u003cpriority\u003e0.5\u003c/priority\u003e\n  \u003c/url\u003e\n\u003c/urlset\u003e\n```\n\n### 이미지 사이트맵, 이래서 좋아요!\n\n| 장점 | 설명 |\n|---|---|\n| 더 나은 색인 | 구글이 이미지도 정확히 인식해서 검색 결과에 노출 가능성이 높아져요. |\n| 트래픽 증가 | 이미지 검색을 통한 방문자 유입이 늘어나서 사이트 트래픽 증대에 도움이 됩니다. |\n| SEO 강화 | 콘텐츠의 시각적 요소가 잘 반영되니, 전체 SEO 점수에도 긍정적 영향을 줍니다. |\n\n\u003e **Tip!**  \n\u003e 이미지 URL은 절대 경로로 명확하게 지정해 주세요. 이미지 파일이 자주 업데이트되는 경우에는 `lastModified` 값도 신경 써서 맞춰 주면 더 좋아요.\n\n이왕 이미지 많은 사이트를 운영 중이라면, 이렇게 이미지 사이트맵까지 챙겨서 검색 노출, 방문자 수 두 마리 토끼 잡아보시길 바랍니다!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### 비디오 사이트맵 (Video Sitemaps)\n\n웹사이트에 비디오 콘텐츠가 많다면, 비디오 전용 사이트맵을 만들어 검색 엔진이 영상을 더 잘 인식하고 노출할 수 있게 할 수 있어요. Next.js 같은 현대적인 프레임워크에서는 `videos` 프로퍼티를 활용해서 비디오 사이트맵을 쉽게 생성할 수 있는데요. 구글 공식 개발자 문서에서 자세한 내용을 참고할 수 있으니 꼭 한 번 확인해보세요!\n\n아래 코드는 Next.js에서 비디오 사이트맵을 만드는 예시입니다:\n\n```js\nimport type { MetadataRoute } from 'next'\n \nexport default function sitemap(): MetadataRoute.Sitemap {\n  return [\n    {\n      url: 'https://example.com',                  // 페이지 URL\n      lastModified: '2021-01-01',                  // 마지막 수정일\n      changeFrequency: 'weekly',                    // 변경 빈도\n      priority: 0.5,                               // 우선순위\n      videos: [                                    // 비디오 정보 배열\n        {\n          title: 'example',                        // 영상 제목\n          thumbnail_loc: 'https://example.com/image.jpg', // 썸네일 이미지 URL\n          description: 'this is the description', // 영상 설명\n        },\n      ],\n    },\n  ]\n}\n```\n\n### 비디오 사이트맵을 만들 때 알아두면 좋은 점\n\n- `lastModified`와 `changeFrequency`는 검색 엔진에 갱신 주기를 알려주는 역할을 합니다. 자주 업데이트되는 콘텐츠면 보다 최신 정보를 반영하도록 설계하는 게 좋아요.\n- `priority` 값은 0에서 1 사이로, 같은 사이트 내에서 해당 URL의 상대적 중요도를 나타내는데, 영상이 중요한 페이지라면 0.7 이상을 주는 것도 괜찮아요.\n- `videos` 배열 안에는 여러 개의 비디오 정보를 넣을 수 있으므로, 한 페이지에 여러 영상이 있다면 모두 추가할 수 있어요.\n- `thumbnail_loc` (썸네일 위치)은 영상 내용과 잘 맞는 정사각형 또는 16:9 비율의 고화질 이미지를 사용하는 게 노출 효과 면에서 유리합니다.\n\n---\n\n### 참고로, 비디오 사이트맵을 만들면 어떤 점이 좋나요?\n\n- 구글이 사이트 내 비디오를 더 잘 파악해서 검색 결과에 리치 스니펫(동영상 미리보기)을 보여 줄 확률이 증가합니다.\n- 유튜브 같은 외부 서비스 대신 자체 호스팅 영상이 있을 때 특히 검색 노출에 도움이 됩니다.\n- 영상의 메타 정보를 명확하게 전달함으로써 사용자 경험 향상에도 기여할 수 있어요.\n\n비디오를 많이 다루는 개발자나 콘텐츠 제작자라면 꼭 도입해보길 추천드립니다!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n안녕하세요! 오늘은 **로컬라이즈된 사이트맵(Localized Sitemap)**을 만드는 방법에 대해 알려드릴게요.\n\n---\n\n### 1. 기본 비디오 사이트맵 예시\n\n먼저, XML 형태로 작성된 비디오 사이트맵 예시를 보실게요.\n\n```js\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003curlset\n  xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n  xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\"\n\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://example.com\u003c/loc\u003e\n    \u003cvideo:video\u003e\n      \u003cvideo:title\u003eexample\u003c/video:title\u003e\n      \u003cvideo:thumbnail_loc\u003ehttps://example.com/image.jpg\u003c/video:thumbnail_loc\u003e\n      \u003cvideo:description\u003ethis is the description\u003c/video:description\u003e\n    \u003c/video:video\u003e\n    \u003clastmod\u003e2021-01-01\u003c/lastmod\u003e\n    \u003cchangefreq\u003eweekly\u003c/changefreq\u003e\n    \u003cpriority\u003e0.5\u003c/priority\u003e\n  \u003c/url\u003e\n\u003c/urlset\u003e\n```\n\n- 여기선 `\u003cloc\u003e` 태그에 URL이 들어가고,\n- `\u003cvideo:video\u003e` 안에 비디오 타이틀, 썸네일, 설명이 포함되어 있죠.\n- `\u003clastmod\u003e`, `\u003cchangefreq\u003e`, `\u003cpriority\u003e` 같은 검색엔진 최적화 태그들도 추가됐어요.\n\n---\n\n### 2. Next.js에서 로컬라이즈된 사이트맵 생성하기\n\n이제 Next.js 기반 프로젝트에서, 여러 언어별 사이트맵을 자동으로 생성하는 방법을 알려드릴게요.\n\n```ts\nimport type { MetadataRoute } from 'next'\n\nexport default function sitemap(): MetadataRoute.Sitemap {\n  return [\n    {\n      url: 'https://acme.com',\n      lastModified: new Date(),\n      alternates: {\n        languages: {\n          es: 'https://acme.com/es',\n          de: 'https://acme.com/de',\n        },\n      },\n    },\n    {\n      url: 'https://acme.com/about',\n      lastModified: new Date(),\n      alternates: {\n        languages: {\n          es: 'https://acme.com/es/about',\n          de: 'https://acme.com/de/about',\n        },\n      },\n    },\n    {\n      url: 'https://acme.com/blog',\n      lastModified: new Date(),\n      alternates: {\n        languages: {\n          es: 'https://acme.com/es/blog',\n          de: 'https://acme.com/de/blog',\n        },\n      },\n    },\n  ]\n}\n```\n\n- `lastModified`엔 최신 업데이트 시간을 넣고,\n- `alternates.languages` 속성으로 각 언어별 페이지 URL을 명시해주는게 포인트입니다.\n- 이렇게 하면 구글 같은 검색엔진이 다국어 페이지를 인식해 SEO에 도움이 돼요!\n\n---\n\n### 사이트맵에 대해 더 알아두면 좋은 점\n\n| 제목              | 설명                                                         |\n|-----------------|------------------------------------------------------------|\n| 사이트맵 역할       | 검색엔진 크롤러에게 내 사이트 페이지 구조를 알려줘요                 |\n| 로컬라이즈 사이트맵 | 다국어 사이트에서 각 언어별 URL을 명확히 표시해서 SEO를 극대화해요    |\n| Next.js 지원      | 최신 Next.js는 `app` 디렉터리에 `sitemap.ts`를 추가해 쉽게 구현 가능 |\n| lastModified 쓰임  | 페이지가 언제 업데이트됐는지 알려줘 크롤러가 효율적으로 크롤링하게 도움 |\n\n---\n\n### 마무리\n\n만약 여러분의 사이트가 여러 언어로 운영된다면, 이렇게 로컬라이즈된 사이트맵은 필수라고 할 수 있어요.  \n특히 Next.js 같이 최신 프레임워크에선 손 쉽게 관리할 수 있으니 꼭 활용해보세요!\n\n궁금한 점이나 어려운 점 있으면 편하게 댓글 남겨주시고, 즐거운 개발 하시길 바랄게요 :)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n\u003curlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\"\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://acme.com\u003c/loc\u003e\n    \u003cxhtml:link\n      rel=\"alternate\"\n      hreflang=\"es\"\n      href=\"https://acme.com/es\"/\u003e\n    \u003cxhtml:link\n      rel=\"alternate\"\n      hreflang=\"de\"\n      href=\"https://acme.com/de\"/\u003e\n    \u003clastmod\u003e2023-04-06T15:02:24.021Z\u003c/lastmod\u003e\n  \u003c/url\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://acme.com/about\u003c/loc\u003e\n    \u003cxhtml:link\n      rel=\"alternate\"\n      hreflang=\"es\"\n      href=\"https://acme.com/es/about\"/\u003e\n    \u003cxhtml:link\n      rel=\"alternate\"\n      hreflang=\"de\"\n      href=\"https://acme.com/de/about\"/\u003e\n    \u003clastmod\u003e2023-04-06T15:02:24.021Z\u003c/lastmod\u003e\n  \u003c/url\u003e\n  \u003curl\u003e\n    \u003cloc\u003ehttps://acme.com/blog\u003c/loc\u003e\n    \u003cxhtml:link\n      rel=\"alternate\"\n      hreflang=\"es\"\n      href=\"https://acme.com/es/blog\"/\u003e\n    \u003cxhtml:link\n      rel=\"alternate\"\n      hreflang=\"de\"\n      href=\"https://acme.com/de/blog\"/\u003e\n    \u003clastmod\u003e2023-04-06T15:02:24.021Z\u003c/lastmod\u003e\n  \u003c/url\u003e\n\u003c/urlset\u003e\n```\n\n### 다중 사이트맵 생성하기\n\n대부분의 웹사이트는 하나의 사이트맵만으로 충분하지만, 큰 규모의 웹 애플리케이션에서는 사이트맵을 여러 개로 나눠야 할 때가 있어요. 검색 엔진이 너무 큰 파일을 처리하기 어려워할 수 있고, 사이트맵 크기 제한(50,000 URL 또는 50MB uncompressed)을 초과할 우려도 있거든요.\n\n그래서 사이트맵을 나누는 방법은 크게 두 가지가 있습니다:\n\n| 방법           | 설명                                                                                   |\n| -------------- | -------------------------------------------------------------------------------------- |\n| 여러 개의 사이트맵 파일 생성 | 사이트를 여러 개의 사이트맵 파일로 나누어 각각 관리하는 방법. 예를 들어, /sitemap1.xml, /sitemap2.xml처럼 분리 가능해요. |\n| 사이트맵 인덱스 파일 활용   | 여러 개의 사이트맵 파일을 묶어주는 ‘사이트맵 인덱스 파일’을 만들어 검색 엔진에 알려주는 방법입니다. 인덱스 파일은 각 사이트맵 파일의 위치를 포함합니다.  |\n\n\u003e 참고로, 사이트맵 인덱스 파일은 아래처럼 `\u003csitemapindex\u003e` 태그를 사용해 작성합니다.\n\n```js\n\u003csitemapindex xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\u003e\n  \u003csitemap\u003e\n    \u003cloc\u003ehttps://acme.com/sitemap1.xml\u003c/loc\u003e\n    \u003clastmod\u003e2023-04-01\u003c/lastmod\u003e\n  \u003c/sitemap\u003e\n  \u003csitemap\u003e\n    \u003cloc\u003ehttps://acme.com/sitemap2.xml\u003c/loc\u003e\n    \u003clastmod\u003e2023-04-05\u003c/lastmod\u003e\n  \u003c/sitemap\u003e\n\u003c/sitemapindex\u003e\n```\n\n이렇게 하면 검색 엔진은 인덱스 파일만 방문해 여러 사이트맵을 효과적으로 크롤링할 수 있어요. \n\n---\n\n사이트맵 나누기 방법을 이해하면, 큰 웹사이트 SEO 관리에 훨씬 유리해집니다. 필요에 따라 적절히 활용해 보세요! 혹시 궁금한 점 있으면 언제든 물어봐 주세요~\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n사이트맵을 여러 개로 나누는 방법에 대해 이야기해볼게요. Next.js에서 사이트맵은 기본적으로 app 디렉토리에 sitemap.xml 또는 sitemap.js(ts) 같은 파일을 생성해서 만들 수 있는데, 여기서 더 나아가 여러 경로 세그먼트에 걸쳐 여러 개의 사이트맵을 나누어 관리할 수 있어요. 예를 들어, app/sitemap.xml, app/products/sitemap.xml처럼 각각 독립적으로 관리하는 방식이죠.\n\n또 다른 방법으로는 `generateSitemaps` 함수를 사용하는 건데요, 이 함수는 여러 개의 사이트맵을 동적으로 생성할 때 유용합니다. 간단히 말하면, `generateSitemaps`에서 사이트맵 ID 배열을 반환하고, 거기에 맞춰 각 ID마다 별도의 사이트맵을 만드는 겁니다.\n\n아래 예제를 볼까요?\n\n```js\nimport type { MetadataRoute } from 'next'\nimport { BASE_URL } from '@/app/lib/constants'\n \nexport async function generateSitemaps() {\n  // 전체 상품 수를 가져와서 사이트맵 개수를 산정할 수 있겠지만 여기선 예시로 4개의 ID를 만들었어요.\n  return [{ id: 0 }, { id: 1 }, { id: 2 }, { id: 3 }]\n}\n \nexport default async function sitemap({\n  id,\n}: {\n  id: number\n}): Promise\u003cMetadataRoute.Sitemap\u003e {\n  // 구글은 한 사이트맵에 최대 50,000 URL을 허용해요.\n  const start = id * 50000\n  const end = start + 50000\n  // 데이터베이스 쿼리를 통해 특정 범위의 상품을 받아옵니다.\n  const products = await getProducts(\n    `SELECT id, date FROM products WHERE id BETWEEN ${start} AND ${end}`\n  )\n  // 상품마다 URL과 마지막 수정일을 반환하세요.\n  return products.map((product) =\u003e ({\n    url: `${BASE_URL}/product/${product.id}`,\n    lastModified: product.date,\n  }))\n}\n```\n\n위 방식대로 하면 실제 생성되는 사이트맵 파일은 `/product/sitemap/0.xml`부터 `/product/sitemap/3.xml`까지 각 ID별로 존재하게 됩니다.\n\n### 참고 팁!\n- 사이트맵을 여러 개로 나누면 검색엔진 크롤러가 한꺼번에 너무 많은 URL을 받지 않아서 효율적이에요.\n- `generateSitemaps`와 `sitemap` 함수를 함께 써서 동적으로 필요한 만큼 파일을 만들 수 있으니, 상품이나 게시글이 엄청 많을 때 특히 유용합니다.\n- `/robots.txt` 파일에 이런 사이트맵 URL들을 모두 등록하거나, 사이트맵 인덱스를 만들어서 크롤러에게 알려주는 것도 잊지 마세요!\n\n이제 대규모 프로젝트에서 사이트맵 관리가 훨씬 수월해지겠죠? 궁금한 점 있으면 언제든 물어봐요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ngenerateSitemaps API에 대한 더 자세한 정보는 공식 문서를 참고하시면 좋아요.\n\n## 반환값\n\n`sitemap.xml`, `sitemap.ts`, 또는 `sitemap.js`에서 기본으로 내보내는 함수는 아래처럼 특정 속성을 가진 객체들의 배열을 반환해야 해요:\n\n```ts\ntype Sitemap = Array\u003c{\n  url: string\n  lastModified?: string | Date\n  changeFrequency?:\n    | 'always'\n    | 'hourly'\n    | 'daily'\n    | 'weekly'\n    | 'monthly'\n    | 'yearly'\n    | 'never'\n  priority?: number\n  alternates?: {\n    languages?: {\n      [languageCode: string]: string\n    }\n  }\n}\u003e\n```\n\n### 속성 설명\n- `url`: 필수! 사이트맵에 등록할 URL입니다.\n- `lastModified`: 해당 페이지가 마지막으로 수정된 날짜를 나타내요. 문자열(ISO 포맷)이나 Date 객체 모두 가능해요.\n- `changeFrequency`: 검색 엔진에게 페이지가 얼마나 자주 변경되는지 알릴 때 쓰입니다. 기본값은 없으므로 필요할 때만 넣으시면 돼요.\n- `priority`: URL 우선순위를 0.0에서 1.0 사이의 숫자로 지정합니다. 기본값은 0.5이고, 높을수록 중요하다고 간주해요.\n- `alternates.languages`: 다국어 페이지가 있을 때, 각 언어별 URL을 명시할 수 있어요. 예를 들면 `{ en: \"/en/page\", ko: \"/ko/page\" }` 이런 식입니다.\n\n---\n\n### 팁 + @\n사이트맵을 잘 작성해두면 검색 엔진 최적화(SEO)에 큰 도움이 된답니다. 특히 `lastModified`나 `changeFrequency`를 적절히 지정해 두면 크롤러가 페이지 업데이트를 빠르게 인지해서 노출이 더 좋아질 수 있어요.  \n또한 다국어 사이트라면 `alternates.languages`를 꼭 활용해 보세요. 구글 등에서 올바르게 다국어 페이지를 인식하는 데 도움이 됩니다.\n\n혹시 사이트맵 자동 생성 도구를 사용 중이라면, 이런 반환 객체 형식을 참고해서 커스터마이징 해보는 것도 좋겠죠?ㅎㅎ\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 버전 히스토리\n\n| 버전       | 변경사항                                       |\n|------------|--------------------------------------------|\n| `v14.2.0`  | 다국어 지원 기능 추가                          |\n| `v13.4.14` | 사이트맵에 `changeFrequency`와 `priority` 속성 추가 |\n| `v13.3.0`  | 사이트맵 기능 도입                             |\n\n---\n\n간단하게 버전별 주요 변경사항을 정리해봤어요. 특히 사이트맵 관련 기능이 점점 강화되고 있다는 걸 볼 수 있는데요, 웹사이트 SEO 최적화에 관심이 있다면 `changeFrequency`(변경 빈도)와 `priority`(우선순위) 속성이 어떤 의미인지 꼭 알아두시는 걸 추천드려요. 이 속성들을 잘 활용하면 검색 엔진이 내 사이트를 더 잘 이해하고, 중요한 페이지를 더 빠르게 크롤링하도록 도와준답니다!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":18},{"title":"웹 SEO를 위한 robots.txt 작성과 활용법","description":"","date":"2025-04-22 02:53","slug":"2025-04-22-robotstxt","content":"\n\n# robots.txt 파일 쉽게 만들기\n\n웹사이트를 운영하다 보면, 검색 엔진 봇들이 우리 사이트를 어떻게 크롤링할지 정하는 게 중요한데요. 그럴 때 쓰는 게 바로 **robots.txt** 파일이에요. 이 파일을 웹사이트의 루트 디렉터리에 넣으면, 검색 엔진 크롤러에게 “여기까지는 들어와도 돼”, “여기는 접근하지마”라고 알려줄 수 있죠.\n\n---\n\n## 기본적인 robots.txt 예시\n\n```js\nUser-Agent: *\nAllow: /\nDisallow: /private/\n\nSitemap: https://acme.com/sitemap.xml\n```\n\n- `User-Agent: *` : 모든 크롤러에 적용한다는 뜻!  \n- `Allow: /` : 사이트 전체를 접근허용해요.  \n- `Disallow: /private/` : `/private/` 경로 아래는 크롤링 금지!  \n- `Sitemap` : 사이트맵 URL을 알려주면 봇들이 페이지 구조를 더 잘 알 수 있답니다.\n\n---\n\n## 알아두면 좋은 점!\n\n- robots.txt 파일은 “규칙”이지만, 강제성이 없다 보니 악의적인 봇은 무시할 수도 있어요.  \n- CSS, JS 같은 리소스가 차단되지 않게 하시는 게 좋아요. 구글 등 주요 검색 엔진은 이런 파일을 분석해서 페이지를 제대로 이해하거든요.  \n- 꼭 사이트 루트에 위치해야 하며, 경로를 잘못 넣으면 크롤러가 못 찾을 수 있어요.  \n- 사이트맵 URL 적는 것도 함께 하면 SEO에 도움 됩니다!\n\nrobots.txt는 단순하면서도 웹사이트 검색 노출을 관리하는 데 중요한 파일이니, 위 내용을 참고해서 꼭 한 번만 세팅해 보세요! 그럼 여러분 사이트에 맞는 최적의 SEO 환경을 만들 수 있을 거예요. 😄\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## Robots 파일 생성하기\n\n웹사이트를 검색엔진이 어떻게 크롤링해야 하는지 알려주는 `robots.txt` 파일을 Next.js에서 쉽게 만들 수 있어요. 이때 `robots.js` 혹은 `robots.ts` 파일을 만들어서 `Robots` 객체를 반환하면 됩니다.\n\n```js\nimport type { MetadataRoute } from 'next'\n\nexport default function robots(): MetadataRoute.Robots {\n  return {\n    rules: {\n      userAgent: '*',       // 모든 봇에 대해 적용\n      allow: '/',           // 루트 디렉토리는 크롤링 허용\n      disallow: '/private/', // '/private/' 경로는 크롤링 금지\n    },\n    sitemap: 'https://acme.com/sitemap.xml', // 사이트맵 위치 지정\n  }\n}\n```\n\n### 알아두면 좋은 점 🌟\n- `robots.js`는 Next.js의 **특별한 Route Handler**인데, 기본적으로 캐싱이 되어 있어요.  \n- 다만 동적 API(dynamic API)나 동적 구성(dynamic config)을 사용할 경우에는 캐싱되지 않습니다.  \n- 이 방식이 더 관리하기 편하고, 직접 `public/robots.txt` 파일을 만들지 않아도 되니 개발 속도가 빨라져요.\n\n### 개인적으로 팁!\n- 사이트에 아주 민감한 정보가 있다면, `.env` 파일이나 서버 설정으로 크롤링 금지 경로를 관리하는 것도 좋아요.  \n- 그리고 구글 서치 콘솔 같은 도구에 사이트맵 URL을 등록해두면 검색엔진 최적화에도 도움이 됩니다.\n\n이렇게 설정만 하면 여러분 사이트에 맞는 `robots.txt`를 편리하게 관리할 수 있어요! 🕷️🚫\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n출력 예시:\n\n```js\nUser-Agent: *\nAllow: /\nDisallow: /private/\n\nSitemap: https://acme.com/sitemap.xml\n```\n\n### 특정 사용자 에이전트 맞춤 설정하기\n\n검색 엔진 봇마다 사이트 크롤링 방식을 다르게 설정하고 싶을 때가 있죠? 이런 경우에는 `rules` 속성에 사용자 에이전트(User-Agent) 배열을 전달해서 각각을 개별적으로 지정할 수 있어요. 예를 들어, 이렇게 활용할 수 있습니다:\n\n```js\nrules: [\n  {\n    userAgent: ['Googlebot', 'Bingbot'],\n    allow: ['/public'],\n    disallow: ['/private']\n  },\n  {\n    userAgent: ['*'],\n    disallow: ['/admin']\n  }\n]\n```\n\n위처럼 하면 `Googlebot`과 `Bingbot`은 `/public` 경로를 허용하고 `/private`는 차단하지만, 모든 다른 봇들은 `/admin` 경로만 차단하도록 설정할 수 있죠.\n\n추가 팁으로, 잘 구성된 `robots.txt`는 검색엔진 최적화(SEO)에도 도움을 주니 꼭 꼼꼼히 작성해 보세요! 그리고 필요하다면 사이트맵 위치도 명확히 표시해주면 크롤러가 사이트 구조를 더 잘 파악할 수 있습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이번에는 Next.js에서 `MetadataRoute.Robots` 타입을 이용해 robots.txt를 설정하는 방법에 대해 살펴볼게요.\n\n위 예제 코드를 보면 `robots()` 함수가 `MetadataRoute.Robots` 타입 객체를 반환하고 있습니다. 이 객체는 검색 엔진 크롤러들이 어떤 경로를 탐색할 수 있는지 세밀하게 조절할 수 있어요.\n\n```js\nexport default function robots(): MetadataRoute.Robots {\n  return {\n    rules: [\n      {\n        userAgent: 'Googlebot',\n        allow: ['/'],\n        disallow: '/private/',\n      },\n      {\n        userAgent: ['Applebot', 'Bingbot'],\n        disallow: ['/'],\n      },\n    ],\n    sitemap: 'https://acme.com/sitemap.xml',\n  }\n}\n```\n\n이 설정은 다음과 같은 의미를 갖는데요:\n\n| User-Agent  | Allow | Disallow   |\n|-------------|-------|------------|\n| Googlebot   | /     | /private/  |\n| Applebot    |       | /          |\n| Bingbot     |       | /          |\n\n- Googlebot에게는 전체 경로를 허용하지만 `/private/`는 막습니다.\n- Applebot과 Bingbot은 사이트 전체 접근 금지입니다.\n- Sitemap 위치도 명시되어 있어 크롤러가 쉽게 사이트맵을 찾을 수 있어요.\n\n이렇게 하면 robots.txt는 다음과 같이 생성됩니다:\n\n\nUser-Agent: Googlebot\nAllow: /\nDisallow: /private/\n\nUser-Agent: Applebot\nDisallow: /\n\nUser-Agent: Bingbot\nDisallow: /\n\nSitemap: https://acme.com/sitemap.xml\n\n\n### 여기서 알아두면 좋은 점\n- `allow`와 `disallow`를 배열로 줄 수도 있어서 여러 경로를 지정할 수 있어요.\n- `userAgent`도 문자열 하나나 배열로 여러 봇을 지정 가능해서 편리하죠.\n- 사이트맵 URL 꼭 포함하는 걸 추천합니다. 크롤러가 사이트 구조를 더 빠르게 파악하거든요.\n\n이 기능은 Next.js 13부터 정식 지원하면서 서버 컴포넌트 안에서 손쉽게 robots.txt 처리를 할 수 있어요. 예전엔 따로 파일을 만들어야 해서 좀 번거로웠는데, 이제 훨씬 깔끔하게 관리할 수 있답니다.\n\n필요하면 robots.txt뿐만 아니라 `MetadataRoute` 타입으로 `favicon`이나 `manifest`도 관리할 수 있으니까 Next.js 공식 문서도 한번 살펴봐 보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```ts\ntype Robots = {\n  rules:\n    | {\n        userAgent?: string | string[]\n        allow?: string | string[]\n        disallow?: string | string[]\n        crawlDelay?: number\n      }\n    | Array\u003c{\n        userAgent: string | string[]\n        allow?: string | string[]\n        disallow?: string | string[]\n        crawlDelay?: number\n      }\u003e\n  sitemap?: string | string[]\n  host?: string\n}\n```\n\n## 버전 히스토리\n\n| Version   | Changes               |\n|-----------|-----------------------|\n| `v13.3.0` | `robots`가 도입되었습니다. |\n\n---\n\n### robots 타입 살짝 풀어보기!\n\n위 타입은 주로 웹사이트의 `robots.txt` 설정을 타입스크립트로 표현한 거예요. 웹 크롤러가 어떤 페이지는 크롤링해도 되고, 어떤 페이지는 금지해야 할 때 `robots.txt`를 사용하는데요, 이런 설정을 코드로 관리할 때 유용하죠.\n\n- `rules`는 크롤러 별로 어떤 경로를 허용(`allow`)하거나 차단(`disallow`)할지 설정해요.\n- `userAgent`는 어떤 크롤러에 대한 규칙인지 지정하는 부분이라, Googlebot, Bingbot 등 특정 크롤러 이름을 넣을 수 있어요. 배열로 여러 크롤러를 지정할 수도 있고요.\n- `crawlDelay`는 크롤러가 요청 사이에 얼마나 기다려야 하는지 초 단위로 설정합니다.\n- `sitemap`은 사이트맵 URL을 명시해 크롤러가 더 효율적으로 페이지를 찾게 돕고,\n- `host`는 사이트의 대표 도메인을 지정하는 값이에요.\n\n이 타입으로 `robots.txt`를 프로그램matically(프로그램적으로) 생성하거나, 동적으로 관리하는 툴을 만들 때 큰 도움이 될 거예요!\n\n필요하면 제가 간단한 예제도 함께 만들어볼게요. 관심 있으면 알려주세요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":7},{"title":"Next.js 15에서 OpenGraph-Image와 Twitter-Image 설정하는 방법 ","description":"","date":"2025-04-22 02:51","slug":"2025-04-22-opengraph-imageandtwitter-image","content":"\n\n# opengraph-image와 twitter-image 파일 컨벤션\n\n웹 개발할 때, 내가 만든 페이지를 누군가 SNS나 메신저에서 공유할 때 보여지는 썸네일 이미지, 한 번쯤 신경 써봤죠? 이때 중요한 게 바로 Open Graph 이미지와 Twitter 카드 이미지입니다. 이걸 제대로 설정해주면 공유할 때 내 콘텐츠가 더 눈에 띄고 프로페셔널해 보여요.\n\n여기서 소개할 opengraph-image와 twitter-image 파일 컨벤션은, 특정 라우트(경로)별로 이런 이미지를 쉽게 설정하는 방법이에요. 즉, 페이지별로 다르게 썸네일을 지정할 수 있다는 뜻이죠.\n\n---\n\n## Open Graph와 Twitter 이미지 설정 방법\n\n개발자나 블로거들이 흔히 쓰는 방법은 두 가지예요:\n\n(아래에서 자세하게 설명할게요!)\n\n---\n\n\u003e 참고: Open Graph(Open Graph Protocol)는 페이스북, 카카오톡 같은 소셜 미디어가 공유 링크를 표시할 때 사용하는 메타 데이터 규격이에요.  \n\u003e Twitter 카드도 이름 그대로 트위터에서 공유 링크 시 보이는 카드형 이미지나 요약 정보를 위한 메타 태그입니다.\n\n다음 메시지에서 두 가지 방법에 대해서 더 자세히 정리해드릴게요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n개발자 분들, 안녕하세요! 오늘은 Next.js에서 이미지를 다루는 방법에 대해 이야기해볼게요. 특히, 라우트 세그먼트(route segment)를 위한 오픈그래프(Open Graph) 이미지 설정하는 방법에 집중해보겠습니다.\n\n---\n\n## 이미지 파일로 이미지 설정하기 (.jpg, .png, .gif)\n\nNext.js에서는 라우트 세그먼트에 공유할 이미지를 쉽게 설정할 수 있어요. 방법은 간단히 세그먼트 폴더 안에 `opengraph-image` 또는 `twitter-image`라는 이름의 이미지 파일을 넣어주면 됩니다.\n\n예를 들어, `/about` 페이지에 대한 오픈그래프 이미지를 설정하고 싶다면 `/about/opengraph-image.jpg` 파일을 넣으면 돼요.\n\n그럼 Next.js가 해당 이미지를 자동으로 인식해서, 여러분의 앱 `head` 태그 안에 적절한 메타 태그를 삽입해 줍니다. 즉, `\u003cmeta property=\"og:image\" content=\"...\"\u003e` 같은 태그들이 자동으로 생성되는 거죠!\n\n이 방식의 장점은 별도의 코드 작업 없이 이미지만 해당 위치에 두면 알아서 처리해준다는 거예요. 덕분에 SEO나 공유하기 좋은 이미지 설정을 간편하게 할 수 있죠.\n\n---\n\n### 참고로, 이미지 파일명과 경로가 정말 중요해요!\n\n- 파일명은 **반드시 정확**하게 `opengraph-image` 또는 `twitter-image` 여야 합니다.\n- 지원되는 확장자는 `.jpg`, `.png`, `.gif` 등 표준 이미지 포맷들입니다.\n- 여러 이미지 포맷 중에 최적화된 포맷을 선택하는 것도 중요해요. 예를 들어, 투명 배경이 필요하면 PNG, 사진이라면 JPG가 적합합니다.\n\n---\n\n다음에는 이미지 파일을 직접 업로드하지 않고, 자바스크립트 코드로 이미지를 생성하는 방법도 소개해 드릴게요! (예: .js, .ts, .tsx 파일 사용)\n\n그럼 여기까지 알아두시면 라우트별 공유 이미지 설정은 문제없겠네요. 즐코딩! 🚀\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n아래는 파일 네이밍 규칙과 지원하는 파일 형식을 정리한 표입니다. 참고로 파일 크기 제한도 있으니 꼭 확인해주세요!\n\n| File convention            | Supported file types               |\n|---------------------------|----------------------------------|\n| [opengraph-image](#opengraph-image)       | `.jpg`, `.jpeg`, `.png`, `.gif`         |\n| [twitter-image](#twitter-image)           | `.jpg`, `.jpeg`, `.png`, `.gif`         |\n| [opengraph-image.alt](#opengraph-imagealttxt) | `.txt`                              |\n| [twitter-image.alt](#twitter-imagealttxt)      | `.txt`                              |\n\n\u003e 알아두면 좋은 점:\n\u003e - `twitter-image` 파일 크기는 5MB를 넘으면 안 됩니다.\n\u003e - `opengraph-image` 파일 크기는 8MB를 넘지 않아야 합니다.\n\u003e - 만약 이 크기 제한을 넘으면 빌드가 실패하니 주의하세요!\n\n---\n\n### opengraph-image\n\n`opengraph-image.(jpg|jpeg|png|gif)` 형식의 이미지를 원하는 라우트 세그먼트에 추가할 수 있습니다.\n\n---\n\n추가로, opengraph 이미지와 트위터 이미지 모두 소셜 미디어에서 링크를 공유할 때 미리보기 이미지로 쓰이니, 가능한 한 눈에 띄고 관련성이 높은 이미지로 준비하는 게 좋아요. 그리고 alt 텍스트 파일(`.txt`)을 함께 제공하면 이미지가 잘 로드되지 않을 때 대체 텍스트로 활용할 수 있어서 접근성 측면에서도 도움이 됩니다. \n\n파일 크기가 크면 로딩 시간이 길어질 수 있으니 이미지 최적화도 꼭 챙기시길 바래요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 코드는 웹 페이지의 메타 태그를 설정하는 예시로, 특히 SNS 공유 시에 어떤 이미지가 어떻게 표시될지 지정하는 부분이에요. 조금 더 쉽게 설명드릴게요!\n\n### og:image (Open Graph 이미지)\n\n```html\n\u003cmeta property=\"og:image\" content=\"\u003cgenerated\u003e\" /\u003e\n\u003cmeta property=\"og:image:type\" content=\"\u003cgenerated\u003e\" /\u003e\n\u003cmeta property=\"og:image:width\" content=\"\u003cgenerated\u003e\" /\u003e\n\u003cmeta property=\"og:image:height\" content=\"\u003cgenerated\u003e\" /\u003e\n```\n\n- `og:image`: 페이스북, 카카오톡 같은 SNS에서 공유될 때 썸네일로 사용할 이미지 URL이에요.\n- `og:image:type`: 이미지의 타입(jpeg, png 등)을 알려주는 태그에요.\n- `og:image:width`, `og:image:height`: 이미지의 가로, 세로 크기를 픽셀 단위로 알려줘요.\n\n이걸 잘 설정하면 공유할 때 이미지가 깨지거나 엉뚱한 이미지가 나오는 걸 막을 수 있어요.\n\n---\n\n### twitter-image (트위터 전용 이미지)\n\n```html\n\u003cmeta name=\"twitter:image\" content=\"\u003cgenerated\u003e\" /\u003e\n\u003cmeta name=\"twitter:image:type\" content=\"\u003cgenerated\u003e\" /\u003e\n\u003cmeta name=\"twitter:image:width\" content=\"\u003cgenerated\u003e\" /\u003e\n\u003cmeta name=\"twitter:image:height\" content=\"\u003cgenerated\u003e\" /\u003e\n```\n\n- `twitter:image`: 트위터에서 공유 시 사용할 이미지 URL입니다.\n- `twitter:image:type`, `twitter:image:width`, `twitter:image:height`: Open Graph와 비슷하게 이미지 타입과 크기를 알려줘요.\n\n트위터는 트위터 카드라는 시스템이 있는데, 이 태그를 넣어줘야 멋진 카드 형태로 공유할 수 있어요.\n\n---\n\n### 추가 TIP!\n\n- 보통 og 이미지와 twitter 이미지 주소를 동일하게 쓸 때가 많지만, 필요에 따라 다른 이미지를 지정해도 돼요.\n- 이미지 권장 크기는 SNS마다 조금씩 다르긴 하지만, 최소한 1200x630(px) 정도를 권장해요. 그래야 고해상도 화면에서도 잘 보여요.\n- 이미지 URL은 절대경로(https://... )로 넣어야 하므로 주의하세요!\n\n### 요약\n\n| 태그 종류         | 목적                         | 속성 예시                          |\n|-----------------|----------------------------|---------------------------------|\n| og:image        | 페이스북, 카카오톡 공유 이미지 | content, type, width, height    |\n| twitter:image   | 트위터 공유 이미지           | content, type, width, height    |\n\n이렇게 설정해주면 공유할 때 더 깔끔하고 전문적인 모습으로 보여질 수 있어요! 나중에 내 블로그나 서비스에 SNS 공유 기능 붙일 때 꼭 참고하세요.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### opengraph-image.alt.txt 파일 활용법\n\n웹사이트를 운영하다 보면 **Open Graph 이미지**(SNS에 공유할 때 미리보기 이미지)와 함께 그 이미지의 대체 텍스트(alt text)를 정의해야 할 때가 있어요. 대체 텍스트는 이미지가 로드되지 않을 때 보여지거나, 스크린 리더 사용자에게 이미지 내용을 설명해주는 중요한 역할을 하죠.\n\n이때 **opengraph-image.alt.txt** 파일을 사용하는 방법이 있어요. Open Graph 이미지 파일(jpg, jpeg, png, gif)이 있는 폴더 혹은 경로와 같은 위치에 이 텍스트 파일을 넣어서 이미지의 alt 텍스트를 지정할 수 있습니다.\n\n예시를 들어볼게요.\n\n```js\nAbout Acme\n```\n\n이렇게 텍스트 파일에 이미지에 대한 설명을 적어두면, HTML 헤더 안에 다음과 같은 메타 태그가 자동으로 생성될 수 있어요.\n\n```html\n\u003cmeta property=\"og:image:alt\" content=\"About Acme\" /\u003e\n```\n\n이 메타 태그는 검색 엔진 최적화(SEO)에도 도움이 되고, 접근성(Accessibility) 측면에서도 매우 유용합니다.  \n물론, 직접 `\u003cmeta\u003e` 태그를 HTML에 넣어줘도 되지만, 파일로 관리하면 여러 이미지의 alt 텍스트를 일괄 관리하기 더 편리해요.\n\n---\n\n**추가 팁!**  \n- alt 텍스트는 이미지의 내용을 간결하고 명확하게 설명하는 문장이 좋아요.  \n- 너무 길거나 장황하면 오히려 독이 될 수 있으니 적당히 짧고 핵심을 담는 게 중요합니다.  \n- Open Graph 태그를 잘 관리하면 페이스북, 트위터, 카카오톡 등 다양한 SNS에서 링크 공유 시 예쁘고 의미 있는 미리보기를 보여줄 수 있습니다.\n\n따라서, `opengraph-image.alt.txt` 파일을 잘 활용해서 더 완성도 높고 친절한 웹 콘텐츠를 만들어보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n트위터 이미지를 사용할 때 이미지 설명(alt text)을 꼭 챙기는 게 좋아요. 왜냐하면 이미지가 제대로 로딩 안 될 때 사용자에게 대체 텍스트로 보여줄 수 있고, 접근성 측면에서도 도움이 되거든요.\n\n여기서 `twitter-image.alt.txt`라는 파일은 여러분이 올린 트위터 이미지 파일(jpg, png, gif 등)과 같은 폴더(경로)에 두면 돼요. 이 파일 안에는 이미지에 대한 간단한 설명을 담아두는 거죠.\n\n예를 들어, 이미지가 \"About Acme\"이라는 내용을 담았다면,  \n`twitter-image.alt.txt` 안에는 이렇게 적어요:\n\n\nAbout Acme\n\n\n그리고 만약 HTML 메타 태그로 직접 추가할 경우라면 이렇게 쓸 수 있답니다:\n\n```html\n\u003cmeta property=\"twitter:image:alt\" content=\"About Acme\" /\u003e\n```\n\n사실 이 작업이 왜 중요하냐면, 트위터 같은 소셜 미디어 플랫폼에서 이미지를 공유할 때 설명이 있으면 더 접근성 높고, 사용자 경험도 좋아져요. 또한 이미지가 어떤 내용인지 검색 엔진 최적화(SEO)에도 조금 도움될 수 있답니다.\n\n간단하지만 놓치기 쉬운 부분, 꼭 챙겨주세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 코드로 이미지 생성하기 (.js, .ts, .tsx)\n\n보통 이미지는 이미지 파일을 그대로 사용하는 경우가 많지만, 코드로 이미지를 직접 생성하는 것도 가능합니다.\n\n예를 들어, 특정 라우트 세그먼트에 공유 이미지(opengraph-image나 twitter-image)를 만들고 싶다면, `opengraph-image`나 `twitter-image`라는 이름의 라우트를 만들고 거기서 기본(default)으로 내보내는 함수를 작성하면 돼요.\n\n그리고 아래 표처럼 파일명 컨벤션과 지원하는 파일 타입도 정해져 있습니다:\n\n| 파일명 컨벤션         | 지원하는 파일 타입       |\n|--------------------|-------------------|\n| `opengraph-image`  | `.js`, `.ts`, `.tsx` |\n| `twitter-image`    | `.js`, `.ts`, `.tsx` |\n\n---\n\n### 조금 더 알아두면 좋은 팁!\n\n- 이렇게 코드로 이미지를 생성하면, 동적으로 텍스트, 배경색, 아이콘 등을 상황에 맞게 커스터마이징할 수 있어요.\n- 예를 들어 블로그 글마다 다른 오픈그래프 이미지를 자동으로 생성하고 싶을 때 굉장히 유용하죠.\n- React 컴포넌트 형식으로 이미지를 만들면서, SVG나 Canvas API를 활용하거나, headless 브라우저에서 캡처하는 방법도 있어요.\n  \n직접 만들어 보면 생각보다 재미있고 신기하니 한 번 도전해 보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n좋은 정보!\n\nNext.js에서 이미지를 생성할 때 기본적으로 정적으로 최적화(빌드 시 생성 및 캐시)된다는 점을 알고 있으면 좋아요. 단, Dynamic API나 캐시되지 않는 데이터를 사용하면 동적으로 처리됩니다. 그리고 한 파일 내에서 여러 이미지를 만들고 싶다면 `generateImageMetadata`를 활용할 수 있고요.\n\n특히 `opengraph-image.js`와 `twitter-image.js` 같은 라우트 핸들러(Route Handlers)는 기본적으로 캐시 처리되지만, Dynamic API 또는 다이나믹 설정을 사용하면 예외입니다.\n\n### 가장 간단한 이미지 생성법: ImageResponse API\n\n`next/og` 패키지의 `ImageResponse`를 사용하면 아주 쉽게 이미지 생성이 가능해요. 아래 예제를 한 번 볼게요.\n\n```js\nimport { ImageResponse } from 'next/og'\nimport { readFile } from 'node:fs/promises'\nimport { join } from 'node:path'\n\n// 이미지 메타 데이터\nexport const alt = 'About Acme'\nexport const size = {\n  width: 1200,\n  height: 630,\n}\n\nexport const contentType = 'image/png'\n\n// 이미지 생성 함수\nexport default async function Image() {\n  // 폰트 불러오기 (process.cwd()는 Next.js 프로젝트 루트 디렉터리)\n  const interSemiBold = await readFile(join(process.cwd(), 'assets/Inter-SemiBold.ttf'))\n\n  return new ImageResponse(\n    (\n      \u003cdiv\n        style={{\n          fontSize: 128,\n          background: 'white',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      \u003e\n        About Acme\n      \u003c/div\u003e\n    ),\n    {\n      ...size,\n      fonts: [\n        {\n          name: 'Inter',\n          data: interSemiBold,\n          style: 'normal',\n          weight: 400,\n        },\n      ],\n    }\n  )\n}\n```\n\n여기서 중요한 점은 직접 폰트를 로드해서 이미지 안에 텍스트를 쓸 때 폰트가 제대로 렌더되도록 하는 거예요. 그리고 스타일을 인라인으로 줘서 기본적인 레이아웃도 잡을 수 있죠.\n\n만들어진 이미지는 Open Graph 혹은 트위터 카드 메타 태그에서 사용할 수 있는데요:\n\n```html\n\u003cmeta property=\"og:image\" content=\"\u003cgenerated\u003e\" /\u003e\n\u003cmeta property=\"og:image:alt\" content=\"About Acme\" /\u003e\n\u003cmeta property=\"og:image:type\" content=\"image/png\" /\u003e\n\u003cmeta property=\"og:image:width\" content=\"1200\" /\u003e\n\u003cmeta property=\"og:image:height\" content=\"630\" /\u003e\n```\n\n이렇게 넣어주면 SNS에 공유될 때 예쁜 미리보기 이미지가 나타납니다.\n\n---\n\n### 추가 팁!\n\n- 이미지 크기(`width`, `height`)는 SNS 공유용으로 권장되는 크기를 따라야 해요. 보통 1200x630이 표준입니다.\n- `ImageResponse`의 JSX 내부에서는 스타일이나 레이아웃도 마음껏 커스터마이징할 수 있으니, 브랜드 컬러나 로고 넣기도 어렵지 않아요.\n- 폰트 파일은 프로젝트에 포함시키거나 CDN에서 로드해도 되고, 성능을 위해 필요한 폰트만 정확히 불러오는 게 좋아요.\n- 서버 컴포넌트에서만 사용 가능하다는 것도 기억하세요!\n\n이렇게 Next.js의 이미지 생성 기능을 활용하면, SEO와 SNS 공유에서 경쟁력을 크게 높일 수 있습니다. 개발하면서 꼭 한번 써보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### Props\n\n기본으로 내보내는 함수가 받는 props는 다음과 같아요:\n\n#### params (선택 사항)\n\n이건 동적 라우트 파라미터들을 담고 있는 객체예요. 루트 세그먼트부터 opengraph-image나 twitter-image 세그먼트까지의 경로에 있는 모든 동적 파라미터들이 들어있답니다.\n\n---\n\n추가로 설명하자면, Next.js 같은 프레임워크에서 동적 라우트(dynamic route)는 URL 일부가 변할 수 있을 때 사용되는데, 예를 들어 `/posts/[id]`처럼 `id`가 동적으로 변하죠. 이런 경우 이 params 객체를 통해 해당 URL에서 어떤 값이 왔는지 쉽게 받아서 처리할 수 있답니다.\n\nMarkdown 표로 정리하면:\n\n| Prop   | 설명                                                                    | 선택 여부  |\n|--------|-------------------------------------------------------------------------|------------|\n| params | 동적 라우트 파라미터들. 루트부터 현재 세그먼트까지의 경로 파라미터들이 포함돼 있음. | 선택 사항   |\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.js 13의 App 디렉토리에서 Open Graph 이미지를 동적으로 생성할 때, `params`를 받아서 경로에 맞는 데이터를 처리하는 방식을 알아볼게요.\n\n```js\nexport default function Image({ params }: { params: { slug: string } }) {\n  // ...\n}\n```\n\n위 예시는 `params` 안에 `slug`라는 문자열이 들어오는 컴포넌트의 기본 형태예요. 이 `params`는 URL 경로를 기반으로 자동으로 전달되죠.\n\n아래는 라우트별 `params` 값과 매칭되는 예시입니다.\n\n| Route                                 | URL           | `params`                  |\n|-------------------------------------|---------------|---------------------------|\n| `app/shop/opengraph-image.js`          | `/shop`       | `undefined`               |\n| `app/shop/[slug]/opengraph-image.js`   | `/shop/1`     | `{ slug: '1' }`           |\n| `app/shop/[tag]/[item]/opengraph-image.js` | `/shop/1/2` | `{ tag: '1', item: '2' }` |\n\n즉, 동적 라우트(`[slug]` 등)를 사용하면 해당 경로 변수들이 `params` 객체로 들어와서 사용할 수 있어요.\n\n그리고 중요한 점! 이 Open Graph 이미지를 만드는 컴포넌트는 기본적으로 다음 중 하나를 반환해야 해요.\n\n- `Blob`\n- `ArrayBuffer`\n- `TypedArray`\n- `DataView`\n- `ReadableStream`\n- `Response`\n\n이 중 하나를 반환하면 Next.js가 이미지로 자동 변환해주는 거죠.\n\n---\n\n### 좀 더 쉽게 설명하자면\n\n라우팅에 따라 Open Graph용 이미지 생성 로직을 분리할 수 있는데, URL에 포함된 변수들을 `params`로 받아서 이미지 내용에 반영할 수 있어요. 예를 들어 `/shop/1`이라면 `slug`가 `'1'`이 들어와서 해당 제품 정보를 사용해 이미지를 그리는 식입니다.\n\n또한 반환 타입에 제약이 있는데, 이 반환값을 Next.js가 받아서 최종 이미지 파일을 만들어 주기 때문에 꼭 위 타입 중 하나로 반환해야 하고, 보통은 `Response` 객체를 많이 써요. \n\n이미지 생성에 대해 익숙하지 않다면, `@vercel/og` 같은 유틸리티를 사용해서 React 컴포넌트처럼 그려주고 그걸 바로 이미지로 변환시켜 주는 라이브러리도 추천드립니다.\n\n\n---\n\n### 정리\n\n- `params`에는 URL 동적 세그먼트 값들이 담긴다.\n- 경로에 따라 `params`가 자동으로 전달된다.\n- Open Graph 이미지 함수는 Blob, Response 등 이미지를 표현할 수 있는 타입을 반환해야 한다.\n- 동적 라우트에 맞게 이미지를 동적으로 생성하는 데 딱 맞는 구조다.\n\n이제 이렇게 받은 `params`로 원하는 이미지 내용을 자유롭게 변경해 보세요! Next.js의 App 디렉토리 덕분에 라우트별 이미지 생성이 훨씬 간편해졌습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003e 참고로, ImageResponse는 이 반환 타입을 만족합니다.\n\n### Config exports\n\nopengraph-image 또는 twitter-image 경로에서 alt, size, contentType 변수를 export해서 이미지 메타데이터를 선택적으로 설정할 수 있어요.\n\n| Option      | Type                                                                                                        |\n|-------------|-------------------------------------------------------------------------------------------------------------|\n| [alt](#alt) | `string`                                                                                                    |\n| [size](#size) | `{ width: number; height: number }`                                                                        |\n| [contentType](#contenttype) | `string` - [이미지 MIME 타입 (참고 문서)](https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/MIME_types#image_types) |\n\n---\n\n조금 덧붙여서 설명하자면, alt는 이미지가 로드되지 않거나 스크린 리더를 사용할 때 중요한 역할을 하는 텍스트라서 SEO나 접근성을 위해 꼭 설정하는 걸 권장합니다. size는 이미지의 가로, 세로 크기를 명시해서 클라이언트가 적절한 공간을 미리 잡을 수 있게 도와주고요. contentType은 이미지의 MIME 타입으로, 예를 들어 `image/png`, `image/jpeg` 등이 있는데, 이걸 정확히 지정해주면 브라우저에서 이미지 처리할 때 더 효율적으로 작동합니다.\n\nMIME 타입에 대해 잘 모르겠으면 위 MDN 링크 한 번 확인해보세요. 이미지뿐만 아니라 다양한 파일 타입에 대해 표준화된 정보를 얻을 수 있어서 개발할 때 많이 도움이 됩니다!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### alt 속성에 대해 알아볼까요?\n\n웹에서 이미지를 사용할 때 `alt` 속성은 정말 중요해요. 간단히 말해, `alt`는 이미지가 표시되지 않을 때 대신 보여주는 텍스트인데요, 시각장애가 있는 분들이 스크린리더를 통해 이미지를 이해할 수 있도록 도와주는 역할도 해줘요.\n\n예를 들어, 리액트 컴포넌트에서 `alt` 텍스트를 변수로 지정하는 방법은 이렇게 할 수 있어요:\n\n```js\nexport const alt = 'My images alt text'\n\nexport default function Image() {\n  return \u003cimg src=\"/path/to/image.jpg\" alt={alt} /\u003e\n}\n```\n\n또한, 소셜 미디어에서 공유할 때 사용하는 Open Graph 태그에도 `alt` 속성을 넣어줘서 이미지에 대한 추가 정보를 제공할 수 있답니다.\n\n```html\n\u003cmeta property=\"og:image:alt\" content=\"My images alt text\" /\u003e\n```\n\n이렇게 하면, 페이스북이나 트위터 같은 곳에서 이미지를 불러올 때 이 설명을 활용할 수 있어요.\n\n\u003e 참고로! `alt` 텍스트는 이미지 내용을 간결하면서도 충분히 설명할 수 있게 작성하는 게 좋아요. 그냥 '사진' 보다는 ‘서울의 남산타워 야경’처럼 구체적으로 적으면 효과적이에요.\n\n---\n\n### size 속성도 짚어볼게요\n\n이미지의 크기를 다룰 때도 중요하게 생각해야 할 게 바로 `size`에요. 보통 HTML에서는 `\u003cimg\u003e` 태그의 `width`, `height`로 크기를 조절하지만, 요즘은 반응형 디자인 때문에 CSS나 스타일 속성으로 크기를 정하는 경우가 많죠.\n\n```html\n\u003cimg src=\"/path/to/image.jpg\" alt=\"sample image\" width=\"200\" height=\"150\" /\u003e\n```\n\n하지만 이렇게 하게 되면 이미지 본연의 비율이 유지되지 않을 수 있으니, CSS에서 `max-width: 100%; height: auto;` 같은 설정으로 너비에 맞게 자동 조절하도록 하는 게 더 유연해요.\n\n```css\nimg {\n  max-width: 100%;\n  height: auto;\n}\n```\n\n또, 만약 리액트에서 사이즈 관련 값을 변수로 관리한다면 이렇게 활용할 수 있어요.\n\n```js\nexport const size = {\n  width: 200,\n  height: 150\n};\n\nexport default function Image() {\n  return \u003cimg src=\"/path/to/image.jpg\" alt=\"sample image\" width={size.width} height={size.height} /\u003e;\n}\n```\n\n\u003e 작은 팁 하나! 이미지 크기를 지정할 때는 실제 이미지 파일의 크기와 맞추거나, 리사이징해서 용량 낭비를 막는 게 페이지 로딩 속도에 도움이 돼요.\n\n---\n\n요약하자면, ‘alt’는 접근성과 SEO를 위해 꼭 필요한 속성이고, ‘size’는 디자인과 퍼포먼스에 직결된 중요한 부분이랍니다. 이미지 작업할 때 이 두 가지 꼭 챙기세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n안녕하세요! 오늘은 웹 개발에서 자주 사용하는 이미지 메타(tag) 관련 내용을 조금 더 친근한 느낌으로 정리해볼게요.\n\n---\n\n### 이미지 크기 정보 — size 객체\n\n```js\nexport const size = { width: 1200, height: 630 }\n \nexport default function Image() {}\n```\n\n위 코드는 보통 이미지의 크기를 미리 정의할 때 사용해요. 특히 소셜 미디어나 SEO(Open Graph) 최적화할 때 이미지 크기를 명시하는 게 좋은데요. 여기서 `width`가 1200, `height`가 630인 픽셀 단위 크기를 지정했네요. 이 크기는 많은 SNS나 페이스북, 트위터에서 권장하는 OG 이미지 크기와도 잘 맞아서, 공유했을 때 이미지가 잘 보이도록 도와줍니다.\n\n---\n\n### 메타 태그로 이미지 크기 설정하기 (Open Graph)\n\n```html\n\u003cmeta property=\"og:image:width\" content=\"1200\" /\u003e\n\u003cmeta property=\"og:image:height\" content=\"630\" /\u003e\n```\n\n위 메타 태그들은 HTML 문서 안에 넣어서 페이스북 같은 소셜 미디어가 이미지를 정확한 크기로 인식하게 도와줍니다. \n\n\u003e 만약 이 부분을 안 넣으면, 요즘 SNS 플랫폼들이 자동으로 이미지 크기를 추정할 수는 있지만, 정확한 크기를 명시해주면 훨씬 깔끔하게 미리보기가 나와요!\n\n---\n\n### 이미지 타입 명시 — contentType\n\n```js\nexport const contentType = 'image/png'\n \nexport default function Image() {}\n```\n\n`contentType`은 이미지 파일 형식을 알려주는 변수입니다. 보통 png, jpg, jpeg, gif 등이 있어요. 클라이언트나 서버가 이미지를 처리할 때 타입을 알아야해서 명시해두면 좋아요.\n\n---\n\n## 한 눈에 보는 정리 테이블\n\n| 속성             | 값           | 설명                                   |\n|------------------|--------------|--------------------------------------|\n| size.width       | 1200         | 이미지 가로 픽셀                      |\n| size.height      | 630          | 이미지 세로 픽셀                      |\n| og:image:width   | 1200         | Open Graph 메타 태그 내 이미지 가로 크기 |\n| og:image:height  | 630          | Open Graph 메타 태그 내 이미지 세로 크기 |\n| contentType      | 'image/png'  | 이미지 파일 포맷 (PNG/JPEG 등)       |\n\n---\n\n### 추가 팁!\n\n- **이미지 크기**: OG 이미지 권장 크기는 보통 `1200x630` 픽셀이 가장 흔한데, 비율이 약 1.91:1 이거든요. 이 비율을 맞추면 SNS 공유 시 이미지가 잘려서 보이는 일 없이 깔끔하게 노출됩니다.\n\n- **Content-Type 중요성**: 서버에서 이미지 응답을 보낼 때도 이 MIME type을 정확하게 설정해주면, 클라이언트가 이미지를 올바르게 해석할 수 있습니다.\n\n- **Next.js 유저라면**: image 컴포넌트 내에 `width`, `height`를 고정해주면 레이아웃 shift 없이 좋은 퍼포먼스를 낼 수 있어요.\n\n---\n\n그럼 오늘 정리한 내용을 바탕으로 여러분이 만든 페이지가 소셜미디어에서 더 예쁘고 명확하게 보이길 바랄게요! 궁금한 점 있으면 댓글로 남겨주세요 :)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n\u003cmeta property=\"og:image:type\" content=\"image/png\" /\u003e\n```\n\n#### Route Segment Config (라우트 세그먼트 설정)\n\nopengraph-image와 twitter-image는 특별한 Route Handlers인데요, 이것들은 Pages나 Layouts에서 사용하는 것과 똑같은 라우트 세그먼트 설정 옵션들을 사용할 수 있어요.\n\n### 예시들\n\n---\n\n여기서 잠깐! \"Route Segment Config\"는 Next.js나 비슷한 프레임워크에서 사용할 때, 각 URL 경로나 페이지 구간(segment)에 설정을 적용하는 방법이에요. 그래서 og:image나 twitter-image 같은 메타정보를 동적으로 설정하고 싶을 때 활용하면 굉장히 유용하답니다.\n\n예를 들면, 특정 페이지에 맞춰서 og:image를 다르게 지정하고 싶을 때, 바로 이 설정을 이용해서 쉽게 처리할 수 있어요.\n\nMarkdown 형식으로 표기하면 아래와 같은 식으로 말이죠:\n\n| 설정 이름               | 설명                              | 예시 값         |\n|-----------------------|---------------------------------|---------------|\n| `content`             | 실제 메타 태그에 들어갈 값         | `image/png`    |\n| `property=\"og:image:type\"` | Open Graph 프로토콜에서 이미지 타입 정의 | `image/png`    |\n\n필요하면 직접 이미지 타입 외에 사이즈 정보나 용량 같은 추가 데이터도 넣을 수 있으니 참고하세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n#### 외부 데이터 사용하기\n\n이번 예제에서는 `params` 객체와 외부 데이터를 활용해서 이미지를 생성하는 방법을 보여드릴게요.\n\n\u003e 알아두면 좋은 점: 기본적으로 이 방식으로 생성된 이미지는 정적으로 최적화돼요. 필요에 따라 fetch 옵션이나 라우트 세그먼트 옵션을 조정해서 이 동작을 바꿀 수 있습니다.\n\n```js\nimport { ImageResponse } from 'next/og'\n \nexport const alt = 'About Acme'\nexport const size = {\n  width: 1200,\n  height: 630,\n}\nexport const contentType = 'image/png'\n \nexport default async function Image({ params }: { params: { slug: string } }) {\n  // params.slug 값에 따라 외부 API에서 포스트 데이터를 가져옵니다.\n  const post = await fetch(`https://.../posts/${params.slug}`).then((res) =\u003e\n    res.json()\n  )\n \n  return new ImageResponse(\n    (\n      \u003cdiv\n        style={{\n          fontSize: 48,\n          background: 'white',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      \u003e\n        {post.title}\n      \u003c/div\u003e\n    ),\n    {\n      ...size,\n    }\n  )\n}\n```\n\n---\n\n조금 더 풀어서 설명하면, 이 코드는 URL에서 전달받은 `slug` 값을 이용해 외부 API에서 해당 글(post) 정보를 불러와요. 그리고 그 글의 제목을 이미지 안에 크게 띄우는 거죠.\n\n여기서 `ImageResponse`는 Next.js의 Open Graph 이미지 생성 도구인데, 기본적으로 서버 사이드에서 실행되고 HTML 같은 JSX를 이미지로 렌더링해 줍니다. 그래서 동적으로 변하는 글 제목을 이미지에 넣을 수 있답니다.\n\n참고로 `fontSize`, `background` 같은 인라인 스타일을 `style` 객체 안에 제대로 넣어줘야 하고, `width`, `height` 등 여러 스타일을 조합해 원하는 레이아웃으로 만들 수 있어요.\n\n---\n\n추가 팁: 외부 데이터를 불러올 때 에러 핸들링을 꼭 해주는 게 좋아요. 예를 들어 API가 응답하지 않거나 데이터가 없을 경우를 대비해 기본값을 넣거나, 사용자에게 알림을 줄 수 있죠. 그래야 이미지 생성이 실패하지 않고 원활히 처리됩니다 :)\n\n그리고 만약 이미지가 너무 복잡해지면, CSS 스타일을 따로 작성하거나 React 컴포넌트로 분리해서 관리하는 것도 좋은 방법이에요. 이렇게 하면 가독성도 좋아지고 유지보수도 쉬워진답니다!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n#### Node.js 런타임에서 로컬 자산 사용하기\n\n이번 예제에서는 Node.js 런타임을 이용해 로컬 파일 시스템에서 이미지를 읽어오고, 그 이미지를 `img` 태그의 `src` 속성에 `ArrayBuffer` 형태로 전달하는 방법을 보여드릴게요. 여기서 중요한 점은, 로컬 자산(이미지 파일 등)은 프로젝트 최상위 경로(root)를 기준으로 두어야 한다는 거예요. 예제 소스 파일이 어디에 있든 상관없답니다.\n\n아래 코드를 보면 `readFile`로 이미지를 불러오고, `Uint8Array.from`을 이용해 `ArrayBuffer`로 변환하는 과정이 보이죠? 이렇게 하면 Next.js의 `ImageResponse`에 이미지를 전달할 수 있어요.\n\n```js\nimport { ImageResponse } from 'next/og'\nimport { join } from 'node:path'\nimport { readFile } from 'node:fs/promises'\n \nexport default async function Image() {\n  const logoData = await readFile(join(process.cwd(), 'logo.png'))\n  const logoSrc = Uint8Array.from(logoData).buffer\n \n  return new ImageResponse(\n    (\n      \u003cdiv\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      \u003e\n        \u003cimg src={logoSrc} height=\"100\" /\u003e\n      \u003c/div\u003e\n    )\n  )\n}\n```\n\n---\n\n### 여기서 조금 더 팁!\n\n- `process.cwd()`는 현재 Node.js 실행 경로(보통 프로젝트 루트)를 반환해요. 때문에 로컬 자산은 항상 프로젝트 루트 기준으로 경로를 잡는 게 좋아요.\n\n- `ArrayBuffer` 형태로 변환하는 이유는, 로컬 이미지 데이터를 바이너리 형태로 직접 다루면서 Next.js가 이미지를 처리할 수 있게 하기 위함입니다.\n\n- 만약 이미지를 직접 HTML의 `img` 태그에서 사용하고 싶으면, `data URL`로 변환하는 방법도 있지만 이번 경우처럼 바이너리 데이터를 직접 사용하는 게 효율적일 수 있어요.\n\n- 스타일링할 때 `style` 객체를 작성할 때는 반드시 중괄호(`{}`) 두 번 써서 JSX 객체 형태로 넣어야 하는 거, 잊지 마세요!\n\n이렇게 하면 Next.js와 Node.js 런타임을 활용해 로컬 이미지를 자유롭게 서버사이드에서 렌더링해볼 수 있답니다. 앞으로 이미지 처리 함께 파헤쳐봐요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n| Version  | Changes                                  |\n|----------|------------------------------------------|\n| `v13.3.0` | `opengraph-image`와 `twitter-image` 기능 추가됨 |\n\n이번에 `v13.3.0` 버전에서는 Open Graph 이미지와 트위터 이미지 기능이 새롭게 도입되었어요. 이 기능들은 주로 소셜 미디어에서 공유할 때 미리보기 이미지로 사용되는데, 덕분에 내 웹페이지가 좀 더 멋지고 눈에 띄게 보이도록 해줘요. 개인 블로그나 프로젝트 소개 페이지를 운영 중이라면 꼭 활용해보는 걸 추천합니다! 혹시 더 자세한 설정 방법이나 활용 팁이 궁금하면 댓글로 남겨주세요. 함께 공부해봐요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":25},{"title":"Nextjs15에서 manifest.json 설정하는 방법","description":"","date":"2025-04-22 02:50","slug":"2025-04-22-manifestjson","content":"\n\n# manifest.json이란?\n\n웹 앱을 만들 때 'manifest.json' 또는 'manifest.webmanifest' 파일을 루트 디렉토리에 넣어주는 게 좋아요. 이 파일은 웹 앱이 어떻게 동작하는지, 어떤 이름을 가졌는지, 아이콘은 무엇인지 등 브라우저가 알아야 할 정보를 담고 있답니다. 쉽게 말해, 내 웹 앱의 소개서를 만들어서 브라우저에게 알려주는 역할이에요.\n\n## 고정된(static) manifest 파일 예시\n\n아래는 간단한 manifest.json 예시입니다. 주로 이런 형식으로 만들어서 프로젝트 루트에 넣어주면 되죠.\n\n```json\n{\n  \"name\": \"My Next.js Application\",\n  \"short_name\": \"Next.js App\",\n  \"description\": \"An application built with Next.js\",\n  \"start_url\": \"/\"\n  // 기타 설정들...\n}\n```\n\n여기서 주요 속성들을 짚어볼게요.\n\n| 속성명       | 설명                                             |\n|--------------|--------------------------------------------------|\n| name         | 웹 앱의 전체 이름, 기기나 설치 시 표시됨         |\n| short_name   | 이름 대신 사용할 짧은 이름, 아이콘 밑 등에서 표시 |\n| description  | 앱에 대한 간단한 설명                             |\n| start_url    | 앱을 실행할 때 열릴 기본 URL                      |\n\n---\n\n### manifest.json을 왜 넣어야 할까?\n\n* **PWA 지원**: Progressive Web App을 지원하려면 필수! 홈 화면에 아이콘을 추가하거나 오프라인 모드 같은 기능을 쓸 때 manifest가 필요해요.\n\n* **탭 이름 및 아이콘 설정**: 브라우저 탭이나 북마크에 나타나는 이름과 아이콘을 설정할 수 있어요.\n\n* **앱처럼 보이게 하기**: 풀스크린 모드, 방향 고정 등 다양한 옵션도 manifest에서 설정 가능하니 더 앱다운 느낌을 줄 수 있죠.\n\n---\n\n### 참고! manifest.json에 자주 쓰이는 주요 옵션들\n\n| 속성명          | 설명                                                          |\n|-----------------|---------------------------------------------------------------|\n| icons           | 앱 아이콘 목록, 크기별 이미지를 배열로 넣음                     |\n| display         | 앱이 실행될 때 UI 모드 (예: standalone, fullscreen, minimal-ui) |\n| background_color| 앱 시작화면 배경색                                           |\n| theme_color     | 브라우저 툴바 색상 등, 테마 컬러                               |\n| scope           | 앱의 유효 범위 URL, 이 범위 내에서만 앱으로 인식됨             |\n\n---\n\nmanifest.json 설정만 잘해줘도 사용자 경험이 크게 향상되니, Next.js 같은 프레임워크에서 PWA를 고민한다면 꼭 챙겨보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 매니페스트 파일 생성하기\n\n이번에는 `manifest.js` 또는 `manifest.ts` 파일을 만들어서 `Manifest` 객체를 반환하는 방법을 알려드릴게요.\n\n\u003e 참고로 `manifest.js`는 Next.js의 특별한 Route Handler 중 하나예요. 기본적으로 캐시가 되지만, 만약 동적 API나 동적 설정 옵션을 사용하면 캐시되지 않아요.\n\n```js\nimport type { MetadataRoute } from 'next'\n \nexport default function manifest(): MetadataRoute.Manifest {\n  return {\n    name: 'Next.js App',\n    short_name: 'Next.js App',\n    description: 'Next.js App',\n    start_url: '/',\n    display: 'standalone',\n    background_color: '#fff',\n    theme_color: '#fff',\n    icons: [\n      {\n        src: '/favicon.ico',\n        sizes: 'any',\n        type: 'image/x-icon',\n      },\n    ],\n  }\n}\n```\n\n### 더 알아두면 좋은 팁!\n- `start_url`은 사용자가 앱을 실행했을 때 기본으로 열리는 경로를 설정하는 거예요. 보통 루트(`/`)로 지정하지만 필요에 따라 다르게 할 수 있어요.\n- `display` 옵션에는 `'standalone'` 외에도 `'fullscreen'`, `'minimal-ui'`, `'browser'` 등이 있어요. 각 옵션마다 앱을 어떻게 보여줄지 달라지니 원하는 사용자 경험에 맞게 선택하세요.\n- `icons` 배열에는 여러 크기의 아이콘을 넣어두는 게 좋아요. 그래야 다양한 기기와 해상도에서 깔끔하게 앱 아이콘이 보여지거든요.\n\n덤으로 매니페스트 파일은 PWA(Progressive Web App)를 만들 때 꼭 필요한 파일이니, 만약 여러분이 웹 앱을 좀 더 앱처럼 보이고 싶다면 꼭 만들어 보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### Manifest Object\n\nManifest Object는 웹 표준이 새로워짐에 따라 업데이트될 수 있는 다양한 옵션들을 담고 있는 객체예요. 최신 옵션들에 대해 자세히 알고 싶다면, TypeScript를 사용 중이라면 코드 에디터 안에서 `MetadataRoute.Manifest` 타입을 참고하는 게 가장 확실하고요. 그렇지 않으면 [MDN 문서](https://developer.mozilla.org/en-US/docs/Web/Manifest)를 보는 것도 좋은 방법이에요.\n\n참고로, Manifest Object는 주로 웹 앱이 어떻게 보이고 동작할지를 정의하는데 쓰여서, 푸시 알림, 아이콘, 시작 URL, 테마 컬러 같은 설정들을 포함하죠. 요즘에는 PWA(Progressive Web App)를 만들 때 꼭 필요한 요소 중 하나랍니다. 그래서 웹앱 개발자라면 한 번쯤 꼼꼼히 살펴볼 만한 부분이에요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":4},{"title":"nextjs 15에서 meta data 사용하는 방법","description":"","date":"2025-04-22 02:48","slug":"2025-04-22-MetadataFilesAPIReference","content":"\n\n# 메타데이터 파일 API 가이드\n\n이번 글에서는 메타데이터 파일에 관한 규칙과 사용법에 대해 다뤄볼게요. Next.js에선 \"파일 기반 메타데이터\"를 사용해서 각 경로(route)별로 메타 정보를 관리할 수 있어요.\n\n기본 아이디어는 특별한 메타데이터 파일들을 경로 폴더 안에 넣는 건데요, 크게 두 가지 방식으로 만들 수 있어요.\n\n- 정적 파일: 예를 들어 `opengraph-image.jpg` 같은 이미지 파일을 그대로 넣는 경우\n- 동적 파일: 예를 들어 `opengraph-image.js` 같이 코드를 실행해서 파일을 생성하는 경우\n\n파일을 이렇게 정의하면 Next.js가 알아서 이 파일들을 서빙해주고, 프로덕션 환경에선 캐싱을 위해 파일명에 해시 값을 붙여 관리해줘요. 그리고 페이지의 `\u003chead\u003e` 태그에 이 메타데이터에 맞게 URL, 파일 타입, 이미지 크기 같은 정보들을 자동으로 업데이트해줍니다.\n\n---\n\n이걸 이용하면 여러분이 직접 `\u003cmeta\u003e` 태그나 `\u003clink\u003e` 태그를 일일이 관리하는 수고를 줄일 수 있어요. 특히 SEO 최적화나 소셜 미디어 같은 외부 서비스에 정확한 정보를 보여줘야 할 때 매우 유용하답니다. \n\n그리고 동적 파일이 지원된다는 건, 상황에 따라 이미지나 메타 정보를 프로그래밍적으로 생성할 수 있다는 뜻이에요. 예를 들어 사용자 맞춤형 오픈그래프 이미지 만들기 같은 작업도 할 수 있겠죠.\n\n다음에는 실제 예시를 통해 어떻게 파일을 만들고 구성하는지 구체적으로 살펴볼게요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003e 알아두면 좋은 팁:\n특별한 라우트 핸들러들 — 예를 들어 sitemap.ts, opengraph-image.tsx, icon.tsx 같은 메타데이터 파일들은 기본적으로 캐싱이 됩니다.  \nmiddleware.ts와 함께 사용할 때는, 메타데이터 파일들이 캐싱 문제로 꼬이지 않도록 matcher 설정에서 이 파일들을 제외해 주는 게 좋아요.\n\n사실 이런 메타데이터 파일들은 자주 변경되지 않기 때문에 캐싱하는 게 성능 측면에서 유리하지만, 만약 미들웨어에서 특정 로직으로 캐싱을 우회해야 한다면 꼭 matcher를 잘 설정해 주세요. 그러면 불필요한 리퀘스트 차단이나 잘못된 데이터 제공 문제를 예방할 수 있거든요.\n\n혹시 middleware.ts를 처음 사용하신다면, matcher 옵션에 대해 간단히 설명하자면, 이 옵션을 통해 미들웨어가 적용될 URL 패턴을 정할 수 있는데, 여기서 제외 패턴을 설정하면 특정 파일이나 경로는 미들웨어의 적용 대상에서 빠집니다. 아주 유용하니 꼭 기억해두세요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":2},{"title":"2025년 Next.js 15에서 favicon, icon, apple-icon 쉽게 설정하는 방법","description":"","date":"2025-04-22 02:48","slug":"2025-04-22-faviconiconandapple-icon","content":"\n\n# favicon, icon, 그리고 apple-icon\n\n웹 애플리케이션이나 웹사이트를 만들 때, 한 번쯤 들어봤을 'favicon', 'icon', 'apple-icon'에 대해 이야기해볼게요. 이 파일들은 우리 앱이나 사이트에 아이콘을 설정할 수 있게 해주는데요. \n\n이 아이콘들은 웹 브라우저 탭, 스마트폰 홈 화면, 그리고 검색 엔진 결과에 표시되어 웹사이트의 정체성을 보여주고, 사용자 경험을 조금 더 풍부하게 만들어줘요.\n\n아이콘을 설정하는 방법에는 크게 두 가지가 있어요: \n\n(아래에서 각각의 방법과 구체적인 설정법도 함께 소개할게요.)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# Next.js에서 앱 아이콘 설정하기: 이미지 파일과 코드 이용법\n\n안녕하세요! 오늘은 Next.js 프로젝트에서 앱 아이콘을 어떻게 설정하는지, 특히 이미지 파일이나 코드를 사용하는 방법에 대해 다뤄볼게요. 아이콘은 웹사이트나 앱을 한눈에 알아볼 수 있게 해주니까 정말 중요하죠. 자, 그럼 시작해볼까요?\n\n---\n\n## 1. 이미지 파일 사용하기 (.ico, .jpg, .png)\n\n### 기본 개념\nNext.js에서는 favicon, icon, 또는 apple-icon 이미지 파일을 `/app` 디렉터리 안에 넣어서 앱 아이콘을 설정할 수 있어요. 여기서 중요한 점은 favicon 이미지 파일은 `/app` 폴더의 최상위에 위치해야 한다는 점이에요.\n\n예를 들어, 이런 형식으로 위치시키면 돼요:\n\n\n/app/favicon.ico\n/app/apple-icon.png\n\n\n### 어떻게 작동하나요?\nNext.js가 빌드하거나 실행할 때, 이 파일들을 자동으로 감지해서 `\u003chead\u003e` 태그 안에 적절한 `\u003clink\u003e` 태그를 넣어줘요. 덕분에 우리가 하나하나 수동으로 태그를 추가하지 않아도 돼서 정말 편하답니다.\n\n### 주의할 점\n- favicon은 보통 `.ico` 형식을 많이 쓰지만, 요즘은 크기가 크고 투명한 PNG 파일도 흔하게 사용됩니다.\n- iOS 기기용 애플 아이콘(apple-touch-icon)도 추가해주면 좋죠.\n- `/app` 최상위에 위치하지 않으면 자동 인식이 안 되니 꼭 위치를 확인하세요!\n\n---\n\n## 2. 코드로 아이콘 생성하기 (.js, .ts, .tsx)\n\n### 이미지 대신 코드로 아이콘을 만들고 싶다면?\n\nNext.js나 React에서는 SVG를 컴포넌트로 만들어서 아이콘을 직접 렌더링할 수도 있어요. 예를 들면, `.tsx` 파일 안에 SVG 코드를 넣고, 필요할 때마다 해당 아이콘 컴포넌트를 호출하는 방식이죠.\n\n이 방법의 장점은:\n\n- 아이콘 크기, 색상, 애니메이션 등 커스터마이즈가 자유롭다\n- 별도의 이미지 파일 추가 없이 관리가 간편하다\n- 타입스크립트와도 잘 호환된다\n\n### 간단한 예시\n\n```tsx\nimport React from 'react';\n\nconst MyIcon = () =\u003e (\n  \u003csvg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\u003e\n    \u003ccircle cx=\"16\" cy=\"16\" r=\"16\" fill=\"#4CAF50\" /\u003e\n    \u003cpath d=\"M16 8L24 24H8L16 8Z\" fill=\"white\" /\u003e\n  \u003c/svg\u003e\n);\n\nexport default MyIcon;\n```\n\n이렇게 만든 아이콘을 페이지나 컴포넌트에서 불러와서 쓸 수 있어요.\n\n---\n\n## 요약 비교 테이블\n\n| 방법               | 장점                                    | 단점                               | 사용 추천 상황                      |\n|--------------------|-----------------------------------------|----------------------------------|----------------------------------|\n| 이미지 파일 (.ico, .png) | 자동으로 `\u003chead\u003e`에 태그 추가, 간편              | 위치 제약 있음, 커스터마이징 불가     | 기본적인 favicon 설정 시           |\n| 코드 생성 (.js, .tsx)     | 커스터마이징 자유, 타입 안정성, 애니메이션 가능 | `\u003chead\u003e`에 자동 추가 안됨, 직접 추가 필요 | 커스텀 아이콘 UI 컴포넌트 만들 때  |\n\n---\n\n## 팁 한마디!\n\nfavicon은 단지 웹사이트 탭에 표시되는 것 뿐 아니라, 모바일 홈 화면 바로가기 아이콘, 웹 애플리케이션 아이콘 등 다양하게 사용돼요. 그러니 퀄리티 좋은 여러 크기 아이콘들을 준비해서 사용하는 게 좋아요. 추가로, [favicon.io](https://favicon.io/) 같은 온라인 툴을 통해 손쉽게 favicon을 생성하고 변환할 수도 있답니다.\n\n---\n\nNext.js 프로젝트에 맞는 아이콘 설정 방법, 이해하는 데 도움이 되었길 바라요! 궁금한 점 있으면 언제든지 댓글로 물어봐 주세요 :)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n아래는 favicon, icon, apple-icon 파일 관련 규칙을 정리한 표입니다. 공식 문서나 개발하면서 참고하기 딱 좋아요!\n\n| 파일 명명 규칙       | 지원하는 파일 타입                              | 유효한 위치          |\n|--------------------|-------------------------------------------|-------------------|\n| [favicon](#favicon)      | `.ico`                                    | `app/`            |\n| [icon](#icon)            | `.ico`, `.jpg`, `.jpeg`, `.png`, `.svg`  | `app/**/*`        |\n| [apple-icon](#apple-icon) | `.jpg`, `.jpeg`, `.png`                    | `app/**/*`        |\n\n### favicon\n\nfavicon은 웹 브라우저 탭에 표시되는 아주 작은 아이콘을 의미하죠. 여기서는 `favicon.ico` 파일을 루트 경로인 `/app` 폴더에 넣으면 됩니다.\n\n```js\n\u003clink rel=\"icon\" href=\"/favicon.ico\" sizes=\"any\" /\u003e\n```\n\n이렇게 하면 기본적으로 모든 크기에서 아이콘이 잘 보이게 돼요.\n\n---\n\n추가로 알려드리자면, 아이콘 파일들을 `app` 내부 어디에 넣어도 되는데(`app/**/*`), favicon은 꼭 루트(`app/`)에 놓아야 한다는 점 기억하세요. 그리고 애플 기기(iPhone, iPad 등)에서 홈 화면에 추가할 때 사용하는 `apple-icon`은 PNG, JPG 같은 이미지 포맷을 활용합니다.\n\n개발하면서 아이콘을 여러 가지 사이즈로 준비하면 다양한 환경에서 사용자 경험이 더 좋으니, 가능하면 다양한 크기로 아이콘을 만들어 두는 걸 추천해요. 예를 들어, 16x16, 32x32, 180x180 같은 크기를 만들어 놓으면 좋죠!\n\n필요한 경우 SVG 사용도 고려할 수 있는데, SVG는 벡터 기반이라 해상도에 상관없이 선명하게 표시된답니다. 하지만 모든 브라우저나 플랫폼에서 100% 지원하는 건 아니니까 favicon용으로는 `ico`가 여전히 표준이에요.\n\n참고로 React, Next.js 같은 프레임워크에서는 이 폴더 구조에 맞춰 아이콘 파일을 배치하고, 필요한 메타 태그나 링크를 `\u003chead\u003e`에 추가해주면 쉽게 적용할 수 있어요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### 아이콘 설정하기\n\n웹사이트에 아이콘을 추가하는 방법, 생각보다 간단해요! 보통 파비콘(favicon)이라고 부르는 아이콘은 `.ico`, `.jpg`, `.jpeg`, `.png`, `.svg` 같은 이미지 파일을 사용해요.\n\n기본적인 아이콘 추가 태그는 이렇게 생겼답니다:\n\n```js\n\u003clink\n  rel=\"icon\"\n  href=\"/icon?\u003cgenerated\u003e\"\n  type=\"image/\u003cgenerated\u003e\"\n  sizes=\"\u003cgenerated\u003e\"\n/\u003e\n```\n\n- `rel=\"icon\"`: 이 링크가 아이콘이라는 뜻이에요.\n- `href`: 실제 아이콘 파일 경로를 넣으면 되죠. `\u003cgenerated\u003e`는 파일명이나 쿼리 스트링으로 바꿔주세요.\n- `type`: 이미지 형식을 명시해줘요. 예를 들면, `image/png`, `image/svg+xml` 처럼요.\n- `sizes`: 아이콘 크기(px)를 말해주는데, 여러 크기를 지원하는게 좋습니다. 보통 `16x16`, `32x32` 등으로 설정해요.\n\n예를 들어, 사이트 루트에 `favicon.png`라는 파일을 쓴다면 이렇게 쓸 수 있어요:\n\n```html\n\u003clink rel=\"icon\" href=\"/favicon.png\" type=\"image/png\" sizes=\"32x32\" /\u003e\n```\n\n---\n\n### 애플 터치 아이콘 (apple-icon)\n\n아이폰이나 아이패드에서 홈 화면에 웹사이트를 추가할 때 뜨는 아이콘은 별도로 설정하는 게 좋아요. 이걸 \"애플 터치 아이콘\"이라고 불러요.\n\n```html\n\u003clink rel=\"apple-touch-icon\" href=\"/apple-icon.png\" sizes=\"180x180\" /\u003e\n```\n\n- `rel`: `apple-touch-icon`으로 설정하세요.\n- `href`: 아이콘 파일 경로.\n- `sizes`: 보통 `180x180` 크기를 많이 사용해요.\n\n애플 터치 아이콘을 설정해두면 iOS 기기에서 홈 화면에 북마크를 추가할 때 선명하고 예쁜 아이콘이 나타나서 사용자 경험이 훨씬 좋아진답니다!\n\n---\n\n### 추가 팁!\n\n1. **여러 사이즈 지원하기**  \n모든 기기에서 최적의 아이콘 품질을 위해 16x16, 32x32, 48x48, 180x180 크기의 아이콘을 준비해두면 좋아요.\n\n2. **SVG 아이콘 사용하기**  \n요즘 브라우저들은 SVG도 잘 지원하니, 벡터 형식인 SVG를 사용할 경우 화면 해상도에 관계없이 선명한 아이콘을 보여줄 수 있어요.\n\n3. **manifest.json과 함께 쓰기**  \nPWA(Progressive Web App)를 고려한다면, `manifest.json` 파일에도 아이콘 정보를 넣으면 앱 설치 시 아이콘이 제대로 보입니다.\n\n---\n\n아이콘 설정은 기본 중 기본이지만, 사용자가 웹사이트를 더 오래 기억하고 편리하게 하도록 만드는 데 큰 역할을 하니 꼭 신경 써보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n애플 터치 아이콘(apple-touch-icon) 설정하는 법에 대해 쉽게 알려드릴게요. iOS 기기에서 홈 화면에 웹사이트를 추가할 때 이 아이콘이 보여지는데요, 생각보다 간단해요!\n\n아래 예시처럼 `\u003clink\u003e` 태그를 쓰시면 되는데, 이미지 파일은 보통 jpg, jpeg, png 형식 중 한 가지로 준비하시면 돼요.\n\n```html\n\u003clink\n  rel=\"apple-touch-icon\"\n  href=\"/apple-icon-180x180.png\"\n  type=\"image/png\"\n  sizes=\"180x180\"\n/\u003e\n```\n\n여기서 각각의 의미를 한번 살펴볼게요.\n\n| 속성(rel)             | 역할                                |\n|-------------------|-----------------------------------|\n| `rel=\"apple-touch-icon\"` | 이 링크가 애플 터치 아이콘임을 명시            |\n| `href`               | 아이콘 이미지 경로 (보통 루트 디렉터리에 위치)         |\n| `type`               | 이미지 타입 (jpg, png 등)               |\n| `sizes`              | 아이콘 크기(px 단위, 가로x세로)               |\n\n### 여러 개 아이콘 등록하기\n\n화면 크기에 따라 다르게 적용되도록 여러 크기의 아이콘을 등록할 수도 있어요. 이럴 때는 파일 이름에 숫자를 붙여 차례로 관리하시면 됩니다.\n\n예를 들어,\n\n- apple-icon-120x120.png  \n- apple-icon-152x152.png  \n- apple-icon-180x180.png  \n\n처럼요.\n\n브라우저가 필요한 아이콘 크기를 판단해 알맞은 파일을 자동으로 선택합니다.\n\n### 추가 팁!\n\n- 아이콘 파일은 프로젝트의 루트(/) 혹은 앱의 root segment에 있어야 적용돼요.  \n- 간혹 favicon과 apple-touch-icon을 혼동하는 경우 있는데, 둘은 기술적 목적과 사용하는 위치가 다릅니다. favicon은 브라우저 탭, apple-touch-icon은 iOS 홈 화면이죠.  \n- 요즘은 `.svg` 아이콘을 쓰기도 하는데요, 이 경우 `sizes=\"any\"`를 지정해서 아이콘 크기를 제한하지 않는 식으로 만들어 줍니다.  \n- 아이콘 이미지는 정사각형(가로, 세로가 같은)으로 만드는 게 좋아요. 그래야 크기가 바뀌어도 깨지거나 왜곡되지 않습니다.\n\n### 자동으로 아이콘 생성하는 방법 (.js, .ts, .tsx)\n\n아이콘 이미지 관리를 직접 하기 귀찮으면, 아래처럼 코드로 아이콘을 생성하고 설정 파일에서 자동으로 등록하는 방법도 있어요.\n\n```js\nimport { generateAppleTouchIcons } from 'your-icon-generator-library';\n\ngenerateAppleTouchIcons({\n  src: 'logo.png',\n  outputDir: '/public/icons',\n  sizes: [120, 152, 180], // 생성할 아이콘 크기들\n});\n```\n\n이런 방식은 프로젝트 빌드 과정에 포함시키면 최신 로고를 기준으로 자동으로 아이콘 이미지를 만들어줘서 관리하기 훨씬 편합니다!\n\n---\n\n이제 여러분도 iOS 홈 화면에 예쁜 아이콘을 쉽게 추가할 수 있겠죠? 😊 아이콘용 이미지는 180x180px 정도로 준비하면 가장 무난하니 참고하세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이미지 파일을 직접 사용하는 것 외에도, 코드를 통해 아이콘을 프로그래밍 방식으로 생성할 수 있어요.\n\n예를 들어, `icon`이나 `apple-icon`이라는 라우트를 만들어서 기본 내보내기(default export)로 함수를 작성하면 앱 아이콘을 동적으로 만들 수 있답니다.\n\n| 파일명 컨벤션 | 지원 파일 타입               |\n|--------------|---------------------------|\n| `icon`       | `.js`, `.ts`, `.tsx`      |\n| `apple-icon` | `.js`, `.ts`, `.tsx`      |\n\n가장 간단한 아이콘 생성 방법은 Next.js의 `next/og` 패키지에서 제공하는 `ImageResponse` API를 활용하는 거예요. 이 API를 사용하면 서버 사이드에서 이미지(아이콘)를 동적으로 그려서 반환할 수 있죠.\n\n예를 들어, 다음과 같은 식으로 작성할 수 있어요:\n\n```ts\nimport { ImageResponse } from 'next/og';\n\nexport const runtime = 'edge';\n\nexport default function Icon() {\n  return new ImageResponse(\n    (\n      \u003cdiv\n        style={{\n          background: 'white',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 128,\n          fontWeight: 'bold',\n          color: '#0070f3',\n        }}\n      \u003e\n        🚀\n      \u003c/div\u003e\n    ),\n    {\n      width: 512,\n      height: 512,\n    }\n  );\n}\n```\n\n위 예시는 \"🚀\" 이모지를 활용해 512x512 크기의 아이콘 이미지를 만들어요. 이렇게 하면 별도의 이미지 파일 없이도 코드를 통해 나만의 아이콘을 동적으로 생성할 수 있답니다.\n\n추가로, `icon`과 `apple-icon` 라우트는 각각 일반 앱 아이콘과 iOS용 애플 아이콘을 생성할 때 활용해요. 필요에 따라 서로 다른 스타일이나 해상도로 아이콘을 만들어 줄 수도 있답니다.\n\n이렇게 아이콘을 코드로 생성하는 방법은 커스터마이징이 쉽고, 빌드할 때마다 최신 상태의 아이콘을 자동으로 만들어주기 때문에 꽤 유용해요! 한번 시도해보시길 추천드려요.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.js에서 Open Graph(og) 이미지나 아이콘을 생성하는 방법을 소개할게요! 이번에 살펴볼 코드는 32x32 크기의 PNG 아이콘을 동적으로 생성하는 예제입니다. 코드를 보면서 직접 어떤 짓을 하는지, 그리고 알아두면 좋은 팁도 같이 정리해볼게요.\n\n---\n\n## 동적 아이콘 생성 코드\n\n```jsx\nimport { ImageResponse } from 'next/og';\n\n// 이미지 메타데이터 (크기, 타입)\nexport const size = {\n  width: 32,\n  height: 32,\n};\nexport const contentType = 'image/png';\n\n// 이미지 생성 함수\nexport default function Icon() {\n  return new ImageResponse(\n    (\n      \u003cdiv\n        style={{\n          fontSize: 24,\n          background: 'black',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: 'white',\n        }}\n      \u003e\n        A\n      \u003c/div\u003e\n    ),\n    {\n      ...size, // 위에서 정의한 32x32 크기를 그대로 사용\n    }\n  );\n}\n```\n\n여기서 중요한 점은 `ImageResponse`라는 Next.js의 API를 이용해서 JSX 형태로 이미지를 만들어낸다는 거예요. 즉, 평소 웹에서 HTML/CSS를 쓰듯 그걸 그대로 이미지로 변환하는 느낌이죠!\n\n### key 포인트!\n\n- `fontSize`, `background`, `color` 등을 사용해서 화면 중앙에 대문자 'A'가 흰색으로 나타나도록 디자인했어요.\n- `size` 객체를 재사용해서 이미지 크기를 일관성 있게 지정했어요.\n- 이렇게 만든 이미지는 `image/png` 타입이기 때문에 아이콘이나 썸네일 등으로 활용 가능하죠.\n\n---\n\n## HTML에서 생성한 아이콘 사용하기\n\n```html\n\u003clink rel=\"icon\" href=\"/icon?\u003cgenerated\u003e\" type=\"image/png\" sizes=\"32x32\" /\u003e\n```\n\n위 태그는 만들어진 아이콘을 `favicon` 등으로 사용할 때 쓰는 근본적인 형태입니다. `?\u003cgenerated\u003e` 부분은 동적으로 생성된 이미지를 캐시 방지용 쿼리 스트링일 수도 있고, 실제 운영환경에 맞춰 적절하게 수정해 써야 합니다.\n\n---\n\n## 알아두면 좋은 점들\n\n| 구분           | 설명                                                                                   |\n| -------------- | -------------------------------------------------------------------------------------- |\n| 생성 시점       | 기본적으로 아이콘은 빌드 시점에 한번 정적으로 생성되고 캐시됩니다.                      |\n| 동적 데이터 사용 | 동적 API나 uncached 데이터를 이용하면 런타임에 매번 새로 생성할 수 있어요.             |\n| 여러 아이콘 생성 | 한 파일에서 `generateImageMetadata`라는 함수를 쓰면 여러 아이콘을 한번에 만들 수 있어요. |\n| favicon 제한    | `ImageResponse`로 favicon(대표 아이콘)은 직접 생성 불가. 대신 기본 favicon.ico 파일 사용하세요. |\n| 앱 아이콘 특성  | 앱 아이콘은 특수한 라우트 핸들러로 동적으로 생성되지만, 캐시는 기본값으로 적용됩니다.    |\n\n즉, 아이콘을 다루면서 ‘정적 생성’과 ‘동적 생성’ 방식 차이를 이해하는 게 중요해요. 그래야 빌드 속도와 최종 사용자 경험 사이 균형을 맞출 수 있답니다.\n\n---\n\n이번 포스트는 Next.js의 Open Graph 이미지 생성 기능을 통해 동적으로 아이콘을 만드는 방법을 소개했어요. Open Graph 이미지는 주로 SNS 공유 시 미리보기에 뜨는 이미지로 많이 쓰이지만, 이렇게 아이콘이나 프로필 이미지 생성에도 응용 가능하답니다.\n\n혹시 『더 멋진 아이콘 디자인』을 원한다면 SVG, Canvas API, 또는 외부 그래픽 파일을 활용하는 방법도 한번 시도해보세요. Next.js가 제공하는 이런 이미지 생성 기능은 입맛에 맞게 스타일링과 로직을 마음껏 변경할 수 있다는 점이 정말 매력적입니다.\n\n앞으로도 이런 실용적인 기능을 쉽고 재밌게 알려드릴게요. 즐겁게 개발하세요! 🚀\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n기본 내보내기 함수는 다음과 같은 props를 받습니다:\n\n#### params (옵션)\n\n루트 세그먼트부터 해당 아이콘 (`icon` 또는 `apple-icon`)이 위치한 세그먼트까지의 동적 라우트 파라미터들을 담고 있는 객체입니다.\n\n```js\nexport default function Icon({ params }: { params: { slug: string } }) {\n  // ...\n}\n```\n\n여기서 `params.slug`는 URL 경로에서 동적으로 변하는 부분을 나타내는데요, 예를 들어 `/posts/hello-world` 라는 경로가 있다면, slug는 `\"hello-world\"`가 됩니다. 이런 동적 파라미터를 이용하면 여러 페이지를 하나의 컴포넌트로 유연하게 처리할 수 있어서 편리해요.\n\n\u003e 참고로, Next.js 같은 프레임워크에서는 이런 동적 라우팅을 지원해서 SEO 최적화에도 용이하니 꼭 활용해보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n아래는 React 또는 Next.js 같은 환경에서 동적인 라우팅과 관련된 파일과 URL 경로, 그리고 params가 어떻게 매핑되는지를 정리한 표입니다.\n\n| Route                       | URL        | `params`                  |\n|-----------------------------|------------|---------------------------|\n| `app/shop/icon.js`           | `/shop`    | `undefined`               |\n| `app/shop/[slug]/icon.js`    | `/shop/1`  | `{ slug: '1' }`           |\n| `app/shop/[tag]/[item]/icon.js` | `/shop/1/2` | `{ tag: '1', item: '2' }` |\n\n### Returns\n\n기본으로 export되는 함수는 다음과 같은 타입 중 하나를 반환해야 합니다:\n\n- Blob\n- ArrayBuffer\n- TypedArray\n- DataView\n- ReadableStream\n- Response\n\n\u003e 참고로, `ImageResponse`가 이 반환 타입 요건을 만족합니다.\n\n---\n\n### 조금 더 쉽게 설명해볼게요!\n\n위 표는 Next.js나 비슷한 프레임워크에서 동적 라우팅을 구성할 때 파일 이름과 실제 URL 매칭, 그리고 params가 어떻게 넘어오는지를 보여주는 예시예요. 예를 들어 `app/shop/[slug]/icon.js` 파일은 `/shop/1` URL로 접속했을 때, `{ slug: '1' }`라는 파라미터를 받아서 그에 맞는 동작을 하게 됩니다.\n\n그리고 함수가 반환해야 하는 타입은 이미지나 스트림, 혹은 응답 객체 등 다양한 형태가 될 수 있어요. 특히 `ImageResponse`라는 타입이 있는데, 이건 Next.js에서 이미지를 동적으로 생성할 때 자주 사용하는 반환 타입입니다.\n\n만약 서버 사이드에서 이미지를 생성해서 클라이언트로 보내야 하는 상황이라면, `ImageResponse`를 반환하면 자동으로 올바른 이미지 응답이 만들어져서 편리하답니다!\n\n---\n\n### 참고로, 이런 동적 라우팅을 활용하면\n\n- URL 하나하나마다 다른 데이터를 보여주고 싶을 때\n- API 경로를 간편하게 관리하고 싶을 때\n- 여러 단계의 파라미터를 받아 처리해야 할 때\n\n굉장히 유용합니다. Next.js의 파일 기반 라우팅이 정말 강력한 이유 중 하나죠!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### Config exports\n\n아이콘의 메타데이터를 설정하고 싶을 때, 아이콘이나 애플 아이콘 경로에서 `size`와 `contentType` 변수를 내보내(export)서 설정할 수 있어요.\n\n| Option       | Type                                                                                             |\n|--------------|--------------------------------------------------------------------------------------------------|\n| `size`       | `{ width: number; height: number }` - 아이콘의 가로, 세로 크기를 직접 지정할 수 있어요.                        |\n| `contentType`| `string` - 이미지 MIME 타입을 지정합니다. 예를 들어 `image/png`, `image/svg+xml` 등이 있죠. [더 알아보기](https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/MIME_types#image_types) |\n\n#### size\n\n`size`는 아이콘의 너비(width)와 높이(height)를 숫자로 지정할 수 있는 속성입니다. 예를 들면:\n\n```js\nexport const size = { width: 64, height: 64 };\n```\n\n이렇게 지정해주면, 아이콘이 실제로 64x64 픽셀 크기로 인식돼서, 제대로 크기가 맞게 처리되죠.\n\n---\n\n추가로, `contentType`을 제대로 지정하는 것도 중요한데요. 아이콘 파일 형식이 무엇인지 정확히 알려줘야 웹 브라우저가 올바르게 이미지를 해석해요. 예를 들어 PNG 이미지는 `image/png`, SVG는 `image/svg+xml`과 같이 설정해 줍니다.\n\n이 자잘한 설정 덕분에 아이콘을 사용할 때 크기나 형식 문제로 발생하는 오류들을 방지할 수 있답니다. 만약 커스텀 아이콘을 직접 만들어서 쓰거나, 아이콘 라이브러리에서 가져온 파일을 사용할 때 꼭 확인해 보세요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n안녕하세요, 여러분! 오늘은 웹 아이콘을 다룰 때 자주 사용하는 몇 가지 코드 조각과 관련된 내용을 살펴보려고 해요. 특히, 리액트 컴포넌트에서 아이콘을 정의할 때와 HTML에서 파비콘(favicon)을 설정할 때 알아두면 좋은 부분들을 정리해볼게요.\n\n## 1. 아이콘 크기 설정\n\n먼저, 주어진 코드에서 `size`라는 객체를 보면 다음과 같아요:\n\n```js\nexport const size = { width: 32, height: 32 }\n```\n\n이렇게 크기를 명시해두면, 아이콘 컴포넌트 내부에서 이 사이즈 값을 활용해서 적절한 크기로 아이콘을 렌더링할 수 있습니다. 예를 들어, SVG 아이콘을 만들 때 `width`와 `height`를 이 값으로 넣어주면 유용하죠.\n\n```js\nexport default function Icon() {\n  return (\n    \u003csvg width={size.width} height={size.height} /* ... */\u003e\n      {/* SVG 내용 */}\n    \u003c/svg\u003e\n  )\n}\n```\n\n## 2. HTML에서 아이콘 링크 태그 설정\n\n아래 코드는 HTML 문서의 `\u003chead\u003e` 부분에 아이콘을 연결할 때 쓰는 링크 태그입니다.\n\n```js\n\u003clink rel=\"icon\" sizes=\"32x32\" /\u003e\n```\n\n여기서 `rel=\"icon\"`은 브라우저가 이 리소스를 사이트의 대표 아이콘으로 사용하도록 하는 역할을 해요. `sizes=\"32x32\"`는 아이콘의 크기를 명시하는 속성인데요, 실제로는 이미지 파일 경로(`href`)도 꼭 넣어줘야 아이콘이 제대로 인식될 수 있습니다.\n\n예를 들면 다음과 같이 작성하는 게 일반적입니다.\n\n```html\n\u003clink rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/favicon-32x32.png\" /\u003e\n```\n\n이렇게 하면 브라우저는 32x32 픽셀 크기의 PNG 형식 아이콘 파일을 파비콘으로 사용할 수 있게 되죠.\n\n## 3. 아이콘 MIME 타입 정의\n\n```js\nexport const contentType = 'image/png'\n\nexport default function Icon() {}\n```\n\n`contentType`은 이미지나 파일의 형식을 나타내는 MIME 타입인데, 아이콘 파일이 PNG 형식이라면 `'image/png'`로 설정하는 게 맞아요. 서버나 API에서 아이콘 데이터를 전송할 때, 또는 `\u003clink\u003e` 태그에 `type=\"image/png\"` 속성을 지정할 때 이 값이 필요합니다.\n\n---\n\n### 한 줄 정리\n\n| 항목          | 설명                                    | 예시                              |\n| ------------- | -------------------------------------- | -------------------------------- |\n| `size` 객체   | 아이콘 크기를 지정 (너비, 높이)         | `{ width: 32, height: 32 }`       |\n| `\u003clink rel\u003e`  | 파비콘 연결 태그, `href`와 함께 사용     | `\u003clink rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/favicon.png\" /\u003e` |\n| `contentType` | 아이콘 파일의 MIME 타입 지정             | `'image/png'`                    |\n\n---\n\n### 추가 팁!\n\n- 파비콘은 다양한 크기로 준비하는 게 좋아요. 모바일이나 고해상도 화면에서는 16x16, 32x32, 48x48, 96x96 등 여러 사이즈 중 적합한 걸 골라 사용하거든요.\n- SVG 아이콘을 사용할 경우 `type=\"image/svg+xml\"`로 지정하면 더 선명하고 유연한 아이콘 활용이 가능해요.\n- React에서 아이콘 컴포넌트를 만들 때는 크기, 색상 등을 props로 받아 커스터마이징할 수 있게 만드는 것도 좋은 방법입니다.\n\n아이콘 설정, 이제 막막하지 않죠? 앞으로도 유용한 웹 개발 팁들로 찾아올게요~! 😊\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n```js\n\u003clink rel=\"icon\" type=\"image/png\" /\u003e\n```\n\n#### Route Segment Config\n\nicon과 apple-icon은 특별한 Route Handlers로, Pages와 Layouts에서 사용하는 것과 동일한 라우트 세그먼트 구성 옵션을 사용할 수 있어요.\n\n## 버전 히스토리 (Version History)\n\n\n---\n\n위 내용은 HTML에서 파비콘(favicon)을 설정할 때 사용하는 `\u003clink\u003e` 태그의 예시입니다. 여기서 `rel=\"icon\"`은 브라우저 탭에 보이는 아이콘을 지정하죠. `type=\"image/png\"`는 아이콘 파일 타입이 PNG임을 알려주는 부분이에요.\n\n그리고 Next.js나 유사한 프레임워크에서 사용하는 라우트 세그먼트 설정에 관한 내용도 나와 있는데요. `icon`과 `apple-icon`은 일반적인 페이지나 레이아웃과 마찬가지로 설정 옵션을 쓸 수 있어서, 아이콘 관련 라우팅 처리를 쉽게 할 수 있다는 뜻입니다.\n\n---\n\n추가로, 웹사이트 파비콘을 설정할 때 단순히 `favicon.ico` 파일만 사용하는 시대는 점점 줄고 있어요. 요즘은 다양한 해상도와 기기별로 최적화된 여러 아이콘 파일들을 `\u003clink rel=\"icon\" /\u003e`, `\u003clink rel=\"apple-touch-icon\" /\u003e` 등으로 세밀하게 관리하는 추세예요. 이렇게 하면 모바일 기기나 다양한 플랫폼에서 더 예쁘고 선명한 아이콘을 보여줄 수 있습니다.\n\n만약 Next.js 13 이상 버전을 사용하고 있다면, 라우트 세그먼트를 이용해 아이콘이나 애플 아이콘 같은 리소스들을 별도로 관리하는 것도 좋습니다. 그러면 유지보수가 편하고, 특정 페이지별로 아이콘을 다르게 설정하는 것도 가능해져요.\n\n---\n\n참고로, 파비콘 설정과 관련해서 지원하는 이미지 포맷은 다음과 같은데요:\n\n| 이미지 포맷 | 설명                           |\n|-------------|------------------------------|\n| `.ico`      | 가장 전통적인 파비콘 포맷        |\n| `.png`      | 투명도 지원하는 현대적인 포맷    |\n| `.svg`      | 벡터 이미지로, 크기 조절 가능     |\n| `.gif`      | 움직이는 아이콘으로도 가능         |\n\n프로젝트 성격에 맞게 잘 선택해서 사용하세요. 위 표처럼 여러 포맷을 함께 제공하면, 다양한 디바이스와 브라우저에서 더 안정적으로 작동합니다.\n\n필요하면 다음 글에서 실제 프로젝트에 적용하는 예시도 공유할게요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n아래는 해당 내용을 Markdown 형식으로 바꾼 표입니다. \n\n| Version   | Changes                                    |\n|-----------|--------------------------------------------|\n| `v13.3.0` | `favicon` icon과 `apple-icon`이 새롭게 추가됨 |\n\n이 부분은 웹 개발할 때 자주 쓰이는 favicon과 apple-icon 관련 업데이트 소식인데요, favicon은 브라우저 탭에 보이는 작은 아이콘을 말하고, apple-icon은 아이폰이나 아이패드 등의 홈 화면에 웹앱을 추가했을 때 보여지는 아이콘이에요. 이렇게 지원을 추가하면 사용자가 더 깔끔하고 프로페셔널한 느낌을 받을 수 있답니다! 혹시 웹사이트에 이런 아이콘들을 넣고 싶다면, 각 플랫폼별 기본 사이즈와 포맷을 맞춰주는 것도 잊지 마세요~","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":21}],"page":"10","totalPageCount":50,"totalPageGroupCount":3,"lastPageGroup":20,"currentPageGroup":0},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"10"},"buildId":"olPs1cVezSGTqD7OaewDI","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>