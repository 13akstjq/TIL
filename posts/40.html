<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>TIL</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//posts/40" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="TIL" data-gatsby-head="true"/><meta property="og:title" content="TIL" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/TIL/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//posts/40" data-gatsby-head="true"/><meta name="twitter:title" content="TIL" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/7d7290728862aada.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/7d7290728862aada.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/873-eb138c3217d71553.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/posts/%5Bpage%5D-de1dc5579188f9be.js" defer=""></script><script src="/TIL/_next/static/M7pU9hOcx8u_ZIFMf95sd/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/M7pU9hOcx8u_ZIFMf95sd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="ì·¨ë¯¸ë¡œ ë§Œë“  íŒŒì´ì¬ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ I Coded Pit ì†Œê°œ " href="/TIL/post/2024-07-09-ICodedPitAVersionControlSysteminPythonforFun"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ì·¨ë¯¸ë¡œ ë§Œë“  íŒŒì´ì¬ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ I Coded Pit ì†Œê°œ " loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-ICodedPitAVersionControlSysteminPythonforFun_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ì·¨ë¯¸ë¡œ ë§Œë“  íŒŒì´ì¬ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ I Coded Pit ì†Œê°œ " loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">ì·¨ë¯¸ë¡œ ë§Œë“  íŒŒì´ì¬ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ I Coded Pit ì†Œê°œ </strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">17<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="TensorFlow Transform í”„ë¡œë•ì…˜ì—ì„œ ë§¤ë„ëŸ¬ìš´ ë°ì´í„° ì¤€ë¹„ë¥¼ ìœ„í•œ í•„ìˆ˜ ê°€ì´ë“œ" href="/TIL/post/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="TensorFlow Transform í”„ë¡œë•ì…˜ì—ì„œ ë§¤ë„ëŸ¬ìš´ ë°ì´í„° ì¤€ë¹„ë¥¼ ìœ„í•œ í•„ìˆ˜ ê°€ì´ë“œ" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="TensorFlow Transform í”„ë¡œë•ì…˜ì—ì„œ ë§¤ë„ëŸ¬ìš´ ë°ì´í„° ì¤€ë¹„ë¥¼ ìœ„í•œ í•„ìˆ˜ ê°€ì´ë“œ" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">TensorFlow Transform í”„ë¡œë•ì…˜ì—ì„œ ë§¤ë„ëŸ¬ìš´ ë°ì´í„° ì¤€ë¹„ë¥¼ ìœ„í•œ í•„ìˆ˜ ê°€ì´ë“œ</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">18<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ëª¨ë¸ ì„±ëŠ¥ ì‹œê°í™” Python ì½”ë“œë¡œ í˜¼ë™ í–‰ë ¬ ê·¸ë¦¬ëŠ” ë°©ë²• ê°€ì´ë“œ" href="/TIL/post/2024-07-09-VisualizingModelPerformanceAGuidetoPlottingConfusionMatricesinPythonCode"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ëª¨ë¸ ì„±ëŠ¥ ì‹œê°í™” Python ì½”ë“œë¡œ í˜¼ë™ í–‰ë ¬ ê·¸ë¦¬ëŠ” ë°©ë²• ê°€ì´ë“œ" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-VisualizingModelPerformanceAGuidetoPlottingConfusionMatricesinPythonCode_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ëª¨ë¸ ì„±ëŠ¥ ì‹œê°í™” Python ì½”ë“œë¡œ í˜¼ë™ í–‰ë ¬ ê·¸ë¦¬ëŠ” ë°©ë²• ê°€ì´ë“œ" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">ëª¨ë¸ ì„±ëŠ¥ ì‹œê°í™” Python ì½”ë“œë¡œ í˜¼ë™ í–‰ë ¬ ê·¸ë¦¬ëŠ” ë°©ë²• ê°€ì´ë“œ</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="PyBrokerë¥¼ ì‚¬ìš©í•œ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” ë°©ë²•" href="/TIL/post/2024-07-09-PortfolioOptimizationwithPyBroker"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="PyBrokerë¥¼ ì‚¬ìš©í•œ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-PortfolioOptimizationwithPyBroker_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="PyBrokerë¥¼ ì‚¬ìš©í•œ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">PyBrokerë¥¼ ì‚¬ìš©í•œ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">10<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="LangChain ì‹¬ì¸µ ë¶„ì„  Part 4 ìµœì‹  LLM ìŠ¤í„°ë”” ë‹¤ì´ì–´ë¦¬" href="/TIL/post/2024-07-09-LLMStudyDiaryComprehensiveReviewofLangChainPart4"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="LangChain ì‹¬ì¸µ ë¶„ì„  Part 4 ìµœì‹  LLM ìŠ¤í„°ë”” ë‹¤ì´ì–´ë¦¬" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-LLMStudyDiaryComprehensiveReviewofLangChainPart4_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="LangChain ì‹¬ì¸µ ë¶„ì„  Part 4 ìµœì‹  LLM ìŠ¤í„°ë”” ë‹¤ì´ì–´ë¦¬" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">LangChain ì‹¬ì¸µ ë¶„ì„  Part 4 ìµœì‹  LLM ìŠ¤í„°ë”” ë‹¤ì´ì–´ë¦¬</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">11<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•" href="/TIL/post/2024-07-09-Server-SentEventSSEinFastAPIApplications"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">9<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="1ì–µ í–‰ íŒŒì´ì¬ ì²˜ë¦¬ ë„ì „  10ë¶„ì—ì„œ 4ì´ˆë¡œ ì¤„ì´ëŠ” ë°©ë²•" href="/TIL/post/2024-07-09-PythonOneBillionRowChallengeFrom10Minutesto4Seconds"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="1ì–µ í–‰ íŒŒì´ì¬ ì²˜ë¦¬ ë„ì „  10ë¶„ì—ì„œ 4ì´ˆë¡œ ì¤„ì´ëŠ” ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-PythonOneBillionRowChallengeFrom10Minutesto4Seconds_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="1ì–µ í–‰ íŒŒì´ì¬ ì²˜ë¦¬ ë„ì „  10ë¶„ì—ì„œ 4ì´ˆë¡œ ì¤„ì´ëŠ” ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">1ì–µ í–‰ íŒŒì´ì¬ ì²˜ë¦¬ ë„ì „  10ë¶„ì—ì„œ 4ì´ˆë¡œ ì¤„ì´ëŠ” ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="êµ¬ë²„ì „ AWS Lambda ëŸ°íƒ€ì„ ìë™ ì—…ë°ì´íŠ¸ ë°©ë²•" href="/TIL/post/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="êµ¬ë²„ì „ AWS Lambda ëŸ°íƒ€ì„ ìë™ ì—…ë°ì´íŠ¸ ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="êµ¬ë²„ì „ AWS Lambda ëŸ°íƒ€ì„ ìë™ ì—…ë°ì´íŠ¸ ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">êµ¬ë²„ì „ AWS Lambda ëŸ°íƒ€ì„ ìë™ ì—…ë°ì´íŠ¸ ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">12<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="FastAPI ì‹¤ìŠµ ê°„ë‹¨í•œ í•  ì¼ ëª©ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸° ë°©ë²•" href="/TIL/post/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="FastAPI ì‹¤ìŠµ ê°„ë‹¨í•œ í•  ì¼ ëª©ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸° ë°©ë²•" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="FastAPI ì‹¤ìŠµ ê°„ë‹¨í•œ í•  ì¼ ëª©ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸° ë°©ë²•" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">FastAPI ì‹¤ìŠµ ê°„ë‹¨í•œ í•  ì¼ ëª©ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸° ë°©ë²•</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">10<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="ì˜¤í”ˆ ê³¼í•™ ì‹¤ìŠµ ë° ì¶œíŒì„ ìœ„í•œ í”Œë«í¼ LeapFROGS ì†Œê°œ" href="/TIL/post/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="ì˜¤í”ˆ ê³¼í•™ ì‹¤ìŠµ ë° ì¶œíŒì„ ìœ„í•œ í”Œë«í¼ LeapFROGS ì†Œê°œ" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/TIL/assets/img/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="ì˜¤í”ˆ ê³¼í•™ ì‹¤ìŠµ ë° ì¶œíŒì„ ìœ„í•œ í”Œë«í¼ LeapFROGS ì†Œê°œ" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><span class="writer">TIL</span></div><strong class="PostList_title__loLkl">ì˜¤í”ˆ ê³¼í•™ ì‹¤ìŠµ ë° ì¶œíŒì„ ìœ„í•œ í”Œë«í¼ LeapFROGS ì†Œê°œ</strong><div class="PostList_meta__VCFLX"><span class="date">Jul 9, 2024</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><button type="button" class="page_button -prev">&lt;</button><a class="link" href="/TIL/posts/41">41</a><a class="link" href="/TIL/posts/42">42</a><a class="link" href="/TIL/posts/43">43</a><a class="link" href="/TIL/posts/44">44</a><a class="link" href="/TIL/posts/45">45</a><a class="link" href="/TIL/posts/46">46</a><a class="link" href="/TIL/posts/47">47</a><a class="link" href="/TIL/posts/48">48</a><a class="link" href="/TIL/posts/49">49</a><a class="link" href="/TIL/posts/50">50</a></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"ì·¨ë¯¸ë¡œ ë§Œë“  íŒŒì´ì¬ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ I Coded Pit ì†Œê°œ ","description":"","date":"2024-07-09 14:31","slug":"2024-07-09-ICodedPitAVersionControlSysteminPythonforFun","content":"\n\u003cimg src=\"/TIL/assets/img/2024-07-09-ICodedPitAVersionControlSysteminPythonforFun_0.png\" /\u003e\n\nì•ˆë…•í•˜ì„¸ìš”! Gitì´ë¼ëŠ” ì‹ ë¹„í•œ ë„êµ¬ë¥¼ ëª¨ë“  ê°œë°œìê°€ ì§€ì¼œì™”ë‹¤ëŠ”ë°, ê·¸ ì‹¤ì œ ë™ì‘ ì›ë¦¬ê°€ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹ ê°€ìš”? ì €ë„ ê·¸ë¬ì–´ìš”. Sanket Singhì˜ \"I coded Git in 1.5 hours | Make your own Version Control System ğŸ˜\"ë¼ëŠ” YouTube ë¹„ë””ì˜¤ì—ì„œ ì˜ê°ì„ ë°›ì•„, ì¡°ê¸ˆì”© ì½”ë”©í•˜ëŠ” ëª¨í—˜ì„ ë– ë‚¬ì–´ìš”. íŒŒì´ì¬ìœ¼ë¡œ ì œê°€ ì§ì ‘ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”?\n\nì—¬ê¸° â›ï¸Pitì´ ë‚˜ì™”ìŠµë‹ˆë‹¤! ê·€ì—½ê³  ë†€ëë„ë¡ ê¸°ëŠ¥ì ì¸ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(VCS)ì´ì—ìš”. ì½”ë”©ì„ ì¦ê¸°ê³  ë„ì „í•´ë³´ê³  ì‹¶ë‹¤ëŠ” ì´ìœ ë¡œ ë§Œë“¤ì—ˆì£ . 'Pit'ì´ë¼ëŠ” ì´ë¦„ì€ ê¹Šê³  ì–´ë‘ìš´ êµ¬ë© ì—°ìƒì‹œí‚¬ ìˆ˜ ìˆê² ì§€ë§Œ, ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ì‹¤ VCSì˜ ë§¤ë ¥ì ì¸ ì„¸ê³„ë¥¼ íƒí—˜í•˜ëŠ” ë° ì§‘ì¤‘í•œ ê±°ì˜ˆìš”. ê²Œë‹¤ê°€, ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì´ˆê¸°í™”í•  ë•Œ \"ë‚œ Pitì„ íŒŒê³  ìˆì–´\"ë¼ê³  ë§í•˜ëŠ” ê±´ ì •ë§ ì¬ë¯¸ìˆëŠ” ì¼ì´ì—ìš”.\n\nPitì„ ì•Œì•„ë³´ê¸° ì „ì— Gitì„ ë¨¼ì € ì‚´í´ë³¼ê¹Œìš”? 2005ë…„ Linus Torvaldsê°€ ë§Œë“  Gitì€ ì†ŒìŠ¤ ì½”ë“œì˜ ë³€ê²½ ì‚¬í•­ì„ ì¶”ì í•˜ëŠ” ë¶„ì‚° ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ, ì—¬ëŸ¬ ê°œë°œìê°€ í˜‘ì—…í•  ìˆ˜ ìˆë„ë¡ í•˜ê³  ì‘ì—…ì„ ë®ì–´ì“°ì§€ ì•Šê²Œ í•©ë‹ˆë‹¤. ê°•ë ¥í•˜ê³  ìœ ì—°í•˜ë©° ì§„ì§€í•œ ì½”ë”© í™œë™ì„ ìœ„í•´ í•„ìˆ˜ì ì´ì—ìš”.\nì´ë¡ ì€ ë„˜ì–´ê°€ê³  Pitì´ ì™„ì„±ëœ í›„ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![2024-07-09-ICodedPitAVersionControlSysteminPythonforFun_1](/TIL/assets/img/2024-07-09-ICodedPitAVersionControlSysteminPythonforFun_1.png)\n\nì•ˆë…•í•˜ì„¸ìš”! ì´ ë‘ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœ ê¸°ì‚¬ì—ì„œ Pitì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. í™˜ê²½ì„ ì„¤ì •í•˜ê³  VCSì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¥¼ ë§Œë“œëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ì„œ ë³€ê²½ ë‚´ìš©ì„ ì»¤ë°‹í•˜ê³  ë¡œê·¸ë¥¼ í™•ì¸í•˜ëŠ” ê³ ê¸‰ ê¸°ëŠ¥ê¹Œì§€ ì‚´í´ë³¼ ê±°ì—ìš”. ê·¸ëŸ¬ë‹ˆ ë‹¹ì‹ ì˜ ì‚½(ì•„ë‹ˆ, í‚¤ë³´ë“œ!)ì„ ì¥ê³  í•¨ê»˜ íŒŒëŠ” ê²ƒì„ ì‹œì‘í•´ë´ìš”!\n\n# Pitì„ íŒŒë‹¤ â€” ë²„ì „ ì»¨íŠ¸ë¡¤ ì‹œìŠ¤í…œ ì„¤ì •í•˜ê¸°\n\nPitì€ ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ê¸°ë³¸ì ì¸ ë²„ì „ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ìƒˆ ì €ì¥ì†Œë¥¼ ì´ˆê¸°í™”í•˜ê³  íŒŒì¼ì„ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì¶”ê°€í•˜ë©° ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•˜ê³  ì»¤ë°‹ ë¡œê·¸ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì €ì¥ì†Œì˜ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í”„ë¡œì íŠ¸ êµ¬ì¡°\n\nêµ¬í˜„ ì„¸ë¶€ ì •ë³´ì— ëŒ€í•´ íŒŒí—¤ì¹˜ê¸° ì „ì— Pit í”„ë¡œì íŠ¸ì˜ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\nproject/\nâ”œâ”€â”€ .pit/                 # ë©”ì¸ ì €ì¥ì†Œ ë””ë ‰í† ë¦¬ (ìë™ ìƒì„±ë¨)\nâ”‚   â”œâ”€â”€ objects/          # ê°ì²´(íŒŒì¼) ìŠ¤ëƒ…ìƒ·ì„ ì €ì¥í•˜ëŠ” ë””ë ‰í† ë¦¬\nâ”‚   â”œâ”€â”€ HEAD              # í˜„ì¬ ì»¤ë°‹ì„ ì°¸ì¡°í•˜ëŠ” íŒŒì¼\nâ”‚   â”œâ”€â”€ index             # ìŠ¤í…Œì´ì§• ì˜ì—­(ìŠ¤í…Œì´ì§•ëœ íŒŒì¼ì˜ ëª©ë¡)ì„ ì €ì¥í•˜ëŠ” íŒŒì¼\nâ”œâ”€â”€ pit.py                # Pitì˜ ë©”ì¸ Python ìŠ¤í¬ë¦½íŠ¸\nâ”œâ”€â”€ pit.cmd               # ëª…ë ¹ ì²˜ë¦¬ê¸°\nâ”œâ”€â”€ ê¸°íƒ€ íŒŒì¼ë“¤           # í”„ë¡œì íŠ¸ì— ìˆëŠ” ê¸°íƒ€ íŒŒì¼ë“¤\n```\n\nPitì˜ í•µì‹¬ì€ Pit í´ë˜ìŠ¤ë¡œ, í•µì‹¬ ê¸°ëŠ¥ì„ ìº¡ìŠí™”í•˜ê³  Pythonì˜ pathlib ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ íŒŒì¼ ì‹œìŠ¤í…œê³¼ ìƒí˜¸ ì‘ìš©í•©ë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ í†µí•´ Pitì€ ì´ˆê¸°í™”ëœ ë””ë ‰í† ë¦¬(ì´ˆê¸°í™” ëª…ë ¹)ë¶€í„° ì»¤ë°‹ ìŠ¤ëƒ…ìƒ·ì„ ì €ì¥í•˜ëŠ” ì¼ ë“± ì €ì¥ì†Œ ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nimport os\nimport sys\nfrom pathlib import Path\nimport hashlib\nfrom datetime import datetime\nimport json\nfrom pprint import pp\n\nclass Pit:\n    def __init__(self, repo_path=\".\") -\u003e None:\n        self.repo_path = Path(repo_path, \".pit\")\n        self.objects_path = self.repo_path / \"objects\"\n        self.head_path = self.repo_path / \"HEAD\"\n        self.index_path = self.repo_path / \"index\"\n```\n\n# Implementing init Command\n\npit init\n\n## Project Initialization with Pit\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nPitì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìƒˆ ì €ì¥ì†Œë¥¼ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì€ í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ë²„ì „ ê´€ë¦¬ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ í•„ìš”í•œ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ì™€ íŒŒì¼ì„ ì„¤ì •í•©ë‹ˆë‹¤.\n\n## ì €ì¥ì†Œ êµ¬ì¡° ì„¤ì •\n\níŒŒì´ì¬ì˜ Pit í´ë˜ìŠ¤ëŠ” start ë©”ì„œë“œë¥¼ í†µí•´ ì´ ì´ˆê¸°í™”ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë‹¤ìŒì€ í¬í•¨ëœ ë‹¨ê³„ë¥¼ ì‚´í´ë´…ì‹œë‹¤:\n\nì €ì¥ì†Œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸: start ë©”ì„œë“œëŠ” ë¨¼ì € ì§€ì •ëœ ë˜ëŠ” í˜„ì¬ ë””ë ‰í† ë¦¬(repo_path)ì— .pit ë””ë ‰í„°ë¦¬ê°€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ ì €ì¥ì†Œê°€ ì´ë¯¸ ì¡´ì¬í•œë‹¤ëŠ” ë©”ì‹œì§€ë¥¼ ì¸ì‡„í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\ndef start(self):\n    if self.repo_path.exists():\n        print(\"â›ï¸  ì´ë¯¸ ì‘ì—…ê³µê°„ì´ ì¡´ì¬í•©ë‹ˆë‹¤!\")\n        sys.exit(1)\n```\n\nì €ì¥ì†Œ ë””ë ‰í† ë¦¬ ìƒì„±: ì €ì¥ì†Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°, Pitì€ ê²½ë¡œë¥¼ ì´ìš©í•˜ì—¬ ì£¼ìš” .pit ë””ë ‰í† ë¦¬ ë° í•˜ìœ„ ë””ë ‰í† ë¦¬ (objects, HEAD, index)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ objects ë””ë ‰í† ë¦¬ëŠ” íŒŒì¼ ë‚´ìš©ì˜ ìŠ¤ëƒ…ìƒ·ì„ ë³´ê´€í•˜ê³ , HEAD íŒŒì¼ì€ í˜„ì¬ ì»¤ë°‹ì„ ì¶”ì í•˜ë©°, index íŒŒì¼ì€ ë³€ê²½ ì‚¬í•­ì„ ìœ„í•œ ìŠ¤í…Œì´ì§• ì˜ì—­ ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n```python\ndef start(self):\n    # ...\n    self.repo_path.mkdir(exist_ok=True)\n    self.objects_path.mkdir(exist_ok=True)\n    self.head_path.touch(exist_ok=True)\n    if not self.index_path.exists():\n        with self.index_path.open(\"w\") as index_file:\n            index_file.write(\"[]\")\n    print(\"â›ï¸  í• ì¼ë“¤ì„ ì²˜ë¦¬ì¤‘...\")\n```\n\ninit ëª…ë ¹ì–´ë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì¨, Pitì€ í”„ë¡œì íŠ¸ ì´ë ¥ê³¼ ë³€ê²½ ì‚¬í•­ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê¸°ì´ˆë¥¼ ë§ˆë ¨í•©ë‹ˆë‹¤. ì´ ì²´ê³„ì ì¸ ì ‘ê·¼ì€ ì—…ë¬´ ë¶„ë¦¬ë¥¼ ëª…í™•íˆ í•˜ê³ , íŒŒì¼ ì¶”ê°€ (add), ë³€ê²½ ë‚´ìš© ì»¤ë°‹ (commit), ì»¤ë°‹ ë¡œê·¸ ë³´ê¸° (log)ì™€ ê°™ì€ í›„ì† ì‘ì—…ì„ ìœ„í•´ ì €ì¥ì†Œë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# add ëª…ë ¹ì–´ êµ¬í˜„\n\npit add `íŒŒì¼ëª…`\n\n## Pitì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í…Œì´ì§• ë³€ê²½í•˜ê¸°\n\në¦¬í¬ì§€í† ë¦¬ë¥¼ ì´ˆê¸°í™”í•œ í›„ì— Pitì„ ì‚¬ìš©í•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ëŠ” ë³€ê²½ ì‚¬í•­ì„ ìŠ¤í…Œì´ì§•í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. íŠ¹íˆ, íŒŒì¼ì„ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” í”„ë¡œì íŠ¸ íŒŒì¼ì˜ ë²„ì „ì„ ì œì–´í•˜ê³  ì¡°ì§ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ìˆ˜ì • ì‚¬í•­ì„ ë‹¤ìŒ ì»¤ë°‹ì„ ìœ„í•´ ì¤€ë¹„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ìŠ¤í…Œì´ì§• ì˜ì—­ì— íŒŒì¼ ì¶”ê°€í•˜ê¸°\n\nPit í´ë˜ìŠ¤ì˜ add ë©”ì„œë“œëŠ” ì´ ê³¼ì •ì„ ìš©ì´í•˜ê²Œ ë„ì™€ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\níŒŒì¼ ë°ì´í„° ì½ê¸°: add ë©”ì„œë“œëŠ” read_file ë„ìš°ë¯¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ file_pathë¡œ ì§€ì •ëœ íŒŒì¼ì˜ ë‚´ìš©ì„ ì½ì–´ì˜µë‹ˆë‹¤.\n\n```js\ndef add(self, file_path):\n    file_data = self.read_file(file_path)\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\níŒŒì¼ ë‚´ìš© í•´ì‹±: ë‹¤ìŒìœ¼ë¡œ, Pitì€ íŒŒì¼ ë‚´ìš©ì˜ SHA-1 í•´ì‹œë¥¼ ê³„ì‚°í•˜ì—¬ íŒŒì¼ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•©ë‹ˆë‹¤. ì´ í•´ì‹œëŠ” ì²´í¬ì„¬ìœ¼ë¡œ ì‘ìš©í•˜ì—¬ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê³  íŒŒì¼ ë²„ì „ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n```js\ndef add(self, file_path):\n    # ...\n    file_hash = self.hash_object(file_data)\n```\n\nì˜¤ë¥˜ ì²˜ë¦¬: ì§€ì •ëœ íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° (FileNotFoundError), Pitì€ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¸ì‡„í•˜ê³  ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œí•©ë‹ˆë‹¤.\n\n```js\ndef add(self, file_path):\n    # ...\n    if not file_data:\n        print(f\"â›ï¸  Error: {file_path}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!\")\n        sys.exit(1)\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê¸°ì¡´ íŒŒì¼ í™•ì¸: Pitì€ ê°ì²´ ë””ë ‰í† ë¦¬ì— ë™ì¼í•œ í•´ì‹œë¥¼ ê°€ì§„ íŒŒì¼ì´ ì´ë¯¸ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ íŒŒì¼ì´ ì´ë¯¸ ì €ì¥ì†Œì— ì¶”ê°€ë˜ì—ˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n```python\ndef add(self, file_path):\n    # ...\n    if self.check_hash_exists(file_hash):\n        print(f\"â›ï¸  ì˜¤ë¥˜: {file_path}ì´(ê°€) ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤!\")\n        sys.exit(1)\n```\n\níŒŒì¼ ìŠ¤í…Œì´ì§•: ìƒˆ íŒŒì¼ì´ë©° ê²€ì‚¬ë¥¼ í†µê³¼í•˜ë©´ Pitì€ íŒŒì¼ ë‚´ìš©ì„ í•´ì‹œëœ ì´ë¦„ìœ¼ë¡œ ê°ì²´ ë””ë ‰í† ë¦¬ì— ì €ì¥í•©ë‹ˆë‹¤. ì¸ë±ìŠ¤ íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ë‹¤ìŒ ì»¤ë°‹ì„ ìœ„í•´ íŒŒì¼ ê²½ë¡œì™€ í•´ì‹œë¥¼ í¬í•¨ì‹œí‚µë‹ˆë‹¤.\n\n```python\ndef add(self, file_path):\n    # ...\n    object_path = self.objects_path / file_hash\n    self.write_file(object_path, file_data)\n    self.update_staging_area(file_path, file_hash)\n    print(f\"â›ï¸  {file_path}ë¥¼ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì¶”ê°€í–ˆìŠµë‹ˆë‹¤\")\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# commit ëª…ë ¹ì–´ êµ¬í˜„í•˜ê¸°\n\npit commit \"ë©”ì‹œì§€\"\n\n## Pitë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ ìŠ¤ëƒ…ìƒ· ìº¡ì²˜í•˜ê¸°\n\nadd ëª…ë ¹ì–´ë¡œ ë³€ê²½ ì‚¬í•­ì„ ìŠ¤í…Œì´ì§•í•œ í›„, Pitì„ ì‚¬ìš©í•˜ì—¬ ë²„ì „ ê´€ë¦¬í•˜ëŠ” ë‹¤ìŒ ë‹¨ê³„ëŠ” ì´ëŸ¬í•œ ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì»¤ë°‹ì€ í”„ë¡œì íŠ¸ì˜ í˜„ì¬ ìƒíƒœì— ëŒ€í•œ ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•˜ê³ , ì €ì¥ì†Œì˜ íˆìŠ¤í† ë¦¬ì— ê¸°ë¡í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ë³€ê²½ ë‚´ìš© ì»¤ë°‹í•˜ê¸°\n\nPit í´ë˜ìŠ¤ì˜ commit ë©”ì„œë“œëŠ” ì´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤. ì´ì— ê´€ë ¨ëœ ë‹¨ê³„ë¥¼ ì‚´í´ë´…ì‹œë‹¤:\n\nStaged íŒŒì¼ ì½ê¸°: commit ë©”ì„œë“œëŠ” as_list ë„ìš°ë¯¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ë±ìŠ¤ íŒŒì¼ì—ì„œ Staged íŒŒì¼ì˜ ëª©ë¡ì„ ê²€ìƒ‰í•˜ëŠ” ì‘ì—…ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.\n\n```js\ndef commit(self, message):\n    index = self.as_list(self.read_file(self.index_path))\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní˜„ì¬ HEAD ê°€ì ¸ì˜¤ê¸°: ê·¸ëŸ° ë‹¤ìŒ get_current_head ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ HEAD íŒŒì¼ì—ì„œ í˜„ì¬ ì»¤ë°‹ (HEAD)ì˜ í•´ì‹œë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.\n\n```js\ndef commit(self, message):\n    # ...\n    parent_commit = self.get_current_head()\n```\n\nì»¤ë°‹ ë°ì´í„° ìƒì„±: Pitì€ ë¶€ëª¨ ì»¤ë°‹ í•´ì‹œ (ìˆëŠ” ê²½ìš°), ì»¤ë°‹ ë©”ì‹œì§€, íƒ€ì„ìŠ¤íƒ¬í”„ ë° ìŠ¤í…Œì´ì§•ëœ íŒŒì¼ ëª©ë¡ì„ í¬í•¨í•œ ì»¤ë°‹ ë°ì´í„°ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤. ì´ ë°ì´í„°ëŠ” JSON í˜•ì‹ìœ¼ë¡œ ì§ë ¬í™”ë©ë‹ˆë‹¤.\n\n```js\ndef commit(self, message):\n    # ...\n    commit_data = json.dumps({\n        \"parent\": parent_commit,\n        \"message\": message,\n        \"date\": datetime.now().isoformat(),\n        \"files\": index\n    })\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¤ë°‹ ë°ì´í„° í•´ì‹±: ì§ë ¬í™”ëœ ì»¤ë°‹ ë°ì´í„°ì— ëŒ€í•´ SHA-1 í•´ì‹œê°€ ê³„ì‚°ë˜ì–´ ì €ì¥ì†Œ ë‚´ì—ì„œ ì»¤ë°‹ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•©ë‹ˆë‹¤.\n\n```python\ndef commit(self, message):\n    # ...\n    commit_hash = self.hash_object(str(commit_data))\n```\n\nì»¤ë°‹ ê°ì²´ ì €ì¥: Pitì€ ì»¤ë°‹ ë°ì´í„°ë¥¼ í•´ì‹œ ëœ ì´ë¦„ìœ¼ë¡œ objects ë””ë ‰í† ë¦¬ì— ê¸°ë¡í•˜ì—¬ í”„ë¡œì íŠ¸ ìƒíƒœë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ê¸°ë¡í•©ë‹ˆë‹¤.\n\n```python\ndef commit(self, message):\n    # ...\n    commit_path = self.objects_path / commit_hash\n    self.write_file(commit_path, str(commit_data))\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nHEAD ë° ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸: HEAD íŒŒì¼ì´ ìƒˆë¡œìš´ ì»¤ë°‹ í•´ì‹œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì—…ë°ì´íŠ¸ë˜ì–´ ì €ì¥ì†Œì˜ ìµœì‹  ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì¸ë±ìŠ¤ íŒŒì¼ì´ ì§€ì›Œì ¸, í–¥í›„ ë³€ê²½ì„ ìœ„í•œ ìŠ¤í…Œì´ì§• ì˜ì—­ì´ ì¬ì„¤ì •ë©ë‹ˆë‹¤.\n\n```python\ndef commit(self, message):\n    # ...\n    self.write_file(self.head_path, commit_hash)\n    self.write_file(self.index_path, \"[]\")\n```\n\nì‘ì—… ì™„ë£Œ ë©”ì‹œì§€: ë§ˆì§€ë§‰ìœ¼ë¡œ, Pitì€ ì„±ê³µì ìœ¼ë¡œ ì»¤ë°‹ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” í™•ì¸ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ì°¸ì¡°ìš©ìœ¼ë¡œ ì»¤ë°‹ í•´ì‹œë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\n\n```python\ndef commit(self, message):\n    # ...\n    print(f\"â›ï¸  {commit_hash}ë¡œ ì»¤ë°‹ë˜ì—ˆìŠµë‹ˆë‹¤.\")\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ë¡œê·¸ ëª…ë ¹ì–´ êµ¬í˜„\n\npit log\n\n## Pitë¡œ í”„ë¡œì íŠ¸ ì´ë ¥ íƒìƒ‰í•˜ê¸°\n\nì»¤ë°‹ ëª…ë ¹ì–´ë¡œ ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•œ í›„, Pitì€ ë¡œê·¸ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì €ì¥ì†Œì˜ ì´ë ¥ì„ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ëª…ë ¹ì–´ëŠ” ì»¤ë°‹ë“¤ì˜ ì—°ëŒ€ìˆœ ëª©ë¡ì„ í‘œì‹œí•˜ì—¬ í”„ë¡œì íŠ¸ì˜ ì§„í™”ì™€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¥¸ ë³€ê²½ ì‚¬í•­ ìˆœì„œë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì»¤ë°‹ ë¡œê·¸ ë³´ê¸°\n\nPit í´ë˜ìŠ¤ì˜ log ë©”ì„œë“œëŠ” ì´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìš©ì´í•˜ê²Œí•©ë‹ˆë‹¤. í•¨ê»˜ ì°¨ë¡€ëŒ€ë¡œ ì§„í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤:\n\ní˜„ì¬ HEAD ê°€ì ¸ì˜¤ê¸°: log ë©”ì„œë“œëŠ” get_current_head ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ HEAD íŒŒì¼ì—ì„œ í˜„ì¬ ì»¤ë°‹ì˜ í•´ì‹œë¥¼ ê²€ìƒ‰í•˜ì—¬ ì‹œì‘ë©ë‹ˆë‹¤.\n\n```js\ndef log(self):\n    current_commit_hash = self.get_current_head()\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì»¤ë°‹ ë°˜ë³µ: Pitì€ ë£¨í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ HEADë¶€í„° ì‹œì‘í•˜ì—¬ ì»¤ë°‹ ê¸°ë¡ì„ ë°˜ë³µí•©ë‹ˆë‹¤. ì´ˆê¸° ì»¤ë°‹ (ë¶€ëª¨ê°€ ì—†ëŠ” ê³³)ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ì»¤ë°‹ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í‘œì‹œí•©ë‹ˆë‹¤.\n\n```python\ndef log(self):\n    # ...\n    while current_commit_hash:\n        commit_data = self.read_file(self.objects_path / current_commit_hash)\n        commit_data = json.loads(commit_data)\n```\n\nì»¤ë°‹ ì •ë³´ í‘œì‹œ: ê° ì»¤ë°‹ì— ëŒ€í•´ Pitì€ ì»¤ë°‹ í•´ì‹œ, ì»¤ë°‹ ë©”ì‹œì§€ ë° ê¸°íƒ€ ì„¸ë¶€ ì •ë³´ (ì˜ˆ: íƒ€ì„ìŠ¤íƒ¬í”„, ë¶€ëª¨ ì»¤ë°‹ ë“±)ì™€ ê°™ì€ ê´€ë ¨ ì •ë³´ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\n\n```python\ndef log(self):\n    # ...\n        # ...\n        print(f\"â›ï¸  Commit: {current_commit_hash}\")\n        pp(commit_data)\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n### ì»¤ë°‹ ê¸°ë¡ íƒìƒ‰: `Pit`ì€ `current_commit_hash`ë¥¼ ë¶€ëª¨ ì»¤ë°‹ì˜ í•´ì‹œë¡œ ì—…ë°ì´íŠ¸í•˜ì—¬ ì´ˆê¸° ì»¤ë°‹ë¶€í„° ìµœì‹  ì»¤ë°‹ê¹Œì§€ ì €ì¥ì†Œì˜ ê¸°ë¡ì„ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```python\ndef log(self):\n    # ...\n        # ...\n        current_commit_hash = commit_data.get('parent')\n```\n\n### ì»¤ë°‹ì´ ì—†ëŠ” ê²½ìš° ì²˜ë¦¬: ë§Œì•½ ì»¤ë°‹ì´ ì—†ë‹¤ë©´ (HEADê°€ ì—†ëŠ” ê²½ìš°), `Pit`ì€ ì•„ì§ ì»¤ë°‹ì´ ì—†ë‹¤ëŠ” ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\n\n```python\ndef log(self):\n    # ...\n    if not current_commit_hash:\n        print(\"â›ï¸  ì•„ì§ ì»¤ë°‹ì´ ì—†ìŠµë‹ˆë‹¤!\")\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ìŒì€ í´ë˜ìŠ¤ì—ì„œ ì¤‘ìš”í•œ ë©”ì†Œë“œì˜€ìŠµë‹ˆë‹¤. ì‚¬ìš©ìë¥¼ ì•ˆë‚´í•´ì£¼ëŠ” ë„ìš°ë¯¸ ë©”ì†Œë“œì¸ show_usage()ë„ ìˆìŠµë‹ˆë‹¤.\n\nPitì˜ show_usage í•¨ìˆ˜ëŠ” ì‚¬ìš©ìê°€ ìœ íš¨í•œ ëª…ë ¹ì„ ì§€ì •í•˜ì§€ ì•Šê±°ë‚˜ ì˜ëª»ëœ ì¸ìˆ˜ë¥¼ ì œê³µí•˜ì—¬ ë„êµ¬ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ì‚¬ìš©ë²• ì§€ì¹¨ê³¼ ëª…ë ¹ ì˜µì…˜ì„ í‘œì‹œí•˜ëŠ” ìœ í‹¸ë¦¬í‹°ë¡œ ì‘ìš©í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ëª…ë ¹ ì¤„ ì¸í„°í˜ì´ìŠ¤(CLI)ë¥¼ í†µí•´ Pitì™€ íš¨ê³¼ì ìœ¼ë¡œ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\ndef show_usage():\n    print(\"â›ï¸  Pit - ê°„ë‹¨í•œ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ\")\n    print(\"ì‚¬ìš©ë²•: pit \u003ccommand\u003e [\u003cargs\u003e]\")\n    print(\"ëª…ë ¹ì–´:\")\n    print(\"  init        ë¹ˆ pit ì €ì¥ì†Œ ìƒì„±\")\n    print(\"  add         íŒŒì¼ì„ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì¶”ê°€\")\n    print(\"  commit      ë³€ê²½ ì‚¬í•­ì„ ì €ì¥ì†Œì— ê¸°ë¡\")\n    print(\"  log         ì»¤ë°‹ ë¡œê·¸ë³´ê¸°\")\n```\n\n# ëª…ë ¹ ì¤„ ì¸í„°í˜ì´ìŠ¤(CLI) ì‘ì—… ê´€ë¦¬\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní”¼íŠ¸(Pit)ì˜ ì£¼ìš” ê¸°ëŠ¥ì¸ main í•¨ìˆ˜ëŠ” ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤(CLI)ë¥¼ í†µí•´ ë²„ì „ ê´€ë¦¬ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ì§„ì…ì ìœ¼ë¡œ ê¸°ëŠ¥í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì‚¬ìš©ì, ë‹¤ì–‘í•œ í”¼íŠ¸(init, add, commit, log) ëª…ë ¹ì–´, ê·¸ë¦¬ê³  í”¼íŠ¸ í´ë˜ìŠ¤ì˜ ê¸°ë³¸ ê¸°ëŠ¥ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ì¡°ì •í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\nmain í•¨ìˆ˜ëŠ” ì‚¬ìš©ìê°€ ì „ë‹¬í•œ ëª…ë ¹ì¤„ ì¸ìë¥¼ ì²˜ë¦¬í•˜ê³ , ì´ì— í•´ë‹¹í•˜ëŠ” ë™ì‘ì„ í”¼íŠ¸ í´ë˜ìŠ¤ ë‚´ì—ì„œ ì •ì˜ëœ ë©”ì†Œë“œì— ìœ„ì„í•©ë‹ˆë‹¤. ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤:\n\n```js\nif __name__ == \"__main__\"\n    def main():\n        pit = Pit()\n        if len(sys.argv) \u003c 2:\n            show_usage()\n            sys.exit(1)\n        command = sys.argv[1]\n        if command == \"init\":\n            pit.start()\n        elif command == \"add\":\n            if len(sys.argv) \u003c 3:\n                print(\"Usage: pit add \u003cfile_path\u003e\")\n                sys.exit(1)\n            file_path = sys.argv[2]\n            if file_path == \"*\":\n                for file in Path(\".\").rglob(\"*\"):\n                    if file.is_file():\n                        pit.add(file)\n            else:\n                pit.add(file_path)\n         elif command == \"commit\":\n            if len(sys.argv) \u003c 3:\n                print(\"Usage: pit commit \u003cmessage\u003e\")\n                sys.exit(1)\n            message = sys.argv[2]\n            pit.commit(message)\n        elif command == \"log\":\n            pit.log()\n        else:\n            show_usage()\n            sys.exit(1)\n```\n\n## ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ (pit.cmd)ëŠ” Python ëª¨ë“ˆ(pit)ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ëª¨ë“ˆì€ ë²„ì „ ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©°, Pythonì˜ ì§ì ‘ì ì¸ ëª¨ë“ˆ ì‹¤í–‰ ëŠ¥ë ¥(-m í”Œë˜ê·¸)ì„ í™œìš©í•˜ì—¬ ëª…ë ¹ì¤„ ì¸ìˆ˜ë¥¼ ì›í™œí•˜ê²Œ ì „ë‹¬í•¨ìœ¼ë¡œì¨ ìœˆë„ìš° ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ pit ëª¨ë“ˆì„ ìœ ì—°í•˜ê³  ì§ê´€ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n@echo OFF\npython -m pit %*\n```\n\n# ê²°ë¡ \n\nì´ pitê³¼ì˜ ì—¬ì • ì²« ë¶€ë¶„ì—ì„œ ìš°ë¦¬ëŠ” Python ê¸°ë°˜ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ ì„¤ì • ë° ì´ˆê¸° ì‘ì—…ì„ íƒìƒ‰í–ˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” pit initì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì €ì¥ì†Œë¥¼ ì´ˆê¸°í™”í•˜ì—¬ í”„ë¡œì íŠ¸ íˆìŠ¤í† ë¦¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° í•„ìš”í•œ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ì´í›„ì—ëŠ” pit addë¡œ ìŠ¤í…Œì´ì§• ì˜ì—­ì— íŒŒì¼ì„ ì¶”ê°€í•˜ê³ , pit commitìœ¼ë¡œ ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•˜ë©°, pit logë¥¼ í†µí•´ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ë¥¼ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìœ„ ê¸°ì´ˆì ì¸ ëª…ë ¹ì–´ë“¤ì„ í†µí•´, ìš°ë¦¬ëŠ” ë³€ê²½ ì‚¬í•­ì„ ì¶”ì í•˜ê³  ë²„ì „ì„ ê´€ë¦¬í•˜ë©° í˜‘ì—…ê³¼ í”„ë¡œì íŠ¸ ê´€ë¦¬ì— ì²´ê³„ì ì¸ ë°©ë²•ì„ ì œê³µí•˜ëŠ” í”¼íŠ¸ë¥¼ ìœ„í•œ ê¸°ë°˜ì„ ë§ˆë ¨í–ˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ íŒŒíŠ¸ì—ì„œëŠ” Python í”„ë¡œì íŠ¸ ë‚´ì—ì„œ í”¼íŠ¸ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ê¸° ìœ„í•œ í•„ìˆ˜ ë„êµ¬ë“¤ì„ ê°–ì¶”ì—ˆìŠµë‹ˆë‹¤.\n\nê³§ ê³µê°œë  Part 2ë¥¼ ê¸°ëŒ€í•´ ì£¼ì„¸ìš”. ê±°ê¸°ì—ì„œëŠ” í”¼íŠ¸ë¥¼ ì´í•´í•˜ê³  ì ìš©í•˜ëŠ” ëŠ¥ë ¥ì„ í–¥ìƒì‹œì¼œ ìš°ë¦¬ì˜ ê°œë°œ ì›Œí¬í”Œë¡œìš°ë¥¼ ë”ìš± ê°•í™”í•  ê²ƒì…ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-07-09-ICodedPitAVersionControlSysteminPythonforFun_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-ICodedPitAVersionControlSysteminPythonforFun_0.png","tag":["Tech"],"readingTime":17},{"title":"TensorFlow Transform í”„ë¡œë•ì…˜ì—ì„œ ë§¤ë„ëŸ¬ìš´ ë°ì´í„° ì¤€ë¹„ë¥¼ ìœ„í•œ í•„ìˆ˜ ê°€ì´ë“œ","description":"","date":"2024-07-09 14:29","slug":"2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction","content":"\n## ì œí’ˆ í™˜ê²½ì„ ìœ„í•œ ë°ì´í„° íŒŒì´í”„ë¼ì¸ í™•ì¥ì„ ìœ„í•œ TensorFlow Transform í™œìš©\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_0.png)\n\në°ì´í„° ì „ì²˜ë¦¬ëŠ” ë¨¸ì‹  ëŸ¬ë‹ íŒŒì´í”„ë¼ì¸ì—ì„œ ì¤‘ìš”í•œ ë‹¨ê³„ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. TensorFlow Transformì€ ê±°ëŒ€í•œ ë°ì´í„°ì…‹ ìœ„ì—ì„œ ë¶„ì‚° í™˜ê²½ì—ì„œ ì´ë¥¼ ë‹¬ì„±í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\në°ì´í„° ë³€í™˜ì— ëŒ€í•´ ë” ì•Œì•„ë³´ê¸° ì „ì—, ì œí’ˆ íŒŒì´í”„ë¼ì¸ í”„ë¡œì„¸ìŠ¤ì˜ ì²« ë²ˆì§¸ ë‹¨ê³„ì¸ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ì— ëŒ€í•´ ë‹¤ë£¬ ì œ ê¸€ \"TFX ë°©ì‹ìœ¼ë¡œ ì œí’ˆ íŒŒì´í”„ë¼ì¸ì—ì„œ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸°\"ê°€ ìˆìŠµë‹ˆë‹¤. ë” ë‚˜ì€ ì´í•´ë¥¼ ìœ„í•´ ì´ ê¸€ì„ í™•ì¸í•´ë³´ì„¸ìš”!\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ë°ëª¨ì—ì„œëŠ” í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì´ í›¨ì”¬ ì‰½ê³  ë¹ ë¥´ê¸° ë•Œë¬¸ì— ì´ë¥¼ ìœ„í•´ Colabì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. íƒìƒ‰ ë‹¨ê³„ì— ìˆë‹¤ë©´ ì¤‘ìš”í•œ ë¶€ë¶„ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤„ Colabì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.\n\nML íŒŒì´í”„ë¼ì¸ ì‘ì—…ì€ ë°ì´í„° ìˆ˜ì§‘ ë° ê²€ì¦ìœ¼ë¡œ ì‹œì‘í•˜ì—¬ ë³€í™˜ì„ ê±°ì¹©ë‹ˆë‹¤. ë³€í™˜ëœ ë°ì´í„°ëŠ” í•™ìŠµ ë° ë°°í¬ë©ë‹ˆë‹¤. ì´ì „ ê¸€ì—ì„œ ê²€ì¦ ë¶€ë¶„ì„ ë‹¤ë£¨ì—ˆê³ , ì´ì œëŠ” ë³€í™˜ ë¶€ë¶„ì„ ë‹¤ë£° ì˜ˆì •ì…ë‹ˆë‹¤. Tensorflowì—ì„œ íŒŒì´í”„ë¼ì¸ì— ëŒ€í•œ ë” ë‚˜ì€ ì´í•´ë¥¼ ìœ„í•´ ì•„ë˜ ê¸€ì„ í™•ì¸í•´ë³´ì„¸ìš”.\n\nì´ì „ì— ë§í•œ ëŒ€ë¡œ Colabì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ê·¸ë˜ì„œ tfx ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ë©´ ë©ë‹ˆë‹¤.\n\n```js\n! pip install tfx\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_1.png\" /\u003e\n\nê·¸ ë‹¤ìŒì€ importsê°€ ì˜µë‹ˆë‹¤.\n\n```js\n# ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°\n\nimport tensorflow as tf\n\nfrom tfx.components import CsvExampleGen\nfrom tfx.components import ExampleValidator\nfrom tfx.components import SchemaGen\nfrom tfx.v1.components import ImportSchemaGen\nfrom tfx.components import StatisticsGen\nfrom tfx.components import Transform\n\nfrom tfx.orchestration.experimental.interactive.interactive_context import InteractiveContext\nfrom google.protobuf.json_format import MessageToDict\n\nimport os\n```\n\nì €í¬ëŠ” ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ê¸°ì‚¬ì—ì„œì™€ ê°™ì´ Kaggleì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì´íƒ€ë‹‰ ìš°ì£¼ì„  ë°ì´í„°ì…‹ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì´ ë°ì´í„°ì…‹ì€ ìƒì—…ì  ë° ë¹„ìƒì—…ì  ìš©ë„ë¡œ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ ë°ì´í„°ì…‹ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°ì´í„°ì…‹ì— ëŒ€í•œ ì„¤ëª…ì´ ì•„ë˜ ê·¸ë¦¼ì— í‘œì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_2.png\" /\u003e\n\në°ì´í„° ë³€í™˜ ë¶€ë¶„ì„ ì‹œì‘í•˜ê¸° ìœ„í•´ì„œëŠ” íŒŒì´í”„ë¼ì¸ êµ¬ì„± ìš”ì†Œë¥¼ ë°°ì¹˜í•  í´ë”ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤(ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ë””ë ‰í„°ë¦¬ì— ë°°ì¹˜ë©ë‹ˆë‹¤). ì €ëŠ” íŒŒì´í”„ë¼ì¸ êµ¬ì„± ìš”ì†Œë¥¼ ìœ„í•œ í•˜ë‚˜ì™€ í›ˆë ¨ ë°ì´í„°ë¥¼ ìœ„í•œ ë‹¤ë¥¸ í•˜ë‚˜ì˜ í´ë”ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\n\n```js\n# íŒŒì´í”„ë¼ì¸ í´ë” ê²½ë¡œ\n# ìƒì„±ëœ ëª¨ë“  êµ¬ì„± ìš”ì†ŒëŠ” ì—¬ê¸°ì— ì €ì¥ë©ë‹ˆë‹¤\n_pipeline_root = '/content/tfx/pipeline/'\n\n# í›ˆë ¨ ë°ì´í„° ê²½ë¡œ\n# ì—¬ëŸ¬ í›ˆë ¨ ë°ì´í„° íŒŒì¼ì„ í¬í•¨í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤\n_data_root = '/content/tfx/data/'\n```\n\nê·¸ ë‹¤ìŒìœ¼ë¡œ, InteractiveContextë¥¼ ë§Œë“¤ê³  íŒŒì´í”„ë¼ì¸ ë””ë ‰í„°ë¦¬ ê²½ë¡œë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì€ ë˜í•œ íŒŒì´í”„ë¼ì¸ í”„ë¡œì„¸ìŠ¤ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ sqlite ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nInteractiveContextì€ ê° ë‹¨ê³„ë¥¼ íƒìƒ‰í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ê° ë‹¨ê³„ì—ì„œ ìƒì„±ëœ ì•„í‹°íŒ©íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” Apache Beamê³¼ ê°™ì€ íŒŒì´í”„ë¼ì¸ ìƒì„± í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ê°€ ê°œì…ì—†ì´ ìë™ìœ¼ë¡œ ì‹¤í–‰ë  ê²ƒì…ë‹ˆë‹¤.\n\n```js\n# InteractiveContext ì´ˆê¸°í™”\n# ì´ëŠ” ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ sqlite dbë¥¼ ìƒì„±í•©ë‹ˆë‹¤\n\ncontext = InteractiveContext(pipeline_root=_pipeline_root)\n```\n\në‹¤ìŒìœ¼ë¡œ ë°ì´í„° ìˆ˜ì§‘ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤. ë°ì´í„°ê°€ csv íŒŒì¼ë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤ë©´ CsvExampleGenì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° íŒŒì¼ì´ ì €ì¥ëœ ë””ë ‰í„°ë¦¬ ê²½ë¡œë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\n# ì…ë ¥ CSV íŒŒì¼\nexample_gen = CsvExampleGen(input_base=_data_root)\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nTFXëŠ” í˜„ì¬ csv, tf.Record, BigQuery ë° ì¼ë¶€ ì‚¬ìš©ì ì •ì˜ ì‹¤í–‰ê¸°ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\n`ExampleGen` êµ¬ì„± ìš”ì†Œë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ `context.run`ì„ ì‚¬ìš©í•˜ì„¸ìš”.\n\n```js\n# êµ¬ì„± ìš”ì†Œ ì‹¤í–‰í•˜ê¸°\n\ncontext.run(example_gen)\n```\n\nêµ¬ì„± ìš”ì†Œë¥¼ ì‹¤í–‰í•œ í›„, ì•„ë˜ì™€ ê°™ì€ ì¶œë ¥ì´ ìƒì„±ë©ë‹ˆë‹¤. ì‹¤í–‰ ID, êµ¬ì„± ìš”ì†Œ ì„¸ë¶€ ì •ë³´ ë° êµ¬ì„± ìš”ì†Œì˜ ì¶œë ¥ì´ ì €ì¥ëœ ìœ„ì¹˜ê°€ í‘œì‹œë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_3.png\" /\u003e\n\ní™•ì¥í•˜ë©´ ì´ ìƒì„¸ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_4.png\" /\u003e\n\në””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ìŠµë‹ˆë‹¤. ì´ ëª¨ë“  ì•„í‹°íŒ©íŠ¸ë“¤ì€ TFXì— ì˜í•´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ë˜í•œ ìë™ìœ¼ë¡œ ë²„ì „ì´ ì§€ì •ë˜ë©° ì„¸ë¶€ ì •ë³´ëŠ” metadata.sqliteì— ì €ì¥ë©ë‹ˆë‹¤. í•´ë‹¹ sqlite íŒŒì¼ì€ ë°ì´í„° ì¶œì²˜ ë˜ëŠ” ë°ì´í„° ê³„ë³´ë¥¼ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ìë£Œë¥¼ í”„ë¡œê·¸ë¨ì ìœ¼ë¡œ íƒìƒ‰í•´ ë³´ì„¸ìš”.\n\n```js\n# ìƒì„±ëœ ìë£Œ í™•ì¸\nartifact = example_gen.outputs['examples'].get()[0]\n\n# ë¶„í•  ì´ë¦„ê³¼ URI í‘œì‹œ\nprint(f'split names: {artifact.split_names}')\nprint(f'artifact uri: {artifact.uri}')\n```\n\nì¶œë ¥ì€ íŒŒì¼ ì´ë¦„ê³¼ URIê°€ ë  ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![Image](/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_6.png)\n\nì´ì œ train urië¥¼ ë³µì‚¬í•˜ì—¬ íŒŒì¼ ë‚´ë¶€ì˜ ì„¸ë¶€ ì •ë³´ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. íŒŒì¼ì€ zip íŒŒì¼ë¡œ ì €ì¥ë˜ì–´ ìˆìœ¼ë©° TFRecordDataset í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n```js\n# í›ˆë ¨ ì˜ˆì œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¶œë ¥ ì•„í‹°íŒ©íŠ¸ì˜ URIë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤\ntrain_uri = os.path.join(artifact.uri, 'Split-train')\n\n# ì´ ë””ë ‰í† ë¦¬ì— ìˆëŠ” íŒŒì¼ ëª©ë¡(ëª¨ë“  ì••ì¶•ëœ TFRecord íŒŒì¼)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\ntfrecord_filenames = [os.path.join(train_uri, name)\n                      for name in os.listdir(train_uri)]\n\n# ì´ íŒŒì¼ë“¤ì„ ì½ì„ `TFRecordDataset`ì„ ìƒì„±í•©ë‹ˆë‹¤\ndataset = tf.data.TFRecordDataset(tfrecord_filenames, compression_type=\"GZIP\")\n```\n\nì•„ë˜ ì½”ë“œëŠ” Tensorflowì—ì„œ ê°€ì ¸ì˜¨ ê²ƒì´ë©°, TFRecordDatasetì—ì„œ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì™€ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ì—¬ ê²€ì‚¬í•  ìˆ˜ ìˆëŠ” í‘œì¤€ ì½”ë“œì…ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ë„ìš°ë¯¸ í•¨ìˆ˜ë¡œ ê°œë³„ ì˜ˆì œ ê°€ì ¸ì˜¤ê¸°\n\ndef get_records(dataset, num_records):\n'''ì£¼ì–´ì§„ ë°ì´í„° ì„¸íŠ¸ì—ì„œ ë ˆì½”ë“œë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\në§¤ê°œë³€ìˆ˜:\ndataset (TFRecordDataset): ExampleGenì— ì˜í•´ ì €ì¥ëœ ë°ì´í„° ì„¸íŠ¸\nnum_records (int): ë¯¸ë¦¬ë³´ê¸°í•  ë ˆì½”ë“œ ìˆ˜\n'''\n\n    # ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.\n    records = []\n\n    # ê°€ì ¸ì˜¬ ë ˆì½”ë“œ ìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” `take()` ë©”ì„œë“œ ì‚¬ìš©\n    for tfrecord in dataset.take(num_records):\n\n        # í…ì„œì˜ ë„˜íŒŒì´ ì†ì„±ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n        serialized_example = tfrecord.numpy()\n\n        # ì§ë ¬í™”ëœ ë°ì´í„°ë¥¼ ì½ê¸° ìœ„í•´ `tf.train.Example()`ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.\n        example = tf.train.Example()\n\n        # ì˜ˆì œ ë°ì´í„°ë¥¼ ì½ìŠµë‹ˆë‹¤ (ê²°ê³¼ëŠ” í”„ë¡œí† ì½œ ë²„í¼ ë©”ì‹œì§€ì…ë‹ˆë‹¤).\n        example.ParseFromString(serialized_example)\n\n        # í”„ë¡œí† ì½œ ë²„í¼ ë©”ì‹œì§€ë¥¼ Python ì‚¬ì „ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n        example_dict = (MessageToDict(example))\n\n        # ë ˆì½”ë“œ ëª©ë¡ì— ì¶”ê°€í•©ë‹ˆë‹¤.\n        records.append(example_dict)\n\n    return records\n\n# ë°ì´í„° ì„¸íŠ¸ì—ì„œ 3ê°œì˜ ë ˆì½”ë“œ ê°€ì ¸ì˜¤ê¸°\n\nsample_records = get_records(dataset, 3)\n\n# ê²°ê³¼ ì¶œë ¥\n\npp.pprint(sample_records)\n\n3ê°œì˜ ë ˆì½”ë“œë¥¼ ìš”ì²­í–ˆê³ , ì¶œë ¥ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ê° ë ˆì½”ë“œì™€ í•´ë‹¹ ë©”íƒ€ë°ì´í„°ê°€ ì‚¬ì „ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_7.png\" /\u003e\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ìŒìœ¼ë¡œ, ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì—¬ StatisticsGenì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ì˜ í†µê³„ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤. example_gen ê°ì²´ì—ì„œ ì¶œë ¥ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.\n\nstatistics.runì„ ì‚¬ìš©í•˜ì—¬ êµ¬ì„± ìš”ì†Œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ë•Œ statistics_genì„ ì¸ìˆ˜ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.\n\n```js\n# example_gen ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ StatisticsGenìœ¼ë¡œ ë°ì´í„° ì§‘í•© í†µê³„ ìƒì„±\n\nstatistics_gen = StatisticsGen(\n    examples=example_gen.outputs['examples'])\n\n# êµ¬ì„± ìš”ì†Œ ì‹¤í–‰\ncontext.run(statistics_gen)\n```\n\nê²°ê³¼ë¥¼ í™•ì¸í•˜ë ¤ë©´ context.showë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# ì¶œë ¥ í†µê³„ ë³´ê¸°\n\ncontext.show(statistics_gen.outputs['statistics'])\n```\n\nTFDV (TensorFlow Data Validation) ê¸°ì‚¬ì—ì„œ ì„¤ëª…í•œ í†µê³„ ìƒì„±ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” TFXê°€ ì´ëŸ¬í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ TFDVë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. TFDVì— ìµìˆ™í•´ì§€ë©´ ì´ëŸ¬í•œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë” ì˜ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_8.png\" /\u003e\n\në‹¤ìŒ ë‹¨ê³„ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ì‘ì—…ì€ statistics_gen ê°ì²´ë¥¼ ì „ë‹¬í•˜ì—¬ SchemaGenì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰ë©ë‹ˆë‹¤. êµ¬ì„± ìš”ì†Œë¥¼ ì‹¤í–‰í•˜ê³  context.showë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°í™”í•˜ì„¸ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# í†µê³„_gen ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ SchemaGenì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í‚¤ë§ˆ ìƒì„±\n\nschema_gen = SchemaGen(\n    statistics=statistics_gen.outputs['statistics'],\n    )\n\n# ì»´í¬ë„ŒíŠ¸ ì‹¤í–‰\ncontext.run(schema_gen)\n\n# ìŠ¤í‚¤ë§ˆ ì‹œê°í™”\n\ncontext.show(schema_gen.outputs['schema'])\n```\n\nì¶œë ¥ ê²°ê³¼ì—ëŠ” ë°ì´í„°ì˜ ê¸°ë³¸ ìŠ¤í‚¤ë§ˆì— ê´€í•œ ì„¸ë¶€ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤. TFDVì™€ ë§ˆì°¬ê°€ì§€ë¡œì…ë‹ˆë‹¤.\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_9.png\" /\u003e\n\nì—¬ê¸°ì— ì œì‹œëœ ìŠ¤í‚¤ë§ˆë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ê²½ìš° tfdvë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì •í•˜ê³  ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ImportSchemaGenì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ íŒŒì¼ì„ tfxì— ì‚¬ìš©í•˜ë„ë¡ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€\nschema_gen = ImportSchemaGen(schema_file=\"path_to_schema_file/schema.pbtxt\")\n```\n\në‹¤ìŒìœ¼ë¡œ, ExampleValidatorë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ˆì œë¥¼ ìœ íš¨ì„± ê²€ì‚¬í•©ë‹ˆë‹¤. statistics_gen ë° schema_genì„ ì¸ìˆ˜ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.\n\n```js\n# ExampleValidatorë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ˆì œ ìœ íš¨ì„±ì„ ê²€ì‚¬\n# statistics_gen ë° schema_gen ê°ì²´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤\n\nexample_validator = ExampleValidator(\n    statistics=statistics_gen.outputs['statistics'],\n    schema=schema_gen.outputs['schema'])\n\n# êµ¬ì„± ìš”ì†Œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\ncontext.run(example_validator)\n```\n\nëª¨ë“  ê²ƒì´ ì˜ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” ì´ìƒì ì¸ ì¶œë ¥ì…ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_10](/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_10.png)\n\nAt this point, our directory structure looks like the image above. We can see that for every step in the process, the corresponding artifacts are created.\n\n![TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_11](/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_11.png)\n\nLet us move on to the actual transformation part. We will now create the `constants.py` file to add all the constants required for the process.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì´ í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•  ëª¨ë“  ìƒìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” íŒŒì¼ ìƒì„±\n\n\\_constants_module_file = 'constants.py'\n\nëª¨ë“  ìƒìˆ˜ë¥¼ ìƒì„±í•˜ê³  constants.py íŒŒì¼ì— ì“¸ ê²ƒì…ë‹ˆë‹¤. â€œ%%writefile '\\_constants_module_file'â€ì„ ì°¸ì¡°í•˜ì„¸ìš”. ì´ ëª¤ë ¹ì–´ëŠ” ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ì§€ ì•Šê³  ëŒ€ì‹  ì£¼ì–´ì§„ ì…€ì˜ ëª¨ë“  ì½”ë“œë¥¼ ì§€ì •ëœ íŒŒì¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.\n\n%%writefile {\\_constants_module_file}\n\n# ë¬¸ìì—´ ë°ì´í„° ìœ í˜•ì„ ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•  ê¸°ëŠ¥\n\nCATEGORICAL_FEATURE_KEYS = ['CryoSleep', 'Destination', 'HomePlanet', 'VIP']\n\n# ì§€ì†ì ì¸ ê²ƒìœ¼ë¡œ í‘œì‹œëœ ìˆ«ì ê¸°ëŠ¥\n\nNUMERIC_FEATURE_KEYS = ['Age', 'FoodCourt', 'RoomService', 'ShoppingMall', 'Spa', 'VRDeck']\n\n# ë²„í‚·ì— ê·¸ë£¹í™”í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥\n\nBUCKET_FEATURE_KEYS = ['Age']\n\n# ê° ë²„í‚· ê¸°ëŠ¥ì„ ì¸ì½”ë”©í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ë²„í‚· ìˆ˜\n\nFEATURE_BUCKET_COUNT = {'Age': 4}\n\n# ëª¨ë¸ì´ ì˜ˆì¸¡í•  ê¸°ëŠ¥\n\nLABEL_KEY = 'Transported'\n\n# ê¸°ëŠ¥ ì´ë¦„ì„ ë°”ê¾¸ê¸° ìœ„í•œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜\n\ndef transformed_name(key):\nreturn key + '\\_xf'\n\nì‹¤ì œ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ëŠ” ì½”ë“œë¥¼ í¬í•¨í•˜ëŠ” transform.py íŒŒì¼ì„ ìƒì„±í•©ì‹œë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ì „ì²˜ë¦¬ ì½”ë“œê°€ í¬í•¨ëœ íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.\n\n_transform_module_file = 'transform.py'\n```\n\nì—¬ê¸°ì„œëŠ” tensorflow_transform ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ë³€í™˜ ê³¼ì •ì— ëŒ€í•œ ì½”ë“œëŠ” preprocessing_fn í•¨ìˆ˜ ì•ˆì— ì‘ì„±ë  ê²ƒì…ë‹ˆë‹¤. ë³€í™˜ ê³¼ì •ì—ì„œ tfxê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì´ë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ë™ì¼í•œ ì´ë¦„ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n%%writefile {_transform_module_file}\n\nimport tensorflow as tf\nimport tensorflow_transform as tft\n\nimport constants\n\n# ìƒìˆ˜ ëª¨ë“ˆì˜ ë‚´ìš©ì„ ì–¸íŒ¨í‚¹í•©ë‹ˆë‹¤.\n_NUMERIC_FEATURE_KEYS = constants.NUMERIC_FEATURE_KEYS\n_CATEGORICAL_FEATURE_KEYS = constants.CATEGORICAL_FEATURE_KEYS\n_BUCKET_FEATURE_KEYS = constants.BUCKET_FEATURE_KEYS\n_FEATURE_BUCKET_COUNT = constants.FEATURE_BUCKET_COUNT\n_LABEL_KEY = constants.LABEL_KEY\n_transformed_name = constants.transformed_name\n\n\n# ë³€í™˜ì„ ì •ì˜í•©ë‹ˆë‹¤.\ndef preprocessing_fn(inputs):\n\n    outputs = {}\n\n    # ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì„ [0,1] ë²”ìœ„ë¡œ ìŠ¤ì¼€ì¼ë§í•©ë‹ˆë‹¤.\n    for key in _NUMERIC_FEATURE_KEYS:\n        outputs[_transformed_name(key)] = tft.scale_to_0_1(\n            inputs[key])\n\n    # ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì„ ë²„í‚·ìœ¼ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤.\n    for key in _BUCKET_FEATURE_KEYS:\n        outputs[_transformed_name(key)] = tft.bucketize(\n            inputs[key], _FEATURE_BUCKET_COUNT[key])\n\n    # ë¬¸ìì—´ì„ ì–´íœ˜ ì‚¬ì „ì˜ ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n    for key in _CATEGORICAL_FEATURE_KEYS:\n        outputs[_transformed_name(key)] = tft.compute_and_apply_vocabulary(inputs[key])\n\n    # ë¼ë²¨ ë¬¸ìì—´ì„ ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\n    outputs[_transformed_name(_LABEL_KEY)] = tft.compute_and_apply_vocabulary(inputs[_LABEL_KEY])\n\n    return outputs\n```\n\nì´ ë°ëª¨ì—ì„œëŠ” ëª‡ ê°€ì§€ í‘œì¤€ ìŠ¤ì¼€ì¼ë§ ë° ì¸ì½”ë”© í•¨ìˆ˜ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. transform ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ì‹¤ì œë¡œ ë‹¤ì–‘í•œ í•¨ìˆ˜ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ ì‚´í´ë³´ì„¸ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ì œ ë³€í™˜ ê³¼ì •ì„ ë³´ê² ìŠµë‹ˆë‹¤. Transform ê°ì²´ë¥¼ ìƒì„±í•˜ê³  example_gen ë° schema_gen ê°ì²´ì™€ í•¨ê»˜ ìš°ë¦¬ê°€ ë§Œë“  transform.py íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.\n\n```js\n# TF ê²½ê³  ë©”ì‹œì§€ ë¬´ì‹œ\ntf.get_logger().setLevel('ERROR')\n\n# example_gen ë° schema_gen ê°ì²´ë¡œ Transform êµ¬ì„± ìš”ì†Œ ì¸ìŠ¤í„´ìŠ¤í™”\n# transform íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì „ë‹¬\n\ntransform = Transform(\n    examples=example_gen.outputs['examples'],\n    schema=schema_gen.outputs['schema'],\n    module_file=os.path.abspath(_transform_module_file))\n\n# êµ¬ì„± ìš”ì†Œ ì‹¤í–‰\ncontext.run(transform)\n```\n\nì‹¤í–‰í•˜ê³  ë³€í™˜ ë¶€ë¶„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì•„ë˜ ì´ë¯¸ì§€ì— ë‚˜íƒ€ë‚œ ë³€í™˜ëœ ë°ì´í„°ë¥¼ ì‚´í´ë³´ì„¸ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![TensorFlow Transform](/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_12.png)\n\n# ê·¸ëƒ¥ scikit-learn ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ pandasë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì™œ ì•„ë‹Œê°€ìš”?\n\nì§€ê¸ˆ ì´ê²Œ ì—¬ëŸ¬ë¶„ì˜ ì§ˆë¬¸ì¸ê°€ìš”?\n\nì´ í”„ë¡œì„¸ìŠ¤ëŠ” ë°ì´í„° ì „ì²˜ë¦¬ë¥¼ ì›í•˜ëŠ” ê°œì¸ì„ ìœ„í•œ ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ëª¨ë¸ í›ˆë ¨ì„ ì‹œì‘í•˜ê³  ì‹¶ì€ ì‚¬ëŒë“¤ì„ ìœ„í•œ ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ì´ê²ƒì€ ëŒ€ê·œëª¨ ë°ì´í„° (ë¶„ì‚° ì²˜ë¦¬ë¥¼ ìš”êµ¬í•˜ëŠ” ë°ì´í„°)ì™€ ëŠì–´ì§ˆ ì—¬ì§€ê°€ ì—†ëŠ” ìë™í™”ëœ í”„ë¡œë•ì…˜ íŒŒì´í”„ë¼ì¸ì— ì ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në³€í™˜ì„ ì ìš©í•œ í›„ì— í´ë” êµ¬ì¡°ê°€ ë‹¤ìŒê³¼ ê°™ì´ ë³´ì…ë‹ˆë‹¤\n\n![folder structure](/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_13.png)\n\nì—¬ê¸°ì—ëŠ” ë³€í™˜ ì „í›„ì˜ ì„¸ë¶€ ë‚´ìš©ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ë³€í™˜ ê·¸ë˜í”„ë„ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.\n\nìš°ë¦¬ëŠ” tft.scale_to_0_1ì„ ì‚¬ìš©í•˜ì—¬ ìˆ«ì íŠ¹ì„±ì„ ìŠ¤ì¼€ì¼ë§í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ í•¨ìˆ˜ëŠ” ì „ì²´ ë°ì´í„°ë¥¼ ë¶„ì„í•´ì•¼ í•˜ëŠ” ì„¸ë¶€ ì •ë³´ë¥¼ ê³„ì‚°í•´ì•¼ í•©ë‹ˆë‹¤(ì˜ˆ: íŠ¹ì„± ë‚´ í‰ê· , ìµœì†Œê°’ ë° ìµœëŒ€ê°’). ì—¬ëŸ¬ ê¸°ê³„ì— ë¶„ì‚°ëœ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì´ëŸ¬í•œ ì„¸ë¶€ ì •ë³´ë¥¼ ì–»ëŠ” ê²ƒì€ ì„±ëŠ¥ì´ ë§ì´ í•„ìš”í•©ë‹ˆë‹¤(íŠ¹íˆ ì—¬ëŸ¬ ë²ˆ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°). ì´ëŸ¬í•œ ì„¸ë¶€ ì‚¬í•­ì€ í•œ ë²ˆ ê³„ì‚°ë˜ê³  ë³€í™˜ ê·¸ë˜í”„ì— ìœ ì§€ë©ë‹ˆë‹¤. í•¨ìˆ˜ê°€ ì´ëŸ¬í•œ ì„¸ë¶€ ì •ë³´ë¥¼ í•„ìš”ë¡œ í•  ë•Œë§ˆë‹¤, ê·¸ê²ƒì€ ë°”ë¡œ ë³€í™˜ ê·¸ë˜í”„ì—ì„œ ê²€ìƒ‰ë©ë‹ˆë‹¤. ë˜í•œ í•™ìŠµ ë‹¨ê³„ì—ì„œ ìƒì„±ëœ ë³€í™˜ì„ ì§ì ‘ ì„œë¹™ ë°ì´í„°ì— ì ìš©í•˜ì—¬ ì „ì²˜ë¦¬ ë‹¨ê³„ì—ì„œ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nTensorflow Transform ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì£¼ìš” ì¥ì ì€ ëª¨ë“  ë‹¨ê³„ê°€ ì•„í‹°íŒ©íŠ¸ë¡œ ê¸°ë¡ë˜ì–´ ë°ì´í„° ê³„ë³´ê°€ ìœ ì§€ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë˜í•œ ë°ì´í„°ê°€ ë³€ê²½ë  ë•Œ ìë™ìœ¼ë¡œ ë°ì´í„° ë²„ì „ ê´€ë¦¬ê°€ ìˆ˜í–‰ë©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì œí’ˆ í™˜ê²½ì—ì„œì˜ ì‹¤í—˜, ë°°í¬ ë° ë¡¤ë°±ì´ ì‰¬ì›Œì§‘ë‹ˆë‹¤.\n\nì—¬ê¸°ê¹Œì§€ ì…ë‹ˆë‹¤. ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ëŒ“ê¸€ ì„¹ì…˜ì— ë‚¨ê²¨ì£¼ì„¸ìš”.\n\në³¸ë¬¸ì— ì‚¬ìš©ëœ ë…¸íŠ¸ë¶ ë° ë°ì´í„° íŒŒì¼ì€ ì´ ë§í¬ë¥¼ í†µí•´ ë‚´ GitHub ì €ì¥ì†Œì—ì„œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ë‹¤ìŒì€ ë¬´ì—‡ì¼ê¹Œìš”?\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\níŒŒì´í”„ë¼ì¸ êµ¬ì„± ìš”ì†Œë¥¼ ë” ì˜ ì´í•´í•˜ê¸° ìœ„í•´ ì•„ë˜ ê¸€ì„ ì½ì–´ë³´ì„¸ìš”.\n\nì œ ê¸€ì„ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ë§ˆìŒì— ë“œì…¨ë‹¤ë©´ ëª‡ ê°œì˜ ë°•ìˆ˜ë¡œ ê²©ë ¤í•´ ì£¼ì‹œê³ , ë§Œì•½ ë‹¤ë¥¸ ìª½ì— ê³„ì‹ ë‹¤ë©´ ì˜ê²¬ë€ì— ê°œì„ í•  ì ì„ ì•Œë ¤ì£¼ì„¸ìš”. ì•ˆë…•íˆ ê°€ì„¸ìš”.\n\níŠ¹ë³„íˆ ì–¸ê¸‰í•˜ì§€ ì•ŠëŠ” í•œ, ëª¨ë“  ì´ë¯¸ì§€ëŠ” ì €ìê°€ ì°ì€ ê²ƒì…ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-TensorFlowTransformEnsuringSeamlessDataPreparationinProduction_0.png","tag":["Tech"],"readingTime":18},{"title":"ëª¨ë¸ ì„±ëŠ¥ ì‹œê°í™” Python ì½”ë“œë¡œ í˜¼ë™ í–‰ë ¬ ê·¸ë¦¬ëŠ” ë°©ë²• ê°€ì´ë“œ","description":"","date":"2024-07-09 14:27","slug":"2024-07-09-VisualizingModelPerformanceAGuidetoPlottingConfusionMatricesinPythonCode","content":"\n\u003cimg src=\"/TIL/assets/img/2024-07-09-VisualizingModelPerformanceAGuidetoPlottingConfusionMatricesinPythonCode_0.png\" /\u003e\n\nì•ˆë…•í•˜ì„¸ìš”! ì´ ê¸°ì‚¬ì—ì„œëŠ” ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ í‰ê°€í•˜ëŠ”ë° ìˆì–´ì„œ í˜¼ë™ í–‰ë ¬ì˜ ì¤‘ìš”ì„±ì— ëŒ€í•´ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. í˜¼ë™ í–‰ë ¬ì´ ë¬´ì—‡ì´ë©°, ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ë¶„ë¥˜ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ í‰ê°€í•˜ëŠ” ë° ì™œ ì¤‘ìš”í•œì§€ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤. ê²Œë‹¤ê°€, ìš°ë¦¬ëŠ” í˜¼ë™ í–‰ë ¬ì„ ê·¸ë¦¬ëŠ” Python í•¨ìˆ˜ë¥¼ ì‚´í´ë³´ê³ , ê²°ê³¼ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í•´ì„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ í†µì°°ì„ ì œê³µí•  ê²ƒì…ë‹ˆë‹¤.\n\n## í˜¼ë™ í–‰ë ¬ ì†Œê°œ\n\ní˜¼ë™ í–‰ë ¬ì€ ë¶„ë¥˜ ì•Œê³ ë¦¬ì¦˜ì˜ ì„±ëŠ¥ì„ í‰ê°€í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í‘œì…ë‹ˆë‹¤. ì˜ˆì¸¡ëœ ë ˆì´ë¸”ì„ ì‹¤ì œ ë ˆì´ë¸”ê³¼ ë¹„êµí•˜ì—¬ ëª¨ë¸ì´ ì–¼ë§ˆë‚˜ ì˜ ìˆ˜í–‰ë˜ê³  ìˆëŠ”ì§€ ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ í–‰ë ¬ì€ ëª¨ë¸ì´ ì–´ë–¤ ì¢…ë¥˜ì˜ ì˜¤ë¥˜ë¥¼ ë²”í•˜ê³  ìˆëŠ”ì§€ ì´í•´í•˜ëŠ” ë° íŠ¹íˆ ìœ ìš©í•˜ë©°, ê°œì„ í•  ë¶€ë¶„ì„ ì‹ë³„í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## í˜¼ë™ í–‰ë ¬ì˜ êµ¬ì¡°\n\nì´ì§„ ë¶„ë¥˜ ë¬¸ì œì˜ í˜¼ë™ í–‰ë ¬ì€ ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ëª¨ìŠµì„ ê°–ìŠµë‹ˆë‹¤:\n\n![Confusion Matrix](/TIL/assets/img/2024-07-09-VisualizingModelPerformanceAGuidetoPlottingConfusionMatricesinPythonCode_1.png)\n\në‹¤ì¤‘ í´ë˜ìŠ¤ ë¶„ë¥˜ ë¬¸ì œì˜ ê²½ìš°, í–‰ë ¬ì€ ë” ë§ì€ í´ë˜ìŠ¤ë¥¼ ìˆ˜ìš©í•˜ë„ë¡ í™•ì¥ë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì •í™•ë„: ì •í™•ë„ ì ìˆ˜ ì´ìƒì˜ ìì„¸í•œ ì •í™•ë„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n- ì˜¤ë¥˜ ë¶„ì„: ì˜¤ë¥˜ ìœ í˜•(ê±°ì§“ ì–‘ì„± ë° ê±°ì§“ ìŒì„±)ì„ ì‹ë³„í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.\n- ëª¨ë¸ ê°œì„ : ì˜¤ë¶„ë¥˜ë¥¼ ì´í•´í•¨ìœ¼ë¡œì¨ ëª¨ë¸ì„ ê°œì„ í•˜ëŠ” ë° ìœ ìš©í•œ í†µì°°ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n## Pythonìœ¼ë¡œ í˜¼ë™ í–‰ë ¬ í”Œë¡œíŒ…\n\n```js\nimport itertools\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndef plot_confusion_matrix(cm, class_labels=None, normalize=False, figsize=(10, 10)):\n    \"\"\"\n    ë ˆì´ë¸” ë° ë°±ë¶„ìœ¨ë¡œ í˜¼ë™ í–‰ë ¬ì„ í”Œë¡œíŒ…í•©ë‹ˆë‹¤.\n\n    Args:\n        cm (numpy.ndarray): í˜¼ë™ í–‰ë ¬.\n        class_labels (list, optional): í´ë˜ìŠ¤ì— ëŒ€í•œ ì‚¬ìš©ì ì •ì˜ ë ˆì´ë¸”. ê¸°ë³¸ê°’ì€ Noneì…ë‹ˆë‹¤.\n        normalize (bool, optional): ë°±ë¶„ìœ¨ì„ ìœ„í•´ í˜¼ë™ í–‰ë ¬ì„ ì •ê·œí™”í• ì§€ ì—¬ë¶€. ê¸°ë³¸ê°’ì€ Falseì…ë‹ˆë‹¤.\n        figsize (tuple, optional): ë„í‘œì˜ í¬ê¸°. ê¸°ë³¸ê°’ì€ (10, 10)ì…ë‹ˆë‹¤.\n\n    Returns:\n        None\n    \"\"\"\n    n_classes = cm.shape[0]\n\n    # í”Œë¡œíŒ…ì„ ìœ„í•œ ë„í‘œ ë° ì¶• ìƒì„±\n    fig, ax = plt.subplots(figsize=figsize)\n\n    # í˜¼ë™ í–‰ë ¬ ì‹œê°í™”ë¥¼ ìœ„í•œ ì»¬ëŸ¬ë§µ ìƒì„±\n    cax = ax.matshow(cm, cmap=plt.cm.Blues)  # ë‹¤ë¥¸ ì»¬ëŸ¬ë§µì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n\n    # í”Œë¡¯ì— ì»¬ëŸ¬ë°” ì¶”ê°€\n    fig.colorbar(cax)\n\n    # ì¶• ë ˆì´ë¸” (ì„ íƒì‚¬í•­)\n    if class_labels is not None:\n        labels = class_labels\n    else:\n        labels = np.arange(cm.shape[0])\n\n    # ì¶• ë ˆì´ë¸” ë° ì œëª© ì„¤ì •\n    ax.set(\n        title=\"í˜¼ë™ í–‰ë ¬\",\n        xlabel=\"ì˜ˆì¸¡ëœ ë ˆì´ë¸”\",\n        ylabel=\"ì‹¤ì œ ë ˆì´ë¸”\",\n        xticks=np.arange(n_classes),\n        yticks=np.arange(n_classes),\n        xticklabels=labels,\n        yticklabels=labels,\n    )\n\n    # ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ xì¶• ë ˆì´ë¸” íšŒì „\n    ax.xaxis.set_label_position(\"bottom\")\n    ax.xaxis.tick_bottom()\n\n    # ë ˆì´ë¸” í¬ê¸° ì¡°ì •\n    plt.setp(ax.xaxis.get_majorticklabels(), size=20)\n    plt.setp(ax.yaxis.get_majorticklabels(), size=20)\n    ax.title.set_size(20)\n\n    # í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì„ê³„ê°’ ê³„ì‚°\n    threshold = (cm.max() + cm.min()) / 2.\n\n    # í•„ìš”í•œ ê²½ìš° í˜¼ë™ í–‰ë ¬ ì •ê·œí™”\n    if normalize:\n        cm = cm.astype('float') / cm.sum(axis=1)[:, np.newaxis]\n\n    # í˜¼ë™ í–‰ë ¬ì˜ ê° ìš”ì†Œë¥¼ ìˆœíšŒí•˜ê³  í…ìŠ¤íŠ¸ ì£¼ì„ ì¶”ê°€\n    for i, j in itertools.product(range(cm.shape[0]), range(cm.shape[1])):\n        # ê°’ ë° ë°±ë¶„ìœ¨ í‘œì‹œ (ì„ íƒì‚¬í•­)\n        text = f\"{cm[i, j]:.2f}\" if normalize else f\"{cm[i, j]}\"\n\n        # ì„ê³„ê°’ì— ê¸°ë°˜í•œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì„¤ì •\n        color = \"white\" if cm[i, j] \u003e threshold else \"black\"\n\n        # ì¤‘ì•™ ì •ë ¬ ë° ì ì ˆí•œ í¬ê¸°ë¡œ í…ìŠ¤íŠ¸ ì£¼ì„ ì¶”ê°€\n        ax.text(\n            j,\n            i,\n            text,\n            ha=\"center\",\n            va=\"center\",\n            color=color,\n            fontsize=15,\n        )\n\n    # í˜¼ë™ í–‰ë ¬ í”Œë¡¯ í‘œì‹œ\n    plt.show()\n```\n\nPlot Confusion Matrix í•¨ìˆ˜ ì‚¬ìš© ë°©ë²•\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- í˜¼ë™ í–‰ë ¬ ìƒì„±: í”Œë¡œíŒ…í•˜ê¸° ì „ì— ëª¨ë¸ì˜ ì˜ˆì¸¡ê³¼ ì‹¤ì œ ë ˆì´ë¸”ì„ ì´ìš©í•´ í˜¼ë™ í–‰ë ¬ì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ sklearn.metrics.confusion_matrixë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nfrom sklearn.metrics import confusion_matrix\n\ny_pred = model.predict(X_test)\ncm = confusion_matrix(y_test, y_pred)\n```\n\n2. í˜¼ë™ í–‰ë ¬ í”Œë¡œíŒ…: ìƒì„±ëœ í–‰ë ¬ë¡œ plot_confusion_matrix í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì„¸ìš”.\n\n```js\nplot_confusion_matrix(cm, (class_labels = [\"Class 0\", \"Class 1\"]), (normalize = True));\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní˜¼ë™ í–‰ë ¬ì€ ë¶„ë¥˜ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ í‰ê°€í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. ì´ë“¤ì€ ëª¨ë¸ì´ ì–¼ë§ˆë‚˜ ì˜ ìˆ˜í–‰ë˜ê³  ìˆëŠ”ì§€ì— ëŒ€í•œ í¬ê´„ì ì¸ ê´€ì ì„ ì œê³µí•˜ë©° ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ê°•ì¡°í•©ë‹ˆë‹¤. í˜¼ë™ í–‰ë ¬ì„ ì‹œê°í™”í•¨ìœ¼ë¡œì¨, ëª¨ë¸ì˜ ë™ì‘ì— ëŒ€í•œ ë” ê¹Šì€ í†µì°°ë ¥ì„ ì–»ê³  ë¯¸ë˜ ê°œì„ ì„ ìœ„í•œ ì •ë³´ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në³¸ ë¬¸ì„œì—ì„œëŠ” í˜¼ë™ í–‰ë ¬ì„ í”Œë¡œíŒ…í•˜ëŠ” Python í•¨ìˆ˜ë¥¼ ì œê³µí•˜ê³  ì‚¬ìš© ë°©ë²•ì„ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ë¥¼ ì›Œí¬í”Œë¡œì— í†µí•©í•¨ìœ¼ë¡œì¨, ëª¨ë¸ì˜ ì˜ˆì¸¡ì„ íš¨ê³¼ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  í•´ì„í•  ìˆ˜ ìˆì–´ ë” ë‚˜ì€ ì •í™•ë„ì˜ ë¨¸ì‹  ëŸ¬ë‹ ëª¨ë¸ì— ì´ë¥´ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-07-09-VisualizingModelPerformanceAGuidetoPlottingConfusionMatricesinPythonCode_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-VisualizingModelPerformanceAGuidetoPlottingConfusionMatricesinPythonCode_0.png","tag":["Tech"],"readingTime":5},{"title":"PyBrokerë¥¼ ì‚¬ìš©í•œ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” ë°©ë²•","description":"","date":"2024-07-09 14:26","slug":"2024-07-09-PortfolioOptimizationwithPyBroker","content":"\n\u003cimg src=\"/TIL/assets/img/2024-07-09-PortfolioOptimizationwithPyBroker_0.png\" /\u003e\n\ní¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ëŠ” í¬íŠ¸í´ë¦¬ì˜¤ ë‚´ ìì‚°ì„ íŠ¹ì • ëª©í‘œë¥¼ ì¶©ì¡±ì‹œí‚¤ê¸° ìœ„í•´ í• ë‹¹í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì´ëŠ” ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™”í•˜ê³  ìˆ˜ìµì„ ê·¹ëŒ€í™”í•˜ëŠ” ëª©í‘œë¡œ ìì‚° í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ êµ¬ì„±í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\ní¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ëŠ” ì •ê¸°ì ìœ¼ë¡œ ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë¦¬ë°¸ëŸ°ì‹±í•˜ëŠ” ìœ ìš©í•œ ê¸°ìˆ ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì„ í†µí•´ ìš°ë¦¬ëŠ” í¬íŠ¸í´ë¦¬ì˜¤ì˜ ì›í•˜ëŠ” ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ê°€ì¥ ìµœì ì˜ ë°©ë²•ìœ¼ë¡œ ì£¼ì‹ì„ ë§¤ìˆ˜í•˜ê³  ë§¤ë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ ê¸€ì—ì„œëŠ” Pythonê³¼ PyBrokerë¥¼ ì‚¬ìš©í•˜ì—¬ ë§¤ì›” ì´ˆì— í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë¦¬ë°¸ëŸ°ì‹±í•˜ëŠ” ê±°ë˜ ì „ëµì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì„¤ì •\n\nê±°ë˜ ì „ëµì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê¸° ìœ„í•´ì„œëŠ” Pythonì—ì„œ ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” íŠ¸ë ˆì´ë”© ì „ëµì„ ê°œë°œí•˜ê¸° ìœ„í•œ ì˜¤í”ˆì†ŒìŠ¤ Python í”„ë ˆì„ì›Œí¬ì¸ PyBrokerì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. PyBrokerì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\npip install -U lib-pybroker\n```\n\nê·¸ ë‹¤ìŒìœ¼ë¡œ, ìš°ë¦¬ê°€ PyBrokerì—ì„œ êµ¬í˜„í•  ì „ëµì„ ìœ„í•´ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” Riskfolio-Libì„ ì„¤ì¹˜í•´ë´…ì‹œë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```shell\npip install -U riskfolio-lib\n```\n\nìœ„ì˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ í›„, í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ importí•˜ì—¬ ìƒˆ ë…¸íŠ¸ë¶ì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤:\n\n```shell\nimport pandas as pd\nimport pybroker as pyb\nimport riskfolio as rp\nfrom datetime import datetime\nfrom pybroker import ExecContext, Strategy, YFinance\n```\n\në˜í•œ PyBrokerì—ì„œ ë°ì´í„° ìºì‹±ì„ í™œì„±í™”í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ Yahoo Financeë¡œë¶€í„° ë‹¤ìš´ë¡œë“œëœ íˆìŠ¤í† ë¦¬ì»¬ ë°ì´í„°ê°€ ìºì‹±ë˜ì–´ ì „ëµì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\npyb.enable_data_source_cache(\"rebalancing\");\n```\n\n## Positions Rebalancing\n\nìš°ë¦¬ëŠ” PyBrokerë¥¼ ì‚¬ìš©í•˜ì—¬ ë§¤ë‹¬ ì²˜ìŒì— ê¸¸ì´ë§Œ ìˆëŠ” í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë™ì¼í•œ í¬ì§€ì…˜ ì‚¬ì´ì§•ì„ ì‚¬ìš©í•˜ì—¬ ë¦¬ë°¸ëŸ°ì‹±(rebalancing)í•˜ëŠ” ê°„ë‹¨í•œ ì „ëµì„ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤. ë§í•˜ìë©´, ë§¤ì›” ì´ˆì— ìš°ë¦¬ ì „ëµì€ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ê° ì£¼ì‹ì´ ëŒ€ëµì ìœ¼ë¡œ ë™ì¼í•œ í• ë‹¹ì„ ê°–ë„ë¡ ì¶©ë¶„í•œ ì£¼ì‹ì„ ë§¤ìˆ˜í•˜ê±°ë‚˜ ë§¤ë„í•  ê²ƒì…ë‹ˆë‹¤.\n\në¨¼ì €, ì£¼ì‹ì˜ ëª©í‘œ í• ë‹¹ì— ë„ë‹¬í•˜ê¸° ìœ„í•´ ì£¼ì‹ì˜ ì¶©ë¶„í•œ ì£¼ì‹ì„ ë§¤ìˆ˜í•˜ê±°ë‚˜ ë§¤ë„í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\ndef set_target_shares(\n    ctxs: dict[str, ExecContext],  # ì¢…ëª© ì‹¬ë³¼ -\u003e ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸\n    targets: dict[str, float]      # ì¢…ëª© ì‹¬ë³¼ -\u003e ëª©í‘œ ê°€ì¤‘ì¹˜\n):\n    for symbol, target in targets.items():\n        ctx = ctxs[symbol]\n        # ëª©í‘œ ê°€ì¤‘ì¹˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª©í‘œ ì£¼ì‹ìˆ˜ ê³„ì‚°\n        target_shares = ctx.calc_target_shares(target)\n        pos = ctx.long_pos()\n        # í˜„ì¬ í•´ë‹¹ ì¢…ëª©ì˜ ë§¤ìˆ˜ í¬ì§€ì…˜ì´ ì—†ëŠ” ê²½ìš° ë§¤ìˆ˜\n        if pos is None:\n            ctx.buy_shares = target_shares\n        # ì•„ë‹ˆë©´, ëª©í‘œì¹˜ì— ë„ë‹¬í•  ë§Œí¼ ì£¼ì‹ì„ ë§¤ìˆ˜\n        elif pos.shares \u003c target_shares:\n            ctx.buy_shares = target_shares - pos.shares\n        # í˜„ì¬ í• ë‹¹ì´ ëª©í‘œ ìˆ˜ì¤€ì„ ì´ˆê³¼í•˜ëŠ” ê²½ìš°, ì¶©ë¶„í•œ ì£¼ì‹ ë§¤ë„\n        elif pos.shares \u003e target_shares:\n            ctx.sell_shares = pos.shares - target_shares\n```\n\ní˜„ì¬ í• ë‹¹ì´ ëª©í‘œ ìˆ˜ì¤€ì„ ì´ˆê³¼í•˜ë©´ í•´ë‹¹ ìì‚°ì˜ í•„ìš” ì£¼ì‹ì„ íŒë§¤í•˜ê³ , í˜„ì¬ í• ë‹¹ì´ ëª©í‘œ ìˆ˜ì¤€ ë¯¸ë§Œì´ë©´ í•´ë‹¹ ìì‚°ì˜ í•„ìš” ì£¼ì‹ì„ êµ¬ë§¤í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.\n\në‹¤ìŒìœ¼ë¡œ ë§¤ì›” ì´ˆì— ê° ì£¼ì‹ì„ ë™ì¼ ë¹„ì¤‘ìœ¼ë¡œ íƒ€ê²ŸíŒ…í•˜ëŠ” ë¦¬ë°¸ëŸ°ì‹± í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤:\n\n```python\ndef rebalance(ctxs: dict[str, ExecContext]):\n    if start_of_month(ctxs):\n        target = 1 / len(ctxs)  # ë™ì¼ ê°€ì¤‘ì¹˜\n        set_target_shares(ctxs, {symbol: target for symbol in ctxs.keys()})\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê·¸ëŸ¼ ì´ì œ ìƒˆë¡œìš´ ë‹¬ì˜ ì‹œì‘ì„ ê°ì§€í•˜ëŠ” ë„ìš°ë¯¸ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ ë´…ì‹œë‹¤:\n\n```js\ndef start_of_month(ctxs: dict[str, ExecContext]) -\u003e bool:\n    dt = tuple(ctxs.values())[0].dt\n    if dt.month != pyb.param('current_month'):\n        pyb.param('current_month', dt.month)\n        return True\n    return False\n```\n\nì´ì œ ì´ëŸ¬í•œ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì„¯ ê°€ì§€ ì£¼ì‹ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ìœ„í•œ ë¦¬ë°¸ëŸ°ì‹± ì „ëµì„ ë°±í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```js\nstrategy = Strategy(YFinance(), (start_date = \"1/1/2018\"), (end_date = \"1/1/2023\"));\nstrategy.add_execution(None, [\"TSLA\", \"NFLX\", \"AAPL\", \"NVDA\", \"AMZN\"]);\nstrategy.set_after_exec(rebalance);\nresult = strategy.backtest();\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në°±í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œ í›„ì—ëŠ” ì£¼ë¬¸ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\nresult.orders;\n```\n\n```js\n     type symbol date        shares  limit_price  fill_price  fees\nid\n1    buy  NFLX   2018-01-03  99      NaN          203.86      0.0\n2    buy  AAPL   2018-01-03  464     NaN           43.31      0.0\n3    buy  TSLA   2018-01-03  935     NaN           21.36      0.0\n4    buy  AMZN   2018-01-03  336     NaN           59.84      0.0\n5    buy  NVDA   2018-01-03  376     NaN           52.18      0.0\n... ... ... ... ... ... ... ...\n292  sell NFLX   2022-12-02   15     NaN         315.99       0.0\n293  sell NVDA   2022-12-02   97     NaN         166.89       0.0\n294  buy  AAPL   2022-12-02   27     NaN         146.82       0.0\n295  buy  TSLA   2022-12-02   70     NaN         193.68       0.0\n296  buy  AMZN   2022-12-02   41     NaN          94.57       0.0\n```\n\nê·¸ë¦¬ê³  ìš°ë¦¬ì˜ ì „ëµì„ í‰ê°€í•˜ê¸° ìœ„í•œ ì„±ëŠ¥ ì§€í‘œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nresult.metrics_df;\n```\n\n```js\ntrade_count                 207.000000\ninitial_market_value     100000.000000\nend_market_value         320498.810000\ntotal_pnl                305804.840000\ntotal_return_pct            305.804840\nmax_drawdown            -332039.770000\nmax_drawdown_pct            -52.068777\n```\n\n## í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™” ì‚¬ìš©\n\ní¬íŠ¸í´ë¦¬ì˜¤ì—ì„œ ê° ì£¼ì‹ì„ ë™ì¼í•œ í¬ì§€ì…˜ í¬ê¸°ë¡œ í• ë‹¹í•˜ëŠ” ëŒ€ì‹ , í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ì£¼ì‹ì˜ í• ë‹¹ì„ ê²°ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nRiskfolio-Libì„ ì‚¬ìš©í•˜ì—¬ í¬íŠ¸í´ë¦¬ì˜¤ì—ì„œ ê° ì£¼ì‹ì— í• ë‹¹í•´ì•¼ í•˜ëŠ” ê¸ˆì•¡ì„ ìµœì†Œí™”í•˜ì—¬ ë¦¬ìŠ¤í¬ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆì–´ìš”. ì´ê²ƒì€ ê° ì£¼ì‹ê³¼ ì—°ê´€ëœ ê³¼ê±° ë¦¬ìŠ¤í¬ë¥¼ ì¸¡ì •í•¨ìœ¼ë¡œì¨ í•  ìˆ˜ ìˆì–´ìš”.\n\nì¡°ê±´ë¶€ ê°€ì¹˜ìœ„í—˜(CVaR)ì€ ê° ì£¼ì‹ì˜ ìœ„í—˜ì„ í‰ê°€í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•ì´ì—ìš”. íŠ¹ì • í™•ë¥  ìˆ˜ì¤€ ì´ìƒì˜ ìµœì•…ì˜ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì˜ˆìƒ ì†ì‹¤ì„ ì œê³µí•´ìš”. ì˜ˆë¥¼ ë“¤ì–´, CVaRì€ 95% ì‹ ë¢° ìˆ˜ì¤€ì„ ê³ ë ¤í•  ë•Œ ì‹œë‚˜ë¦¬ì˜¤ ì¤‘ ìµœì•…ì˜ 5%ì—ì„œì˜ í‰ê·  ì†ì‹¤ì„ ì¶”ì •í•  ìˆ˜ ìˆì–´ìš”.\n\nì•„ë˜ì—ì„œëŠ” ì‘ë…„ì˜ ìˆ˜ìµë¥ ì„ ì‚¬ìš©í•˜ì—¬ CVaRì„ ìµœì†Œí™”í•˜ê³  í¬íŠ¸í´ë¦¬ì˜¤ì— í• ë‹¹í•˜ê¸° ìœ„í•´ RiskFolio-Libì„ ì‚¬ìš©í–ˆì–´ìš”.\n\n```js\npyb.param('lookback', 252)  # ì‘ë…„ì˜ ìˆ˜ìµë¥  ì‚¬ìš© -\u003e 252 ë°”.\n\ndef calculate_returns(ctxs: dict[str, ExecContext], lookback: int):\n    prices = {}\n    for ctx in ctxs.values():\n        prices[ctx.symbol] = ctx.adj_close[-lookback:]\n    df = pd.DataFrame(prices)\n    return df.pct_change().dropna()\n\ndef optimization(ctxs: dict[str, ExecContext]):\n    if start_of_month(ctxs):\n        Y = calculate_returns(ctxs, lookback)\n        port = rp.Portfolio(returns=Y)\n        port.assets_stats(method_mu='hist', method_cov='hist', d=0.94)\n        # CVaRì„ ìµœì†Œí™”í•œ í›„ ëª©í‘œ ê°€ì¤‘ì¹˜ ì–»ê¸°.\n        w = port.optimization(\n            model='Classic',\n            rm='CVaR',\n            obj='MinRisk',\n            rf=0,      # ë¬´ìœ„í—˜ ì´ììœ¨.\n            l=0,       # ë¦¬ìŠ¤í¬ íšŒí”¼ ê³„ìˆ˜.\n            hist=True  # ê³¼ê±° ì‹œë‚˜ë¦¬ì˜¤ ì‚¬ìš©.\n        )\n        targets = {\n            symbol: w.T[symbol].values[0]\n            for symbol in ctxs.keys()\n        }\n        set_target_shares(ctxs, targets)\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nRiskfolio-Libì˜ ê³µì‹ ë¬¸ì„œì—ì„œ ë” ë§ì€ ì •ë³´ì™€ ì˜ˆì œë¥¼ ì°¾ì„ ìˆ˜ ìˆì–´ìš”. ì´ì œ ì „ëµì˜ ë°±í…ŒìŠ¤íŒ…ìœ¼ë¡œ ë„˜ì–´ê°€ ë³¼ê¹Œìš”?\n\n```js\nstrategy.set_after_exec(optimization);\nresult = strategy.backtest((warmup = pyb.param(\"lookback\")));\n```\n\nì—¬ê¸°ì„œëŠ” ìƒˆ ì „ëµì˜ ì„±ê³¼ ì§€í‘œë¥¼ í™•ì¸í•´ ë´…ì‹œë‹¤:\n\n```js\ntrade_count                     100.000000\ninitial_market_value         100000.000000\nend_market_value             201318.070000\ntotal_pnl                    139465.420000\ntotal_return_pct                139.465420\nmax_drawdown                -106042.150000\nmax_drawdown_pct                -35.190829\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní¥ë¯¸ë¡œìš´ ë‚´ìš©ì´ì—ìš”! ì´ ì „ëµì„ ì‚¬ìš©í•œ ìˆ˜ìµë¥ ì´ í‰ê·  í¬ì§€ì…˜ ì‚¬ì´ì¦ˆì™€ ë¹„êµí–ˆì„ ë•Œ ì ì€ ê²ƒì„ ë³¼ ìˆ˜ ìˆì–´ìš” (139% vs 305%), ê·¸ëŸ°ë° ìµœëŒ€ ì†ì‹¤ì•¡ì€ ë‚®ì•˜ë‹¤ëŠ” ê²ƒë„ ì•Œ ìˆ˜ ìˆì–´ìš” (35% vs 52%). CVaRì„ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ì „ì²´ ìˆ˜ìµë¥ ì„ í¬ê²Œ ì¤„ì˜€ë‹¤ëŠ” ì ì„ ê³ ë ¤í•´ë´¤ì„ ë•Œ, ì´ì— ë”°ë¼ í¬íŠ¸í´ë¦¬ì˜¤ì˜ í•˜ë½í­ë„ í¬ê²Œ ê°ì†Œí–ˆì–´ìš”!\n\nê·¸ë¦¬ê³  ì´ ê¸€ë¡œ ë§ˆë¬´ë¦¬ ì§€ì„ê²Œìš”! ì´ì œ ì—¬ëŸ¬ë¶„ë„ í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”ë¥¼ ìì‹ ë§Œì˜ ê±°ë˜ ì „ëµì— ì‚¬ìš©í•˜ëŠ”ë° ì¶©ë¶„íˆ ì¥ë¹„ê°€ ë˜ì—ˆì„ ê±°ì—ìš”. ë˜í•œ https://www.pybroker.comì—ì„œ PyBroker ì‚¬ìš©ì— ëŒ€í•œ ë” ë§ì€ íŠœí† ë¦¬ì–¼ì„ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”. ëª¨ë“  ì½”ë“œëŠ” Github ì €ì¥ì†Œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\n","ogImage":{"url":"/assets/img/2024-07-09-PortfolioOptimizationwithPyBroker_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-PortfolioOptimizationwithPyBroker_0.png","tag":["Tech"],"readingTime":10},{"title":"LangChain ì‹¬ì¸µ ë¶„ì„  Part 4 ìµœì‹  LLM ìŠ¤í„°ë”” ë‹¤ì´ì–´ë¦¬","description":"","date":"2024-07-09 09:23","slug":"2024-07-09-LLMStudyDiaryComprehensiveReviewofLangChainPart4","content":"\nì˜¤ëŠ˜ì€ Greg Kamradtì˜ \"The LangChain Cookbook - 7 Core Concepts\"ì˜ ë‚˜ë¨¸ì§€ ì±•í„°ë“¤ì„ ëê¹Œì§€ ë¦¬ë·°í•˜ê² ìŠµë‹ˆë‹¤!\n\n- Indexes - ë¬¸ì„œë¥¼ LLMì´ ì‘ì—…í•˜ê¸° ì‰½ë„ë¡ êµ¬ì¡°í™”í•˜ëŠ” ê²ƒ\n\n- ë¬¸ì„œ ë¡œë”\n\nì›ë³¸ ì½”ë“œì˜ ì´ ë¶€ë¶„ì€ ë³€ê²½ ì—†ì´ ì‘ë™í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë‹¤ì–‘í•œ ë¬¸ì„œ ë¡œë”ì— ëŒ€í•œ ì°¸ì¡° ë§í¬ê°€ ê¹¨ì ¸ ìˆì–´ì„œ í•´ë‹¹ ë¡œë”ë¥¼ ê²€ìƒ‰í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ ì§€ì›ë˜ëŠ” ë¬¸ì„œ ë¡œë” ëª©ë¡ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# URL ë° ì›¹í˜ì´ì§€\n\nunstructured ëª¨ë“ˆì„ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\n!pip install unstructured\n```\n\në§Œì•½ ì´ ëª¨ë“ˆì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´, ì›ë˜ ì½”ë“œê°€ ì‘ë™ë  ê²ƒì…ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•„ë˜ì™€ ê°™ì€ í‘œë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.\n\n| Header One | Header Two |\n| ---------- | ---------- |\n| Item One   | Item Two   |\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nfaissë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. CPUë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n!pip install faiss-cpu\n```\n\n(Nvidia GPUë¥¼ ì‚¬ìš©í•˜ëŠ” ë¨¸ì‹ ì˜ ê²½ìš°, ë‹¤ìŒ ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: !pip install faiss-gpu)\n\në‹¤ìŒìœ¼ë¡œ, OpenAIEmbeddingsì˜ import ë¬¸ì„ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ Part 2ì—ì„œ í•œ ê²ƒì²˜ëŸ¼ ë³€ê²½í•˜ê² ìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n#langchain.embeddingsì—ì„œëŠ” OpenAIEmbeddingsë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\nfrom langchain_openai import OpenAIEmbeddings\n```\n\nì €ëŠ” `get_relevant_documents` ëŒ€ì‹  `invoke`ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\n```js\n# docs = retriever.get_relevant_documents(\"ì €ìê°€ ê±´ì„¤í•˜ê³  ì‹¶ì–´í–ˆë˜ ê²ƒì˜ ì¢…ë¥˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\")\ndocs = retriever.invoke(\"ì €ìê°€ ê±´ì„¤í•˜ê³  ì‹¶ì–´í–ˆë˜ ê²ƒì˜ ì¢…ë¥˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?\")\n```\n\nì´ ë‘ ê°€ì§€ ë³€ê²½ìœ¼ë¡œ ì›ë˜ ì½”ë“œê°€ ì‘ë™í•˜ê²Œ ë˜ì—ˆê³ , ë²¡í„° ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ LLMì—ì„œ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# VectorStores\n\nì´ê²ƒë„ ì•„ë˜ì™€ ê°™ì´ OpenAIEmbeddings í´ë˜ìŠ¤ì˜ import ì†ŒìŠ¤ë¥¼ ë³€ê²½í•¨ìœ¼ë¡œì¨ ì‰½ê²Œ ì‘ë™í•©ë‹ˆë‹¤.\n\n```js\n#from langchain.embeddings import OpenAIEmbeddings\nfrom langchain_openai import OpenAIEmbeddings\n```\n\n# Memory\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì›ë˜ ì½”ë“œëŠ” ê·¸ëŒ€ë¡œ ì‘ë™í•©ë‹ˆë‹¤. Langchainì˜ ë‹¤ì–‘í•œ ë©”ëª¨ë¦¬ ìœ í˜• ëª©ë¡ì— ëŒ€í•œ ë§í¬ê°€ ê¹¨ì ¸ ìˆì–´ ì°¾ì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ì²´ì¸\n\nSimpleSequentialChain ë° LLMChainì´ ì‚¬ìš©ë˜ì§€ ì•Šê²Œ ë˜ì–´ ì „ì²´ì ìœ¼ë¡œ ë§ì€ ë³€ê²½ì„ í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ ì •ë³´ì— ë”°ë¥´ë©´ LLMChain ëŒ€ì‹  RunnableSequenceë¥¼ ì‚¬ìš©í•˜ë¼ê³  ë‚˜ì™€ ìˆì–´ì„œ ì´ ì•ˆë‚´ì— ë”°ë¥´ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.\n\në‘ ê°œ ì´ìƒì˜ RunnableSequenceë¥¼ ê²°í•©í•˜ëŠ” ë°©ë²•ì„ ì°¾ì§€ ëª»í•´ ë‹¹í™©í–ˆìŠµë‹ˆë‹¤. LangChain ë¬¸ì„œë¥¼ ì‚´í´ë³¸ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì´ \"ë‹¤ì¤‘ ì²´ì¸\"ì´ë¼ëŠ” ë¬¸ì„œë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—¬ê¸°ì— ì‘ì„±ëœ ìƒ˜í”Œì„ ì°¸ê³ í•˜ì—¬, StrOutputParserë¥¼ í†µí•´ ë‘ ChatPromptTemplateì„ ê²°í•©í•´ë³´ë ¤ê³  í–ˆê³ , Cookbookì²˜ëŸ¼ ì‘ë™í•˜ëŠ” ì²´ì¸ì„ ìƒì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n```js\nfrom operator import itemgetter\n\nfrom langchain_core.output_parsers import StrOutputParser\nfrom langchain_core.prompts import ChatPromptTemplate\nfrom langchain_openai import ChatOpenAI\n\nprompt1 = ChatPromptTemplate.from_template(\n\"\"\"ì‚¬ìš©ìê°€ ì œì•ˆí•œ ì§€ì—­ì˜ ê³ ì „ ìš”ë¦¬ë¥¼ ìƒê°í•´ ë‚´ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ì¼ì…ë‹ˆë‹¤.\n% ì‚¬ìš©ì ìœ„ì¹˜\n{user_location}\n\në‹¹ì‹ ì˜ ì‘ë‹µ:\n\"\"\"\n)\n\nprompt2 = ChatPromptTemplate.from_template(\n\"\"\"í•œ ë¼ ì‹ì‚¬ê°€ ì£¼ì–´ì§€ë©´, ê·¸ ìš”ë¦¬ë¥¼ ì§‘ì—ì„œ ì–´ë–»ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ë ˆì‹œí”¼ë¥¼ ì œì‹œí•´ ì£¼ì„¸ìš”.\n% ìš”ë¦¬\n{user_meal}\n\në‹¹ì‹ ì˜ ì‘ë‹µ:\n\"\"\"\n)\n\nmodel = ChatOpenAI(temperature=0, openai_api_key=openai_api_key)\n\nchain1 = prompt1 | model | StrOutputParser()\nchain2 = {\"user_meal\": chain1} | prompt2 | model | StrOutputParser()\n\nchain2.invoke({\"user_location\": \"Paris\"})\n```\n\nChatPromptTemplateë¥¼ ëª¨ë¸ê³¼ StrOutputParserì— ì—°ê²°í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. Prompt1ì„ ëª¨ë¸ì— ì…ë ¥í•˜ê³  ì¶œë ¥ AIMessageë¥¼ StrOutputParserë¥¼ í†µí•´ ë¬¸ìì—´ë¡œ ë³€í™˜í–ˆìŠµë‹ˆë‹¤. ì´ ì²´ì¸1ì˜ ì¶œë ¥ì—ì„œ \"user_meal\": \"chain1 ì¶œë ¥\"ê³¼ ê°™ì€ PromptTemplateì˜ ì…ë ¥ì„ ë§Œë“¤ê³ , prompt2ì— ì—°ê²°í•˜ì—¬ ëª¨ë¸ â†’ StrOutputParserë¡œ ì—°ê²°í•©ë‹ˆë‹¤. ì™„ì„±ëœ ì²´ì¸ì— \"Paris\"ë¥¼ user_locationìœ¼ë¡œ ì…ë ¥í–ˆì„ ë•Œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\nâ€˜ì§‘ì—ì„œ Coq au Vinì„ ë§Œë“¤ë ¤ë©´, í° ëƒ„ë¹„ì— ë² ì´ì»¨ì„ ë³¶ì•„ì£¼ì„¸ìš”. ë² ì´ì»¨ì„ êº¼ë‚´ê³  ë² ì´ì»¨ ê¸°ë¦„ì— ë‹­ ì¡°ê°ì„ ë³¶ì•„ì£¼ì„¸ìš”. ë‹¤ì§„ ì–‘íŒŒì™€ ë²„ì„¯ì„ ë„£ê³  ë ˆë“œ ì™€ì¸ê³¼ ì¹˜í‚¨ ìœ¡ìˆ˜ë¥¼ ë¶€ì–´ì£¼ì„¸ìš”. ì•½ 1ì‹œê°„ ì •ë„ ë‹­ì´ ìµê³  ì†ŒìŠ¤ê°€ ë†ë„ê°€ ë  ë•Œê¹Œì§€ ê°•í•œ ë¶ˆì—ì„œ ì¡°ë¦¬í•´ì£¼ì„¸ìš”. ë² ì´ê¸€ì´ë‚˜ ê°ì í“¨ë ˆ ìœ„ì— ë˜ëŠ” í›„ì‹ìœ¼ë¡œ ì¸ê¸° ë§ì€ Crusty Breadì™€ í•¨ê»˜ ëœ¨ê±°ìš´ ìƒíƒœë¡œ ì œê³µí•˜ì„¸ìš”. ì§‘ì—ì„œ ë§Œë“  Coq au Vinì„ ì¦ê¸°ì„¸ìš”!â€™\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nchain1ì˜ ì¶œë ¥ë¬¼ì€ \"Coq au Vin\"ì…ë‹ˆë‹¤. ê·¸ ì…ë ¥ì„ ì‚¬ìš©í•˜ì—¬ chain2ëŠ” \"Coq au Vin\"ì„ ì–´ë–»ê²Œ ë§Œë“œëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤. Coq au Vinì€ ë‚˜ì—ê²ŒëŠ” ì „í˜€ ìµìˆ™í•˜ì§€ ì•Šì•˜ë˜ ìš”ë¦¬ì˜€ì§€ë§Œ, ë¹¨ê°›ê²Œ í‘¹ êµ¬ìš´ ìˆ˜íƒ‰ ìš”ë¦¬ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤... ê·¸ ìš”ë¦¬ ì´ë¦„ì´ ì „í˜€ ìµìˆ™í•˜ì§€ ì•Šì•„ì„œ ì‚¬ìš©ì ìœ„ì¹˜ë¡œ ì˜¤ì‚¬ì¹´ë¥¼ ì…ë ¥í•´ë³´ì•˜ë”ë‹ˆ:\n\n```js\nchain2.invoke({ user_location: \"Osaka\" });\n```\n\nì•„ë˜ì™€ ê°™ì´ ì˜¤ë–¼ë…¸ë¯¸ì•¼í‚¤ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì•ˆë‚´í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë“œë””ì–´ ì œëŒ€ë¡œ ì‘ë™í•˜ê³  ìˆë‹¤ëŠ” ëŠë‚Œì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\n\n'ì§‘ì—ì„œ ì˜¤ë–¼ë…¸ë¯¸ì•¼í‚¤ë¥¼ ë§Œë“¤ë ¤ë©´, ê·¸ë¦‡ì— ë°€ê°€ë£¨ 1ì»µ, ê°ˆì•„ ë§Œë“  ì•¼ë¬´ 1ì»µ, ë‹¬ê±€ 2ê°œ, ë‹¤ì§„ ì–‘ë°°ì¶” 1ì»µì„ ì„ì–´ì£¼ì„¸ìš”. ë¼ì§€ê³ ê¸°, ìƒˆìš° ë˜ëŠ” ì±„ì†Œì™€ ê°™ì€ ìì‹ ì˜ ì„ íƒí•œ í† í•‘ì„ ì¶”ê°€í•˜ì„¸ìš”. íŒ¬ì´ë‚˜ ë¹„ìŠ¤ë“¬í•œ íŒ¬ì„ ì˜ˆì—´í•˜ê³  í˜•íƒœë¥¼ ë¶€ì—¬í•˜ì—¬ ë°°í„°ë¥¼ ë‹´êµ¬ë©´ì„ ë¶“ì„¸ìš”. ê° ë©´ì´ í™©ê¸ˆìƒ‰ì´ ë  ë•Œê¹Œì§€ ë©°ì¹ ì”© ì¡°ë¦¬í•˜ì„¸ìš”. ì˜¤ë–¼ë…¸ë¯¸ì•¼í‚¤ë¥¼ ë‹¬ì½¤í•˜ê³  ë§¤ì½¤í•œ ì†ŒìŠ¤, ë§ˆìš”ë„¤ì¦ˆ, ìœ—ë¶€ë¶„ì— ê°€ëŠ” ì•ˆì£¼ ì‚´ì§ ë¿Œë ¤ì„œ ë‚´ì„¸ìš”. ë§Œë“¤ì–´ì§„ ì˜¤ë–¼ë…¸ë¯¸ì•¼í‚¤ë¥¼ ì¦ê¸°ì„¸ìš”!'\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ìš”ì•½ ì²´ì¸\n\nCookbookì˜ ì½”ë“œ ë¶€ë¶„ì€ ë³€ê²½ ì—†ì´ ì‘ë™í–ˆê¸° ë•Œë¬¸ì— ë„˜ì–´ê°ˆê²Œìš”.\n\n# ì—ì´ì „íŠ¸\n\në¨¼ì €, google-search-results ëª¨ë“ˆì„ ì„¤ì¹˜í•´ì•¼ í–ˆì–´ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n!pip install google-search-results\n```\n\nì•„ë˜ ë§í¬ì—ì„œ SERP_API_KEYë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.\n\ní‚¤ë¥¼ SERP_API_KEY í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥í–ˆìŠµë‹ˆë‹¤.\n\n```js\nfrom dotenv import load_dotenv\nimport os\n\nload_dotenv()\n\nserp_api_key=os.getenv('SERP_API_KEY', 'your_api_key')\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê°€ì¥ í° ë³€í™”ëŠ” initialize_agent í•¨ìˆ˜ê°€ ì‚¬ìš©ë˜ì§€ ì•Šê²Œ ë˜ì–´ì„œ Agentë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì„ ê·¼ë³¸ì ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í–ˆë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\n\n```js\nfrom langchain.agents import load_tools\n# from langchain.agents import initialize_agent\nfrom langchain.llms import OpenAI\nimport json\nfrom langchain import hub\nfrom langchain.agents import AgentExecutor, create_react_agent\n\nllm = OpenAI(temperature=0, openai_api_key=openai_api_key)\ntoolkit = load_tools([\"serpapi\"], llm=llm, serpapi_api_key=serp_api_key)\n# agent = initialize_agent(toolkit, llm, agent=\"zero-shot-react-description\", verbose=True, return_intermediate_steps=True)\nprompt = hub.pull(\"hwchase17/react\")\nagent = create_react_agent(model, toolkit, prompt)\nagent_executor = AgentExecutor(agent=agent, tools=toolkit, verbose=True)\nagent_executor.invoke({\"input\":\"what was the first album of the\"\n                    \" band that Natalie Bergman is a part of?\"})\n```\n\nì›ë˜ ì½”ë“œëŠ” \"zero-shot-react-description\"ì´ë¼ëŠ” ë©”ëª¨ë¦¬ê°€ ì—†ëŠ” ReAct í”„ë ˆì„ì›Œí¬ ì—ì´ì „íŠ¸ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í–ˆê¸° ë•Œë¬¸ì—, ì•„ë˜ ì •ë³´ë¥¼ ì°¸ê³ í•˜ì—¬ ì½”ë“œë¥¼ ë‹¤ì‹œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\n\nReActë¼ëŠ” ìš©ì–´ëŠ” ìµìˆ™í•˜ì§€ ì•Šì•˜ì§€ë§Œ ì•„ë˜ ì„¤ëª…ëŒ€ë¡œ ë³´ë©´, ì¶”ë¡ ê³¼ í–‰ë™ì„ ì—°ê²°í•˜ê³  ì´ë¥¼ í†µí•´ ì–»ì€ í”¼ë“œë°±ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ì¶”ë¡  ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ëŠ” ì—ì´ì „íŠ¸ êµ¬ì„± ë°©ì‹ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ìƒ˜í”Œì— ì‚¬ìš©ëœ í”„ë¡¬í”„íŠ¸ëŠ” LangSmithì—ì„œ ê³µê°œëœ í”„ë¡¬í”„íŠ¸ì´ë©°, í•´ë‹¹ í”„ë¡¬í”„íŠ¸ì˜ ë‚´ìš©ì„ ì•„ë˜ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nì´ ì—ì´ì „íŠ¸ë¥¼ ìƒì„¸ ëª¨ë“œë¡œ ì‹¤í–‰í•  ë•Œ ì•„ë˜ì™€ ê°™ì€ ì¶”ë¡  í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-LLMStudyDiaryComprehensiveReviewofLangChainPart4_0.png)\n\nìµœì¢… ë‹µë³€ì€ ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n{'input': 'ë‚˜íƒˆë¦¬ ë² ë¥´ê·¸ë¨¼ì´ ì†Œì†ëœ ë°´ë“œì˜ ì²« ì•¨ë²”ì€ ë¬´ì—‡ì¸ê°€ìš”?',\n'output': 'Wild Belle'}\n```\n\nì›ë˜ ì§ˆë¬¸ì€ \"ë‚˜íƒˆë¦¬ ë² ë¥´ê·¸ë¨¼ì´ ì†í•œ ë°´ë“œì˜ ì²« ì•¨ë²”ì€ ë¬´ì—‡ì¸ê°€ìš”?\"ì˜€ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´ì„œ \"ë‚˜íƒˆë¦¬ ë² ë¥´ê·¸ë¨¼ì´ ì†í•œ ë°´ë“œì˜ ì²« ì•¨ë²”ì˜ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”\"ì˜€ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìµœì¢… ë‹µë³€ì€ ê·¸ë…€ê°€ ì†í•œ ë°´ë“œì˜ ì´ë¦„ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤. ë¡œê·¸ë¥¼ ë³´ë‹ˆ, ì—ì´ì „íŠ¸ê°€ ë¬¸ì œë¥¼ ì´í•´í•˜ì§€ ëª»í•œ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.\n\nì¹´ë¦„ ë ˆì´ ì•ˆì‚¬ìƒë‹˜ì€ ìœ íŠœë¸Œ ë¹„ë””ì˜¤ì—ì„œ ì—ì´ì „íŠ¸ ê¸°ìˆ ì´ ì•„ì§ ë°œì „ ì¤‘ì´ë¼ê³  ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ Langchainì„ ì‚¬ìš©í•  ë•Œ ì´ëŸ¬í•œ ì¶”ë¡ ì´ ì–´ë–»ê²Œ ì§„í–‰ë˜ëŠ”ì§€ ë¡œê·¸ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ìœ ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìœ¼ë¯€ë¡œ, ì•ìœ¼ë¡œ ë‹¤ì–‘í•œ ì—ì´ì „íŠ¸ë¥¼ ì‚´í´ë³´ëŠ” ê¸°íšŒë¥¼ ë” ë§Œë“¤ê³  ì‹¶ìŠµë‹ˆë‹¤.\n\nì´ë¥¼ í†µí•´ ì¹´ë¦„ ë ˆì´ ì•ˆì‚¬ìƒë‹˜ì˜ \"The LangChain Cookbook â€” 7 Core Concepts\"ì˜ ëª¨ë“  ë ˆì‹œí”¼ë¥¼ ë§ˆì§€ë§‰ ë ˆì‹œí”¼ë¥¼ í¬í•¨í•˜ì—¬ ì œê°€ ì‘ì—…í•˜ë©° ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në•Œë¡œëŠ” ë„ˆë¬´ ë§ì€ ê²ƒì´ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šì•„ì„œ í¬ê¸°í•´ì•¼ í•œë‹¤ê³  ìƒê°í–ˆë˜ ì ì´ ìˆì—ˆì§€ë§Œ, ëª¨ë“  ìƒ˜í”Œì´ ì„±ê³µì ìœ¼ë¡œ ì‘ë™ë˜ì—ˆì–´ìš”.\n\nì´ ê³¼ì •ì—ì„œ ì‚´í´ë³´ì§€ ëª»í•œ ê´€ë ¨ëœ ì—¬ëŸ¬ ê°€ì§€ ì‚¬í•­ë“¤ì´ ìˆì–´ì„œ, ê·¸ê²ƒë“¤ì„ ëª¨ë‘ ì¡°ì‚¬í•˜ê³  ë‹¤ë¥¸ ìƒ˜í”Œë“¤ì„ íƒêµ¬í•˜ì—¬ ê°€ëŠ¥í•˜ë‹¤ë©´ ë‹¤ë¥¸ ë…¸íŠ¸ì—ì„œ ì†Œê°œí•˜ê³  ì‹¶ì–´ìš”.\n\në…ì„œí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!\n\në„¤ ëª©ì°¨ ë¸”ë¡œê·¸ ì‹œë¦¬ì¦ˆ ëê¹Œì§€ ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ì´ ê²Œì‹œë¬¼ë“¤ì´ ìœ ìµí•˜ê³  í†µì°°ë ¥ìˆì—ˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì§€ì†ì ì¸ ê´€ì‹¬ì€ ì €ì—ê²Œ AI ë° ì–¸ì–´ ê¸°ìˆ ì— ëŒ€í•œ ì§€ì‹ì„ ê³µìœ í•˜ëŠ” ë™ê¸°ê°€ ë˜ì—ˆì–´ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní˜„ì¬ ì‹œë¦¬ì¦ˆë¥¼ ë§ˆì¹¨í•˜ì§€ë§Œ, AI ë° ì–¸ì–´ ê¸°ìˆ ì— ëŒ€í•œ ì—¬ì •ì€ ì•„ì§ ëë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ì— ëŒ€í•œ ì§ˆë¬¸ì´ë‚˜ OpenAI API, LLM ë˜ëŠ” LangChainê³¼ ê´€ë ¨ëœ ê°œë°œ í”„ë¡œì íŠ¸ì— ê´€ì‹¬ì´ ìˆë‹¤ë©´ ì €ì—ê²Œ ì—°ë½í•´ ì£¼ì„¸ìš”.\n\nGoldrush Computingì—ì„œëŠ” ì¼ë³¸ì–´ ì›ì–´ë¯¼ì„ ë³´ìœ í•œ ì¼ë³¸ ê¸°ì—…ìœ¼ë¡œì„œì˜ ì „ë¬¸ì„±ì„ ìë‘í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì¼ë³¸ì–´ì™€ ë¬¸í™”ì— ë§ì¶˜ í”„ë¡¬í”„íŠ¸ ë° RAG ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ê²ƒì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¼ë³¸ ì‹œì¥ìš© AI ì†”ë£¨ì…˜ì„ ìµœì í™”í•˜ê±°ë‚˜ ì¼ë³¸ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ë ¤ëŠ” ê²½ìš°, ì €í¬ëŠ” ë„ì™€ë“œë¦´ ì¤€ë¹„ê°€ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì¼ë³¸ì— íŠ¹í™”ëœ AI ìµœì í™”ê°€ í•„ìš”í•œ í˜‘ì—…ì´ë‚˜ í”„ë¡œì íŠ¸ê°€ ìˆë‹¤ë©´ ë§ì„¤ì´ì§€ ë§ê³  ì—°ë½í•´ ì£¼ì„¸ìš”.\n\nì•„ë˜ ì´ë©”ì¼ ì£¼ì†Œë¡œ ì§ì ‘ ì—°ë½í•´ ì£¼ì„¸ìš”!\n\n```js\nmizutori@goldrushcomputing.com\n```\n","ogImage":{"url":"/assets/img/2024-07-09-LLMStudyDiaryComprehensiveReviewofLangChainPart4_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-LLMStudyDiaryComprehensiveReviewofLangChainPart4_0.png","tag":["Tech"],"readingTime":11},{"title":"FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•","description":"","date":"2024-07-09 09:22","slug":"2024-07-09-Server-SentEventSSEinFastAPIApplications","content":"\nì„œë²„ ì „ì†¡ ì´ë²¤íŠ¸(Server-Sent Events, SSE)ëŠ” ì„œë²„ê°€ ì‹±ê¸€ HTTP ì—°ê²°ì„ í†µí•´ ì›¹ í´ë¼ì´ì–¸íŠ¸ì— ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•  ìˆ˜ ìˆëŠ” ì„œë²„ í‘¸ì‹œ ê¸°ìˆ ì…ë‹ˆë‹¤. ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ë˜ëŠ” ì‹¤ì‹œê°„ ë¶„ì„ê³¼ ê°™ì´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\n\n![SSE](/TIL/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png)\n\n## SSE ì†Œê°œ\n\n- SSEëŠ” ì„œë²„ê°€ ì´ˆê¸° í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì„¤ì •í•˜ìë§ˆì ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„° ì „ì†¡ì„ ì‹œì‘í•  ìˆ˜ ìˆëŠ” í‘œì¤€ì…ë‹ˆë‹¤.\n- ì›¹ì†Œì¼“ê³¼ ë‹¬ë¦¬ SSEëŠ” ì–‘ë°©í–¥ í†µì‹ ì´ ì•„ë‹Œ ë‹¨ë°©í–¥ì´ë©°, ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ê°€ íë¦…ë‹ˆë‹¤.\n- ì´ë¡œì¨ SSEëŠ” ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ë” ê°„ë‹¨í•œ ëŒ€ì•ˆì´ ë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì™œ SSEë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?\n\nSSEëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤:\n\n- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤, ì˜ˆë¥¼ ë“¤ì–´ ì‹¤ì‹œê°„ ìŠ¤í¬ì¸  ì ìˆ˜, ì£¼ì‹ ì‹œì¥ ì—…ë°ì´íŠ¸, ë˜ëŠ” ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±.\n- ì„œë²„ ëª¨ë‹ˆí„°ë§ ë° ëŒ€ì‹œë³´ë“œ: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œëŠ” SSEë¥¼ í™œìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¥¼ ê³„ì† í´ë§í•  í•„ìš” ì—†ì´ ë©”íŠ¸ë¦­ ë° ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì•Œë¦¼: ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ì•Œë¦¼ì„ SSEë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì„œ, í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì§€ì†ì ìœ¼ë¡œ í´ë§í•  í•„ìš”ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤.\n- ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì„¸íŠ¸ë‚˜ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ê²ƒì„ SSEë¡œ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# FastAPIì—ì„œ SSE êµ¬í˜„í•˜ê¸°\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nFastAPIì€ ì†ë„ì™€ ì‚¬ìš© í¸ì˜ì„±ìœ¼ë¡œ ìœ ëª…í•˜ë©°, sse-starlette ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í†µí•©í•˜ì—¬ SSEë¥¼ êµ¬í˜„í•˜ëŠ” ë° ì˜ ì‘ë™í•©ë‹ˆë‹¤. ë‹¤ìŒì€ ì„¤ì • ë°©ë²•ì…ë‹ˆë‹¤.\n\n# ì˜ˆì œ êµ¬í˜„\n\n## ë‹¨ê³„ 1: í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜\n\në¨¼ì €, FastAPIì™€ sse-starletteë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\npip install fastapi sse-starlette\n```\n\n## Step 2: FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±\n\n```js\nfrom fastapi import FastAPI\nfrom sse_starlette.sse import EventSourceResponse\nimport asyncio\n\napp = FastAPI()\nasync def event_generator():\n    while True:\n        await asyncio.sleep(1)\n        yield {\"data\": \"This is a server-sent event!\"}\n@app.get(\"/events\")\nasync def sse_endpoint():\n    return EventSourceResponse(event_generator())\n```\n\nì´ ì˜ˆì‹œì—ì„œ event_generatorëŠ” ë§¤ ì´ˆë§ˆë‹¤ ìƒˆ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë¹„ë™ê¸° ìƒì„±ìì…ë‹ˆë‹¤. sse_endpoint ì—”ë“œí¬ì¸íŠ¸ëŠ” EventSourceResponseë¥¼ ì‚¬ìš©í•˜ì—¬ SSE ì—°ê²°ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## FastAPIì—ì„œ SSE ì‚¬ìš© ì‚¬ë¡€\n\n- ëŒ€ì‹œë³´ë“œìš© ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:\n\n  - SSEëŠ” ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ë‚˜ ì‹¤ì‹œê°„ ë¶„ì„ ëŒ€ì‹œë³´ë“œì™€ ê°™ì€ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ì„ í‘œì‹œí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë³µì¡í•œ WebSocket ê´€ë¦¬ ì—†ì´ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n- ì‹¤ì‹œê°„ ì•Œë¦¼:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì‚¬ìš©ìì—ê²Œ ì´ë²¤íŠ¸ ì•Œë¦¼ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜(ë©”ì‹ ì € ì•±ì´ë‚˜ ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ê°™ì€)ì€ SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ì—…ë°ì´íŠ¸ë¥¼ ì‹ ì†í•˜ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- ìŠ¤íŠ¸ë¦¬ë° ë¡œê·¸:\n\n- SSEëŠ” ì‹¤ì‹œê°„ ë¡œê·¸ë‚˜ ê¸°íƒ€ ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ë¥¼ í‘œì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜ ë§ëŠ” ê°€ë²¼ìš´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.\n\n## SSEì˜ ì¥ì :\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ê°„í¸í•¨: SSEëŠ” ì›¹ì†Œì¼“ì— ë¹„í•´ êµ¬í˜„ê³¼ ê´€ë¦¬ê°€ ê°„ë‹¨í•©ë‹ˆë‹¤.\n- ìë™ ì¬ì—°ê²°: ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì¬ì—°ê²°ì„ ì²˜ë¦¬í•˜ì—¬ SSEê°€ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ì— ê°•ë ¥í•©ë‹ˆë‹¤.\n- HTTP í˜¸í™˜ì„±: SSEëŠ” í‘œì¤€ HTTP/2 ì—°ê²°ì„ í†µí•´ ì‘ë™í•˜ë¯€ë¡œ ê¸°ì¡´ ì¸í”„ë¼ì™€ ì‘ì—…í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.\n\n## SSE ëŒ€ì•ˆ:\n\n- ì›¹ì†Œì¼“:\n\n- ì–‘ë°©í–¥ í†µì‹ : ì–‘ë°©í–¥ í†µì‹ ì´ í•„ìš”í•œ ê²½ìš° ì›¹ì†Œì¼“ì„ ì„ í˜¸í•©ë‹ˆë‹¤.\n- ë‚®ì€ ì§€ì—° ì‹œê°„: ì›¹ì†Œì¼“ì€ SSEë³´ë‹¤ ë‚®ì€ ì§€ì—° ì‹œê°„ì„ ì œê³µí•˜ì—¬ ì˜¨ë¼ì¸ ê²Œì„ê³¼ ê°™ì´ ë§¤ìš° ìƒí˜¸ì‘ìš©ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Long Polling:\n\n- í˜¸í™˜ì„±: Long pollingì€ ì˜¤ë˜ëœ ë¸Œë¼ìš°ì €ì™€ í˜¸í™˜ë˜ë©° WebSocketsì´ë‚˜ SSEë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì˜¤ë²„í—¤ë“œ: ë°˜ë³µëœ ìš”ì²­ìœ¼ë¡œ ì¸í•´ SSEë‚˜ WebSocketsì— ë¹„í•´ ë” ë§ì€ ì˜¤ë²„í—¤ë“œë¥¼ ë„ì…í•©ë‹ˆë‹¤.\n\n# SSEì˜ í˜„ì‹¤ ì„¸ê³„ì—ì„œì˜ ì‚¬ìš© ì‚¬ë¡€\n\nì„œë²„-ì „ì†¡ ì´ë²¤íŠ¸ (SSE)ëŠ” ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í•„ìš”ë¡œí•˜ëŠ” í˜„ì‹¤ ì„¸ê³„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì— ëª‡ ê°€ì§€ ì£¼ëª©í•  ë§Œí•œ ì˜ˆì‹œê°€ ìˆìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´\n- ì£¼ì‹ ì‹œì¥ ë° ê¸ˆìœµ ë°ì´í„°\n- ì†Œì…œ ë¯¸ë””ì–´ í”Œë«í¼ ë“±ë“±..\n\nìš°ë¦¬ëŠ” ESPNì´ë‚˜ BBC Sportsì™€ ê°™ì´ ì œê³µë˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì˜ˆì‹œë¥¼ ë” ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\nì§„í–‰ ì¤‘ì¸ ì¶•êµ¬ ê²½ê¸°ì— ëŒ€í•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒìƒí•´ë³´ì„¸ìš”. ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê³¨ ë“ì  ë° ê²½ê¸° í†µê³„ì™€ ê°™ì€ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤. ì´ê³³ì´ [GitHub ë§í¬](GitHub Link).\n\n## SSE êµ¬í˜„\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì„œë²„ ì¸¡ êµ¬í˜„:\n\nì•„ë˜ íŒŒì¼ì€ ê²½ê¸° ê°œìš”ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n```js\n// scores.py\n\n[\n  {\n    time: \"00:01\",\n    scores: \"1:0\",\n    event: \"Goal! Team A scores!\",\n  },\n  {\n    time: \"00:05\",\n    scores: \"1:1\",\n    event: \"Goal! Team B scores!\",\n  },\n  {\n    time: \"00:10\",\n    scores: \"2:1\",\n    event: \"Goal! Team A scores again!\",\n  },\n];\n```\n\n- ì„œë²„ëŠ” ê²½ê¸° ë°ì´í„°ì˜ ì‹¤ì‹œê°„ í”¼ë“œë¥¼ ìœ ì§€í•˜ë©° SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.\n- ì–´ë–¤ ì´ë²¤íŠ¸(ê³¨, êµì²´ ë“±)ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤, ì„œë²„ëŠ” ì´ ì—…ë°ì´íŠ¸ë¥¼ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í‘¸ì‹œí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# main.py\n\nfrom fastapi import FastAPI\nfrom sse_starlette.sse import EventSourceResponse\nimport asyncio\nimport json\n\napp = FastAPI()\n\nasync def event_generator():\nwith open(\"scores.json\", \"r\") as file:\nscores = json.load(file)\nfor score in scores:\nawait asyncio.sleep(5)  \n yield f\"Match Summary: {json.dumps(score)}\\n\\n\"\n\n@app.get(\"/live-scores\")\nasync def live_scores_endpoint():\nreturn EventSourceResponse(event_generator())\n\n# Adding CORS middleware\n\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\nCORSMiddleware,\nallow_origins=[\"*\"],\nallow_credentials=True,\nallow_methods=[\"*\"],\nallow_headers=[\"*\"],\n)\n\nClient-Side Implementation:\n\n- ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì¸ í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì™€ SSE ì—°ê²°ì„ ì„¤ì •í•˜ê³  ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.\n\n```html\n\u003c!-- index.html --\u003e\n\n\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eLive Sports Scores\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ch1\u003eLive Football Scores\u003c/h1\u003e\n    \u003cdiv id=\"score-updates\"\u003e\u003c/div\u003e\n\n    \u003cscript\u003e\n      const eventSource = new EventSource(\"http://127.0.0.1:8000/live-scores\");\n\n      eventSource.onmessage = function (event) {\n        const newElement = document.createElement(\"div\");\n        newElement.innerHTML = event.data;\n        document.getElementById(\"score-updates\").appendChild(newElement);\n      };\n\n      eventSource.onerror = function (event) {\n        console.error(\"EventSource failed:\", event);\n        eventSource.close();\n      };\n    \u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì°¸ê³ \n\n- https://fastapi.tiangolo.com/\n- https://pypi.org/project/sse-starlette/\n\n# ê²°ë¡ \n\nsse-starletteë¥¼ ì‚¬ìš©í•˜ë©´ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì— SSEë¥¼ í†µí•©í•˜ëŠ” ê²ƒì´ ê°„í¸í•˜ê³  íš¨ìœ¨ì ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ì‹œìŠ¤í…œ ë˜ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œ ì¤‘ì´ë“ , SSEëŠ” ê²¬ê³ í•˜ê³  ê°„í¸í•œ í•´ê²°ì±…ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ë§Œì¼ ì–´ë– í•œ ì˜¤ë¥˜ë¥¼ ë°œê²¬í•˜ì‹œê±°ë‚˜ ê°œì„  ì œì•ˆì´ ìˆìœ¼ì‹œë‹¤ë©´ ì•„ë˜ ëŒ“ê¸€ì— ê³µìœ í•´ ì£¼ì„¸ìš”.\n\nì´ ê¸€ì´ ë§ˆìŒì— ë“¤ì—ˆë‹¤ë©´ ğŸ‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë°œê²¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”. GitHubì—ì„œ ì œ í”„ë¡œí•„ì„ íŒ”ë¡œìš°í•˜ê³  LinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ë„ ê´œì°®ì•„ìš”.\n","ogImage":{"url":"/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png","tag":["Tech"],"readingTime":9},{"title":"1ì–µ í–‰ íŒŒì´ì¬ ì²˜ë¦¬ ë„ì „  10ë¶„ì—ì„œ 4ì´ˆë¡œ ì¤„ì´ëŠ” ë°©ë²•","description":"","date":"2024-07-09 09:21","slug":"2024-07-09-PythonOneBillionRowChallengeFrom10Minutesto4Seconds","content":"\n![Python One Billion Row Challenge](/TIL/assets/img/2024-07-09-PythonOneBillionRowChallengeFrom10Minutesto4Seconds_0.png)\n\nìš”ì¦˜ì—ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ 10ì–µ í–‰ì˜ ë°ì´í„°ë¥¼ í†µí•©í•˜ëŠ” ì†ë„ì— ëŒ€í•œ ë¬¸ì œê°€ ì£¼ëª©ì„ ë°›ê³  ìˆìŠµë‹ˆë‹¤. ì„±ëŠ¥ì´ ê°€ì¥ ìš°ìˆ˜í•˜ì§€ ì•Šì€ Pythonì€ ë‹¹ì—°íˆ íŠ¹íˆ í˜„ì¬ ìµœìƒìœ„ ì„±ëŠ¥ì„ ë°œíœ˜í•˜ëŠ” Java êµ¬í˜„ì´ ë‹¨ ëª‡ ì´ˆ(1.535ì´ˆ)ë§Œì— ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì—ì„œ ê±°ì˜ ê¸°íšŒê°€ ì—†ìŠµë‹ˆë‹¤!\n\në„ì „ì˜ ê·¼ë³¸ì ì¸ ê·œì¹™ì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜¤ëŠ˜ì˜ ëª©í‘œëŠ” ê·œì¹™ì„ ì¤€ìˆ˜í•œ í›„ì— ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë” ì í•©í•œ íŒŒì¼ í˜•ì‹ì„ ì‚¬ìš©í–ˆì„ ë•Œ ê²°ê³¼ê°€ ì–´ë–»ê²Œ ë‚˜ì˜¤ëŠ”ì§€ ì‚´í´ë³´ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ë¥¼ 5íšŒ ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ í‰ê· í™”í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní•˜ë“œì›¨ì–´ë¡œëŠ” 12ê°œ CPU ì½”ì–´ì™€ 36 GB RAMì´ ì¥ì°©ëœ 16ì¸ì¹˜ M1 Pro MacBook Proë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì½”ë“œë¥¼ ì‹¤í–‰í•  ê²½ìš° ê²°ê³¼ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ, êµ¬í˜„ ì‚¬ì´ì—ëŠ” ë¹„ìŠ·í•œ ë°±ë¶„ìœ¨ ì°¨ì´ë¥¼ ë³¼ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\n\n## ì½”ë“œ\n\n- GitHub ì €ì¥ì†Œ â€” Pythonìœ¼ë¡œ 10ì–µ í–‰ ë„ì „\n\n# 10ì–µ í–‰ ë„ì „ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n1 Billion Row Challenge (1BRC)ì˜ ì•„ì´ë””ì–´ëŠ” ê°„ë‹¨í•©ë‹ˆë‹¤ - .txt íŒŒì¼ì„ í†µí•´ 10ì–µ í–‰ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-07-09-PythonOneBillionRowChallengeFrom10Minutesto4Seconds_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-PythonOneBillionRowChallengeFrom10Minutesto4Seconds_0.png","tag":["Tech"],"readingTime":2},{"title":"êµ¬ë²„ì „ AWS Lambda ëŸ°íƒ€ì„ ìë™ ì—…ë°ì´íŠ¸ ë°©ë²•","description":"","date":"2024-07-09 09:20","slug":"2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates","content":"\n## Python for devops v1.2 - êµ¬ë²„ì „/ì§€ì› ì¤‘ë‹¨ëœ ëŸ°íƒ€ì„ì„ ì‚¬ìš© ì¤‘ì¸ AWS ëŒë‹¤ í•¨ìˆ˜ì˜ ì—…ê·¸ë ˆì´ë“œë¥¼ ìœ„í•œ Python ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±í•˜ê¸°.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_0.png)\n\nì €ì˜ ë¸”ë¡œê·¸ ì‹œë¦¬ì¦ˆ Python for DevOpsì˜ ë‘ ë²ˆì§¸ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ì‹¤ì œ ë°ë¸Œì˜µìŠ¤ ì‚¬ìš© ì‚¬ë¡€ë¥¼ íƒêµ¬í•˜ë©´ì„œ Python ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ë´…ë‹ˆë‹¤.\n\nPython for devops ì²« ë²ˆì§¸ ë¶€ë¶„ - SQS í ì•”í˜¸í™” ìë™í™”\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì‹œë‚˜ë¦¬ì˜¤\n\në³´ì•ˆ íŒ€ìœ¼ë¡œë¶€í„° ìˆ˜ë°± ê°œì˜ Lambda í•¨ìˆ˜ê°€ Python 3.8 ë° Node.js 14xì™€ ê°™ì€ ì§€ì›ë˜ì§€ ì•ŠëŠ” ëŸ°íƒ€ì„ì„ ì‹¤í–‰ ì¤‘ì´ë¼ëŠ” ë¶ˆë§Œì„ ë°›ì•˜ë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. AWSëŠ” Lambda í•¨ìˆ˜ì˜ ì˜¤ë˜ëœ ëŸ°íƒ€ì„ì„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nì´ ëª¨ë“  Lambda í•¨ìˆ˜ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì€ ê³ í†µìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì±…ì„ê° ìˆëŠ” Devops ì—”ì§€ë‹ˆì–´ë¡œì„œ, ì´ëŸ¬í•œ ìˆ˜ë™ ì‘ì—…ì„ í”¼í•˜ê³  ì´ëŸ¬í•œ ì‘ì—…ì„ ìë™í™”í•˜ê¸° ìœ„í•œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ Python ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ê³  ì‹¶ì–´ í•©ë‹ˆë‹¤.\n\n# ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì—ì„œ ë‹¤ë£° ë‚´ìš©ì€ ë¬´ì—‡ì¸ê°€ìš”?\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ëŒë‹¤ ëŸ°íƒ€ì„ ì—…ë°ì´íŠ¸ë¥¼ ìë™í™”í•˜ëŠ” ë°©ë²•ì„ ê°€ë¥´ì³ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì›í•˜ëŠ” Python ë²„ì „ì„ ì¸ìˆ˜ë¡œ ë°›ì•„ ì´ì „ ë²„ì „ì„ ì‚¬ìš© ì¤‘ì¸ ëŒë‹¤ë¥¼ ë‚˜ì—´í•œ í›„ ëŸ°íƒ€ì„ì„ ì›í•˜ëŠ” ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œí•  ê²ƒì…ë‹ˆë‹¤.\n\n## ë”°ë¥¼ ë‹¨ê³„ë“¤\n\n- Lambdaë¥¼ ìœ„í•œ boto3 í´ë¼ì´ì–¸íŠ¸ ìƒì„±.\n- AWS ê³„ì •ì˜ í•´ë‹¹ ì§€ì—­ ë‚´ ëª¨ë“  ëŒë‹¤ í•¨ìˆ˜ë¥¼ ë‚˜ì—´.\n- ëŒë‹¤ í•¨ìˆ˜ì˜ ëŸ°íƒ€ì„ ê°€ì ¸ì˜¤ê¸°.\n- ëŒë‹¤ ëŸ°íƒ€ì„ì´ ì›í•˜ëŠ” ë²„ì „ë³´ë‹¤ ë‚®ì€ì§€ ìœ íš¨ì„± ê²€ì‚¬.\n- ëŒë‹¤ ëŸ°íƒ€ì„ì„ ì›í•˜ëŠ” ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ.\n- ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë™ì•ˆ ìµœì„ ì˜ ì‹¤ì²œ ë°©ë²•ì„ ì¤€ìˆ˜í•  ê²ƒì…ë‹ˆë‹¤.\n\n# ì„ í–‰ ì¡°ê±´:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì§€ì—­ ë¨¸ì‹ ì—ì„œ AWS ìê²© ì¦ëª…ì„ êµ¬ì„±í•˜ë ¤ë©´ aws configure ëª…ë ¹ì„ ì‹¤í–‰í•˜ì„¸ìš”. ìµœê·¼ ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ì˜ ì§€ì¹¨ì„ ë”°ë¼ ì£¼ì„¸ìš”.\n- AWS CLI ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ì´ì „ ë²„ì „ì˜ Python ëŸ°íƒ€ì„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ëª‡ ê°€ì§€ ìƒ˜í”Œ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ë§Œë“œì„¸ìš”.\n\n# Python ìŠ¤í¬ë¦½íŠ¸ ê°œë°œì„ ì§„í–‰í•˜ê¸° ì „ì— ì‚¬ì „ ì„¤ì •ì„ í•´ë´…ì‹œë‹¤ â€” ë°ëª¨ ëŒë‹¤ í•¨ìˆ˜ ìƒì„±.\n\n## 1. ë°°í¬ íŒ¨í‚¤ì§€ ì¤€ë¹„\n\n- ëŒë‹¤ í•¨ìˆ˜ ì½”ë“œë¥¼ ìœ„í•œ ë””ë ‰í„°ë¦¬ë¥¼ ë§Œë“œì„¸ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nmkdir my-lambda-function\ncd my-lambda-function\n```\n\n- ëŒë‹¤ í•¨ìˆ˜ ì½”ë“œë¥¼ ìƒì„±í•˜ì„¸ìš” (ì˜ˆ: lambda_function.py)\n\n```js\ndef lambda_handler(event, context):\n    return \"Hello, World!\"\n```\n\n- ë””ë ‰í† ë¦¬ ë‚´ìš©ì„ ì••ì¶•í•˜ì„¸ìš”\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```bash\nzip -r deployment-package.zip .\n```\n\n## 2. Create a Lambda Execution Role\n\n- Create a trust policy (e.g., trust-policy.json)\n\n```json\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- IAM ì—­í• ì„ ìƒì„±í•˜ì„¸ìš”\n\n```js\naws iam create-role --role-name MyLambdaExecutionRole --assume-role-policy-document file://trust-policy.json\n```\n\n![ì—°ê²°ëœ ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_1.png)\n\n- ì—­í• ì— AWSLambdaBasicExecutionRole ì •ì±…ì„ ì—°ê²°í•˜ì„¸ìš”\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\naws iam attach-role-policy --role-name MyLambdaExecutionRole --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole\n\n## 3. ëŒë‹¤ í•¨ìˆ˜ ë°°í¬í•˜ê¸°\n\n- ëŒë‹¤ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” AWS CLI ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³´ì¼ ê²ƒì…ë‹ˆë‹¤.\n\naws lambda create-function \\\n --function-name MyPython38Function \\\n --runtime python3.8 \\\n --role arn:aws:iam::YOUR_ACCOUNT_ID:role/YOUR_LAMBDA_EXECUTION_ROLE \\\n --handler lambda_function.lambda_handler \\\n --zip-file fileb://path/to/your/deployment/package.zip\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì´ì œ IAM ì—­í• ê³¼ ë°°í¬ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ 3ê°œì˜ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ë°°í¬í•  ì˜ˆì •ì…ë‹ˆë‹¤.\n\n```js\naws lambda create-function \\\n    --function-name medium-blog-lambda1 \\\n    --runtime python3.8 \\\n    --role arn:aws:iam::366130468123:role/MyLambdaExecutionRole \\\n    --handler lambda_function.lambda_handler \\\n    --zip-file fileb://my-lambda-function/deployment-package.zip \\\n    --timeout 15 \\\n    --memory-size 128\n```\n\nì•„ë˜ì™€ ê°™ì´ 3ê°œì˜ ëŒë‹¤ í•¨ìˆ˜ê°€ ìƒì„±ë©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_2.png)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ì œ íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±ì„ ì‹œì‘í•  ì¤€ë¹„ê°€ ëë‚¬ì–´ìš”.\n\níŒŒì´ì¬ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì—, ìµœê³ ì˜ ë°©ë²•ì„ ë”°ë¼ íŒŒì´ì¬ í™˜ê²½ì„ ì„¤ì •í•´ë³´ê² ì–´ìš”.\n\n## íŒŒì´ì¬ ê°€ìƒ í™˜ê²½ ë§Œë“¤ê¸°\n\n```js\n# ê°€ìƒ íŒŒì´ì¬ í™˜ê²½ ë§Œë“¤ê¸°\npython3 -m venv medium_blog\n\n# ê°€ìƒ í™˜ê²½ í™œì„±í™”í•˜ê¸°\nsource medium_blog/bin/activate\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- requirements.txt íŒŒì¼ì„ ìƒì„±í•˜ê³  í•´ë‹¹ íŒŒì¼ì— ì˜ì¡´ì„±ì„ ë„£ì–´ì£¼ì„¸ìš”.\n\nboto3ëŠ” Python ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, Pythonì„ ì‚¬ìš©í•˜ì—¬ AWS ë¦¬ì†ŒìŠ¤ì™€ í†µì‹ í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.\n\n# requirements.txt\n\nboto3\n\n- ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\npip install -r requirements.txt\n```\n\n# ì´ì œ ì„¤ì •ì„ ì™„ë£Œí–ˆìœ¼ë‹ˆ, íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ ë³¼ê¹Œìš”?\n\nìš°ë¦¬ëŠ” ì½”ë“œë¥¼ ì‘ì€ ë¶€ë¶„, ì¦‰ í•¨ìˆ˜ë¡œ ë‚˜ëˆ„ì–´ ê° í•¨ìˆ˜ê°€ í•œ ê°€ì§€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ í•  ìˆ˜ ìˆì–´ìš”.\n\nì°¸ê³ : ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì˜ ì „ì²´ ì½”ë“œëŠ” ì œ ê³µê°œ GitHubì— ì˜¬ë¦´ ì˜ˆì •ì´ì—ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 1. Python ëª¨ë“ˆì„ ê°€ì ¸ì™€ boto3ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒë‹¤ í´ë¼ì´ì–¸íŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤\n\n![lambda client](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_3.png)\n\n## 2. ëª¨ë“  ëŒë‹¤ë¥¼ ë‚˜ì—´í•˜ëŠ” í•¨ìˆ˜ â€” ëŒë‹¤ í•¨ìˆ˜ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n![list lambdas](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_4.png)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ê¸°ëŠ¥ì€ lambda_clientë¥¼ ì‚¬ìš©í•˜ì—¬ Lambda í•¨ìˆ˜ ëª©ë¡ì„ ê°€ì ¸ì™€ ë°˜í™˜í•©ë‹ˆë‹¤.\n\nlist_functions()[â€œFunctionsâ€] ëŒ€ì‹  list_functions().get(â€œFunctionsâ€, None)ì„ ì‚¬ìš©í•˜ì—¬ ì‘ë‹µì— â€œFunctionsâ€ í‚¤ê°€ ì—†ì„ ë•Œ KeyErrorë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì½”ë“œê°€ ê¸°ë³¸ê°’ì¸ Noneì„ ë°˜í™˜í•˜ë¯€ë¡œ ë” ê²¬ê³ í•˜ê³  ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## 3. ëŒë‹¤ ëŸ°íƒ€ì„ ê°€ì ¸ì˜¤ê¸°.\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_5.png\" /\u003e\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ í•¨ìˆ˜ëŠ” lambda_json_listì— ìˆëŠ” ë”•ì…”ë„ˆë¦¬ì—ì„œ FunctionNameê³¼ Runtimeì„ ì¶”ì¶œí•˜ê³ (Runtime ê°’ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ëŒë‹¤ í•¨ìˆ˜ì˜ ê²½ìš°), ì´ë¦„ê³¼ ëŸ°íƒ€ì„ì„ í¬í•¨í•˜ëŠ” íŠœí”Œì˜ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n4. ì›í•˜ëŠ” ëŸ°íƒ€ì„ê³¼ ëŸ°íƒ€ì„ì„ ë¹„êµí•˜ê³  ëŸ°íƒ€ì„ì´ ì›í•˜ëŠ” ê²ƒë³´ë‹¤ ë‚®ìœ¼ë©´ Trueë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_6.png)\n\në²„ì „ í´ë˜ìŠ¤ëŠ” packaging.version ëª¨ë“ˆì—ì„œ ì‚¬ìš©ë˜ë©° ë²„ì „ ë¬¸ìì—´ì„ êµ¬ë¬¸ ë¶„ì„í•˜ê³  ë¹„êµí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ì—ì„œëŠ” í˜„ì¬ ëŸ°íƒ€ì„ ë²„ì „ì´ ì§€ì •ëœ ë²„ì „ë³´ë‹¤ ì´ì „ ë²„ì „ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 5. ë¹„êµ í•¨ìˆ˜ê°€ True ê°’ì„ ë°˜í™˜í•˜ë©´ ëŒë‹¤ ëŸ°íƒ€ì„ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\n\n![Lambda Runtime Update](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_7.png)\n\nì´ í•¨ìˆ˜ëŠ” ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒˆë¡œìš´ ëŸ°íƒ€ì„ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.\n\nì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ try/except ë¸”ë¡ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ë¥¼ ê´€ë¦¬í•˜ê³  ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. try ë¸”ë¡ ë‚´ì—ì„œ ìœ„í—˜í•œ ì‘ì—…ì„ ì‹œë„í•˜ê³  ê·¸ì— ë”°ë¥¸ ì˜ˆì™¸ë¥¼ exceptì—ì„œ ì²˜ë¦¬í•˜ì—¬ í”„ë¡œê·¸ë¨ì´ ì˜¤ë¥˜ë¡œ ì¸í•´ ì¶©ëŒí•˜ì§€ ì•Šê³  ìš°ì•„í•˜ê²Œ íšŒë³µë  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 6. ì¡°ê°ë“¤ì„ í•¨ê»˜ ëª¨ìœ¼ê¸°\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_8.png)\n\n## 7. ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰í•˜ê¸°\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_9.png)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìœ„ì˜ ì½”ë“œ ìŠ¤ë‹ˆí«ì„ ëª¨ë‘ `update_lambda_runtimes.py` íŒŒì¼ì— ë¶™ì—¬ë„£ê³  ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\n\n```js\npython update_lambda_runtimes.py\n```\n\n`__name__`ì´ `'__main__'`ì¸ ìƒíƒœì—ì„œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œë§Œ `run()` í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ë¡ í•˜ì—¬ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\n\nìŠ¤í¬ë¦½íŠ¸ì˜ ìœ ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ëª…ë ¹ì¤„ ì¸ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ í™œì„±í™”í•´ì•¼ í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![Automatic Outdated AWS Lambda Runtime Updates](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_10.png)\n\nì´ í•¨ìˆ˜ëŠ” Pythonì—ì„œ argparse ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ ëª…ë ¹ì¤„ ì¸ì íŒŒì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹œ ì œê³µí•´ì•¼ í•  ì¸ìˆ˜ì¸ python_version (ë‹¨ì¶• í˜•ì‹ -a)ì„ ê¸°ëŒ€í•©ë‹ˆë‹¤.\n\n## ëª…ë ¹ì¤„ ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰\n\n![Automatic Outdated AWS Lambda Runtime Updates Example](/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_11.png)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\npython update_lambda_runtimes.py --python-version python3.9\n```\n\në¸”ë¡œê·¸ ê²Œì‹œë¬¼ì˜ ì „ì²´ ì½”ë“œëŠ” ì œ ê³µê°œ GitHub ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë§í¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•¡ì„¸ìŠ¤í•˜ì„¸ìš”.\n\n## ë¬´ì—‡ì„ ë” í•´ì•¼ í• ê¹Œìš”?\n\n- ë¡œê¹… ì‚¬ìš©í•˜ê¸°.\n- ì½”ë“œ ë¬¸ì„œí™” ë° íƒ€ì… íŒíŠ¸ ì‚¬ìš©í•˜ê¸°.\n- NodeJS, Go ë“± ë‹¤ë¥¸ ëŸ°íƒ€ì„ì„ í¬í•¨í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ í™•ì¥í•˜ê¸°.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €ì™€ LinkedInì—ì„œ ì—°ë½í•˜ì„¸ìš”: [https://www.linkedin.com/in/akhilesh-mishra-0ab886124/](https://www.linkedin.com/in/akhilesh-mishra-0ab886124/)\n","ogImage":{"url":"/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-AutomateOutdatedAWSLambdaRuntimeUpdates_0.png","tag":["Tech"],"readingTime":12},{"title":"FastAPI ì‹¤ìŠµ ê°„ë‹¨í•œ í•  ì¼ ëª©ë¡ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸° ë°©ë²•","description":"","date":"2024-07-09 09:18","slug":"2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication","content":"\n# ë¨¼ì €, FastAPIì— ëŒ€í•œ ê°„ê²°í•œ ì†Œê°œë¶€í„° ì‹œì‘í•´ë³´ê² ìŠµë‹ˆë‹¤.\n\nFastAPIëŠ” Pythonìœ¼ë¡œ APIë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í˜„ëŒ€ì ì¸ ì›¹ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. SebastiÃ¡n RamÃ­rezê°€ ë§Œë“¤ì—ˆìœ¼ë©°, ë¹ ë¥´ê³  ì‚¬ìš©í•˜ê¸° ì‰½ë©° ê¸°ëŠ¥ì´ í’ë¶€í•˜ì—¬ ì¸ê¸°ë¥¼ ì–»ê³  ìˆìŠµë‹ˆë‹¤.\n\nFastAPIëŠ” ì—¬ëŸ¬ ì´ìœ ë¡œ ëˆˆì— ë•ë‹ˆë‹¤:\n\n- ì†ë„: ì‚¬ìš© ê°€ëŠ¥í•œ Python í”„ë ˆì„ì›Œí¬ ì¤‘ ê°€ì¥ ë¹ ë¦…ë‹ˆë‹¤.\n- ì‚¬ìš© í¸ì˜ì„±: Pythonì˜ íƒ€ì… íŒíŠ¸ ë•ë¶„ì— ì½”ë“œ ì‘ì„±ì´ ì§ê´€ì ì´ê³  ëª…í™•í•©ë‹ˆë‹¤.\n- ëŒ€í™”í˜• ë¬¸ì„œ: Swagger UI ë° ReDocì™€ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€í™”í˜• API ë¬¸ì„œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nFastAPIì€ ì›¹ ë¶€ë¶„ì— Starlette(Starletteì€ Pythonì—ì„œ ë¹„ë™ê¸° ì›¹ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•˜ê¸°ì— ì´ìƒì ì¸ ê°€ë²¼ìš´ ASGI í”„ë ˆì„ì›Œí¬/ë„êµ¬)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê³  ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ì„ ìœ„í•´ Pydanticì„ ì‚¬ìš©í•˜ì—¬ ë¹ ë¥´ê³  ì‹ ë¢°ì„±ì´ ë†’ìŠµë‹ˆë‹¤.\n\nì´ ê¸€ì—ì„œëŠ” FastAPIê°€ ì¸ê¸° ìˆëŠ” ì´ìœ , ì£¼ìš” íŠ¹ì§•, ê·¸ë¦¬ê³  ì§ì ‘ APIë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•´ FastAPIë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê²½í—˜ ë§ì€ ê°œë°œìë“  API ê°œë°œì— ì²˜ìŒ ë„ì „í•˜ëŠ” ê°œë°œìë“  FastAPIë¥¼ ì‚¬ìš©í•˜ë©´ íš¨ìœ¨ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì†ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# Flaskì™€ Djangoì™€ ë¹„êµí•œ FastAPIì˜ í•µì‹¬ ê¸°ëŠ¥ ë° ì´ì \n\nFlaskì™€ Djangoì™€ ë¹„êµí–ˆì„ ë•Œ, FastAPIëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ìœ¼ë¡œ ë‘ê°ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì„±ëŠ¥ ìš°ìˆ˜ì„±: FastAPIëŠ” Starletteê³¼ Pydanticì„ í™œìš©í•˜ì—¬ ë¹ ë¥¸ ì†ë„ì—ì„œ Node.jsì™€ Goì™€ ê²½ìŸí•˜ë©° íš¨ìœ¨ì ì¸ ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\n- ì‚¬ìš© í¸ì˜ì„± ë° ê°œë°œ ì†ë„: FastAPIì˜ ê°„ë‹¨í•œ êµ¬ë¬¸ê³¼ ìë™ ë¬¸ì„œí™”(Swagger UI, ReDoc)ëŠ” ê°œë°œì„ ê°€ì†í™”ì‹œì¼œ ì˜¤ë¥˜ë¥¼ ì¤„ì…ë‹ˆë‹¤.\n- ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ë° ë³´ì•ˆ: í†µí•©ëœ Pydanticì€ ê²¬ê³ í•œ ë°ì´í„° ìœ íš¨ì„±ì„ ë³´ì¥í•˜ì—¬ API ì‹ ë¢°ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. FastAPIëŠ” ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬ë¥¼ ìœ„í•œ ë‚´ì¥ ë„êµ¬ë¡œ ë³´ì•ˆì„ ê°„ì†Œí™”í•©ë‹ˆë‹¤.\n- ë¹„ë™ê¸° ì§€ì› ë° í™•ì¥ì„±: ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì— ëŒ€í•œ ì¼ë¥˜ ì§€ì›ì€ ë³‘ë ¬ ìš”ì²­ ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ë©° ë†’ì€ ìˆ˜ìš” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í™•ì¥ì„±ì— ì¤‘ìš”í•©ë‹ˆë‹¤.\n\nFastAPIëŠ” ì´ëŸ¬í•œ ë¶„ì•¼ì—ì„œ ë›°ì–´ë‚˜ë¯€ë¡œ Python ê¸°ë°˜ API í”„ë ˆì„ì›Œí¬ì—ì„œ ì†ë„, í™•ì¥ì„± ë° ê°œë°œì˜ í¸ì˜ì„±ì„ í•„ìš”ë¡œ í•˜ëŠ” ê°œë°œìì—ê²Œ í”Œë¼ìŠ¤í¬ì™€ ì¥ê³  ëŒ€ë¹„ ë§¤ë ¥ì ì¸ ì„ íƒì§€ì…ë‹ˆë‹¤.\n\n# FastAPIë¡œ ì‹œì‘í•˜ê¸°\n\nFastAPIë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì€ ê°„ë‹¨í•˜ë©° ëª‡ ê°€ì§€ ì£¼ìš” ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©´ ë©ë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì„¤ì¹˜:\n\n- FastAPIë¥¼ pipë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜í•˜ì„¸ìš”:\n\n```js\npip install fastapi\n```\n\n2- ê°œë°œ ì„œë²„ ì‹¤í–‰:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ë¹ ë¥¸ ASGI ì„œë²„ ì¸ Uvicornì„ ì‚¬ìš©í•˜ì—¬ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ì„¸ìš”:\n\n```js\nuvicorn your_module_name:app --reload\n```\n\n- your_module_nameì„ FastAPI ì•±ì´ ì •ì˜ëœ Python íŒŒì¼ë¡œ ë°”ê¿”ì£¼ì„¸ìš”.\n- --reload ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìë™ìœ¼ë¡œ ë‹¤ì‹œë¡œë“œë˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì½”ë“œì— ë³€ê²½ ì‚¬í•­ì´ ê°ì§€ë˜ë©´ ì„œë²„ê°€ ìë™ìœ¼ë¡œ ì¬ì‹œì‘ë˜ì–´ ê°œë°œì´ ë” ë¹ ë¥´ê³  í¸ë¦¬í•´ì§‘ë‹ˆë‹¤.\n\n3- ì²« ë²ˆì§¸ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ë§Œë“¤ê¸°:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Python íŒŒì¼(main.py)ì— FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì •ì˜í•˜ì„¸ìš”:\n\n```python\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\n@app.get(\"/\")\ndef read_root():\n    return {\"Hello\": \"World\"}\n```\n\n- ì´ ì˜ˆì œì—ì„œ @app.get(\"/\")ì€ ë£¨íŠ¸ URL(\"/\")ì—ì„œ GET ìš”ì²­ì— ì‘ë‹µí•˜ëŠ” ë¼ìš°íŠ¸ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_0.png)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n4- ëŒ€í™”ì‹ API ë¬¸ì„œ íƒìƒ‰:\n\n- FastAPIëŠ” ìë™ìœ¼ë¡œ ëŒ€í™”ì‹ API ë¬¸ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8000/docs ì— ë°©ë¬¸í•˜ì—¬ Swagger UIë¥¼ íƒìƒ‰í•´ë³´ì„¸ìš”.\n\n![FastAPI Swagger UI](/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_1.png)\n\n- ë˜ëŠ”, http://localhost:8000/redoc ì— ë°©ë¬¸í•˜ì—¬ ReDoc ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image](/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_2.png)\n\n5- Expand Your Application:\n\n- Build upon your basic application by adding more routes, handling query parameters, path parameters, request bodies, and integrating with databases or other services.\n\n# Real-World Use Case: Simple To-Do List API\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê°„ë‹¨í•œ To-Do ë¦¬ìŠ¤íŠ¸ APIë¥¼ ë§Œë“¤ë©´ FastAPIì˜ í•µì‹¬ ê¸°ëŠ¥ê³¼ ì´ì ì„ ì´í•´í•˜ëŠ” ë° í›Œë¥­í•œ ë°©ë²•ì…ë‹ˆë‹¤. ì´ APIë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ í•  ì¼ í•­ëª©ì„ ì¶”ê°€, ë³´ê¸°, ì—…ë°ì´íŠ¸ ë° ì‚­ì œí•˜ëŠ” ê¸°ë³¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ì‘ì—…ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n1- ëª¨ë¸ ì •ì˜:\n\nFastAPIì—ì„œ Pydanticì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì„ ì •ì˜í•˜ë©´ API ìš”ì²­ ë° ì‘ë‹µì˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ìœ íš¨ì„± ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ê°„ë‹¨í•œ To-Do ë¦¬ìŠ¤íŠ¸ APIì˜ ëª¨ë¸ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ì½”ë“œì…ë‹ˆë‹¤:\n\n```js\n# Pydantic ë° typing ëª¨ë“ˆì—ì„œ í•„ìš”í•œ êµ¬ì„± ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°\nfrom pydantic import BaseModel\nfrom typing import List\n\n# ë‹¨ì¼ TodoItemì„ ìœ„í•œ Pydantic ëª¨ë¸ ì •ì˜\nclass TodoItem(BaseModel):\n    id: int  # TodoItemì˜ ì •ìˆ˜ ID\n    title: str  # ì˜ˆìƒë˜ëŠ” ë¬¸ìì—´ì¸ TodoItemì˜ ì œëª©\n    description: str  # ì˜ˆìƒë˜ëŠ” ë¬¸ìì—´ì¸ TodoItemì˜ ì„¤ëª…\n    completed: bool = False  # TodoItemì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶€ìš¸ í”Œë˜ê·¸, ê¸°ë³¸ê°’ì€ False\n\n# TodoListë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë˜ ë‹¤ë¥¸ Pydantic ëª¨ë¸ ì •ì˜\nclass TodoList(BaseModel):\n    todos: List[TodoItem] = []  # ê¸°ë³¸ì ìœ¼ë¡œ ë¹„ì–´ ìˆë„ë¡ ì´ˆê¸°í™”ëœ TodoItem ê°ì²´ ëª©ë¡\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ ëª¨ë¸ì„ ì •ì˜í•˜ëŠ” ê²ƒì€ APIê°€ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„°ë¥¼ ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ê³  ìœ íš¨ì„±ì„ ê²€ì¦í•˜ì—¬ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„° ê´€ë¦¬ì™€ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ê°„ì†Œí™”í•©ë‹ˆë‹¤.\n\në£¨íŠ¸ êµ¬í˜„:\n\nFastAPIì—ì„œ ë£¨íŠ¸ëŠ” APIì˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì •ì˜í•˜ê³  ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•©ë‹ˆë‹¤. ë£¨íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ê°„ë‹¨í•œ í•  ì¼ ëª©ë¡ APIë¥¼ êµ¬ì¶•í•˜ëŠ” ì¤‘ìš”í•œ ë‹¨ê³„ì…ë‹ˆë‹¤.\n\n```python\nfrom fastapi import FastAPI, HTTPException\nfrom typing import Optional\n\n# FastAPI ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\napp = FastAPI()\n# í•  ì¼ í•­ëª©ì„ ì„ì‹œ ë³´ê´€í•˜ëŠ” (ì¸ë©”ëª¨ë¦¬ ë¦¬ìŠ¤íŠ¸)\ntodos = []\n# ëª¨ë“  í•  ì¼ í•­ëª©ì„ ê²€ìƒ‰í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸\n@app.get(\"/todos/\", response_model=TodoList)\nasync def read_todos():\n    return {\"todos\": todos}\n\n# ìƒˆ í•  ì¼ í•­ëª© ìƒì„±í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸\n@app.post(\"/todos/\")\nasync def create_todo(title: str, description: str):\n    # ê³ ìœ  ID ìƒì„± (ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” UUID ì‚¬ìš©ì„ ê³ ë ¤)\n    todo = {\"id\": len(todos) + 1, \"title\": title, \"description\": description, \"completed\": False}\n    todos.append(todo)\n    return todo\n\n# íŠ¹ì • í•  ì¼ í•­ëª© ì—…ë°ì´íŠ¸í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸\n@app.put(\"/todos/{todo_id}/\", response_model=TodoItem)\nasync def update_todo(todo_id: int, title: Optional[str] = None, description: Optional[str] = None):\n    for todo in todos:\n        if todo[\"id\"] == todo_id:\n            todo[\"title\"] = title if title else todo[\"title\"]\n            todo[\"description\"] = description if description else todo[\"description\"]\n            return todo\n    raise HTTPException(status_code=404, detail=\"í•  ì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\")\n\n# íŠ¹ì • í•  ì¼ í•­ëª© ì‚­ì œí•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸\n@app.delete(\"/todos/{todo_id}/\")\nasync def delete_todo(todo_id: int):\n    for idx, todo in enumerate(todos):\n        if todo[\"id\"] == todo_id:\n            del todos[idx]\n            return {\"message\": \"í•  ì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤\"}\n    raise HTTPException(status_code=404, detail=\"í•  ì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\")\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì„¤ëª…:\n\n- GET ë¼ìš°íŠ¸ (/todos/): ëª¨ë“  í•  ì¼ í•­ëª©ì„ ê²€ìƒ‰í•˜ì—¬ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_3.png)\n\n- POST ë¼ìš°íŠ¸ (/todos/): ê³ ìœ í•œ ID, ì œëª© ë° ì„¤ëª…ì„ ê°–ëŠ” ìƒˆë¡œìš´ í•  ì¼ í•­ëª©ì„ ë§Œë“¤ê³  ëª©ë¡ì— ì¶”ê°€í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image](/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_4.png)\n\n- PUT Route (/todos/'todo_id'/): ê¸°ì¡´ì— ìˆëŠ” IDë¡œ ì‹ë³„ëœ to-do í•­ëª©ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ë¶€ë¶„ì  ì—…ë°ì´íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤ (ì œëª© ë˜ëŠ” ì„¤ëª…ë§Œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŒ).\n\n![image](/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_5.png)\n\n- DELETE Route (/todos/'todo_id'/): ëª©ë¡ì—ì„œ IDë¡œ ì‹ë³„ëœ to-do í•­ëª©ì„ ì‚­ì œí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_6.png\" /\u003e\n\nì´ëŸ¬í•œ ê²½ë¡œë“¤ì€ í´ë¼ì´ì–¸íŠ¸ê°€ í•  ì¼ í•­ëª©ì— ëŒ€í•´ ëª¨ë“  CRUD ì‘ì—…(ìƒì„±, ì½ê¸°, ì—…ë°ì´íŠ¸, ì‚­ì œ)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ FastAPIê°€ ë‹¤ì–‘í•œ ìœ í˜•ì˜ HTTP ìš”ì²­ê³¼ ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n# ê²°ë¡ \n\nFastAPIë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ í•  ì¼ ëª©ë¡ APIë¥¼ ì‘ì„±í•˜ë©´ ê°•ë ¥í•œ ê¸°ëŠ¥ê³¼ ì´ì ì— ëŒ€í•´ ì‹¤ìš©ì ìœ¼ë¡œ ì†Œê°œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë¸ ì •ì˜, ê²½ë¡œ êµ¬í˜„, CRUD ì‘ì—… ì²˜ë¦¬ ë‹¨ê³„ë¥¼ ë”°ë¥´ë©´ FastAPIì˜ ì‚¬ìš© í¸ì˜ì„±, ì„±ëŠ¥ ë° ìë™ ë¬¸ì„œí™” ê¸°ëŠ¥ì— ëŒ€í•œ ì‹¤ì „ ê²½í—˜ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nFastAPIì˜ ì§ê´€ì ì¸ ë””ìì¸ê³¼ ê°•ë ¥í•œ ê¸°ëŠ¥ìœ¼ë¡œ ì´ˆì‹¬ìë“  ìˆ™ë ¨ëœ ê°œë°œìë“  ëª¨ë‘ í˜„ëŒ€ì ì´ê³  ê³ ì„±ëŠ¥ì˜ ì›¹ APIë¥¼ ë§Œë“œëŠ”ë° ìš°ìˆ˜í•œ ì„ íƒì´ ë  ê²ƒì…ë‹ˆë‹¤. ì´ ì—°ìŠµì„ í†µí•´ FastAPIì˜ í•µì‹¬ ê°œë…ì„ ì´í•´í•˜ëŠ”ë° ë„ì›€ì„ ë°›ì„ ë¿ë§Œ ì•„ë‹ˆë¼ ë¯¸ë˜ì— ë” ë³µì¡í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ëŠ” ê¸°ìˆ ë„ ê°–ì¶”ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.\n\nFastAPIë¥¼ í™œìš©í•˜ì—¬ ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ APIë¥¼ ê°œë°œí•  ìˆ˜ ìˆì–´, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê°•ë ¥í•˜ë©´ì„œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ ê²ƒì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦ê±°ìš´ ì½”ë”©ë˜ì„¸ìš”!\n","ogImage":{"url":"/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-Hands-OnwithFastAPICreatingaSimpleTo-DoListApplication_0.png","tag":["Tech"],"readingTime":10},{"title":"ì˜¤í”ˆ ê³¼í•™ ì‹¤ìŠµ ë° ì¶œíŒì„ ìœ„í•œ í”Œë«í¼ LeapFROGS ì†Œê°œ","description":"","date":"2024-07-09 09:17","slug":"2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing","content":"\nìš”ì•½: Pythonê³¼ Rì„ ì´ìš©í•œ LeapFROGSëŠ” ê³¼í•™ ì‘ìš© í”„ë¡œê·¸ë¨ ë° ì‹œê³„ì—´ ë¶„ì„ì„ ìœ„í•œ ë¹„ë™ê¸° í”Œë«í¼ìœ¼ë¡œ, ì—¬ëŸ¬ë¶„ì˜ ê³¼í•™ì„ ê³µìœ í•˜ê³  ê³µê°œ ë° ì¬í˜„ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. ì´ í”Œë«í¼ì€ ë¹„ë™ê¸°ì‹ í•™ìŠµ í™œë™ê³¼ êµìœ¡ ì›Œí¬ìƒµì„ ì§€ì›í•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing_0.png)\n\nì‘ë…„ ê°€ì„ì— ë°œí‘œëœ ìµœì‹  LinkedEarth í”„ë¡œì íŠ¸ëŠ” ì˜¤í”ˆ ì§€êµ¬ê³¼í•™ ì—°êµ¬ ë° ê²Œì¬ ì˜ì—­ì—ì„œ ë™ê¸°ì‹ ë° ë¹„ë™ê¸°ì‹ í•™ìŠµ í™œë™ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ëŠ” LeapFROGS (Python ë° R) ë¹„ë™ê¸° í”Œë«í¼ì„ ì†Œê°œí•©ë‹ˆë‹¤.\n\n# ì™œ FROGSë¥¼ ì„ íƒí–ˆë‚˜ìš”?\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—°êµ¬ ë°ì´í„°, ì†Œí”„íŠ¸ì›¨ì–´ ë° ì›Œí¬í”Œë¡œìš°ë¥¼ ê³µìœ í•˜ëŠ” ê²ƒì€ Findable, Accessible, Interoperable, and Reusable (FAIR) ì˜¤í”ˆ ì‚¬ì´ì–¸ìŠ¤ ìƒíƒœê³„ë¥¼ êµ¬ì¶•í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì§€ë‚œ 10ë…„ ë™ì•ˆ í›„ì›ìì™€ ì¶œíŒì‚¬ë“¤ì€ ì¬í˜„ì„±ì„ ê°•ì¡°í•˜ë©° ì¬í˜„ ê°€ëŠ¥í•œ ê³¼í•™ ì œí’ˆì˜ ê³µìœ ë¥¼ ì§€ì›í•˜ëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ ì¸ì •í•˜ëŠ” ì˜¤í”ˆ ì‚¬ì´ì–¸ìŠ¤ ì •ì±…ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë…¼ë¦¬ì ì¸ ë‹¨ê³„ëŠ” ê³¼í•™ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©´ì„œ ì´ëŸ¬í•œ í”„ë ˆì„ì›Œí¬ì˜ ì‚¬ìš©ë²•ì„ ê³µë™ì²´ì—ê²Œ ê°€ë¥´ì¹˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nFROGSëŠ” ì¸ì› ì¤‘ ì ˆë°˜ì˜ êµ­ì ì— ëŒ€í•œ ì¡´ê²½ì˜ í‘œì‹œì…ë‹ˆë‹¤.\n\n# LeapFROGS\n\nLeapFROGSì˜ ëª©í‘œëŠ” Python, R, ì‹œê³„ì—´ ë¶„ì„ ë° ì˜¤í”ˆ ì‚¬ì´ì–¸ìŠ¤ ì¶œíŒì˜ ë¹„ë™ê¸° í•™ìŠµì„ ìœ„í•œ í”Œë«í¼ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ í”Œë«í¼ì—ëŠ” í•´ë‹¹ ì£¼ì œì— ëŒ€í•œ ì§§ì€ í…ìŠ¤íŠ¸ ì†Œê°œì™€ ì£¼ì œì— ëŒ€í•´ ë” ìì„¸íˆ ë°°ìš¸ ìˆ˜ ìˆëŠ” ê´€ë ¨ ìë£Œë¡œì˜ ë§í¬ê°€ í˜¼í•©ë˜ì–´ ìˆìœ¼ë©°, ì£¼ì œ ì´í•´ë„ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì½”ë”© ì—°ìŠµ ë° ê°ê´€ì‹ ë¬¸ì œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 2024ë…„ 7ì›” í˜„ì¬, ì´ í”Œë«í¼ì—ëŠ” ë‹¤ìŒ ëª¨ë“ˆì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- íŒŒì´ì¬ ë˜ëŠ” R ì†Œê°œ. ì´ ëª¨ë“ˆì€ ì´ ë‘ ì–¸ì–´ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ í”„ë¡œê·¸ë˜ë° ì†Œê°œì— ì´ˆì ì„ ë§ì¶¥ë‹ˆë‹¤. ì£¼ìš” ë°ì´í„° ìœ í˜•ë¶€í„° ë£¨í”„ ë° ì¡°ê±´ë¬¸ê¹Œì§€ ë‹¤ë£¹ë‹ˆë‹¤. ë˜í•œ í•¨ìˆ˜ ì‘ì„±ì— ëŒ€í•´ì„œë„ ì†Œê°œí•©ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing_1.png)\n\n2. ê³¼í•™ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ Python/R. ë‘ ë²ˆì§¸ ëª¨ë“ˆì€ Python/Rì„ ê³¼í•™ ë¶„ì•¼ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. Pythonì˜ ê²½ìš°, ì´ ëª¨ë“ˆì€ NumPy, Pandas, Matplotlib ë° ì§€ë„ë¥¼ ìœ„í•œ Cartopyì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í¬í•¨í•œ ê³¼í•™ Python ìŠ¤íƒì˜ ê¸°ë³¸ì„ ë‹¤ë£¹ë‹ˆë‹¤. Rì˜ ê²½ìš°, í•´ë‹¹ ëª¨ë“ˆì€ R ë°ì´í„° í”„ë ˆì„ ë° dplyr, tidyr, tibble ë° ggplot2ì™€ ê°™ì€ tidyverseì˜ ìœ ìš©í•œ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing_2.png)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n3. ì‹œê³„ì—´ ë¶„ì„. ì´ ëª¨ë“ˆì€ ì‹œê³„ì—´ ë¶„ì„ì„ ìœ„í•œ ë°ì´í„° ì²˜ë¦¬, ì—°ê´€ì„± ì¸¡ì •, ê°€ì„¤ ê²€ì •ì„ ìœ„í•œ ëŒ€ë¦¬ì ì‚¬ìš© ë° ìŠ¤í™íŠ¸ëŸ¼ ë° ì›¨ì´ë¸”ë¦¿ ë¶„ì„ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì´ ëª¨ë“ˆê³¼ ê´€ë ¨ëœ ê°•ì˜ëŠ” Figshareì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—°ìŠµë¬¸ì œëŠ” Pythonìš© [ì—¬ê¸°](ë§í¬)ì™€ Rìš© [ì—¬ê¸°](ë§í¬)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. LeapFROGSì—ëŠ” í•™ìŠµ ë‚´ìš© ì´í•´ë„ë¥¼ í‰ê°€í•˜ëŠ” ê°ê´€ì‹ í€´ì¦ˆë„ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n4. ë¯¸ë˜ì˜ ê³¼í•™ ë…¼ë¬¸. ì´ ëª¨ë“ˆì€ ê³µê°œê³¼í•™ ë°œê°„ì˜ ê¸°ë³¸ ì›ì¹™ì„ ì œê³µí•˜ë©° ë°ì´í„°, ì†Œí”„íŠ¸ì›¨ì–´ ë° ì‘ì—…íë¦„ì„ ê³µìœ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ëª¨ë²” ì‚¬ë¡€ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤. Yolanda Gilê³¼ ë™ë£Œë“¤ì´ ëª¨ì€ ì›ë˜ ë…¼ë¬¸ ìë£Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ Binderì™€ ê°™ì€ ìƒˆë¡œìš´ ê¸°ìˆ ì„ ìœ„í•´ ì—…ë°ì´íŠ¸í•˜ì˜€ìŠµë‹ˆë‹¤. ìƒˆ ìë£ŒëŠ” Figshareì— ìˆìœ¼ë©° LeapFROGSì— ìš”ì•½ë˜ì–´ ì¬ë£Œ ì´í•´ë„ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” í€´ì¦ˆê°€ ìˆìŠµë‹ˆë‹¤.\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing_3.png)\n\n5. Github ì†Œê°œ. ì´ ëª¨ë“ˆì€ ì—°êµ¬ë¥¼ ê³µìœ í•˜ê³  í˜‘ì—…í•˜ê¸° ìœ„í•œ GitHub í”Œë«í¼ ì†Œê°œë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ëˆ„ê°€ LeapFROGSë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?\n\nëˆ„êµ¬ë‚˜ ì´ í”Œë«í¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, Python ë°/ë˜ëŠ” Rì„ ì‚¬ìš©í•˜ì—¬ ìì‹ ì˜ ë¶„ì„ì— ì‚¬ìš©í•˜ëŠ” ê³¼í•™ì ì»¤ë®¤ë‹ˆí‹°ë¥¼ ìœ„í•œ ìì›ì´ ë˜ê¸°ë¥¼ í¬ë§í•©ë‹ˆë‹¤. ì˜¤í”ˆ ì‚¬ì´ì–¸ìŠ¤ì— ê´€ì‹¬ì´ ìˆê³  ì—°êµ¬ ê²°ê³¼ë¬¼ì„ ì¬í˜„ ê°€ëŠ¥í•˜ê³  ê³µì •í•˜ê²Œ ë§Œë“¤ê¸°ë¥¼ ì›í•˜ëŠ” ë¶„ë“¤ì„ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.\n\nì§€ê¸ˆê¹Œì§€ LeapFROGSëŠ” 18ëª…ì˜ ì§€êµ¬ê³¼í•™ìë¥¼ ìœ„í•œ ëŒ€ë©´ í•´ì»¤í†¤(PyRATES) í–‰ì‚¬ë¥¼ ì§€ì›í•´ ì™”ìŠµë‹ˆë‹¤.\n","ogImage":{"url":"/assets/img/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-IntroducingLeapFROGSaplatformforopensciencepracticeandpublishing_0.png","tag":["Tech"],"readingTime":4}],"page":"40","totalPageCount":50,"totalPageGroupCount":3,"lastPageGroup":10,"currentPageGroup":2},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"40"},"buildId":"M7pU9hOcx8u_ZIFMf95sd","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>