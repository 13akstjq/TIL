{"pageProps":{"posts":[{"title":"github 회사 개인 계정 등록해서 동시에 사용하기","description":"","date":"2025-04-22 19:34","slug":"2025-04-22-github-ssh-multi-login","content":"\n\n# github\n\ngithub 을 사용하다보면 회사와 개인 계정이 분리되어있어서 사용하는데 번거로운 경우가 있는데요. \n로컬에서 push 하거나 pull할 때 저장소 권한이 없어서 막히는 경우가 있습니다. \n\n\ngithub에 로그인 하는 방법이 https와 ssh 가 있는데 이 중에서 ssh 를 사용하면 편리하게 할 수 있습니다. \nhttps를 사용하지 않는 이유는 매번 회사 혹은 개인 깃헙 계정으로 웹 사이트 로그인을 해야하기 때문입니다. \n\n## ssh 자동화 스크립트\n\nssh 를 이용하여 회사와 개인 깃 계정을 분리하는 자동 스크립트를 만들었습니다. \n아래에 이름 바꾸는 부분만 바꿔주신 후 사용하시면 됩니다. \n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```sh\n#!/bin/bash\n\n# 이름만 바꿔주면 돼요\nPERSONAL_EMAIL=\"you@example.com\"\nWORK_EMAIL=\"you@company.com\"\nPERSONAL_NAME=\"yourusername\"\nWORK_NAME=\"yourcompany\"\n\n# 1. SSH 키 생성\necho \"🔑 Generating SSH keys...\"\nssh-keygen -t ed25519 -C \"$PERSONAL_EMAIL\" -f ~/.ssh/id_ed25519_personal -N \"\"\nssh-keygen -t ed25519 -C \"$WORK_EMAIL\" -f ~/.ssh/id_ed25519_work -N \"\"\n\n# 2. SSH Config 파일에 Host alias 추가\necho \"⚙️ Updating ~/.ssh/config...\"\ncat <<EOF >> ~/.ssh/config\n\n# Personal GitHub\nHost github-personal\n  HostName github.com\n  User git\n  IdentityFile ~/.ssh/id_ed25519_personal\n  IdentitiesOnly yes\n\n# Work GitHub\nHost github-work\n  HostName github.com\n  User git\n  IdentityFile ~/.ssh/id_ed25519_work\n  IdentitiesOnly yes\nEOF\n\n# 3. SSH Agent 등록 (macOS/Linux 공통)\necho \"🚀 Adding SSH keys to ssh-agent...\"\neval \"$(ssh-agent -s)\"\nssh-add ~/.ssh/id_ed25519_personal\nssh-add ~/.ssh/id_ed25519_work\n\n# 4. 키 확인 안내\necho \"📋 Copy the following keys and add them to GitHub:\"\n\necho \"🔐 Personal:\"\ncat ~/.ssh/id_ed25519_personal.pub\necho \"\"\necho \"🔐 Work:\"\ncat ~/.ssh/id_ed25519_work.pub\necho \"\"\necho \"👉 Add these keys at https://github.com/settings/keys (각 계정마다 로그인해서)\"\n\n# 5. gh auth login 안내\necho \"\"\necho \"🧪 Now login to GitHub CLI for each account:\"\necho \"👉 Personal account: gh auth login --hostname github-personal\"\necho \"👉 Work account: gh auth login --hostname github-work\"\n\n```\n\n\n### 사용 방법 \n\n1. 실행 권한 부여 \n\n```bash\nnano setup_ssh_accounts.sh\n# 붙여넣기 후 저장 (Ctrl+O, Enter → Ctrl+X)\n\n```\n\n2. 실행\n\n```bash\n./setup_ssh_accounts.sh \n```\n\n3. ssh 생성\n위 파일 실행으로 생성된 ssh 키들을 회사와 개인 계정에 접속해 \nhttps://github.com/settings/keys 페이지로 들어가서 new SSH key 를 클릭해 새로운 ssh key를 만들어줍니다. \n\n![github ssh setting](/TIL/assets/img/2025-04-22-github-ssh-multi-login-0.png)\n\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n3. remote 저장소 url 변경\n\n```bash\n// 개인 \ngit remote set-url origin git@github-personal:yourusername/my-repo.git\n\n// 회사\ngit remote set-url origin git@github-work:yourcompany/project.git\n```\n\n이제 각 저장소에서 기존에 https 로 remote 저장소가 연결되어있던 부분들을 ssh 형태의 remote url로 바꿔줍니다. \n\n\n4. 확인 \n\n이렇게 한 후에 정상적으로 ssh가 적용되었는지 확인하려면 아래 명령어를 입력합니다. \n\n```bash\nssh -T git@github.com\n```\n\n아래와 같이 나오면 정상 적용된 것입니다. \n만약 Permission denied가 뜬다면 → GitHub와 연결이 안 된 것입니다.\n\n```bash\nHi yourusername! You've successfully authenticated, but GitHub does not provide shell access.\n```\n\n올바른 키가 등록되어 있는지 확인하려면\n\n```bash\nssh-add -l\n```\n\n이 결과에 id_ed25519_personal 또는 id_ed25519_work 가 없으면 아래 명령으로 추가해 주세요:\n\n```bash\nssh-add ~/.ssh/id_ed25519_personal\nssh-add ~/.ssh/id_ed25519_work\n```\n\n~/.ssh/config에 alias 설정 제대로 했는지 확인하려면\n\n```bash\ncat ~/.ssh/config\n```\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n아래처럼 나오면 정상 적용된 것입니다. \n\n```bash\nHost github-personal\n  HostName github.com\n  User git\n  IdentityFile ~/.ssh/id_ed25519_personal\n  IdentitiesOnly yes\n```\n\n여기까지하면 회사 계정과 개인 계정을 동시에 사용할 수 있지만 만약 회사가 SSO 로그인을 하도록 설정되어있다면 아래와 같은 에러가 발생합니다. \n\n```bash\nERROR: The 'organization' organization has enabled or enforced SAML SSO.\nTo access this repository, you must use the HTTPS remote with a personal access token or SSH with an SSH key and passphrase that has been authorized for this organization.\nVisit https://docs.github.com/articles/authenticating-to-a-github-organization-with-saml-single-sign-on/ for more information.\n\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n```\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이런 경우에는 회사 organization에서 ssh를 승인 해야합니다. \n\n[https://github.com/settings/keys](https://github.com/settings/keys) 다시 key 페이지로 들어가서 아래 사진의 configure SSO를 클릭한 후 authorize를 눌러서 활성화를 시켜줍니다. \n\n![github ssh authorize](/TIL/assets/img/2025-04-22-github-ssh-multi-login-1.png)","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"","tag":["Tech"],"readingTime":6},{"title":"Next.js 15에서 Edge Runtime 사용하는 방법","description":"","date":"2025-04-22 13:41","slug":"2025-04-22-EdgeRuntime","content":"\n\n# Next.js Edge Runtime API 소개\n\nNext.js의 Edge Runtime은 Middleware 용으로 사용되며, 다양한 네트워크 관련 API를 지원합니다. 이걸 잘 활용하면 훨씬 가볍고 빠른 엣지 환경에서 코드를 실행할 수 있어요!\n\n아래는 Edge Runtime에서 지원하는 주요 네트워크 API들입니다.\n\n| API | 설명 |\n| --- | --- |\n| [Blob](https://developer.mozilla.org/docs/Web/API/Blob) | 바이너리 데이터 덩어리를 나타내는 객체입니다. 파일이나 네트워크 데이터를 다룰 때 유용해요. |\n| [fetch](https://developer.mozilla.org/docs/Web/API/Fetch_API) | 네트워크 리소스를 비동기로 요청하는 함수입니다. API 호출이나 데이터 가져올 때 많이 쓰죠. |\n| [FetchEvent](https://developer.mozilla.org/docs/Web/API/FetchEvent) | fetch 요청 이벤트를 나타냅니다. 미들웨어에서 요청을 가로채거나 처리할 때 사용됩니다. |\n| [File](https://developer.mozilla.org/docs/Web/API/File) | 사용자가 업로드한 파일 정보를 나타내는 객체입니다. |\n| [FormData](https://developer.mozilla.org/docs/Web/API/FormData) | 폼 데이터를 쉽게 다루기 위한 객체입니다. 파일 업로드와 함께 많이 사용돼요. |\n| [Headers](https://developer.mozilla.org/docs/Web/API/Headers) | HTTP 요청 및 응답의 헤더를 다루는 객체입니다. 요청을 커스터마이징할 때 필수! |\n| [Request](https://developer.mozilla.org/docs/Web/API/Request) | HTTP 요청 자체를 나타내는 객체로, fetch 호출 시 사용합니다. |\n| [Response](https://developer.mozilla.org/docs/Web/API/Response) | HTTP 응답을 나타내는 객체입니다. 미들웨어에서 응답을 조작하고 싶을 때 씁니다. |\n| [URLSearchParams](https://developer.mozilla.org/docs/Web/API/URLSearchParams) | URL 쿼리 스트링 파라미터를 손쉽게 읽고 조작할 수 있습니다. |\n| [WebSocket](https://developer.mozilla.org/docs/Web/API/WebSocket) | 실시간 양방향 통신이 가능한 웹소켓 연결을 나타냅니다. |\n\n---\n\n**추가 팁!**  \nEdge Runtime 환경은 서버리스 함수처럼 동작하면서도 훨씬 더 빠른 응답성을 제공합니다. 대신 브라우저 환경이 아닌 만큼, 기존 Node.js API 전체를 사용하는 것보다 지원하는 API가 제한되어 있다는 점 꼭 기억하세요.\n\n이 중 `fetch` API는 기본 제공되니 서버사이드에서 외부 API 호출할 때 별도의 라이브러리 없이 그냥 사용 가능하답니다! 그 외에도 HTTP 요청과 응답을 직접 만지면서 미들웨어를 만들어보면 Next.js의 내부 동작 원리에 대해 훨씬 쉽게 이해할 수 있습니다.\n\n한번 써보시고, 엣지 컴퓨팅의 빠른 속도를 체험해보시길 추천드려요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## 인코딩 API들\n\n| API | 설명 |\n| --- | --- |\n| [atob](https://developer.mozilla.org/en-US/docs/Web/API/atob) | base-64로 인코딩된 문자열을 디코딩해줍니다. |\n| [btoa](https://developer.mozilla.org/en-US/docs/Web/API/btoa) | 문자열을 base-64로 인코딩해줍니다. |\n| [TextDecoder](https://developer.mozilla.org/docs/Web/API/TextDecoder) | Uint8Array 형태의 바이트 데이터를 문자열로 디코딩합니다. |\n| [TextDecoderStream](https://developer.mozilla.org/docs/Web/API/TextDecoderStream) | 스트림을 순차적으로 디코딩할 수 있는 체이닝 가능한 디코더입니다. |\n| [TextEncoder](https://developer.mozilla.org/docs/Web/API/TextEncoder) | 문자열을 Uint8Array 형태의 바이트 배열로 인코딩합니다. |\n| [TextEncoderStream](https://developer.mozilla.org/docs/Web/API/TextEncoderStream) | 스트림 데이터를 순차적으로 인코딩할 수 있는 체이닝 가능한 인코더입니다. |\n\n---\n\n### 조금 더 이야기해볼게요!\n\n- **atob/btoa**는 간단하게 텍스트와 base64 변환을 할 때 유용해요. 다만 유니코드 문자열을 제대로 처리하지 못하는 단점이 있어요. 유니코드 문자열 인코딩이 필요하다면 `TextEncoder`/`TextDecoder`를 추천합니다.\n- `TextEncoder`와 `TextDecoder`는 UTF-8 인코딩을 기본으로 하고 있어서, 국제 문자도 안전하게 다룰 수 있답니다!\n- 그리고 스트림 관련 인코더/디코더인 `TextEncoderStream`과 `TextDecoderStream`은 대용량 데이터를 실시간 처리하거나 네트워크 통신 시에 아주 편리해요.\n\n---\n\n## 스트림 API들\n\n| API | 설명 |\n| --- | --- |\n| [ReadableStream](https://developer.mozilla.org/docs/Web/API/ReadableStream) | 읽을 수 있는 스트림을 나타냅니다. |\n| [ReadableStreamBYOBReader](https://developer.mozilla.org/docs/Web/API/ReadableStreamBYOBReader) | ReadableStream의 데이터를 직접 읽는 리더입니다. (BYOB: Bring Your Own Buffer) |\n| [ReadableStreamDefaultReader](https://developer.mozilla.org/docs/Web/API/ReadableStreamDefaultReader) | ReadableStream의 기본적인 리더로, 자동 버퍼 관리를 지원합니다. |\n| [TransformStream](https://developer.mozilla.org/docs/Web/API/TransformStream) | 입력된 데이터를 즉시 변환하여 출력하는 변환용 스트림입니다. |\n| [WritableStream](https://developer.mozilla.org/docs/Web/API/WritableStream) | 쓸 수 있는 스트림을 나타냅니다. |\n| [WritableStreamDefaultWriter](https://developer.mozilla.org/docs/Web/API/WritableStreamDefaultWriter) | WritableStream에 데이터를 쓸 수 있게 해주는 기본 작성자입니다. |\n\n---\n\n### 스트림 API는 왜 꼭 알아야 할까?\n\n웹에서는 단순히 한 번에 모든 데이터를 처리하는 것보다, **실시간으로 데이터를 조금씩 주고받거나 변환하는 작업**이 훨씬 많아졌어요. 특히 네트워크 스트리밍, 미디어 처리, 대용량 파일 처리 등에서 매우 중요하죠.\n\n- `ReadableStream`은 '읽을 수 있는' 데이터 흐름,  \n- `WritableStream`은 '쓸 수 있는' 데이터 흐름,  \n- `TransformStream`은 '읽기와 쓰기를 동시에 하면서 중간에 가공하는' 역할을 합니다.\n\n예를 들어, 사용자의 음성 데이터를 받아서 텍스트로 변환하고, 다시 텍스트를 서버로 전송하는 복잡한 작업도 이 스트림 API를 이용해 효율적으로 처리할 수 있어요!\n\n---\n\n이처럼 자바스크립트의 인코딩 및 스트림 API는 데이터 처리에 있어 아주 강력한 도구입니다. 직접 써보면서 익히면, 어떠한 데이터도 자유자재로 다룰 수 있게 될 거예요! 필요하면 간단한 예제도 공유할게요~\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## Crypto APIs\n\n| API | Description |\n| ---- | ----------- |\n| [`crypto`](https://developer.mozilla.org/docs/Web/API/Window/crypto) | 플랫폼의 암호화 기능에 접근할 수 있게 해줘요. |\n| [`CryptoKey`](https://developer.mozilla.org/docs/Web/API/CryptoKey) | 암호화 키를 나타내는 객체에요. |\n| [`SubtleCrypto`](https://developer.mozilla.org/docs/Web/API/SubtleCrypto) | 해싱, 서명, 암호화, 복호화 같은 일반적인 암호화 작업을 할 수 있게 해줘요. |\n\n> 암호화 관련 API는 보안에 민감한 작업을 할 때 꼭 알아둬야 해요. 예를 들어, 비밀번호를 처리하거나 데이터를 안전하게 전송할 때 활용할 수 있답니다.\n\n---\n\n## Web Standard APIs\n\n| API | Description |\n| ---- | ----------- |\n| [`AbortController`](https://developer.mozilla.org/docs/Web/API/AbortController) | 여러 개의 DOM 요청을 원할 때 중단할 수 있게 도와줘요. 예를 들어, API 호출을 취소할 때 유용하죠. |\n| [`Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array) | 값들의 배열을 표현해요. 자바스크립트의 기본이죠! |\n| [`ArrayBuffer`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer) | 고정 길이의 원시 바이너리 데이터를 저장하는 버퍼예요. |\n| [`Atomics`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Atomics) | 멀티스레딩 환경에서 안전한 원자적 연산을 제공하는 정적 메서드들이에요. |\n| [`BigInt`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/BigInt) | 아주 큰 정수를 표현할 때 쓰이는 타입으로, 숫자 한계가 걱정 없어요. |\n| [`BigInt64Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array) | 64비트 부호있는 정수들의 타입드 배열이에요. |\n| [`BigUint64Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array) | 64비트 부호없는 정수들의 타입드 배열이에요. |\n| [`Boolean`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean) | 참(`true`) 또는 거짓(`false`)을 나타내는 논리 타입이에요. |\n| [`clearInterval`](https://developer.mozilla.org/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval) | `setInterval()`로 예약되어 있는 반복 작업을 취소해요. |\n| [`clearTimeout`](https://developer.mozilla.org/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout) | `setTimeout()`으로 예약된 작업을 취소해요. |\n| [`console`](https://developer.mozilla.org/docs/Web/API/Console) | 브라우저 디버깅 콘솔에 접근할 수 있게 해요. 디버깅 시 자주 사용하죠. |\n| [`DataView`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/DataView) | `ArrayBuffer`의 다양한 데이터 뷰를 제공해요. |\n| [`Date`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date) | 플랫폼 독립적인 시간 정보를 표현해요. 시간 관련 작업에 필수! |\n| [`decodeURI`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/decodeURI) | `encodeURI`로 인코딩된 URI를 디코딩해요. |\n| [`decodeURIComponent`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent) | `encodeURIComponent`로 인코딩된 URI 컴포넌트를 디코딩해요. |\n| [`DOMException`](https://developer.mozilla.org/docs/Web/API/DOMException) | DOM 관련 에러를 나타내는 객체예요. |\n| [`encodeURI`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/encodeURI) | URI 내 일부 문자를 이스케이프 시퀀스로 변환해요. |\n| [`encodeURIComponent`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent) | URI 컴포넌트의 특수 문자를 이스케이프해요. |\n| [`Error`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error) | 실행 중 발생한 일반적인 에러를 나타내요. |\n| [`EvalError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/EvalError) | `eval()` 함수와 관련된 에러를 나타내요. 근데 요즘은 거의 안 써요. |\n| [`Float32Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Float32Array) | 32비트 부동소수점 숫자들의 타입드 배열이에요. |\n| [`Float64Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Float64Array) | 64비트 부동소수점 숫자들의 타입드 배열이에요. |\n| [`Function`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function) | 자바스크립트 함수 자체를 나타내는 객체에요. |\n| [`Infinity`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Infinity) | 수학적 무한대를 나타내는 값이에요. |\n| [`Int8Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int8Array) | 8비트 부호있는 정수 배열이에요. |\n| [`Int16Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int16Array) | 16비트 부호있는 정수 배열이에요. |\n| [`Int32Array`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Int32Array) | 32비트 부호있는 정수 배열이에요. |\n| [`Intl`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Intl) | 국제화(internationalization)와 로컬라이제이션 기능을 제공해요. |\n| [`isFinite`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/isFinite) | 숫자가 유한한 값인지 검사해요. |\n| [`isNaN`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/isNaN) | 값이 `NaN`인지 검사해요. |\n| [`JSON`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON) | 자바스크립트 값과 JSON 포맷 간 변환 기능을 제공해요. |\n| [`Map`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map) | 키-값 쌍을 저장하는 컬렉션으로, 키의 중복을 허용하지 않아요. |\n| [`Math`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Math) | 수학 관련 함수와 상수를 제공해요. |\n| [`Number`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number) | 숫자형 데이터를 나타내는 객체에요. |\n| [`Object`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object) | 자바스크립트 객체의 기본이 되는 객체에요. |\n| [`parseFloat`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/parseFloat) | 문자열을 부동소수점 숫자로 파싱해요. |\n| [`parseInt`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/parseInt) | 문자열을 지정한 진수(radix)의 정수로 파싱해요. |\n| [`Promise`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise) | 비동기 작업의 완료 또는 실패와 그 결과를 나타내요. |\n| [`Proxy`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Proxy) | 기본 객체 동작을 가로채고 커스텀 동작을 가능하게 해주는 객체에요. |\n| [`queueMicrotask`](https://developer.mozilla.org/docs/Web/API/queueMicrotask) | 마이크로태스크를 큐에 넣어 실행하도록 예약해요. |\n| [`RangeError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/RangeError) | 값이 허용된 범위 밖일 때 발생하는 에러예요. |\n| [`ReferenceError`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError) | 존재하지 않는 변수에 접근할 때 발생해요. |\n| [`Reflect`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Reflect) | 메타프로그래밍(메서드 가로채기 등)을\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## Next.js에서 알아두면 좋은 폴리필(Polyfills)\n\n- **AsyncLocalStorage**  \n  Next.js 환경에서 AsyncLocalStorage를 사용할 때, 기본적으로 브라우저에는 지원되지 않으니까 서버 사이드에서만 동작하도록 신경 써야 해요. 만약 브라우저에서도 비슷한 기능이 필요하면, 직접 폴리필을 적용하거나 대체 라이브러리를 찾아보는 게 좋아요.\n\n> 참고로 AsyncLocalStorage는 비동기 컨텍스트를 관리하는 데 유용한데, 특히 요청별 데이터를 격리할 때 자주 쓰입니다. Next.js로 SSR 작업할 때 이런 기능을 활용하면 상태 관리가 좀 더 깔끔해지니까, 필요하면 꼭 공부해보길 추천해요!\n\n---\n\n## 환경 변수(Environment Variables) 다루기\n\nNext.js에서는 환경 변수를 다룰 때 `process.env`를 통해 값을 가져올 수 있어요. `next dev`나 `next build` 할 때도 똑같이 접근할 수 있어서 편리하답니다.\n\n예를 들어, `.env.local` 파일에 다음과 같이 환경 변수를 정의했다고 치면,\n\n```js\nNEXT_PUBLIC_API_URL=https://api.example.com\nSECRET_API_KEY=abcdef123456\n```\n\n- 클라이언트에서 접근하고 싶으면 반드시 `NEXT_PUBLIC_`로 시작하는 변수여야 해요.  \n- 서버 사이드 코드(예: API 라우트, getServerSideProps)에서는 `process.env.SECRET_API_KEY`처럼 바로 사용 가능하고요.\n\n```javascript\n// 클라이언트 코드 예시 (React 컴포넌트 내부)\nconst apiUrl = process.env.NEXT_PUBLIC_API_URL;\n\n// 서버 코드 예시 (API 라우트)\nexport default function handler(req, res) {\n  const secret = process.env.SECRET_API_KEY;\n  res.end(`Your secret key is ${secret}`);\n}\n```\n\n> 주의할 점! 환경 변수의 값은 빌드 시점에 정적으로 주입되기 때문에, 변경사항이 생기면 반드시 `next dev` 혹은 `next build`를 다시 실행해줘야 합니다.\n\n---\n\nNext.js에서 환경 변수를 활용하는 방법은 기본적이지만, 프로젝트 설정과 배포 환경에서 아주 중요한 역할을 해요. 진짜 중요한 정보(비밀번호, API 키 등)는 클라이언트에 노출되지 않도록 환경 변수 이름에 `NEXT_PUBLIC_`을 붙이지 말고 서버 사이드에서만 다뤄야 한다는 것도 꼭 기억하세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## 지원되지 않는 API들\n\nEdge Runtime을 사용할 때는 몇 가지 제약사항이 있어요. \n\n- Native Node.js API는 지원되지 않아요. 예를 들어, 파일 시스템을 읽거나 쓰는 작업은 불가능해요.\n- node_modules는 사용 가능하지만, 꼭 ES Modules 형식이어야 하고, Native Node.js API를 사용하지 않는 패키지여야 해요.\n- 직접 `require`를 호출하는 것도 안 돼요. 대신 ES Modules 방식을 사용해야 합니다.\n\n그리고 아래의 JavaScript 언어 기능들은 비활성화되어 있어서 사용할 수 없어요: \n\n| 제한된 기능 목록 |\n|------------------|\n| (여기에 구체적인 기능 목록을 적어주세요, 원본 내용에 따라 추가) |\n\n---\n\n### 조금 더 알아보기!\n\nEdge Runtime은 서버리스 환경 같은 경량화된 실행 환경에서 동작하도록 설계되었기 때문에, 기존 Node.js 환경에서 가능했던 기능들이 제한되는 경우가 많아요. 특히 파일 시스템 접근, 네이티브 바인딩 등은 보안 문제나 실행 환경 특성상 막혀있죠.\n\n그래서 여러분이 외부 라이브러리를 사용할 때에는 꼭 ES Module 형식을 지원하는지, 그리고 네이티브 API를 호출하지는 않는지 꼼꼼히 체크하는 게 중요해요. 만약 기존에 `require`로 불러오던 라이브러리가 있다면, `import` 구문으로 대체해야 해요.\n\n이러한 제한을 감안하고 코드를 작성하면, Edge Runtime에서 훨씬 더 안정적으로 실행할 수 있어요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이번 글에서는 JavaScript에서 동적 코드 평가(dynamic code evaluation) 관련 API들과, Next.js에서 특정 파일에서 동적 코드를 허용하는 방법에 대해 알아볼게요.\n\n### 자바스크립트에서 동적 코드 평가 API들\n\n| API | 설명 |\n| --- | --- |\n| [`eval`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/eval) | 문자열로 표현된 JavaScript 코드를 실행해요. 정말 강력하지만, 보안과 성능 면에서 조심해야 해요. |\n| [`new Function(evalString)`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function) | 새 함수를 생성하는데, 함수 본문을 문자열로 받아요. eval과 비슷하지만, 실행 컨텍스트가 다르답니다. |\n| [`WebAssembly.compile`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/compile) | WebAssembly 모듈을 버퍼 형태의 소스에서 컴파일해요. 빠른 성능이 필요한 작업에 유용하죠. |\n| [`WebAssembly.instantiate`](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/instantiate) | WebAssembly 모듈을 컴파일하고 바로 인스턴스화해요. |\n\n이 API들은 주로 동적으로 코드를 생성하거나 실행할 때 사용하지만, 이렇게 동적으로 코드를 평가하는 부분은 트리쉐이킹(Tree-shaking) 과정에서 걸러지지 않는 경우가 있어서 문제가 될 수 있어요. 트리쉐이킹은 불필요한 코드를 제거해주는 최적화 기술인데, 동적 코드는 정적으로 분석하기 어려워서 걸러지지 않는 거죠.\n\n---\n\n### Next.js 미들웨어에서 동적 코드 평가 허용하기\n\n가끔 프로젝트에 포함된 코드 중에 동적 코드 평가가 사용되는데, 그 부분이 실제로는 런타임 시에 호출되지 않아서 제거하기 힘들 때가 있어요. 이럴 때는 Next.js의 미들웨어 설정에서 특정 파일만 동적 코드를 허용하도록 설정해주는 방법이 있어요.\n\n```js\nexport const config = {\n  unstable_allowDynamic: [\n    // 단일 파일 허용 예시\n    '/lib/utilities.js',\n    // 3rd party 모듈 내 특정 폴더 전체 허용 (glob 패턴)\n    '**/node_modules/function-bind/**',\n  ],\n}\n```\n\n- `unstable_allowDynamic` 옵션은 glob 패턴을 사용해서 특정 파일이나 폴더 내 동적 코드 평가를 무시하게 해줘요.\n- glob 패턴은 애플리케이션 루트 폴더를 기준으로 작성해주시면 됩니다.\n- 이렇게 지정된 파일들은 동적 코드 평가가 포함되어 있더라도 Next.js가 문제 삼지 않고 넘어가게 돼요.\n\n---\n\n### 마치며\n\n동적 코드 평가 자체는 매우 유용한 기능이지만, 보안, 성능, 그리고 번들 최적화 측면에서 복잡한 문제를 일으킬 수 있답니다. 그러니까 특별한 필요가 없다면 사용을 최소화하는 게 좋아요.\n\n만약 외부 라이브러리를 쓸 때 동적 코드 평가가 포함되어 있어서 어쩔 수 없이 사용해야 한다면, 위 `unstable_allowDynamic` 옵션을 활용해 Next.js 빌드 시스템을 적절히 조정해보세요.\n\n참고로, WebAssembly는 요즘 성능이 중요한 웹 애플리케이션에서 자주 쓰이니 한번 공부해보시는 것도 추천드려요. 다음에 WebAssembly에 대해서도 자세히 다뤄볼게요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n경고! 만약 이 문장들이 Microsoft Edge 브라우저에서 실행된다면, 에러가 발생하면서 프로그램이 중단될 수 있어요.\n\n특히 Edge는 다른 브라우저에 비해 지원하는 자바스크립트 기능이나 API 호환성이 다를 때가 많아서 이런 문제들이 종종 발생합니다. 그래서 크로스 브라우저 호환성을 신경 쓸 때는 항상 Edge 같은 브라우저에서도 테스트를 하는 게 중요해요.\n\n만약 Edge에서 문제가 발생한다면, 다음과 같은 방법들을 시도해볼 수 있어요:\n\n- **폴리필(Polyfill) 사용**: Edge에서 지원하지 않는 기능을 다른 코드로 보완할 수 있어요.\n- **조건문으로 브라우저 판별**: 실행 전에 현재 브라우저가 Edge인지 확인하고, 별도의 처리를 해줄 수 있어요.\n- **최신 버전 업데이트 권장**: Edge도 점점 개선되고 있으니 최신 버전에서는 문제 없이 동작할 수도 있어요.\n\n항상 코드 작성할 때는 주요 브라우저 모두에서 정상 동작하는지 확인하는 습관을 들이는 게 좋아요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":17},{"title":"nextjs CLI(Command Line Interface)도구 사용하기","description":"","date":"2025-04-22 13:38","slug":"2025-04-22-CLI","content":"\n\n# CLI\n\nNext.js에는 두 가지 커맨드 라인 인터페이스(CLI) 도구가 있어요:\n\n| 도구 이름           | 설명                                                                                              |\n|-----------------|-------------------------------------------------------------------------------------------------|\n| create-next-app | 기본 템플릿이나 공개된 GitHub 저장소의 예제를 사용해서 빠르게 새로운 Next.js 애플리케이션을 만들 수 있어요.      |\n| next            | Next.js 개발 서버를 실행하거나, 애플리케이션을 빌드하는 등 다양한 작업을 할 때 사용돼요.                          |\n\n조금 더 풀어서 설명하자면, `create-next-app`은 Next.js 프로젝트를 시작할 때 아주 유용해요. 여러 설정을 신경 쓸 필요 없이 명령 한 줄로 기본 뼈대를 뚝딱 만들어 주니까요. 반면에 `next` 명령어는 개발하면서 서버를 실행하거나 실제 배포용 빌드하는 등 프로젝트의 생명주기를 관리하는 데 사용돼요.\n\n개발자라면 이 두 가지 CLI 명령어는 Next.js 작업에서 꼭 익숙해져야 할 기본 도구라고 할 수 있죠. 다음 글에서는 이 CLI들을 실제로 어떻게 쓰는지, 또 숨겨진 팁들도 알려드릴게요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":1},{"title":"Nextjs 15로 배우는 create-next-app 설치 방법","description":"","date":"2025-04-22 13:38","slug":"2025-04-22-create-next-app","content":"\n\n# create-next-app\n\nNext.js로 새로운 프로젝트를 시작할 때 가장 간편한 방법 중 하나가 바로 create-next-app CLI를 사용하는 거예요. 이 도구는 기본 템플릿이나 GitHub에 공개된 여러 예제들을 바탕으로 새로운 Next.js 애플리케이션을 빠르게 만들어 줍니다.\n\n### 기본 사용법\n\n터미널에서 아래 명령어를 입력하면 돼요:\n\n```bash\nnpx create-next-app@latest [프로젝트명] [옵션]\n```\n\n예를 들어, `my-next-app`이라는 이름의 프로젝트를 만들고 싶다면:\n\n```bash\nnpx create-next-app@latest my-next-app\n```\n\n이렇게 입력만 하면 Next.js 환경이 자동으로 세팅되고, 곧바로 개발을 시작할 수 있어요.\n\n---\n\n### 추가 팁!\n\n- **다양한 템플릿 사용 가능**  \n  기본 템플릿뿐 아니라 Next.js 공식 GitHub 예제들을 템플릿으로 사용할 수 있어요. 예를 들어, `with-tailwindcss` 템플릿을 쓰고 싶다면 다음과 같이 명령어를 입력하면 됩니다:\n\n  bash\n  npx create-next-app@latest my-next-app --example with-tailwindcss\n  \n\n- **TypeScript 프로젝트 생성**  \n  기본 JavaScript가 아니라 TypeScript 프로젝트를 만들고 싶을 때도 옵션 하나로 해결돼요:\n\n  bash\n  npx create-next-app@latest my-next-app --typescript\n  \n\n- **npm, yarn, pnpm 선택 가능**  \n  프로젝트 생성 시 사용할 패키지 매니저를 직접 지정할 수도 있어요:\n\n  bash\n  npx create-next-app@latest my-next-app --use-npm\n  \n\n---\n\ncreate-next-app 덕분에 복잡한 설정 없이 바로 Next.js 개발환경을 만들어 볼 수 있어서 미리 환경을 고민하는 시간을 줄여준답니다. 아직 Next.js로 개발을 시작하지 않았다면, 이걸로 한 번 쉽게 시작해보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## 참고 자료\n\n아래에 사용할 수 있는 옵션들이 정리되어 있어요:\n\n| 옵션 | 설명 |\n| --- | --- |\n| `-h` 또는 `--help` | 사용 가능한 모든 옵션을 보여 줍니다 |\n| `-v` 또는 `--version` | 버전 번호를 출력합니다 |\n| `--no-*` | 기본 옵션을 반대로 설정합니다. 예: `--no-eslint` (ESLint 비활성화) |\n| `--ts` 또는 `--typescript` | TypeScript 프로젝트로 초기화 (기본값) |\n| `--js` 또는 `--javascript` | JavaScript 프로젝트로 초기화 |\n| `--tailwind` | Tailwind CSS 설정으로 초기화 (기본값) |\n| `--eslint` | ESLint 설정으로 초기화 |\n| `--app` | App Router 프로젝트로 초기화 |\n| `--api` | 라우트 핸들러만 포함하는 프로젝트 초기화 |\n| `--src-dir` | `src/` 디렉토리 내부에서 초기화 |\n| `--turbopack` | 개발용으로 기본 Turbopack 활성화 |\n| `--import-alias <별칭>` | import 별칭 지정 (기본값은 `\"@/*\"`) |\n| `--empty` | 빈 프로젝트로 초기화 |\n| `--use-npm` | npm으로 부트스트랩을 명시적으로 실행 |\n| `--use-pnpm` | pnpm으로 부트스트랩을 명시적으로 실행 |\n| `--use-yarn` | Yarn으로 부트스트랩을 명시적으로 실행 |\n| `--use-bun` | Bun으로 부트스트랩을 명시적으로 실행 |\n| `-e` 또는 `--example [이름] [깃허브-URL]` | 예제 프로젝트로 부트스트랩 |\n| `--example-path <예제-경로>` | 예제 프로젝트 경로를 별도로 지정 |\n| `--reset-preferences` | 저장된 환경설정을 초기화 |\n| `--skip-install` | 패키지 설치를 건너뜀 |\n| `--yes` | 이전 환경설정이나 기본값을 모든 옵션에 사용 |\n\n---\n\n### 조금 더 알아보기!\n\n- `--no-eslint` 처럼 `--no-` 접두어를 붙이면 기본적으로 활성화된 설정을 끌 수 있다는 점이 유용해요.\n- 패키지 매니저를 직접 지정하는 옵션 (`--use-npm` 등)을 잘 활용하면 팀이나 개인 환경에 맞게 부트스트랩 방식을 제어할 수 있습니다.\n- `--example` 옵션을 쓰면 이미 만들어진 예제 프로젝트를 기반으로 신속하게 시작할 수 있으니 참고하세요.\n\n이 옵션들을 적절히 조합하면 원하는 환경에 딱 맞는 프로젝트 세팅이 가능합니다. 다음에 예제도 함께 살펴볼게요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n### 기본 템플릿으로 새 앱 만들기\n\n기본 템플릿을 사용해서 새 앱을 만들고 싶다면, 터미널에 아래 명령어를 입력해 주세요:\n\n```bash\nnpx create-next-app@latest\n```\n\n이후 아래와 같은 질문들이 차례로 나올 거예요:\n\n| 질문 내용                    | 설명                                   |\n|-----------------------------|------------------------------------|\n| 프로젝트 이름을 어떻게 할까요?   | 새로 만들 앱의 이름을 정합니다.                |\n| TypeScript를 사용할 건가요?      | TypeScript 사용 여부를 묻습니다.                  |\n| ESLint를 설정하겠어요?          | 코드 품질을 유지하기 위해 ESLint 설정 여부를 물어봐요.       |\n| Tailwind CSS를 추가할까요?      | 스타일링에 Tailwind CSS를 넣을지 선택합니다.           |\n| `src/` 디렉터리를 사용할까요?   | 소스 코드가 들어갈 디렉터리 구조를 `src/`로 할지 묻습니다. |\n| 테스트 라이브러리 설정할까요?    | Jest 등 테스트 도구 설정 여부를 확인해요.             |\n| Git 저장소를 초기화할까요?       | 새 프로젝트에 Git 저장소를 초기화할지 묻습니다.          |\n\n이렇게 여러 가지 옵션을 선택한 후에, Next.js 프로젝트가 자동으로 세팅되어 바로 개발을 시작할 수 있게 됩니다.\n\n---\n\n> 참고로, 선택 항목들은 프로젝트 성격에 따라 다르게 설정하면 좋아요. 예를 들어 TypeScript를 쓰면 안정성이 높아지고, Tailwind CSS는 빠른 스타일링에 도움을 주죠. ESLint와 테스트는 유지보수에 필수적인 도구들이니 프로젝트 규모와 상황을 고려해 선택하세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n앞으로 Next.js 프로젝트를 시작할 때, 아래와 같은 질문들을 만나게 될 거예요. 이 질문들에 답하면 여러분 취향대로 딱 맞는 프로젝트 세팅이 자동으로 만들어집니다!\n\n```js\n프로젝트 이름이 뭐에요?  my-app\nTypeScript를 사용하시겠어요?  아니오 / 예\nESLint를 함께 쓰시겠어요?  아니오 / 예\nTailwind CSS를 넣을까요?  아니오 / 예\n코드를 `src/` 폴더 안에 넣을까요?  아니오 / 예\nApp Router를 사용하실래요? (추천)  아니오 / 예\nnext dev 명령어에 Turbopack을 쓸까요?  아니오 / 예\nimport alias를 커스터마이징 하실래요? (`@/*`가 기본값이에요)  아니오 / 예\n```\n\n이렇게 질문에 답변하고 나면, 내가 원하는 설정이 반영된 새 프로젝트가 뚝딱 생성됩니다. 정말 편하죠?\n\n---\n\n### 공식 Next.js 예제를 기반으로 새 앱 만들기\n\nNext.js에서 제공하는 공식 예제를 쓰고 싶다면 `--example` 플래그를 사용하시면 돼요. 예를 들어서:\n\n```bash\nnpx create-next-app@latest --example with-tailwindcss my-app\n```\n\n위명령은 Tailwind CSS가 미리 세팅된 예제로 프로젝트를 만들어줘요. 공식 문서나 GitHub에 다양한 예제가 준비되어 있으니 내 프로젝트에 꼭 맞는 템플릿을 찾아 활용해보세요.\n\n---\n\n추가 팁을 드리자면, `App Router`는 Next.js 13에서 도입된 최신 라우팅 방식인데요. 기존의 `pages` 폴더 기반 라우팅과 다르게 훨씬 직관적이고, 서버 컴포넌트라는 개념 덕분에 퍼포먼스도 좋아졌어요. 가능하다면 꼭 사용해 보시길 추천합니다!\n\n그리고 `Turbopack`은 Next.js의 차세대 번들러로, webpack 보다 훨씬 빠르게 빌드해준답니다. 아직 실험적인 기능이라 큰 프로젝트에서는 조금 더 지켜보는 게 좋지만, 작은 프로젝트나 개발환경에서는 꽤 유용해요.\n\n필요하다면 나중에 설정을 바꾸는 것도 어렵지 않으니 너무 걱정 마시고, 편한 방향으로 선택해보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```bash\nnpx create-next-app@latest --example [example-name] [your-project-name]\n```\n\n이 명령어는 Next.js 공식 저장소에 있는 다양한 예제 중 하나를 골라 새로운 프로젝트를 만들 때 사용해요. 예제 이름([example-name])을 넣고, 프로젝트 이름([your-project-name])도 같이 정해주면 끝!\n\n### Next.js 공식 예제 리스트 보기\n\nNext.js 깃허브 저장소에 가면, 사용할 수 있는 예제들과 그 설정 방법이 잘 정리되어 있으니 참고하시면 좋아요.\n\n### 공개된 깃허브 예제로 만들기\n\n만약 Next.js 공식 예제뿐만 아니라, 깃허브에 공개된 다른 예제를 가져와서 프로젝트를 만들고 싶다면, `--example` 옵션에 깃허브 저장소 URL을 넣어주면 돼요.\n\n예를 들어:\n```bash\nnpx create-next-app@latest --example https://github.com/vercel/next.js/tree/canary/examples/with-redux my-redux-app\n```\n위 명령어는 Next.js 공식 깃허브 저장소 중 \"with-redux\" 예제를 다운로드해서 `my-redux-app`이라는 이름으로 프로젝트를 생성해줍니다.\n\n---\n\n제가 한 가지 팁을 더 드리자면, 이렇게 예제로 시작하면 기본 구축된 구조를 한눈에 보고 바로 개발에 돌입할 수 있어서 꽤 편리해요. 특히 Next.js에는 다양한 상황별 예제가 많으니, 내가 만들고 싶은 기능과 비슷한 걸 먼저 선택해서 로드맵을 짜보는 건 어떨까요? 예제를 활용하면 처음부터 코드를 직접 작성하는 부담도 줄어들고, Next.js 컨벤션도 자연스럽게 익힐 수 있어서 일석이조입니다!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n여러분, Next.js 프로젝트를 깔끔하게 시작하고 싶을 때 공식 템플릿이나 다른 깃허브 예제 레포를 바로 가져오는 방법이 있는데, 바로 `create-next-app` 명령어를 활용하는 거예요.\n\n```bash\nnpx create-next-app@latest --example \"https://github.com/.../\" [your-project-name]\n```\n\n이 명령어를 풀어보자면,\n\n- `npx create-next-app@latest` : 최신 버전의 `create-next-app`을 실행하는 거고,\n- `--example \"https://github.com/.../\"` : 내가 원하는 예제 템플릿이 있는 깃허브 URL을 직접 지정할 수 있어요.\n- `[your-project-name]` : 새로 만들 프로젝트의 폴더 이름이 됩니다.\n\n예를 들어, 누군가가 만든 멋진 Next.js 템플릿이 있다면 그 깃허브 주소를 위 예제 자리에 넣고 프로젝트를 바로 시작할 수 있죠. 덕분에 기본 템플릿부터 내가 원하는 커스텀 구조까지 손쉽게 빠르게 셋업 가능!\n\n추가 팁을 조금 드리자면, 만약 자주 쓰는 예제가 있다면 이렇게 한번 설치해 놓고 그 뒤엔 그냥 `next dev` 해서 바로 개발 스타트할 수 있어서 개발 속도가 꽤 빨라집니다. 또 공식 템플릿 말고 커뮤니티에서 공유하는 여러가지 스타터들이 있으니 여러 가지 테스트 해보면서 맞는 걸 골라보는 것도 좋아요.\n\n요약해서, 직접 깃허브에서 예제를 불러와 손쉽게 Next.js 프로젝트 시작하는 법이니 꼭 기억해두시면 좋아요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":8},{"title":"Next.js 15 CLI 사용하는 방법","description":"","date":"2025-04-22 13:38","slug":"2025-04-22-nextCLI","content":"\n\n# Next.js CLI란?\n\nNext.js CLI는 Next.js 애플리케이션을 개발하고, 빌드하고, 시작하는 등 다양한 작업을 도와주는 명령어 도구예요. 명령어 한 줄로 손쉽게 앱을 관리할 수 있어서 개발자에게 아주 편리하답니다.\n\n기본 사용법은 아주 간단해요:\n\n```bash\nnpx next [command] [options]\n```\n\n예를 들어, 개발 서버를 실행하고 싶으면:\n\n```bash\nnpx next dev\n```\n\n빌드를 하려면:\n\n```bash\nnpx next build\n```\n\n완성된 앱을 실행하고 싶다면:\n\n```bash\nnpx next start\n```\n\n이렇게 기본적인 명령어만 알아도 Next.js 프로젝트 관리가 훨씬 수월해지죠.\n\n추가로, `npx`를 사용하지 않고 전역 설치를 통해 바로 `next` 명령어를 쓰기도 하는데, 개인적으로 프로젝트마다 버전 충돌 없이 쓰려면 `npx`나 `package.json`의 스크립트로 실행하는 걸 추천해요. \n\n다음 글에서는 Next.js CLI에서 자주 쓰이는 주요 명령어들을 좀 더 파헤쳐 볼게요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## 참고 자료\n\n다음과 같은 옵션들을 사용할 수 있어요:\n\n| 옵션               | 설명                            |\n|------------------|-------------------------------|\n| `-h` 또는 `--help`   | 사용 가능한 모든 옵션을 보여줘요          |\n| `-v` 또는 `--version`| 현재 설치된 Next.js 버전 번호를 출력해줘요 |\n\n### 커맨드\n\n여기서 잠깐! 이렇게 옵션과 설명을 표로 정리하면 훨씬 한눈에 보기 쉽죠? 실제 개발할 때도 README 파일이나 문서 작성할 때 Markdown 표를 자주 쓰는데, 꼭 기억해두세요! 옵션을 한눈에 정리해두면 협업할 때도 도움이 많이 된답니다.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n다음은 Next.js에서 사용할 수 있는 주요 명령어들입니다:\n\n| Command         | Description                                                                                                                                            |\n|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `dev`           | Next.js를 개발 모드로 실행합니다. 핫 모듈 리로딩(HMR), 에러 리포팅 등 개발에 편리한 기능들이 활성화됩니다.                                           |\n| `build`         | 애플리케이션의 최적화된 프로덕션 빌드를 생성합니다. 각 라우트에 대한 정보도 함께 보여줍니다.                                                           |\n| `start`         | 프로덕션 모드에서 Next.js를 실행합니다. 이 명령어를 사용하려면 먼저 `next build`로 빌드를 완료해야 합니다.                                            |\n| `info`          | 현재 시스템에 관한 유용한 정보를 출력합니다. Next.js 버그 리포트를 작성할 때 참고할 수 있습니다.                                                      |\n| `lint`          | `/src`, `/app`, `/pages`, `/components`, `/lib` 디렉토리 내 모든 파일에 대해 ESLint를 실행합니다. ESLint가 설정되어 있지 않으면 가이드에 따라 필요한 의존성을 설치할 수 있게 도와줍니다. |\n| `telemetry`     | Next.js의 완전 익명화된 텔레메트리 데이터 수집 기능을 켜거나 끌 수 있습니다.                                                                             |\n\n> 참고로, `next` 커맨드만 입력하면 자동으로 `next dev` 명령어를 실행하는 것과 같습니다.\n\n---\n\n### next dev 옵션\n\n---\n\n여기서 잠깐!  \n개발하면서 `next dev` 명령어를 자주 쓰게 되는데, 이 모드는 개발자 경험을 엄청나게 개선해줘요. HMR 덕분에 코드를 바꿀 때마다 새로 고침을 하지 않아도 되고, 에러도 바로바로 알려주거든요. 또 프로젝트 진행 중에는 `lint` 명령어로 코드 규칙을 점검하는 것도 잊지 마세요. 깔끔한 코드가 버그를 줄이고 협업에도 좋아요!\n\n추가로 `telemetry` 기능은 익명으로 사용 데이터를 수집해서 Next.js 개발팀이 더 좋은 기능을 만드는데 도움을 줍니다. 개인정보 침해 걱정 없이 사용 가능한데, 원치 않으면 꺼둘 수도 있으니 마음 편히 설정하세요.\n\n앞으로 Next.js로 프로젝트 하면서 이 명령어들 잘 활용해보시면 개발 속도가 훨씬 빨라질 거예요! 필요한 부분 있으면 언제든지 질문하거나 검색해서 도움받으세요~\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nnext dev는 개발 모드에서 애플리케이션을 시작할 때 사용하는 명령어로, 핫 모듈 리로딩(HMR), 에러 리포팅 등 개발에 도움 되는 기능들이 자동으로 활성화돼요. 이 때 사용할 수 있는 옵션들이 몇 가지 있는데, 아래 표로 정리해봤어요.\n\n| 옵션                                       | 설명                                                                                                  |\n|------------------------------------------|-----------------------------------------------------------------------------------------------------|\n| `-h, --help`                             | 사용 가능한 모든 옵션을 보여줍니다.                                                                   |\n| `[directory]`                           | 애플리케이션을 빌드할 디렉토리를 지정합니다. 지정하지 않으면 현재 디렉토리를 사용해요.                |\n| `--turbopack`                           | [Turbopack](https://nextjs.org/docs/app/api-reference/turbopack)을 사용해 개발 모드를 시작합니다.      |\n| `-p` 또는 `--port <port>`                | 애플리케이션을 시작할 포트 번호를 지정합니다. 기본값은 3000번이며, 환경 변수 PORT도 지원해요.          |\n| `-H` 또는 `--hostname <hostname>`        | 애플리케이션을 시작할 호스트네임(주소)를 지정합니다. 네트워크에 연결된 다른 기기에서 접속할 수 있게 할 때 유용합니다. 기본값은 0.0.0.0입니다. |\n| `--experimental-https`                   | HTTPS 서버를 시작하며, 자체 서명된 인증서를 생성합니다.                                                |\n| `--experimental-https-key <path>`       | HTTPS 키 파일의 경로를 지정합니다.                                                                  |\n| `--experimental-https-cert <path>`      | HTTPS 인증서 파일 경로를 지정합니다.                                                                |\n| `--experimental-https-ca <path>`        | HTTPS 인증서 권한(CA) 파일 경로를 지정합니다.                                                      |\n| `--experimental-upload-trace <traceUrl>`| 디버깅 트레이스의 일부 정보를 원격 HTTP URL로 전송해 리포팅합니다.                                    |\n\n---\n\n### next build 옵션\n\n`next build`는 프로덕션에 최적화된 빌드를 만들어 줘요. 빌드가 끝나면 각 라우트(route)에 대한 정보들을 출력해줍니다.  \n\n예를 들어, 페이지마다 빌드 결과 크기와 성능 정보를 확인할 수 있는데, 이걸 참고해서 용량 최적화나 로딩 속도 향상을 고민할 수 있죠. 실제로 빌드 명령어에 옵션을 더 붙여서 좀 더 디테일하게 빌드 과정이나 성능을 분석하는 방법도 있어요.  \n\n추가로, `next build` 명령어는 프로덕션 모드 빌드이기 때문에 개발 모드(`next dev`)와 달리 HMR 같은 즉각적인 반영 기능은 없어요. 따라서 수정 → 빌드 → 배포 과정을 반복하게 되니 점진적 배포에 유의하세요!\n\n---\n\n혹시 HMR이나 Turbopack에 대해 잘 모른다면 간단히 설명해볼게요.\n\n- **핫 모듈 리로딩(HMR)**: 코드를 수정하면 전체 페이지를 새로고침하지 않고도 그 부분만 즉시 반영해주는 기능이에요. 덕분에 개발할 때 훨씬 빠르게 결과를 확인할 수 있죠.  \n- **Turbopack**: Next.js가 공식적으로 지원하는 새로운 초고속 번들러(bundler)인데, Webpack보다 훨씬 빠르다고 알려져 있어요. 아직 실험적 기능이긴 하지만, 향후 Next.js 개발 방식에 큰 변화를 불러올 주목할 만한 기술이에요.\n\nNext.js를 사용하는 개발자라면 `next dev`와 `next build` 명령어의 옵션들을 잘 이해하고 활용하는 게 개발 효율을 크게 올리는 지름길이니, 꼭 익혀두길 추천합니다!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n\n| Route (app)            | Size | First Load JS  |\n|-----------------------|-------|----------------|\n| ○ /_not-found         | 0 B   | 0 kB           |\n| └ ƒ /products/[id]    | 0 B   | 0 kB           |\n\n- **Size**: 클라이언트 사이드에서 해당 페이지로 이동할 때 다운로드되는 자산 크기입니다. 각 라우트의 크기는 해당 라우트가 필요로 하는 의존성만 포함합니다.\n- **First Load JS**: 서버에서 페이지를 처음 방문할 때 다운로드되는 자바스크립트 크기입니다. 모든 페이지가 공유하는 JS 크기는 별도로 표시됩니다.\n\n여기서 두 값 모두 gzip 압축된 크기이고, 첫 로드 시 크기는 초록, 노랑, 빨강 색상으로 퍼포먼스를 간단하게 표현해줘요. 초록색일수록 빠르고 최적화된 상태라고 보면 됩니다.\n\n이런 정보를 통해 우리가 직접 개발할 때 페이지별 리소스 최적화가 얼마나 잘 되어있는지 쉽게 파악할 수 있죠. 나중에 프로젝트 빌드할 때 `next build` 명령어에 다양한 옵션들도 줄 수 있으니 필요하면 그 부분도 한번 살펴보시면 좋아요.\n\n\n위 내용을 보시면서, 다음과 같은 팁도 같이 공유할게요.\n\n### 개발 시 참고할 점\n- **프리렌더링(Static Generation)**을 적극 활용하면, 성능 향상에 큰 도움이 됩니다. 위 예시에서 `○ (Static)` 표시가 있는 페이지가 바로 그런 경우에 해당해요.\n- 반대로, `ƒ (Dynamic)`는 필요할 때마다 서버에서 데이터를 받아 렌더링하는 방식이라 처음 로딩 시 시간이 좀 더 걸릴 수 있답니다.\n- gzip 압축은 기본이기 때문에 이걸 해제하거나 신경 쓸 필요 없지만, 만약 페이지 로딩 속도가 느리다면 번들 크기를 분석해서 꼭 줄일 방법을 찾아보세요.\n- 네트워크 환경이 좋지 않은 사용자도 많으니, 가능한 한 `First Load JS` 크기를 작게 유지하는 게 중요합니다.\n  \n이렇게 최적화를 의식하며 작업하면 사용자 경험이 훨씬 좋아질 거예요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n다음은 `next build` 명령어에 사용할 수 있는 여러 가지 옵션들입니다. 개발할 때 빌드 설정을 세밀하게 조절할 수 있어서 상황에 맞게 활용하면 좋아요.\n\n| 옵션 | 설명 |\n| --- | --- |\n| `-h, --help` | 사용 가능한 모든 옵션을 보여줍니다. |\n| `[directory]` | 앱을 빌드할 디렉터리를 지정해요. 만약 생략하면 현재 디렉터리가 기본으로 사용됩니다. |\n| `-d` 또는 `--debug` | 빌드 과정에 대한 자세한 로그를 보고 싶을 때 사용해요. 이 옵션을 켜면 리다이렉션, 헤더 설정, 리라이트 같은 추가 정보들이 출력됩니다. |\n| `--profile` | React 프로파일링을 활성화해요. 프로덕션 환경에서 React 컴포넌트 성능을 자세히 분석할 수 있습니다. (React Profiler에 대해 더 알고 싶다면 [React 공식 문서](https://react.dev/reference/react/Profiler)를 참고!) |\n| `--no-lint` | 린팅(linting)을 비활성화합니다. 린트 검사 없이 빠르게 빌드할 때 유용하지만, 코드 품질은 직접 신경 써야 해요. |\n| `--no-mangling` | 네이밍 맹글링(Name Mangling)을 비활성화합니다. 맹글링은 코드 압축 성능을 높이는데, 해제하면 디버깅이 편해지지만 수행 속도에는 영향이 있을 수 있습니다. |\n| `--experimental-app-only` | App Router 경로만 빌드합니다. Next.js의 실험적 기능을 사용하고 싶을 때 쓰여요. |\n| `--experimental-build-mode [mode]` | 실험적 빌드 모드를 사용합니다. 선택지는 `\"compile\"`, `\"generate\"`, 기본값은 `\"default\"`입니다. 새 기능을 시험해보고 싶을 때 도움이 됩니다. |\n\n### next start 옵션\n\n`next start` 명령어는 빌드가 완료된 애플리케이션을 프로덕션 모드로 실행할 때 사용합니다. 빌드(`next build`)가 먼저 되어 있어야 하죠.\n\n`next start`에 사용할 수 있는 옵션들도 있는데, 필요하면 알려드릴게요!\n\n---\n\n추가 팁을 하나 더 드리자면, `--debug` 옵션은 빌드 문제를 찾을 때 정말 유용해요. 예를 들어, 설정한 리다이렉션이 제대로 적용되는지, 특정 헤더가 붙는지 등을 확인할 때 말이죠. 빌드 시간이 조금 더 걸리긴 하지만 디버깅 시간이 훨씬 단축됩니다! \n\nReact 프로파일링도 성능 최적화할 때 꼭 써보세요. 사용자 경험에 큰 영향을 주는 렌더링 병목을 쉽게 찾아낼 수 있답니다. \n\n필요하면 좀 더 자세히 알려드릴게요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n| Option                         | Description                                                                                     |\n|-------------------------------|-------------------------------------------------------------------------------------------------|\n| `-h` or `--help`               | 사용 가능한 모든 옵션을 보여줍니다.                                                             |\n| `[directory]`                  | 애플리케이션을 시작할 디렉토리입니다. 지정하지 않으면 현재 디렉토리가 사용됩니다.                  |\n| `-p` or `--port <port>`        | 애플리케이션을 시작할 포트 번호를 지정합니다. 기본값은 3000이며 환경 변수 PORT가 우선 적용됩니다.        |\n| `-H` or `--hostname <hostname>`| 애플리케이션을 시작할 호스트 이름을 지정합니다. 기본값은 `0.0.0.0` 입니다.                        |\n| `--keepAliveTimeout <keepAliveTimeout>`| 비활성 연결을 닫기 전 대기할 최대 시간을 밀리초 단위로 지정합니다.                              |\n\n---\n\n### next info 옵션 설명\n\n`next info` 명령어는 현재 시스템에 관한 다양한 정보를 출력해줍니다. 이 정보들은 Next.js 관련 버그를 GitHub에 리포트할 때 아주 유용합니다. 출력되는 내용에는 운영체제 플랫폼/아키텍처/버전 정보부터, Node.js, npm, Yarn, pnpm 같은 바이너리 버전, 그리고 Next.js, React, React DOM 등 주요 패키지들의 버전 정보가 포함됩니다.\n\n예를 들어, 이런 식으로 보이게 되죠:\n\n\nSystem:\n  OS: macOS 13.4\n  CPU: Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\n  Memory: 16 GB\n\nBinaries:\n  Node: v18.15.0\n  npm: 9.5.1\n  Yarn: 1.22.19\n\nDependencies:\n  next: 13.4.4\n  react: 18.2.0\n  react-dom: 18.2.0\n\n\n제가 개인적으로 느낄 때, 이런 시스템 정보를 미리 확인하는 습관은 문제 해결과 협업에 큰 도움이 돼요. 특히 버전 차이에서 발생하는 문제를 빠르게 파악할 수 있거든요. 그래서 `next info` 같은 명령어를 모르셨다면 꼭 한번 써보시길 추천합니다!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```js\n운영 체제(OS):\n  플랫폼: darwin (맥OS)\n  아키텍처: arm64 (애플 실리콘 M1/M2 등)\n  버전: Darwin Kernel Version 23.6.0\n  사용 가능한 메모리(MB): 65536 (64GB)\n  사용 가능한 CPU 코어 수: 10\n\n바이너리 정보:\n  Node.js: 20.12.0\n  npm: 10.5.0\n  Yarn: 1.22.19\n  pnpm: 9.6.0\n\n주요 패키지:\n  next: 15.0.0-canary.115 (최신 베타 버전)\n  eslint-config-next: 14.2.5\n  react: 19.0.0-rc (릴리즈 후보)\n  react-dom: 19.0.0\n  typescript: 5.5.4\n\nNext.js 설정:\n  output: N/A\n```\n\n---\n\n여기서 살펴본 정보들은 `next info` 명령어를 실행했을 때 나오는 시스템 정보와 설정값들이에요. 이 명령어는 Next.js 프로젝트를 디버깅할 때 굉장히 유용하답니다.\n\n추가로, `next info` 명령어에는 몇 가지 옵션이 있어요:\n\n| 옵션               | 설명                                    |\n|--------------------|----------------------------------------|\n| `-h` 또는 `--help` | 사용 가능한 모든 옵션을 확인할 수 있어요. |\n| `--verbose`        | 디버깅에 필요한 추가 정보를 수집해요.   |\n\n예를 들어, 문제가 생겨서 더 자세한 정보를 보고 싶다면 다음과 같이 명령어를 쓰면 되죠.\n\n```bash\nnext info --verbose\n```\n\n---\n\n### next lint 옵션\n\n사실 Next.js는lint(코드 품질 검사)도 아주 중요한 부분에요. `next lint` 명령어를 통해 프로젝트 내 코드를 검사할 수 있는데, 여기서도 여러가지 옵션이 있답니다. 예를 들어, 특정 파일만 검사하거나, 자동으로 고치기도 가능하죠.\n\n다음 포스팅에서는 `next lint` 명령어와 그 옵션들을 상세히 다뤄볼게요! 코드 퀄리티 올리는 데 큰 도움이 될 거예요.\n\n---\n\n> 참고로, 현재 Next.js 버전 is canary(미리보기/베타 버전)이어서 안정된 버전과는 차이가 있을 수 있어요. 실무에서 쓸 땐 조금 주의하셔야 합니다!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nnext lint 명령어는 pages/, app/, components/, lib/, 그리고 src/ 디렉터리에 있는 모든 파일에 대해 ESLint를 실행해주는 도구에요. ESLint 설정이 아직 안 되어 있다면, 필요한 의존성 설치를 위한 가이드도 함께 제공해준답니다.\n\n그럼 next lint 명령어에서 사용할 수 있는 옵션들을 살펴볼게요!\n\n| 옵션                                      | 설명                                                                                      |\n|-----------------------------------------|-----------------------------------------------------------------------------------------|\n| `[directory]`                           | lint를 실행할 기본 디렉터리를 지정해요. 지정하지 않으면 현재 디렉터리가 기본값이에요.     |\n| `-d, --dir, <dirs...>`                  | ESLint를 실행할 디렉터리를 하나 이상 지정할 수 있어요.                                   |\n| `--file, <files...>`                    | ESLint를 실행할 파일을 직접 지정할 수 있어요.                                            |\n| `--ext, [exts...]`                      | 검사할 JavaScript 파일 확장자를 지정해요. 기본값은 [\".js\", \".mjs\", \".cjs\", \".jsx\", \".ts\", \".mts\", \".cts\", \".tsx\"] 입니다. |\n| `-c, --config, <config>`                | 이 옵션을 사용하면 다른 모든 설정을 무시하고 지정한 ESLint 설정 파일만 사용해요.          |\n| `--resolve-plugins-relative-to, <rprt>`| 플러그인을 어디서부터 찾을지 디렉터리를 지정할 수 있어요.                                |\n| `--strict`                             | Next.js 권장 strict 설정으로 `.eslintrc.json` 파일을 생성해줘요.                         |\n| `--rulesdir, <rulesdir...>`              | 추가적으로 사용할 ESLint 규칙들이 있는 디렉터리를 지정할 수 있어요.                      |\n| `--fix`                               | 자동으로 수정 가능한 lint 문제들을 고쳐줘요.                                            |\n| `--fix-type <fixType>`                  | 적용할 fix 타입을 지정할 수 있어요 (예: problem, suggestion, layout).                   |\n| `--ignore-path <path>`                   | lint 검사에서 제외할 파일이나 디렉터리 패턴을 지정하는 파일 경로를 지정해요.             |\n| `--no-ignore <path>`                     | `--ignore-path` 옵션을 비활성화해요.                                                   |\n| `--quiet`                             | 경고 메시지를 숨기고 에러만 보고해요.                                                  |\n| `--max-warnings [maxWarnings]`          | 지정한 경고 수 이상이면 non-zero 종료 코드를 반환해요. 기본값은 -1(제한 없음)입니다.    |\n| `-o, --output-file, <outputFile>`       | ESLint 결과를 저장할 파일을 지정해요.                                                  |\n| `-f, --format, <format>`                 | 결과 출력 형식을 지정할 수 있어요.                                                     |\n| `--no-inline-config`                    | 코드 내에 주석으로 ESLint 설정 변경을 막아요.                                          |\n| `--report-unused-disable-directives-severity <level>` | 사용하지 않는 `eslint-disable` 지시어에 대한 심각도 수준 지정 (error, off, warn)          |\n| `--no-cache`                           | 캐시를 사용하지 않도록 해요.                                                           |\n| `--cache-location, <cacheLocation>`       | 캐시 위치를 지정할 수 있어요.                                                          |\n| `--cache-strategy, [cacheStrategy]`       | 변경 파일을 감지하는 캐시 전략을 지정할 수 있어요. 기본값은 `metadata`입니다.           |\n| `--error-on-unmatched-pattern`           | 지정한 패턴에 맞는 파일이 없으면 에러로 처리해요.                                       |\n| `-h, --help`                           | 도움말 메시지를 보여줘요.                                                              |\n\n---\n\n### 조금 더 팁!\n\n- `--fix` 옵션을 잘 활용하면 코드 스타일을 자동으로 맞춰줘서 개발 속도를 올릴 수 있어요.\n- `--quiet` 모드는 CI 환경에서 에러만 보고 싶을 때 매우 유용해요.\n- 여러 디렉터리나 파일을 지정해 특정 부분만 검사하는 것도 가능하니, 프로젝트 상황에 맞게 유연하게 사용해보세요.\n\nnext lint 옵션을 잘 익히면 코드 품질 관리가 훨씬 편해진답니다! 도움이 되었길 바라요 :)\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nNext.js는 완전히 익명으로 일반 사용 패턴에 관한 텔레메트리(사용 데이터)를 수집해요. 이 프로그램 참여는 선택사항이고, 원하지 않으면 언제든지 옵트아웃(참여 중지) 할 수 있답니다.\n\n텔레메트리 관련 명령어(next telemetry)에서 사용할 수 있는 옵션들은 다음과 같아요:\n\n| 옵션               | 설명                           |\n|--------------------|------------------------------|\n| `-h`, `--help`     | 사용 가능한 모든 옵션을 보여줍니다. |\n| `--enable`         | Next.js 텔레메트리 수집을 활성화합니다. |\n| `--disable`        | Next.js 텔레메트리 수집을 비활성화합니다. |\n\n참고로, 텔레메트리를 통해 수집되는 데이터는 프로젝트가 얼마나 잘 동작하는지, 어떤 기능이 자주 사용되는지 같은 정보들이에요. 이를 통해 Next.js 팀은 더 나은 기능을 만들고 버그를 빠르게 잡을 수 있답니다.\n\n텔레메트리에 관해 더 자세히 알고 싶다면 공식 문서를 참고해보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## 예제들\n\n### 기본 포트 바꾸기\n\nNext.js는 기본적으로 개발할 때나 `next start` 명령어를 사용할 때 http://localhost:3000 포트를 씁니다. 근데 가끔 3000번 포트가 이미 다른 프로그램에서 사용 중일 수도 있고, 다른 포트를 쓰고 싶을 때가 있죠? 그럴 땐 `-p` 옵션을 써서 쉽게 바꿀 수 있어요. 예를 들어, 4000번 포트로 바꾸려면 이렇게 하면 됩니다:\n\n```bash\nnext dev -p 4000\n```\n\n위 명령어에서 `next dev`는 개발 모드로 서버를 실행하는 거고, `-p 4000`이 4000번 포트로 바꾸는 옵션이에요.\n\n참고로, 실제 운영 모드에서 사용하는 `next start` 명령에도 동일하게 `-p` 옵션을 쓸 수 있어요. 예를 들어:\n\n```bash\nnext start -p 5000\n```\n\n이렇게 하면 운영 서버가 5000번 포트에서 실행되겠죠.\n\n또 한 가지 팁을 드리자면, package.json 스크립트에 이 옵션을 추가해서 명령어를 짧게 관리하는 것도 좋아요. 예를 들어:\n\n```json\n\"scripts\": {\n  \"dev\": \"next dev -p 4000\",\n  \"start\": \"next start -p 4000\"\n}\n```\n\n이렇게 해두면 터미널에 `npm run dev` 혹은 `npm run start`만 쳐서 원하는 포트에 서버를 띄울 수 있으니, 기억해두면 편리합니다!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nPORT 환경 변수로 설정하는 방법도 있어요:\n\n```bash\nPORT=4000 next dev\n```\n\n> 참고할 점: `.env` 파일에서 PORT를 설정해도 효과가 없어요. HTTP 서버가 가장 먼저 실행되기 때문에, 다른 코드들이 초기화되기 전에 이미 포트가 정해져 버리거든요.\n\n### 개발 환경에서 HTTPS 사용하기\n\n개발할 때도 HTTPS를 쓰면 진짜 서비스 환경과 비슷하게 테스트할 수 있어서 좋아요. 다만, 로컬 개발 환경이라 SSL 인증서를 직접 만들어 써야 하죠. 이를 위해 `mkcert` 같은 툴을 사용하면 쉽게 로컬용 신뢰할 수 있는 인증서를 만들 수 있어요.\n\n예를 들어, `next.js` 애플리케이션에 HTTPS를 적용하려면 커스텀 서버를 한번 설정해줘야 하는데, `https` 모듈을 사용하거나 `next-https` 같은 라이브러리를 활용할 수도 있어요.\n\n직접 HTTPS 개발 환경을 구성하는 게 번거롭다면, 최근에 Next.js 관련 도구들이 HTTPS 옵션을 좀 더 쉽게 지원하는 방향으로 업데이트되고 있으니 공식 문서나 깃허브 이슈를 참고하는 것도 추천해요.\n\n혹시 HTTPS 개발 환경에서 겪는 문제나 궁금한 점 있으면 편하게 알려주세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n로컬 개발 환경에서 웹후크(webhooks)나 인증(authentication) 같은 보안이 필요한 작업을 할 때, HTTPS를 사용하는 게 좋아요. Next.js에서는 `--experimental-https` 플래그를 사용해서 간단하게 자체 서명된(self-signed) 인증서를 생성하고 HTTPS 환경을 띄울 수 있답니다.\n\n```bash\nnext dev --experimental-https\n```\n\n이렇게 하면 Next.js 개발 서버가 https://localhost:3000 에서 실행되는데요, 기본 포트인 3000번이 사용되고, 만약 다른 포트를 쓰고 싶다면 `-p`, `--port` 옵션이나 환경변수 `PORT`를 통해 지정할 수 있어요.\n\n더 나아가서, 자신만의 인증서나 키를 직접 넣고 싶다면 아래 옵션을 활용하면 됩니다.\n\n| 옵션                       | 설명                           |\n|----------------------------|--------------------------------|\n| `--experimental-https-key` | 커스텀 HTTPS 키 파일 경로 지정  |\n| `--experimental-https-cert`| 커스텀 인증서 파일 경로 지정    |\n| `--experimental-https-ca`  | 커스텀 CA 인증서 파일 경로 지정 |\n\n예를 들어, 회사 내부에서 자체 인증서를 관리하고 있다면 이 옵션들을 사용해서 그대로 적용할 수 있겠죠.\n\n**참고로!**  \n로컬에서 HTTPS를 사용할 때 브라우저가 '안전하지 않다'고 경고하는 경우가 있어요. 이유는 자체 서명된 인증서이기 때문이죠. 실제 서비스용으로 사용하려면 공인된 인증서를 발급받아야 하지만, 개발할 때는 그냥 이 경고 무시하고 진행해도 크게 문제없어요. 그래도 개발 중에도 HTTPS 환경을 미리 만들어 테스트해보면 많은 문제가 사전에 걸러져서 좋아요!\n\n이렇게 Next.js가 HTTPS 환경 구축을 좀 더 쉽게 도와주니, 보안이 필요한 기능 개발 시 꼭 활용해 보세요.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n\n```bash\nnext dev --experimental-https --experimental-https-key ./certificates/localhost-key.pem --experimental-https-cert ./certificates/localhost.pem\n```\n\n`next dev --experimental-https` 옵션은 오직 개발 환경에서만 사용하도록 설계되어 있습니다. 이 옵션을 쓰면 mkcert를 통해 로컬에서 신뢰할 수 있는 인증서를 자동으로 만들어주는데, 편리하긴 하지만 진짜 운영 환경에선 신뢰할 수 있는 인증 기관에서 발급받은 정식 인증서를 써야 합니다.\n\n> 참고로, Vercel에 배포할 경우에는 HTTPS 설정이 자동으로 처리되니 별도로 신경 쓰지 않아도 됩니다.\n\n---\n\n### 아래 방향 프록시(downstream proxy)에서 타임아웃 설정하기\n\n여기서 잠깐! 개발 중에 프록시 서버를 쓰다가 요청 지연 때문에 문제가 생긴 경험 있으신가요? 프록시 설정 시 타임아웃 시간을 적절하게 조절해주면 네트워크 안정성을 높이는 데 도움이 됩니다.\n\n예를 들어, Next.js 프로젝트에서 프록시를 설정할 때 `http-proxy-middleware` 같은 라이브러리를 사용한다면, 아래처럼 타임아웃 옵션을 넣을 수 있어요:\n\n```js\nconst { createProxyMiddleware } = require('http-proxy-middleware');\n\nmodule.exports = function(app) {\n  app.use('/api', createProxyMiddleware({\n    target: 'http://backend.server',\n    changeOrigin: true,\n    timeout: 5000, // 5초 대기 후 타임아웃 처리\n    proxyTimeout: 5000,\n  }));\n};\n```\n\n타임아웃 설정을 해주면, 백엔드 API가 응답하지 않을 때 프론트엔드가 무한 대기 상태에 빠지지 않도록 방지할 수 있으니 꼭 활용해 보세요!\n\n---\n\n개발할 때 HTTPS 설정, 프록시 타임아웃 등 이런 작은 디테일 하나하나가 전체 앱의 안정성과 개발 경험을 훨씬 더 좋게 만들어요. 앞으로도 이런 팁들 계속 공유할게요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nNext.js를 AWS ELB나 ALB 같은 다운스트림 프록시(Load Balancer 등) 뒤에 배포할 때, Next.js가 내부적으로 사용하는 HTTP 서버의 keep-alive 타임아웃 설정을 프록시의 타임아웃보다 크게 해주는 게 정말 중요해요.  \n이걸 안 하게 되면, keep-alive 타임아웃이 도달한 순간 Node.js가 아무런 알림 없이 TCP 연결을 끊어버리는데, 프록시는 여전히 그 연결을 재사용하려고 시도하거든요. 그래서 결국 프록시 에러가 발생해요.\n\n### 해결 방법  \nNext.js 프로덕션 서버를 실행할 때는 `--keepAliveTimeout` 옵션을 밀리초 단위로 넘겨주면 됩니다. 예를 들어 70초(70000ms)로 설정하려면 이렇게 해요:\n\n```bash\nnext start --keepAliveTimeout 70000\n```\n\n---\n\n### Node.js 인자 추가 전달하기  \n만약 직접 Node.js 인자를 주고 싶다면 `NODE_OPTIONS` 환경변수를 활용할 수도 있는데요, 예를 들어 메모리 제한을 늘리거나 디버깅 옵션을 넣고 싶을 때 유용해요.\n\n```bash\nNODE_OPTIONS=\"--max-old-space-size=4096\" next start --keepAliveTimeout 70000\n```\n\n---\n\n### 추가 팁  \n- ALB, ELB 같은 프록시는 기본적으로 60초 전후로 타임아웃이 설정되어 있어요. 그래서 Node.js 서버의 keepAliveTimeout은 그보다 약간 더 길게 세팅하는 게 좋습니다.  \n- 만약 타임아웃이 너무 짧게 설정되어 있으면 “502 Bad Gateway” 같은 프록시 에러가 발생하는 걸 보실 수 있어요.  \n- 이 외에도, 내부 네트워크 상태나 트래픽 특성에 맞춰서 적절히 값을 튜닝해주는 걸 추천합니다.\n\n이렇게만 설정해줘도 Next.js 앱 안정성이 한층 높아지니 꼭 기억해두세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nNode.js에서 `NODE_OPTIONS` 환경변수를 활용하면, 다음에 실행할 명령어에 다양한 옵션들을 간편하게 넘길 수 있어요. 특히 Next.js 같은 프레임워크를 실행할 때 유용하죠.\n\n예를 들어 이렇게 쓸 수 있어요:\n\n```bash\nNODE_OPTIONS='--throw-deprecation' next\n```\n- 이 옵션은 deprecated(사용 중단 예정)된 기능을 사용할 때 경고 대신 에러를 던져서 문제를 더 빨리 발견하게 도와줘요.\n\n```bash\nNODE_OPTIONS='-r esm' next\n```\n- `-r esm` 옵션은 실행 전에 esm 모듈을 리퀴어해서 ES 모듈을 사용할 수 있도록 환경을 세팅해줘요. 물론 Node.js 최신 버전은 기본 지원하지만, 호환성 이슈가 있을 때 유용하답니다.\n\n```bash\nNODE_OPTIONS='--inspect' next\n```\n- 이 옵션은 디버깅 모드를 켜서 크롬 개발자도구나 VSCode 같은 툴로 디버깅할 수 있게 해줘요.\n\n실제로 `NODE_OPTIONS`는 Node.js가 실행될 때 항상 참조하기 때문에, 여러 설정을 한 번에 전달 가능해 작업 효율을 올려주죠. 단, 옵션이 복잡해지면 환경변수 길이가 길어질 수 있으니 주의하세요!\n\n필요한 옵션을 적절히 활용해서 Next.js 개발환경을 좀 더 편리하게 만들어보세요~","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":24},{"title":"Next.js와 React 프로젝트에 ESLint Plugin 추가하는 방법","description":"","date":"2025-04-22 13:36","slug":"2025-04-22-ESLintPlugin","content":"\n\n# ESLint 플러그인\n\nNext.js에는 이미 기본 설정에 포함되어 있는 `eslint-plugin-next`라는 ESLint 플러그인이 있어요. 이 플러그인은 Next.js 애플리케이션을 개발할 때 자주 발생하는 문제나 실수를 미리 잡아내도록 도와줍니다. 덕분에 더 깔끔하고 버그 없는 코드를 작성할 수 있죠.\n\n## 참고 자료\n\n`eslint-config-next` 안에는 아래에 소개하는 여러 ESLint 플러그인들을 추천 규칙 세트로 포함하고 있어요. 그러니까 Next.js를 쓰면 별도의 복잡한 설정 없이도 좋은 코드 품질을 유지할 수 있다는 뜻이죠.\n\n| ESLint Plugin           | 설명                                         |\n|------------------------|--------------------------------------------|\n| eslint-plugin-react    | React 코드에서 발생할 수 있는 문제를 잡아냄         |\n| eslint-plugin-jsx-a11y | 웹 접근성 관련 규칙을 적용해 좀 더 접근성 좋은 UI 작성 지원 |\n| eslint-plugin-import   | 모듈 임포트 관련 문제를 방지                      |\n\nNext.js 개발할 때는 이런 기본 설정들이 이미 잘 갖춰져 있으니, 너무 ESLint 설정에만 신경 쓰지 말고 개발에 집중해도 되겠죠? 물론 필요하다면 플러그인이나 규칙을 추가로 조정해서 내 스타일에 맞게 커스터마이징하는 것도 가능해요.\n\n추가로, ESLint와 prettier 같은 코드 스타일링 도구를 함께 사용하면 코드 품질 유지와 팀 협업이 훨씬 수월해진다는 점도 기억해두면 좋겠네요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- eslint-plugin-react  \n- eslint-plugin-react-hooks  \n- eslint-plugin-next  \n\n이 설정들은 next.config.js에 있는 설정보다 우선 적용됩니다.\n\n### 규칙 (Rules)\n\n전체 규칙 목록은 다음과 같습니다:  \n\n| 규칙 이름                | 설명                                          |\n|-------------------------|---------------------------------------------|\n| eslint-plugin-react      | React 관련 코딩 스타일과 규칙을 관리하는 플러그인  |\n| eslint-plugin-react-hooks| React Hooks 관련 규칙을 강화해주는 플러그인         |\n| eslint-plugin-next      | Next.js 특화 규칙을 포함하는 플러그인               |\n\nESLint 플러그인들은 프로젝트의 코드 품질과 일관성을 유지하는 데 정말 유용해요. Next.js 프로젝트를 할 때 이런 플러그인들을 쓰면 Hooks를 잘못 쓰거나, React 컴포넌트에서 흔히 발생하는 실수를 미리 잡아낼 수 있어서 개발할 때 시간도 절약되고 오류도 줄일 수 있답니다.  \n\n특히, `eslint-plugin-next`는 Next.js를 사용할 때만 적용되는 특수 규칙들(예: 이미지 최적화, 링크 태그 사용 등)을 포함하고 있어서 Next.js 프로젝트에 최적화된 코드를 작성하는 데 도움을 줍니다. 그런데 `next.config.js`의 설정보다 이 플러그인 설정이 우선한다는 점, 꼭 기억하세요!  \n\n이 아래에 구체적인 각 규칙 셋을 보시면, 어떤 규칙들이 있고 각각 어떻게 동작하는지 더 자세히 알 수 있을 거예요. 궁금한 점 있으면 언제든 물어보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n아래는 Next.js에서 권장하는 ESLint 규칙들 목록입니다. 나열된 규칙들은 기본 권장 설정에 활성화되어 있고, 각각 어떤 역할을 하는지 간단히 설명되어 있어요. 참고하면 코드 작성 시 품질을 높이는데 큰 도움이 됩니다!\n\n| 권장 설정에 활성화됨 | 규칙 | 설명 |\n|:------------------:|:----------------------------|:---------------------------------------------------------|\n| ✅ | [@next/next/google-font-display](https://nextjs.org/docs/messages/google-font-display) | Google Fonts 사용 시 `font-display` 속성 강제 적용 |\n| ✅ | [@next/next/google-font-preconnect](https://nextjs.org/docs/messages/google-font-preconnect) | Google Fonts에 대해 `preconnect` 태그 사용 권장 |\n| ✅ | [@next/next/inline-script-id](https://nextjs.org/docs/messages/inline-script-id) | 인라인 스크립트가 포함된 `next/script` 컴포넌트에 `id` 속성 필요 |\n| ✅ | [@next/next/next-script-for-ga](https://nextjs.org/docs/messages/next-script-for-ga) | 구글 애널리틱스 인라인 스크립트 사용 시 `next/script` 컴포넌트를 선호 |\n| ✅ | [@next/next/no-assign-module-variable](https://nextjs.org/docs/messages/no-assign-module-variable) | `module` 변수에 할당하는 행위 방지 |\n| ✅ | [@next/next/no-async-client-component](https://nextjs.org/docs/messages/no-async-client-component) | 클라이언트 컴포넌트를 async 함수로 작성하는 것을 방지 |\n| ✅ | [@next/next/no-before-interactive-script-outside-document](https://nextjs.org/docs/messages/no-before-interactive-script-outside-document) | `next/script`의 `beforeInteractive` 옵션은 `pages/_document.js`에서만 허용 |\n| ✅ | [@next/next/no-css-tags](https://nextjs.org/docs/messages/no-css-tags) | 수동 스타일 시트 태그 방지 |\n| ✅ | [@next/next/no-document-import-in-page](https://nextjs.org/docs/messages/no-document-import-in-page) | `next/document`를 `pages/_document.js` 외부에서 임포트 금지 |\n| ✅ | [@next/next/no-duplicate-head](https://nextjs.org/docs/messages/no-duplicate-head) | `pages/_document.js` 내에서 `<Head>` 중복 사용 방지 |\n| ✅ | [@next/next/no-head-element](https://nextjs.org/docs/messages/no-head-element) | `<head>` 요소 사용 방지 (Next.js에서는 `<Head>` 컴포넌트 사용 권장) |\n| ✅ | [@next/next/no-head-import-in-document](https://nextjs.org/docs/messages/no-head-import-in-document) | `pages/_document.js`에서 `next/head` 임포트 금지 |\n| ✅ | [@next/next/no-html-link-for-pages](https://nextjs.org/docs/messages/no-html-link-for-pages) | 내부 페이지 이동 시 `<a>` 대신 Next.js의 `<Link>` 컴포넌트 사용 권장 |\n| ✅ | [@next/next/no-img-element](https://nextjs.org/docs/messages/no-img-element) | LCP (Largest Contentful Paint) 성능 저하와 높은 대역폭 문제 때문에 `<img>` 대신 Next.js `Image` 컴포넌트 사용 권장 |\n| ✅ | [@next/next/no-page-custom-font](https://nextjs.org/docs/messages/no-page-custom-font) | 페이지 단독 사용자 지정 폰트 사용 방지 (글로벌로 적용 권장) |\n| ✅ | [@next/next/no-script-component-in-head](https://nextjs.org/docs/messages/no-script-component-in-head) | `next/head` 컴포넌트에 `next/script` 사용 금지 |\n| ✅ | [@next/next/no-styled-jsx-in-document](https://nextjs.org/docs/messages/no-styled-jsx-in-document) | `pages/_document.js` 내 styled-jsx 사용 금지 |\n| ✅ | [@next/next/no-sync-scripts](https://nextjs.org/docs/messages/no-sync-scripts) | 동기 방식 스크립트 사용 방지 |\n| ✅ | [@next/next/no-title-in-document-head](https://nextjs.org/docs/messages/no-title-in-document-head) | `next/document`에서 `Head` 컴포넌트 안에 `<title>` 사용 금지 |\n| ✅ | @next/next/no-typos | Next.js 데이터 패칭 함수에서 흔히 하는 오타 방지 (`getStaticProps` 등) |\n| ✅ | [@next/next/no-unwanted-polyfillio](https://nextjs.org/docs/messages/no-unwanted-polyfillio) | Polyfill.io의 중복 폴리필 방지 |\n\n---\n\n### 추가 팁!\n\n- 위 리스트의 많은 규칙들은 Next.js에서 권장하는 최적화 및 구조적 일관성을 지키도록 도와줍니다.\n- 예를 들어, 내부 페이지 이동 시 `<Link>` 컴포넌트를 쓰는 이유는 클라이언트 사이드 네비게이션 활성화와 빠른 페이지 전환을 가능하게 하기 때문입니다.\n- 그리고 이미지 최적화를 위해 Next.js의 `Image` 컴포넌트를 사용하는 것이 페이지 로딩 속도 향상과 대역폭 절약에 크게 유리해요.\n- `next/script` 컴포넌트는 스크립트 로딩 시점 및 우선순위를 조절하여 성능 최적화를 돕는데, 특히 Google Analytics 같은 외부 스크립트는 꼭 규칙대로 적용하는 게 좋습니다.\n\n---\n\n### 에디터에서 경고와 오류를 바로 확인하려면?\n\n이런 ESLint 규칙들은 혼자 일일이 체크하기 어려운데요, VSCode 같은 편집기에서 Next.js ESLint 플러그인을 사용하면 개발 중 곧바로 문제점을 확인할 수 있어서 훨씬 편리합니다!\n\n---\n\n## 예시: 커스텀 디렉토리 및 파일에 Lint 적용하기\n\n```bash\nnpx next lint --dir=app,components --files=**/*.ts,**/*.tsx\n```\n\n이렇게 하면 기본 `pages` 디렉토리 외에 `app`, `components` 폴더도 lint 검사를 할 수 있어요. 실제 프로젝트에 맞게 잘 활용해 보세요!\n\n---\n\nNext.js 개발하면서 꼭 알아두면 좋은 필수 ESLint 규칙들!\n\n꾸준히 규칙을 지키면서 개발하면 유지보수가 훨씬 쉬워지고, 코드 품질도 자연스럽게 올라가니까 꼭 적용해 보세요 :)\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nNext.js는 기본적으로 pages/, app/, components/, lib/, src/ 디렉터리 안에 있는 모든 파일들에 대해 ESLint를 실행해줘요. 근데 프로덕션 빌드할 때는 어떤 디렉터리만 검사할지 next.config.js 파일 안에 eslint 옵션의 dirs 배열로 지정할 수도 있답니다.\n\n```js\nmodule.exports = {\n  eslint: {\n    dirs: ['pages', 'utils'], // next build 시에 'pages'와 'utils' 폴더만 ESLint 검사 대상이 됩니다.\n  },\n}\n```\n\n그리고 커맨드 라인에서 직접 ESLint를 실행할 때는 `next lint` 다음에 `--dir`이나 `--file` 플래그를 붙여 특정 디렉터리나 파일만 검사할 수도 있어요.\n\n```bash\nnext lint --dir pages --dir utils --file bar.js\n```\n\n이렇게 하면 pages와 utils 폴더, 그리고 bar.js 파일만 ESLint 검사를 하게 돼서, 검사 범위를 좁혀서 속도를 개선하거나 원하는 부분만 빠르게 체크할 때 유용해요.\n\n추가로 팁을 드리자면, 대규모 프로젝트에서는 불필요한 파일까지 ESLint가 검사하지 않도록 dirs 옵션을 잘 설정해두는 게 빌드 시간을 줄이는 데 꽤 도움이 돼요. 프로젝트가 커질수록 이런 세세한 설정이 실제 개발 효율에도 큰 차이를 만들어낸답니다!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n### 모노레포(monorepo)에서 루트 디렉터리 지정하기\n\n안녕하세요! 오늘은 Next.js 프로젝트를 모노레포 구조로 관리할 때, `eslint-plugin-next`가 Next.js 애플리케이션이 어디 있는지 잘 찾게 만드는 방법에 대해 이야기해볼게요.\n\n보통 Next.js 프로젝트를 루트 디렉터리에 둔다면 별다른 설정 없이 잘 작동하는데요, 모노레포처럼 여러 패키지가 서브디렉터리에 있을 경우엔 `eslint-plugin-next`가 어디서 Next.js 일을 처리해야 할지 모를 수 있어요. 그래서 `.eslintrc` 파일(또는 설정 파일)에서 `settings` 속성 안에 `next.rootDir` 옵션을 지정해주는 거죠.\n\n즉, ESLint 설정을 조금 손봐서 Next.js 앱 경로를 정확히 알려주는 방법을 사용할 수 있습니다. 예제를 볼게요:\n\n```js\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst compat = new FlatCompat({\n  // import.meta.dirname는 Node.js v20.11.0 이상에서 사용 가능해요\n  baseDirectory: import.meta.dirname,\n})\n\nconst eslintConfig = [\n  ...compat.config({\n    extends: ['next'],\n    settings: {\n      next: {\n        rootDir: 'packages/my-app/',  // 여기에 Next.js 앱 폴더 경로를 넣어주세요\n      },\n    },\n  }),\n]\n\nexport default eslintConfig\n```\n\n여기서 좀 더 보충설명을 하자면,\n\n| 설정 | 설명 |\n|-------|------|\n| `rootDir` | Next.js가 위치한 경로 (상대경로나 절대경로 모두 가능) |\n| glob 패턴 | 여러 애플리케이션이 있는 경우 `\"packages/*/\"` 같은 glob 패턴도 쓸 수 있어요 |\n| 배열 사용 | 여러 개 경로(또는 glob)를 배열로 묶어서 지정하는 것도 가능합니다 |\n\n예를 들어, 여러 앱이 있을 때는 이렇게 할 수도 있죠:\n\n```js\nsettings: {\n  next: {\n    rootDir: ['packages/app1/', 'packages/app2/', 'packages/*/'],\n  },\n}\n```\n\n이 설정 덕분에 ESLint가 Next.js 프로젝트 내 규칙을 제대로 이해하고 검사할 수 있어, 잘못된 코드 패턴이나 Next.js 특화된 규칙 위반을 정확히 잡아줍니다.\n\n---\n\n**참고로** `import.meta.dirname`는 Node.js v20.11.0부터 지원하니, 이 버전 이하를 사용 중이라면 다른 방법(예: `__dirname` 또는 경로 모듈 활용)을 써야 해요.\n\n---\n\n### 정리하자면\n\n- 모노레포에서 각 Next.js 앱 위치를 알려줘야 ESLint가 제대로 동작한다.\n- `.eslintrc` 혹은 ESLint 설정 파일의 `settings.next.rootDir`에 앱 경로 또는 glob 패턴을 지정하면 된다.\n- 여러 앱이 있으면 배열로 여러 경로를 지정할 수도 있다.\n\nmonorepo 나눠서 관리하는 분들은 이렇게 한번 설정해두면 ESLint도 Next.js도 모두 스트레스 없이 사용할 수 있으니 꼭 참고해보세요! :)\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n### 캐시 비활성화하기\n\nESLint는 기본적으로 처리한 파일들의 정보를 캐시해서 성능을 높여줘요. 이 캐시는 보통 `.next/cache` 폴더나 여러분이 설정한 빌드 디렉토리에 저장됩니다. \n\n그런데 만약 ESLint 규칙 중에 한 소스 파일의 내용뿐만 아니라 다른 상태나 파일에 의존하는 규칙을 사용할 때는 캐시가 문제를 일으킬 수 있거든요. 이런 경우 캐시를 끄고 싶다면 `next lint` 명령어에 `--no-cache` 플래그를 붙여주면 돼요.\n\n```bash\nnext lint --no-cache\n```\n\n이렇게 하면, ESLint가 이전에 저장해둔 캐시를 무시하고 항상 새로 검사하기 때문에 캐시로 인한 이상 동작을 방지할 수 있습니다.\n\n---\n\n### ESLint 규칙 비활성화하기\n\nESLint 룰을 상황에 따라 꺼야 할 때가 있어요. 프로젝트 전체에서 특정 룰을 끌 수도 있고, 특정 파일이나 코드 일부에만 룰을 무시하도록 설정할 수 있죠. 다음에는 ESLint 규칙 비활성화 방법에 대해서도 차근차근 알려드릴게요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n안녕하세요, 개발자 여러분! 오늘은 Next.js, React, 그리고 React Hooks 플러그인에서 제공하는 ESLint 규칙들을 어떻게 수정하거나 비활성화할 수 있는지 알려드리려고 해요. 특히 `.eslintrc` 설정 파일에서 `rules` 프로퍼티를 직접 변경하는 방법에 대해 다뤄볼게요.\n\n먼저, Next.js에서는 ESLint 설정 방식이 조금 바뀌었는데요, 새로운 `@eslint/eslintrc` 패키지를 활용해서 호환성을 유지하고 설정을 쉽게 변경할 수 있어요. 아래 예시 코드를 통해 이해해볼게요.\n\n```js\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst compat = new FlatCompat({\n  // import.meta.dirname은 Node.js v20.11.0 이상부터 사용 가능합니다.\n  baseDirectory: import.meta.dirname,\n})\n\nconst eslintConfig = [\n  ...compat.config({\n    extends: ['next'],\n    rules: {\n      // react 컴포넌트 내에서 escape 처리되지 않은 엔티티 사용 경고를 끕니다.\n      'react/no-unescaped-entities': 'off',\n      // Next.js 페이지에서 custom font 사용을 금지하는 규칙을 끕니다.\n      '@next/next/no-page-custom-font': 'off',\n    },\n  }),\n]\n\nexport default eslintConfig\n```\n\n### 설명을 조금 더 살짝 덧붙여볼게요\n\n- `FlatCompat`는 Next.js 최신 ESLint 설정이 기본적으로 `flat` config 방식을 사용하면서 발생하는 호환성 문제를 해결해 줍니다.\n- `baseDirectory`는 현재 설정 파일의 경로 기준으로 확장과 규칙을 찾도록 해 줍니다.\n- `extends`에 `'next'`를 명시하면 기본적으로 Next.js에서 추천하는 ESLint 규칙 세트를 사용하겠다는 뜻입니다.\n- 여기서 `rules` 안에 원하는 규칙을 `off`나 다른 심각도 수준(`warn`, `error`)으로 직접 조정할 수 있어요.\n\n---\n\n### Core Web Vitals 관련 팁!\n\nNext.js에서 `next lint` 명령어를 처음 실행할 때, `strict` 옵션을 선택하면 `next/core-web-vitals`라는 별도의 규칙 세트가 자동으로 활성화돼요. 이 규칙들은 웹 성능과 사용자 경험에 큰 영향을 미치는 Core Web Vitals 지표 개선에 도움을 준답니다. 따라서 엄격한 품질 관리가 필요한 프로젝트에서는 이 옵션을 적극 권장드려요.\n\n---\n\n요즘 ESLint 설정 방법이 조금 바뀌었지만 위 방법처럼 하면 이전보다 훨씬 유연하고 깔끔하게 원하는 규칙을 커스터마이징할 수 있습니다. 혹시 더 궁금한 점 있으면 편하게 알려주세요! 개발자 여러분, 행복한 코딩 하세요! 🚀\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이번 글에서는 Next.js 프로젝트에서 ESLint 설정을 할 때 자주 쓰이는 `next/core-web-vitals` 확장 설정을 Flat ESLint 설정 방식과 함께 사용하는 방법을 소개할게요. 실무에서 꼭 알아두면 좋은 내용이니, 재미있게 읽어주세요!\n\n---\n\n## `next/core-web-vitals`란?\n\nNext.js에서 제공하는 `next/core-web-vitals`는 Core Web Vitals(사용자 경험과 성능지표에 중요한 요소들)를 기준으로 ESLint 규칙들을 강화한 설정입니다. 기본적으로 경고(warning)로 표시되던 규칙 중 사용자 경험에 치명적인 부분에 대해서는 에러(error)로 올려줍니다. 이 덕분에 웹 앱 성능과 접근성을 더 신경 쓸 수 있죠.\n\n### 유용한 점\n- Create Next App으로 새 프로젝트 만들면 자동으로 포함돼 있어요.\n- Core Web Vitals에 영향을 주는 코드에 대한 검사 강화\n- 런타임 성능과 SEO, 사용자 경험 개선에 도움\n\n---\n\n## Flat ESLint 설정에서는 이렇게 써요\n\nESLint 8버전부터는 구성 파일이 Flat Config라는 새로운 방식도 지원합니다. 기존 `.eslintrc.js` 대신 `eslint.config.js` 같은 파일에 설정을 배열 형태로 쓴다고 생각하면 쉬워요.\n\n`@eslint/eslintrc` 패키지의 `FlatCompat` 도구를 이용하면 이전 `.eslintrc` 형식을 Flat Config으로 변환해 쓸 수 있어서, 그 점을 활용한 코드가 바로 아래 예시입니다.\n\n```js\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst compat = new FlatCompat({\n  // import.meta.dirname은 Node.js v20.11.0 이후 버전에서 사용 가능해요.\n  baseDirectory: import.meta.dirname,\n})\n\nconst eslintConfig = [\n  ...compat.config({\n    extends: ['next/core-web-vitals'],\n  }),\n]\n\nexport default eslintConfig\n```\n\n- `FlatCompat`에 프로젝트 경로를 넘겨준 후,\n- `compat.config()` 메서드에서 `extends` 배열에 `next/core-web-vitals`를 추가해줘요.\n- 결과물을 그대로 export하면 ESLint가 Flat Config 방식으로 인식합니다.\n\n---\n\n## TypeScript 프로젝트에서 쓸 땐?\n\nTypeScript에서도 마찬가지로 위 방식을 사용할 수 있는데요, 보통 `@typescript-eslint` 플러그인도 같이 사용하므로 아래처럼 작성합니다.\n\n```js\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst compat = new FlatCompat({\n  baseDirectory: import.meta.dirname,\n})\n\nconst eslintConfig = [\n  ...compat.config({\n    extends: [\n      'next/core-web-vitals',\n      'plugin:@typescript-eslint/recommended', // TypeScript 권장 설정\n    ],\n  }),\n]\n\nexport default eslintConfig\n```\n\nTypeScript와 Next.js 둘다 쓰는 프로젝트라면, 이렇게 병합해서 설정해주시면 끝!\n\n---\n\n## 마지막으로 팁 하나!\n\nNext.js 최신 버전은 기본적으로 `next/core-web-vitals`를 포함하는 경우가 많지만, 기존 프로젝트나 수동으로 구성하는 경우 유용해요. ESLint 오류가 너무 많아 부담된다면 한두 가지 규칙만 선택적으로 켜서 점진적으로 적용해보길 추천합니다.\n\n또, Node.js 버전이 `import.meta.dirname`을 지원하지 않는다면, `path` 모듈과 `import.meta.url`을 활용해서 경로를 추출하는 코드도 함께 작성해야 해요.\n\n---\n\n오늘은 Next.js 프로젝트에서 Core Web Vitals에 맞춘 ESLint 설정 방법과 Flat Config 적용법에 대해 간단히 다뤄봤어요. 다음에도 실무에 바로 써먹는 팁으로 돌아올게요!\n\n궁금한 점 있으면 댓글로 물어봐 주세요 :)\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nNext.js를 사용하면서 ESLint 설정할 때, create-next-app --typescript 옵션을 쓰면 기본적으로 Next.js ESLint 규칙 뿐만 아니라 TypeScript에 특화된 lint 규칙도 함께 추가해줘요. next/typescript라는 규칙셋을 통해서요.\n\n아래 코드를 보면 FlatCompat라는 도구를 써서 'next/core-web-vitals'와 'next/typescript' 두 규칙셋을 extends 하고 있죠.\n\n```js\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst compat = new FlatCompat({\n  // import.meta.dirname는 Node.js v20.11.0 이상에서 사용 가능해요\n  baseDirectory: import.meta.dirname,\n})\n\nconst eslintConfig = [\n  ...compat.config({\n    extends: ['next/core-web-vitals', 'next/typescript'],\n  }),\n]\n\nexport default eslintConfig\n```\n\n여기서 next/typescript 규칙들은 사실 `plugin:@typescript-eslint/recommended` 기반이에요. 즉, TypeScript 코드를 더 엄격하고 깔끔하게 만들어주는 다양한 룰들을 포함하고 있다는 뜻이죠. 더 자세한 내용은 [typescript-eslint 공식 문서](https://typescript-eslint.io/linting/configs/)를 참고하면 좋아요.\n\n### Prettier와 함께 쓰기\n\nESLint와 함께 Prettier를 같이 사용하고 싶다면, 서로 충돌하는 규칙들을 조정해 줘야 해요. 특히 코드 스타일 관련 룰들은 Prettier가 담당하고, ESLint는 코드 품질과 오류 확인 위주로 역할 분담하는 게 일반적이죠.\n\n이럴 땐 `eslint-config-prettier`를 추가하고, extends에 `prettier`를 마지막에 넣어줘서 Prettier와 충돌하는 ESLint 룰을 끄는 방식을 씁니다. 예를 들면 이렇게:\n\n```js\n...compat.config({\n  extends: ['next/core-web-vitals', 'next/typescript', 'prettier'],\n}),\n```\n\n그리고 Prettier 설정 파일(.prettierrc)을 잘 만들어 두면, VS Code 같은 편집기도 자동으로 스타일을 맞춰줘서 코딩하기 훨씬 편해져요!\n\n---\n\n**한마디 정리**  \ncreate-next-app --typescript를 통해 만들어진 ESLint 설정은 Next.js 공식 규칙 + TypeScript 추천 룰들의 조합이에요. 여기에 Prettier를 더해서 코딩 스타일도 자동으로 맞춰주면, 팀 프로젝트나 개인 개발 모두 훨씬 깔끔하고 효율적이랍니다!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nESLint에는 코드 포맷팅 규칙도 포함되어 있어서, 기존에 사용 중인 Prettier 설정과 충돌이 발생할 수 있어요. 그래서 ESLint와 Prettier가 서로 잘 협업할 수 있도록 `eslint-config-prettier`라는 설정을 추가하는 걸 추천해드립니다.\n\n먼저, `eslint-config-prettier` 패키지를 설치해야 해요. 사용하는 패키지 매니저에 따라 아래 명령어 중 하나를 실행하면 됩니다:\n\n```bash\nnpm install --save-dev eslint-config-prettier\n\nyarn add --dev eslint-config-prettier\n\npnpm add --save-dev eslint-config-prettier\n\nbun add --dev eslint-config-prettier\n```\n\n설치가 끝났으면, 이제 ESLint 설정 파일(`.eslintrc.js`나 `.eslintrc.json` 등)에 `prettier`를 extends에 추가해줘야 해요. 예를 들어 `.eslintrc.js` 파일이라면 이렇게 작성할 수 있습니다:\n\n```js\nmodule.exports = {\n  extends: [\n    // 기존 확장 설정들\n    \"eslint:recommended\",\n    \"plugin:react/recommended\",\n    // prettier 관련 설정은 항상 가장 마지막에 추가하는 게 좋아요\n    \"prettier\"\n  ],\n  // 그 외 다른 ESLint 설정들\n};\n```\n\n`eslint-config-prettier`는 ESLint의 포맷팅 관련 규칙을 끄면서, Prettier가 원하는 대로 포맷팅을 할 수 있게 도와줘요. 이렇게 해 놓으면 ESLint가 포맷팅 문제로 에러를 내는 경우가 줄어들고, 두 도구가 충돌 없이 함께 동작합니다.\n\n참고로, 만약 `eslint-plugin-prettier`도 사용하고 있다면, `plugin:prettier/recommended`를 extends에 추가하는 방식도 고려해볼 수 있어요. 이 방법을 사용하면 Prettier가 제안하는 포맷팅 규칙을 ESLint가 직접 체크해서 에러로 보여주게 되니, 편리합니다.\n\n사용자마다 설정 환경이 다를 수 있으니, 본인 프로젝트에 맞게 조절하면서 써보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nJS로 작성된 ESLint 설정과 함께, lint-staged와 Next.js lint를 함께 사용하는 방법에 대해 살펴볼게요.\n\n```js\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst compat = new FlatCompat({\n  // import.meta.dirname은 Node.js v20.11.0 이후부터 사용 가능해요\n  baseDirectory: import.meta.dirname,\n})\n\nconst eslintConfig = [\n  ...compat.config({\n    extends: ['next', 'prettier'], // next.js 기본 규칙과 prettier 규칙을 확장해서 사용\n  }),\n]\n\nexport default eslintConfig\n```\n\n여기서 `FlatCompat`은 ESLint가 새롭게 Flat Config 방식을 지원하면서, 기존의 extends 규칙을 쉽게 호환시켜 주는 도구예요. Node.js 환경에서 `import.meta.dirname`을 쓰려면 최소 버전이 20.11.0 이상이어야 하니 버전 확인 꼭 해보세요!\n\n---\n\n### 스테이지 된 파일만 린트 돌리기 (lint-staged)\n\ngit에 커밋 전에 변경된 파일들만 린트 돌리면서 자동 수정까지 하고 싶다면 `lint-staged`를 쓸 수 있어요. 그런데 Next.js의 `next lint` 명령어는 기본적으로 특정 파일만 지정해서 검사하려면 `--file` 플래그를 써야 하거든요.\n\n그래서 `.lintstagedrc.js`에 아래처럼 설정해 주면,\n\n```js\nconst path = require('path')\n\nconst buildEslintCommand = (filenames) =>\n  `next lint --fix --file ${filenames\n    .map((f) => path.relative(process.cwd(), f))\n    .join(' --file ')}`\n\nmodule.exports = {\n  '*.{js,jsx,ts,tsx}': [buildEslintCommand],\n}\n```\n\n- `filenames`에 있는 파일들 각각을 상대 경로로 바꿔서 `--file` 플래그와 함께 넘겨줘요.\n- `--fix` 옵션 덕분에 린트 에러가 안 잡히는 부분은 자동으로 고쳐줘서 편리하답니다.\n\n---\n\n### 덧붙임: next lint와 lint-staged 활용 팁\n\n- **commit hook에 연결**: 보통 `husky` 같은 git 훅 관리 도구와 함께 써서 커밋 전에 자동으로 린트가 실행되도록 많이 설정해요.\n- **속도 개선**: 어떤 프로젝트는 린트 검사 시간이 오래 걸릴 수 있는데, lint-staged는 변경된 파일만 검사하니까 훨씬 빠릅니다.\n- **eslint 설정 최신화**: `FlatCompat`을 쓰지 않고 공식 Flat Config 방식으로 마이그레이션을 고민중이라면, eslint 공식 문서도 꾸준히 참고하세요.\n\n실제 프로젝트에 위 설정을 적용해서 깔끔한 코드 유지에 도움이 되길 바라요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## 프로덕션 빌드 시 린트(lint) 비활성화하기\n\nNext.js에서 프로덕션 빌드를 할 때 ESLint가 실행되는 걸 원하지 않는다면, `next.config.js` 파일에 `eslint.ignoreDuringBuilds` 옵션을 `true`로 설정하면 됩니다.\n\n```js\nimport type { NextConfig } from 'next'\n\nconst nextConfig: NextConfig = {\n  eslint: {\n    // 주의! 이 설정을 사용하면 ESLint 에러가 있어도 프로덕션 빌드가 정상적으로 완료됩니다.\n    ignoreDuringBuilds: true,\n  },\n}\n\nexport default nextConfig\n```\n\n이 옵션을 활성화하면, 빌드 과정에서 ESLint 에러가 있어도 빌드가 중단되지 않기 때문에 빠르게 배포할 수 있다는 장점이 있지만, 반대로 코드 품질 문제를 간과할 위험도 있으니 주의하는 게 좋아요.\n\n### 기존 설정 마이그레이션하기\n\n만약 기존에 ESLint 설정을 다른 방식(예: 스크립트 또는 별도 플러그인 등)으로 관리하고 있었다면, 이제는 Next.js의 공식적인 설정 방식에 맞춰 `next.config.js` 내부에 위처럼 `eslint.ignoreDuringBuilds` 옵션만 추가해주면 됩니다.\n\n간단히 말해:\n\n- 기존에 빌드 시 `eslint` 검사를 별도로 돌리고 있었다면 이 옵션을 켜면 빌드 속도가 빨라짐\n- 하지만 배포 전에 꼭 별도로 린팅하거나 CI/CD 파이프라인에서 린트를 수행하는 게 중요!\n\n---\n\n개발할 때는 린트를 꼭 켜두고, 프로덕션 빌드시간을 빠르게 하고 싶을 때만 이 옵션을 사용하는 게 가장 스마트한 방법입니다. 린트는 코드 품질 유지에 아주 중요한 역할을 하니까요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이미 애플리케이션에 ESLint가 설정되어 있다면, 특별한 몇 가지 조건이 아니면 eslint-config-next를 포함하기보다는 이 플러그인을 직접 확장하는 걸 추천해요.\n\n#### 추천 플러그인 룰셋\n\n다음 조건들이 모두 맞으면 이 방법이 좋아요:\n\n- 아래 플러그인 중 하나 이상을 이미 설치했을 때 (별도로 설치했거나 airbnb, react-app 같은 다른 설정을 이용해서 포함된 경우):\n  - react\n  - react-hooks\n  - jsx-a11y\n  - import\n- 그리고 Next.js 내에서 Babel이 기본 설정된 방식과 다른 parserOptions를 직접 정의한 경우 (이건 보통 권장되지 않는 방법이에요. Babel 설정을 커스터마이징한 경우에만 해당돼요)\n- eslint-plugin-import를 사용 중이고, Node.js 및/또는 TypeScript resolver가 import를 제대로 처리하도록 설정한 경우\n\n---\n\n요약하자면, 이미 React 관련 플러그인들이 잘 구성되어 있거나, Babel과 import 처리 방식에 변화를 줬을 때는 eslint-config-next를 포함하기보단 플러그인을 직접 확장하는 게 더 깔끔하고 충돌도 적답니다.\n\n참고로, Next.js는 자체적으로 ESLint를 지원해주지만 프로젝트 상황에 따라 세밀하게 조정해야 할 때가 있으니 이런 점을 미리 체크해보는 게 좋아요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nNext.js 프로젝트에서 ESLint 설정을 할 때, 직접 설정을 추가하기보다는 Next.js에서 권장하는 ESLint 플러그인을 사용하는 게 훨씬 편하고 관리하기 좋습니다. 그래서 기존에 직접 설정해둔 부분이 있다면, 그것을 없애거나 Next.js가 제공하는 플러그인으로 바로 확장하는 걸 추천해요.\n\n설정은 이렇게 간단합니다:\n\n```js\nmodule.exports = {\n  extends: [\n    // 기존 설정들...\n    'plugin:@next/next/recommended',\n  ],\n}\n```\n\n이렇게 하면 Next.js에서 권장하는 ESLint 규칙들이 자동으로 적용돼서, 코드 품질도 높아지고 Next.js의 최신 가이드라인도 쉽게 따라갈 수 있죠.\n\n그리고 이 플러그인은 프로젝트에 별도로 설치해줘야 하는데, `next lint` 명령어를 굳이 실행하지 않아도 됩니다. 설치는 각각의 패키지 매니저에 맞게 아래 명령어 중 하나를 사용하면 돼요:\n\n```bash\nnpm install --save-dev @next/eslint-plugin-next\n```\n\n```bash\nyarn add --dev @next/eslint-plugin-next\n```\n\n```bash\npnpm add --save-dev @next/eslint-plugin-next\n```\n\n```bash\nbun add --dev @next/eslint-plugin-next\n```\n\n---\n\n### 추가 팁!\n\n- 이 플러그인은 Next.js의 최적화 코드 스타일, 성능, 접근성 관련 규칙도 포함하고 있어서 프로젝트 전반의 품질 관리에 큰 도움이 됩니다.\n- ESLint 설정 변경 후에는 꼭 에디터를 재시작하거나 ESLint 프로세스를 재시작해서 변경 사항이 잘 반영되는지 확인해 보세요.\n- 가끔 규칙이 너무 엄격하거나 불필요하다고 느껴지면, `.eslintrc.js`에서 개별 규칙을 오버라이드해서 조정할 수도 있어요.\n\n이제 Next.js 공식 방식을 활용해서 더 깔끔하고 효율적인 개발 환경을 만들어보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n겹치는 플러그인이나 파서를 여러 설정 파일에서 불러와 생길 수 있는 충돌이나 오류 걱정 없이 안전하게 사용할 수 있는 방법이에요.\n\n### 추가 설정 방법\n\n만약 이미 따로 ESLint 설정을 사용 중인데, 거기에 `eslint-config-next`를 포함시키고 싶다면, 다른 설정들 뒤에 마지막으로 `next` 설정이 확장되도록 해야 합니다. 예를 들면 아래처럼요:\n\n```js\nimport js from '@eslint/js'\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst compat = new FlatCompat({\n  // import.meta.dirname는 Node.js v20.11.0 이후부터 사용할 수 있어요\n  baseDirectory: import.meta.dirname,\n  recommendedConfig: js.configs.recommended,\n})\n\nconst eslintConfig = [\n  ...compat.config({\n    extends: ['eslint:recommended', 'next'],\n  }),\n]\n\nexport default eslintConfig\n```\n\n여기서 핵심은 `FlatCompat`를 사용해 기존의 ESLint 설정(예: `eslint:recommended`)과 `next` 설정을 안전하게 병합하는 거예요. 이렇게 하면 `next`의 설정이 나중에 적용돼서 우선순위도 제대로 조절되고, 설정 충돌을 미연에 방지할 수 있죠.\n\n참고로, `import.meta.dirname`은 상대 경로 같은 디렉토리 정보를 제공하는데, 이 기능을 사용하려면 Node.js가 v20.11.0 이상이어야 한다는 점 기억해 주세요!\n\n이 방법을 활용하면 Next.js 프로젝트나 여러 ESLint 설정을 동시에 관리하는 환경에서 훨씬 깔끔하고 효율적으로 ESLint 구성을 유지할 수 있습니다.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n다음 설정(next configuration)은 parser, plugins, settings 속성에 대한 기본값을 이미 잘 처리해주고 있어요. 그러니 특별히 다른 설정이 필요하지 않은 한, 이 속성들을 다시 선언할 필요는 없답니다.\n\n만약 다른 공유 가능한 설정(shareable configuration)을 포함한다면, 이 속성들이 덮어쓰거나 수정되지 않도록 잘 관리해줘야 해요. 그렇지 않으면, 기본적으로 next 설정과 겹치는 부분이 있을 수 있어서 혼란이 생길 수 있거든요.\n\n간단하게 정리하면, 가능하면 next 설정과 중복되는 다른 설정들은 빼고, 필요하다면 Next.js ESLint 플러그인에서 직접 확장하는 게 가장 깔끔한 방법이에요.\n\n개발하다 보면 설정이 꼬일 때가 있는데, 이렇게 기본값을 잘 활용하면 깔끔하고 유지보수하기 편한 ESLint 설정을 만들 수 있으니 참고하세요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":25},{"title":"webVitalsAttribution을 활용한 웹 성능 지표 측정 및 분석 방법","description":"","date":"2025-04-22 13:34","slug":"2025-04-22-webVitalsAttribution","content":"\n\n# webVitalsAttribution\n\n웹 바이탈(Web Vitals) 문제를 디버깅할 때, 문제의 원인을 정확히 파악할 수 있다면 훨씬 도움이 되죠. 예를 들어, Cumulative Layout Shift(CLS) 같은 경우, 가장 큰 레이아웃 이동을 일으킨 최초의 요소가 무엇인지 알고 싶을 때가 있어요. 또는 Largest Contentful Paint(LCP)라면, 페이지에서 LCP에 해당하는 요소가 무엇인지 식별하고 싶을 때가 있죠. 특히 LCP 요소가 이미지인 경우, 이미지 리소스의 URL을 알면 어느 자산을 최적화해야 할지 찾기가 훨씬 수월해집니다.\n\n이렇듯 Web Vitals 점수에 가장 큰 영향을 준 요소를 ‘attribution(기여 요소 파악)’이라고 하는데요, 이 기능을 사용하면 PerformanceEventTiming, PerformanceNavigationTiming, PerformanceResourceTiming 같은 좀 더 상세한 실시간 성능 로그 정보를 얻을 수 있습니다.\n\n참고로 Next.js에서는 attribution 기능이 기본적으로 꺼져 있습니다. 필요할 때 특정 메트릭에 대해 아래처럼 next.config.js 파일에 설정해서 켤 수 있어요.\n\n```js\n// next.config.js\nmodule.exports = {\n  experimental: {\n    webVitalsAttribution: ['CLS', 'LCP', 'FID'], // 원하는 메트릭만 지정 가능합니다.\n  },\n}\n```\n\n---\n\n### 추가 팁\n\n- attribution 기능을 켜면 좀 더 상세한 데이터가 들어오기 때문에 성능 분석에 큰 도움이 되지만, 동시에 약간의 오버헤드가 발생할 수 있으니 개발이나 디버깅 환경에서 주로 사용하는 걸 추천해요.\n- 다양한 툴(예: Lighthouse, Chrome DevTools 등)에서도 Web Vitals를 측정할 수 있지만, Next.js와 같은 프레임워크에서 attribution을 활용하면 문제의 근원을 더 빠르게 찾는 데 큰 도움이 됩니다.\n- LCP 같은 경우 이미지라면 로딩 최적화(예: webp 변환, 사이즈 조절, lazy loading 등)를 우선 고려해보는 것도 좋겠죠?\n\n웹 바이탈 디버깅을 좀 더 똑똑하게 하는 기본 팁으로 기억해두세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n여러분, Next.js에서 웹 성능 지표(Web Vitals)를 추적할 때 `experimental.webVitalsAttribution` 옵션을 사용해보셨나요? \n\n예를 들어, 아래와 같이 `next.config.js` 파일에 설정할 수 있어요:\n\n```js\nmodule.exports = {\n  experimental: {\n    webVitalsAttribution: ['CLS', 'LCP'],\n  },\n}\n```\n\n이 설정은 CLS(Cumulative Layout Shift)와 LCP(Largest Contentful Paint) 지표에 대한 Attribution(원인 추적)을 활성화합니다. \n\n참고로, `webVitalsAttribution`에 들어갈 수 있는 값들은 Next.js가 정의한 `NextWebVitalsMetric` 타입에 명시된 모든 웹 바이탈(Web Vitals) 메트릭들이에요. 대표적으로는 다음과 같답니다:\n\n| 메트릭           | 설명                                         |\n| ---------------- | -------------------------------------------- |\n| CLS              | 누적 레이아웃 이동 (시각적 안정성)            |\n| LCP              | 가장 큰 콘텐츠 페인트 (페이지 로딩 성능)       |\n| FID              | 첫 입력 지연 (사용자 반응성)                   |\n| FCP              | 첫 콘텐츠 페인트 (첫 번째 의미 있는 화면 출력) |\n| TTFB             | 첫 바이트까지 시간 (네트워크 지연 측정)        |\n\n이 설정은 아직 'experimental' 단계라서, 지속적으로 업데이트될 수 있다는 점 참고해주세요. 그리고 웹 바이탈 지표 중 어떤 것이 내 앱에 가장 중요한지 고민해보고, 필요한 것만 골라서 추적하는 게 좋아요.\n\n혹시 이 옵션을 활성화하면, Next.js가 어떻게 성능 데이터를 수집하고, 어디에 어떻게 보여주는지 궁금하다면 알려주세요! 다음글에서는 실제 수집된 성능 데이터를 분석하고 최적화하는 방법에 대해 같이 얘기해 볼게요.","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":3},{"title":"2025년 Next.js 15 맞춤형 Webpack 설정하는 방법","description":"","date":"2025-04-22 13:33","slug":"2025-04-22-CustomWebpackConfig","content":"\n\n# 커스텀 Webpack 설정하기\n\n> 참고할 점: Webpack 설정을 변경하는 건 버전 규칙(semver)에 포함되지 않으니, 변경 시에 신중하게 진행하세요!\n\nNext.js에 커스텀 Webpack 설정을 추가하기 전에, 먼저 Next.js가 이미 여러분의 요구사항을 기본적으로 지원하고 있는지 확인해보는 게 좋아요. 기본적으로 다음 기능들은 Next.js에서 지원하고 있습니다:\n\n- CSS 가져오기 (CSS imports)\n- CSS 모듈 (CSS modules)\n- Sass/SCSS 가져오기 (Sass/SCSS imports)\n- Sass/SCSS 모듈 (Sass/SCSS modules)\n\n이 기능들은 Next.js에서 별도의 설정 없이도 바로 사용할 수 있어서, 간단한 스타일링 작업이라면 따로 Webpack 설정을 건드릴 필요가 없답니다.\n\n만약 여러분이 좀 더 특별한 설정이 필요하거나, Next.js가 기본적으로 지원하지 않는 로더(loader)나 플러그인(plugin)을 추가하려는 경우에만 커스텀 Webpack 설정 작업을 하시면 돼요.  \n\n그러니, Webpack 설정을 건드리기 전에 항상 공식 문서나 Next.js의 최신 지원사항을 꼭 먼저 살펴보세요! 그래야 불필요한 고민과 에러를 줄일 수 있습니다.  \n\n추가로, Webpack 설정을 수정할 때는 프로젝트 전체 빌드에 영향을 주기 때문에 꼭 변경사항을 잘 테스트하고, 빌드 속도가 느려지는 부분도 체크해보시는 걸 추천드려요.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n웹 개발할 때 자주 요청받는 기능들은 플러그인 형태로 제공되는 게 많아요. 예를 들어,\n\n- `@next/mdx` : MDX 파일을 Next.js에서 바로 사용할 수 있게 해줍니다. (즉, Markdown과 JSX를 결합해서 쓸 수 있죠)\n- `@next/bundle-analyzer` : 번들 크기를 시각화해줘서 성능 최적화에 도움을 줘요.\n\n그리고 Next.js에서 기본적으로 쓰는 webpack 설정을 내가 원하는 대로 바꾸고 싶다면, `next.config.js` 파일 안에 webpack 설정 확장 함수를 넣으면 돼요. 아래처럼요:\n\n```js\nmodule.exports = {\n  webpack: (\n    config,\n    { buildId, dev, isServer, defaultLoaders, nextRuntime, webpack }\n  ) => {\n    // 여기서 config를 원하는 대로 수정하세요\n\n    // 수정한 config를 꼭 리턴해줘야 합니다.\n    return config\n  },\n}\n```\n\n위 함수에서 `config`는 현재의 webpack 설정 객체고, 두 번째 인자에는 빌드 과정에 유용한 여러 정보가 담겨 있어요. 예를 들어 개발 모드인지 `dev`를 통해 알 수 있고, 서버사이드인지 `isServer`로 구분할 수도 있죠.\n\n실제로 확장할 때 흔히 하는 작업 예를 들면:\n\n- 특정 로더 추가하기 (예: 이미지, 스타일 등)\n- 플러그인 추가하거나 교체하기\n- 프로덕션 빌드에서 코드 압축 설정 변경하기 등\n\n꼭 기억할 점은, 함수 마지막에 수정한 config를 반환해야만 원하는 대로 적용된다는 점이에요. 안 그러면 변경 사항이 무시됩니다.\n\n이 부분만 잘 활용해도 Next.js의 번들링 과정을 유연하게 제어할 수 있으니 기회가 되면 한번 시도해보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nwebpack 함수는 총 세 번 실행돼요. 서버 쪽에서 두 번(하나는 Node.js, 다른 하나는 Edge 런타임용), 그리고 클라이언트 쪽에서 한 번 이렇게요. 덕분에 isServer 속성을 활용해서 클라이언트와 서버용 webpack 설정을 쉽게 구분할 수 있답니다.\n\nwebpack 함수에 전달되는 두 번째 인자는 여러 정보들을 담은 객체인데, 주요 속성은 다음과 같아요:\n\n| 속성명         | 타입                 | 설명                                                         |\n| -------------- | -------------------- | ------------------------------------------------------------ |\n| buildId        | String               | 빌드 간 고유 식별자로 사용돼요.                              |\n| dev            | Boolean              | 현재 개발 모드인지 여부를 나타내요. (true면 개발 모드)         |\n| isServer       | Boolean              | 서버 사이드 컴파일일 경우 true, 클라이언트 사이드 컴파일일 경우 false에요. |\n| nextRuntime    | String \\| undefined  | 서버 사이드 컴파일에서의 타겟 런타임 - \"edge\" 또는 \"nodejs\". 클라이언트 컴파일일 경우 undefined에요. |\n| defaultLoaders | Object               | Next.js가 내부적으로 사용하는 기본 로더 설정입니다.          |\n\n특히 defaultLoaders에는 babel 설정 같은 필수 로더들이 들어있어서, 커스텀 환경에서도 Next.js 기본 로더 구성을 참고하면서 손쉽게 webpack 구성을 변경할 수 있어요.\n\n예를 들어, defaultLoaders.babel을 이렇게 사용할 수 있죠:\n\n```js\nmodule.exports = {\n  webpack(config, { defaultLoaders }) {\n    config.module.rules.push({\n      test: /\\.js$/,\n      use: [\n        defaultLoaders.babel, // 기본 babel-loader 설정을 이용\n        {\n          loader: 'my-custom-loader',\n          options: { /* ... */ },\n        },\n      ],\n    });\n    return config;\n  },\n};\n```\n\n이처럼 Next.js의 기본 babel 설정을 활용하면, 직접 설정을 완전히 새로 만드는 것보다 훨씬 편리하고 안정적으로 빌드 구성을 확장할 수 있어요. 꼭 필요한 부분만 덧붙이면서 성능도 챙겨보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n자, 이번에는 Next.js에서 MDX 파일을 처리하기 위한 웹팩 설정 예제를 한번 살펴볼게요. 원본 코드는 @next/mdx 플러그인에서 따온 건데, MDX를 바벨로더와 함께 사용하는 예시입니다.\n\n```js\n// babel-loader에 의존하는 로더를 추가하는 예시 설정\nmodule.exports = {\n  webpack: (config, options) => {\n    config.module.rules.push({\n      test: /\\.mdx/,  // .mdx 확장자를 가진 파일에 적용할 로더\n      use: [\n        options.defaultLoaders.babel,  // Next.js의 기본 babel 로더 사용\n        {\n          loader: '@mdx-js/loader',    // MDX 변환 로더 추가\n          options: pluginOptions.options,  // 추가 옵션 지정 가능\n        },\n      ],\n    });\n\n    return config;\n  },\n};\n```\n\n여기서 중요한 점은, MDX 파일을 먼저 babel-loader가 변환하고, 그 다음에 @mdx-js/loader가 MDX 문법을 React 컴포넌트 코드로 바꾼다는 거예요.\n\n> 참고로 `pluginOptions.options` 부분이 빠져 있다면, 직접 옵션을 지정하거나 빈 객체 `{}`로 대체해도 됩니다. 환경에 따라 다르니까 참고하세요.\n\n---\n\n#### nextRuntime과 isServer 플래그 관련 팁\n\n그리고 문서 하단에 나온 `nextRuntime`에 관한 내용도 알아둬야 해요.\n\n- `nextRuntime`이 `\"edge\"`나 `\"nodejs\"`일 때 `isServer`가 항상 `true`로 설정돼요.\n- `\"edge\"` 런타임은 현재 미들웨어와 서버 컴포넌트(React Server Components)를 엣지 환경에서만 실행할 때 사용합니다.\n- 이 부분은 Next.js가 런타임 환경을 구분해서 코드 실행 위치를 판단할 때 중요해요.\n\n실제로 `\"edge\"` 환경은 지리적으로 가까운 서버에서 빠르게 응답하는 데 강점이 있으니, 미들웨어나 서버 컴포넌트 성능 최적화를 할 때 참고하시면 좋겠죠.\n\n---\n\n### 추가로 알려주는 팁!\n\nNext.js 웹팩 설정 수정할 때는 종종 `.mdx`뿐만 아니라 `.md` 파일도 함께 처리할 일이 많아요. 만약 그런 경우라면 `test` 항목을 `/\\.mdx?$/` 식으로 정규식 수정해서 한번에 처리하는 것도 추천합니다. 그리고 MDX를 쓸 때는 `@mdx-js/react` 패키지를 이용해서 MDX 내에서 React 컴포넌트를 자연스럽게 사용할 수 있으니, 프로젝트 요구에 맞춰 한번 적용해보세요.\n\n---\n\n필요하면 더 자세한 설정이나 MDX 활용법도 알려줄 수 있으니, 언제든 질문해 주세요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":6},{"title":"Nextjs 15에서 ViewTransition API로 페이지 전환 자연스럽게 하는 방법","description":"","date":"2025-04-22 13:33","slug":"2025-04-22-ViewTransition","content":"\n\n# ViewTransition 알아보기\n\n여러분, React에서 새롭게 실험 중인 **View Transitions API** 들어보셨나요? 이 기능은 브라우저의 네이티브 View Transitions API를 활용해 UI 상태 변화 사이를 자연스럽고 부드럽게 연결해주는 마법 같은 기술이에요.\n\nReact에서 이걸 쓰려면, `next.config.js` 파일 안에 `viewTransition` 설정을 켜줘야 해요. 설정 방법은 아주 간단해요:\n\n```js\n/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  experimental: {\n    viewTransition: true,\n  },\n}\n\nmodule.exports = nextConfig\n```\n\n이렇게 해주면, 여러분의 Next.js 프로젝트에서 이 새 기능을 써볼 수 있답니다.\n\n---\n\n### 추가 팁!\n\n- 이 API는 아직 **실험적(Experimental)** 이기 때문에, 모든 브라우저에서 완벽히 지원되는 것은 아니에요. 크롬 최신 버전에서 주로 잘 작동하니 테스트할 때 참고하세요.\n- View Transitions를 잘 활용하면 페이지 이동이나 UI 상태 변경이 훨씬 자연스러워서 사용자 경험이 훅 올라가요.\n- 이 기능 적용 후에는 기존의 복잡한 애니메이션 라이브러리 코드를 많이 줄일 수도 있습니다.\n  \n꼭 한 번 써보시고, 여러분만의 멋진 UI 전환 효과를 만들어 보세요!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n> 중요한 공지: 이 기능은 Next.js 팀에서 개발하거나 유지보수하는 게 아니에요. React 팀에서 실험적으로 제공하는 API라 아직 초기 단계에 있으며, 실제 프로덕션 환경에선 쓰는 걸 권장하지 않습니다. 구현 방식도 계속 바뀌고 있어서 앞으로 React 버전 업데이트에 따라 동작이 달라질 수 있어요. 이 기능을 사용하려면 이런 실험적인 특성을 충분히 이해하고 있어야 합니다. 자세한 동작 방식은 React 깃허브의 pull request와 관련 토론을 참고하는 게 좋아요.\n\n## 사용법\n\n이 기능을 활성화하면, React에서 `ViewTransition` 컴포넌트를 이렇게 불러올 수 있습니다:\n\n```js\nimport { unstable_ViewTransition as ViewTransition } from 'react'\n```\n\n---\n\n여기서 `unstable_` 접두어는 '실험적'이라는 뜻이에요. 앞으로 API가 바뀔 가능성이 크다는 신호로 생각하시면 됩니다. 개발할 때 참고하되, 안정성을 원한다면 공식적으로 완성된 기능이 나올 때까지 기다리는 게 좋겠죠?\n\n또한, 이 기능은 최신 브라우저에서만 지원될 가능성이 크고, 완성도나 성능 개선이 계속 진행 중이라 실제 프로젝트에 바로 넣기보단 호기심 있게 테스트해보는 용도로 활용해보세요.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n하지만 현재 문서와 예제가 제한적이라 이 기능이 어떻게 작동하는지 이해하려면 React 소스 코드와 관련 토론을 직접 참고해야 해요.\n\n### 라이브 데모\n\nNext.js 뷰 전환 데모를 확인해보세요.\n직접 기능이 어떻게 동작하는지 볼 수 있어요.\n\n이 API가 발전함에 따라 문서도 업데이트되고 더 많은 예제가 공유될 예정이에요.  \n하지만 지금 당장은 이 기능을 실제 서비스에 바로 사용하는 건 권장하지 않아요.  \n새로운 기능은 언제나 기대되지만, 안정성 면에서 좀 더 검증된 이후에 사용하는 게 안전하니까요!\n\n참고로, 이런 신기능들은 빠르게 변할 수 있으니 GitHub 같은 곳에서 최신 이슈나 PR도 계속 살펴보면 도움이 됩니다.  \n그리고 직접 코드를 읽고 테스트해보면서 이해도를 높이는 것도 좋은 방법이에요.","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":3},{"title":"Next.js 15에서 useLightningcss로 스타일 최적화하는 방법","description":"","date":"2025-04-22 13:32","slug":"2025-04-22-useLightningcss","content":"\n\n# useLightningcss\n\n이번에 소개할 기능은 **Lightning CSS**를 사용하는 실험적 지원 기능이에요. Lightning CSS는 Rust로 작성된 빠른 CSS 번들러이자 미니파이어(minifier)입니다. 간단히 말해, CSS 파일을 빠르게 묶고 용량을 줄여주는 도구라고 보면 돼요.\n\nNext.js에서 이 기능을 활성화하려면 `next.config.js` 또는 `next.config.ts`에 아래처럼 설정을 추가하면 됩니다:\n\n```js\nimport type { NextConfig } from 'next'\n\nconst nextConfig: NextConfig = {\n  experimental: {\n    useLightningcss: true,\n  },\n}\n\nexport default nextConfig\n```\n\n### Lightning CSS를 사용하면 좋은 점\n\n- **성능 향상**: Rust로 개발되어 속도가 굉장히 빠릅니다. 대용량의 CSS를 처리할 때 특히 유용해요.\n- **최소화(minify) 효율 증가**: CSS 용량을 더 작게 만들어 네트워크 전송 시간을 줄여줍니다.\n- **미래지향적**: 아직 experimental(실험적) 단계이긴 하지만, Next.js가 공식적으로 지원할 예정이니 앞으로 안정성과 기능이 더 좋아질 거예요.\n\n### 참고할 점\n\n- 실험적 기능이기 때문에, 일부 환경에서 예기치 못한 문제나 호환성 이슈가 발생할 수 있습니다. 프로덕션 환경에 도입하기 전에 충분한 테스트를 하는 걸 권장해요.\n- 만약 CSS 처리 과정에 커스텀 설정이 많거나 특정 PostCSS 플러그인을 사용 중이라면, Lightning CSS가 해당 부분을 모두 지원하는지 확인해야 합니다.\n\n앞으로 CSS 번들링 및 최적화에 관심 있다면 Lightning CSS는 꼭 한 번 시도해볼 만한 옵션입니다. 여러분도 Next.js 프로젝트에서 설정해보고 체감 성능 차이를 느껴보세요!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":1}],"page":"1","totalPageCount":50,"totalPageGroupCount":3,"lastPageGroup":20,"currentPageGroup":0},"__N_SSG":true}