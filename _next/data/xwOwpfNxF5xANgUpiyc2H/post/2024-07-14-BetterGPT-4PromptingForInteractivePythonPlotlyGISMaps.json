{"pageProps":{"post":{"title":"상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법","description":"","date":"2024-07-14 19:41","slug":"2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps","content":"\n\n\n![TIL image 0](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png)\n\n인터넷에는 역사적인 난파선 데이터를 포함한 데이터 세트에 대한 멋진 자료가 많이 있습니다.\n\n사용 가능한 데이터 세트에 대한 나의 지식 확장의 일환으로 매주 업데이트를 받는 소스 중 하나로 Data is Plural이 있습니다:\n\n![TIL image 1](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_1.png)\n\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이 사이트는 흥미로운 데이터 세트에 관한 주간 뉴스레터를 제공합니다.\n\n가장 최근 버전 (2024년 7월 10일)에는 하버드 대학교에서 가져온 고대 바다 난파선에 관한 데이터 세트가 있습니다. 이 데이터 세트에는 기원전 1500년부터 기원후 1500년까지의 기록이 포함되어 있으며 지중해와 북유럽을 중심으로 하고 있습니다. 정말 멋져요!\n\n저는 이 데이터 세트를 GPT-4에 업로드하여 각 포인트 데이터를 지도에 배치하는 Python 코드를 생성할 수 있는지 궁금했습니다.\n\n답변은? 네, 가능합니다. 다만 주의해서 프롬프트를 할 필요가 있습니다. 여기서 저가 거친 단계를 안내해 드리겠습니다.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# 제네릭 GPT-4 프롬프트로 시작하기\n\n우선, GPT-4가 데이터 세트를 의미있는 방식으로 해석할 수 있는지 확인해보고 싶었습니다. GIS 지도 코드를 생성할 수 있는지 보기 위한 일반적인 프롬프트입니다.\n\nGPT-4에 대한 프롬프트: 첨부된 데이터 세트를 사용하여, 각 난파선을 지도상의 점으로 표시하는 전역 지도의 파이썬 코드를 제공해주세요.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![image](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_2.png)\n\n이거 그래프네요! 신기하게도 각 포인트들이 정확해요. 아래에 지도 레이어를 넣으면 정확하게 매칭돼요. 그런데, 이건 우리가 원하는 게 아니에요.\n\n첫 번째 제네릭 프롬프가 반 성공했어요. 여기서 더 구체적으로 알아보아야 해요.\n\nGPT-4에게 프롬프트를 보내면: \"이건 지도가 아니에요. 각 포인트를 실제 지도에 표시하는 파이썬 코드를 생성해 주세요.\"\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이번에는 GPT-4가 matplotlib 및 shapely 라이브러리를 사용하여 Python 코드를 생성했습니다. 결과는 다음과 같습니다:\n\n![이미지](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_3.png)\n\n이제 지도를 가지고 있지만, 이 지도는 완전히 정적입니다. 확대 및 축소가 불가능하며 상호 작용할 수 없습니다.\n\n또한 각 개별 점을 해석하기가 매우 어렵습니다. 점들이 주로 유럽에 있다는 것을 알 수 있습니다.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n# 대화식 매핑을 위한 안내\n\n더 세부적으로 알아보고 GPT-4에게 상호작용 옵션을 요청해 봅시다.\n\nGPT-4에게 제시할 프롬프트: 저는 상호작용이 필요해요. 지도를 확대해서 볼 수 있고 각 데이터 포인트 위에 마우스를 올려 선박 이름과 화물을 표시할 수 있기를 원합니다.\n\nGPT-4는 툴팁을 사용하여 folium 지도를 만드는 파이썬 코드를 생성합니다:\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n![이미지](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_4.png)\n\n와, 여기에는 더 많은 세부 정보가 있네요. 개별 난파선을 식별하는 데이터 포인트를 더 명확하게 볼 수 있습니다. 아쉽게도, 이 지도는 HTML 파일로 생성되어 있어 이상적이지는 않습니다. 보기에는 매우 멋지지만 약간 어색한 방법입니다. GPT-4가 필요한 것은 더 엄격한 안내입니다.\n\nGPT-4에게 알려줄 것: 이 방법은 좋아보이지 않아요. 이를 수행하는 데 왜 Plotly를 사용하지 않을까요?\n\nGPT-4의 응답: 정말 좋은 아이디어네요! 더 나은 상호 작용을 위해 Plotly를 사용하여 코드를 다시 작성합시다:\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n```js\nimport pandas as pd\nimport plotly.express as px\n\n# 데이터셋 불러오기\nfile_path = 'Geodatabase of Shipwrecks Hardard.csv'\nshipwreck_data = pd.read_csv(file_path)\n# 컬럼 헤더 수정\nshipwreck_data.columns = shipwreck_data.iloc[0]\nshipwreck_data = shipwreck_data.drop(0)\n# 유효한 좌표가 없는 행 제외\nshipwreck_data = shipwreck_data.dropna(subset=['Latitude', 'Longitude'])\n# 위도와 경도를 숫자로 변환\nshipwreck_data['Latitude'] = pd.to_numeric(shipwreck_data['Latitude'], errors='coerce')\nshipwreck_data['Longitude'] = pd.to_numeric(shipwreck_data['Longitude'], errors='coerce')\n# 변환 후 유효하지 않은 좌표가 있는 행 제외\nshipwreck_data = shipwreck_data.dropna(subset=['Latitude', 'Longitude'])\n# Plotly와 Mapbox를 사용하여 인터랙티브 맵 생성\nfig = px.scatter_mapbox(shipwreck_data,\n                        lat='Latitude',\n                        lon='Longitude',\n                        hover_name='NAME',\n                        hover_data={'Longitude': False, 'Latitude': False, 'Cargo_1': True},\n                        title='Global Map of Shipwrecks',\n                        mapbox_style='carto-positron')  # Using mapbox\n# 더 나은 모양을 위해 레이아웃 업데이트\nfig.update_traces(marker=dict(color='red', size=10))  # 색상 및 크기 지정\nfig.update_layout(\n    mapbox=dict(\n        accesstoken='your_mapbox_access_token', \n        center={'lat': 44, 'lon': 18},  # 유럽 지도 중심으로 설정\n        zoom=4\n    ),\n    margin=dict(l=0, r=0, t=0, b=0),\n    title_font_size=24,\n    font=dict(size=14)\n)\n# 인터랙티브 맵 표시\nfig.show()\n```\n\n그리고 이 코드는 정말 잘 작동합니다.\n\n결과:\n\n<img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_5.png\" />\n\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n멋지네요, 이제 조금씩 진행 중이네요. 그리고 각 지점 데이터 위에 마우스를 올려서 난파선 이름과 수송품 정보(알려진 경우)를 찾을 수 있어요:\n\n![image](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_6.png)\n\nGPT-4는 실제로 지도에 GIS 지점 데이터를 표시하는 Python 코드를 효과적으로 생성하는 데 활용될 수 있어요.\n\n이 예제에서 원하는 결과를 생성하도록 GPT-4에 제공해야 하는 정보는 다음과 같아요:\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n- 데이터 세트를로드하고 열 헤더를 수정하십시오.\n- 유효한 좌표가없는 행을 필터링하십시오.\n- 위도와 경도를 숫자 값으로 변환하십시오.\n- Plotly의 scatter_mapbox 함수를 사용하여 대화 형 지도를 만듭니다.\n- 각 포인트의 색상을 빨간색으로 설정하고 크기를 5픽셀로 설정하십시오.\n- 지중해로 확대 된지도를 표시하십시오.\n- Mapbox 타일에 'carto-positron' 스타일을 사용하십시오.\n- 위도 34 및 경도 18을 중심으로하고 줌 레벨이 4 인 맵을 센터에 배치하십시오.\n- 코드의 적절한 위치에 Mapbox 액세스 토큰을 추가하십시오.\n\n모두입니다.\n\n# 요약\n\nGPT-4는 Python 코드를 간단한 CSV 파일에서 GIS 포인트 데이터를지도에 표시하는데 쉽게 생성할 수 있습니다.\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n이거 조심해서 잘 만들어야 해. 이 LLM을 최적화하려면 좋은 결과를 얻을 때까지 여러 번 시도해야 할 수도 있어.\n\nGPT-4를 광범위하게 활용하면서, 최적의 결과를 찾기 전에 여러 가지 방법을 고려할 수 있음을 알았어. GPT-4에게 가능한 접근법을 묻는 것이 좋을 뿐 아니라 (이런 예시처럼) 더 나은 방법을 알고 있다면, GPT-4에게 사용하도록 명확하게 요청해.\n\n그리고 LLM 프롬프팅 작업을 할 때 중요한 점은, GPT-4는 결과물에 변화를 주는 방식으로 설계되었기 때문에, 당신이 프롬프트로 받는 코드가 여기서 보여주는 것과 정확히 일치하지 않을 수 있다는 거야.\n\n코멘트를 남겨서 프롬프팅이 어떻게 진행되었는지 알려줘!\n\n<!-- TIL 수평 -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n만약 이 유형의 이야기가 당신의 취향이고 저를 작가로 지원하고 싶다면, 제 Substack에 가입해주세요.\n\nSubstack에서는 매주 두 번 뉴스레터와 다른 플랫폼에서는 찾을 수 없는 기사들을 발행하고 있어요.","ogImage":{"url":"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png"},"coverImage":"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png","tag":["Tech"],"readingTime":8},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p><img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png\" alt=\"TIL image 0\"></p>\n<p>인터넷에는 역사적인 난파선 데이터를 포함한 데이터 세트에 대한 멋진 자료가 많이 있습니다.</p>\n<p>사용 가능한 데이터 세트에 대한 나의 지식 확장의 일환으로 매주 업데이트를 받는 소스 중 하나로 Data is Plural이 있습니다:</p>\n<p><img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_1.png\" alt=\"TIL image 1\"></p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>이 사이트는 흥미로운 데이터 세트에 관한 주간 뉴스레터를 제공합니다.</p>\n<p>가장 최근 버전 (2024년 7월 10일)에는 하버드 대학교에서 가져온 고대 바다 난파선에 관한 데이터 세트가 있습니다. 이 데이터 세트에는 기원전 1500년부터 기원후 1500년까지의 기록이 포함되어 있으며 지중해와 북유럽을 중심으로 하고 있습니다. 정말 멋져요!</p>\n<p>저는 이 데이터 세트를 GPT-4에 업로드하여 각 포인트 데이터를 지도에 배치하는 Python 코드를 생성할 수 있는지 궁금했습니다.</p>\n<p>답변은? 네, 가능합니다. 다만 주의해서 프롬프트를 할 필요가 있습니다. 여기서 저가 거친 단계를 안내해 드리겠습니다.</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h1>제네릭 GPT-4 프롬프트로 시작하기</h1>\n<p>우선, GPT-4가 데이터 세트를 의미있는 방식으로 해석할 수 있는지 확인해보고 싶었습니다. GIS 지도 코드를 생성할 수 있는지 보기 위한 일반적인 프롬프트입니다.</p>\n<p>GPT-4에 대한 프롬프트: 첨부된 데이터 세트를 사용하여, 각 난파선을 지도상의 점으로 표시하는 전역 지도의 파이썬 코드를 제공해주세요.</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p><img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_2.png\" alt=\"image\"></p>\n<p>이거 그래프네요! 신기하게도 각 포인트들이 정확해요. 아래에 지도 레이어를 넣으면 정확하게 매칭돼요. 그런데, 이건 우리가 원하는 게 아니에요.</p>\n<p>첫 번째 제네릭 프롬프가 반 성공했어요. 여기서 더 구체적으로 알아보아야 해요.</p>\n<p>GPT-4에게 프롬프트를 보내면: \"이건 지도가 아니에요. 각 포인트를 실제 지도에 표시하는 파이썬 코드를 생성해 주세요.\"</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>이번에는 GPT-4가 matplotlib 및 shapely 라이브러리를 사용하여 Python 코드를 생성했습니다. 결과는 다음과 같습니다:</p>\n<p><img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_3.png\" alt=\"이미지\"></p>\n<p>이제 지도를 가지고 있지만, 이 지도는 완전히 정적입니다. 확대 및 축소가 불가능하며 상호 작용할 수 없습니다.</p>\n<p>또한 각 개별 점을 해석하기가 매우 어렵습니다. 점들이 주로 유럽에 있다는 것을 알 수 있습니다.</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h1>대화식 매핑을 위한 안내</h1>\n<p>더 세부적으로 알아보고 GPT-4에게 상호작용 옵션을 요청해 봅시다.</p>\n<p>GPT-4에게 제시할 프롬프트: 저는 상호작용이 필요해요. 지도를 확대해서 볼 수 있고 각 데이터 포인트 위에 마우스를 올려 선박 이름과 화물을 표시할 수 있기를 원합니다.</p>\n<p>GPT-4는 툴팁을 사용하여 folium 지도를 만드는 파이썬 코드를 생성합니다:</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p><img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_4.png\" alt=\"이미지\"></p>\n<p>와, 여기에는 더 많은 세부 정보가 있네요. 개별 난파선을 식별하는 데이터 포인트를 더 명확하게 볼 수 있습니다. 아쉽게도, 이 지도는 HTML 파일로 생성되어 있어 이상적이지는 않습니다. 보기에는 매우 멋지지만 약간 어색한 방법입니다. GPT-4가 필요한 것은 더 엄격한 안내입니다.</p>\n<p>GPT-4에게 알려줄 것: 이 방법은 좋아보이지 않아요. 이를 수행하는 데 왜 Plotly를 사용하지 않을까요?</p>\n<p>GPT-4의 응답: 정말 좋은 아이디어네요! 더 나은 상호 작용을 위해 Plotly를 사용하여 코드를 다시 작성합시다:</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> pandas <span class=\"hljs-keyword\">as</span> pd\n<span class=\"hljs-keyword\">import</span> plotly.<span class=\"hljs-property\">express</span> <span class=\"hljs-keyword\">as</span> px\n\n# 데이터셋 불러오기\nfile_path = <span class=\"hljs-string\">'Geodatabase of Shipwrecks Hardard.csv'</span>\nshipwreck_data = pd.<span class=\"hljs-title function_\">read_csv</span>(file_path)\n# 컬럼 헤더 수정\nshipwreck_data.<span class=\"hljs-property\">columns</span> = shipwreck_data.<span class=\"hljs-property\">iloc</span>[<span class=\"hljs-number\">0</span>]\nshipwreck_data = shipwreck_data.<span class=\"hljs-title function_\">drop</span>(<span class=\"hljs-number\">0</span>)\n# 유효한 좌표가 없는 행 제외\nshipwreck_data = shipwreck_data.<span class=\"hljs-title function_\">dropna</span>(subset=[<span class=\"hljs-string\">'Latitude'</span>, <span class=\"hljs-string\">'Longitude'</span>])\n# 위도와 경도를 숫자로 변환\nshipwreck_data[<span class=\"hljs-string\">'Latitude'</span>] = pd.<span class=\"hljs-title function_\">to_numeric</span>(shipwreck_data[<span class=\"hljs-string\">'Latitude'</span>], errors=<span class=\"hljs-string\">'coerce'</span>)\nshipwreck_data[<span class=\"hljs-string\">'Longitude'</span>] = pd.<span class=\"hljs-title function_\">to_numeric</span>(shipwreck_data[<span class=\"hljs-string\">'Longitude'</span>], errors=<span class=\"hljs-string\">'coerce'</span>)\n# 변환 후 유효하지 않은 좌표가 있는 행 제외\nshipwreck_data = shipwreck_data.<span class=\"hljs-title function_\">dropna</span>(subset=[<span class=\"hljs-string\">'Latitude'</span>, <span class=\"hljs-string\">'Longitude'</span>])\n# <span class=\"hljs-title class_\">Plotly</span>와 <span class=\"hljs-title class_\">Mapbox</span>를 사용하여 인터랙티브 맵 생성\nfig = px.<span class=\"hljs-title function_\">scatter_mapbox</span>(shipwreck_data,\n                        lat=<span class=\"hljs-string\">'Latitude'</span>,\n                        lon=<span class=\"hljs-string\">'Longitude'</span>,\n                        hover_name=<span class=\"hljs-string\">'NAME'</span>,\n                        hover_data={<span class=\"hljs-string\">'Longitude'</span>: <span class=\"hljs-title class_\">False</span>, <span class=\"hljs-string\">'Latitude'</span>: <span class=\"hljs-title class_\">False</span>, <span class=\"hljs-string\">'Cargo_1'</span>: <span class=\"hljs-title class_\">True</span>},\n                        title=<span class=\"hljs-string\">'Global Map of Shipwrecks'</span>,\n                        mapbox_style=<span class=\"hljs-string\">'carto-positron'</span>)  # <span class=\"hljs-title class_\">Using</span> mapbox\n# 더 나은 모양을 위해 레이아웃 업데이트\nfig.<span class=\"hljs-title function_\">update_traces</span>(marker=<span class=\"hljs-title function_\">dict</span>(color=<span class=\"hljs-string\">'red'</span>, size=<span class=\"hljs-number\">10</span>))  # 색상 및 크기 지정\nfig.<span class=\"hljs-title function_\">update_layout</span>(\n    mapbox=<span class=\"hljs-title function_\">dict</span>(\n        accesstoken=<span class=\"hljs-string\">'your_mapbox_access_token'</span>, \n        center={<span class=\"hljs-string\">'lat'</span>: <span class=\"hljs-number\">44</span>, <span class=\"hljs-string\">'lon'</span>: <span class=\"hljs-number\">18</span>},  # 유럽 지도 중심으로 설정\n        zoom=<span class=\"hljs-number\">4</span>\n    ),\n    margin=<span class=\"hljs-title function_\">dict</span>(l=<span class=\"hljs-number\">0</span>, r=<span class=\"hljs-number\">0</span>, t=<span class=\"hljs-number\">0</span>, b=<span class=\"hljs-number\">0</span>),\n    title_font_size=<span class=\"hljs-number\">24</span>,\n    font=<span class=\"hljs-title function_\">dict</span>(size=<span class=\"hljs-number\">14</span>)\n)\n# 인터랙티브 맵 표시\nfig.<span class=\"hljs-title function_\">show</span>()\n</code></pre>\n<p>그리고 이 코드는 정말 잘 작동합니다.</p>\n<p>결과:</p>\n<img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_5.png\">\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>멋지네요, 이제 조금씩 진행 중이네요. 그리고 각 지점 데이터 위에 마우스를 올려서 난파선 이름과 수송품 정보(알려진 경우)를 찾을 수 있어요:</p>\n<p><img src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_6.png\" alt=\"image\"></p>\n<p>GPT-4는 실제로 지도에 GIS 지점 데이터를 표시하는 Python 코드를 효과적으로 생성하는 데 활용될 수 있어요.</p>\n<p>이 예제에서 원하는 결과를 생성하도록 GPT-4에 제공해야 하는 정보는 다음과 같아요:</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<ul>\n<li>데이터 세트를로드하고 열 헤더를 수정하십시오.</li>\n<li>유효한 좌표가없는 행을 필터링하십시오.</li>\n<li>위도와 경도를 숫자 값으로 변환하십시오.</li>\n<li>Plotly의 scatter_mapbox 함수를 사용하여 대화 형 지도를 만듭니다.</li>\n<li>각 포인트의 색상을 빨간색으로 설정하고 크기를 5픽셀로 설정하십시오.</li>\n<li>지중해로 확대 된지도를 표시하십시오.</li>\n<li>Mapbox 타일에 'carto-positron' 스타일을 사용하십시오.</li>\n<li>위도 34 및 경도 18을 중심으로하고 줌 레벨이 4 인 맵을 센터에 배치하십시오.</li>\n<li>코드의 적절한 위치에 Mapbox 액세스 토큰을 추가하십시오.</li>\n</ul>\n<p>모두입니다.</p>\n<h1>요약</h1>\n<p>GPT-4는 Python 코드를 간단한 CSV 파일에서 GIS 포인트 데이터를지도에 표시하는데 쉽게 생성할 수 있습니다.</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>이거 조심해서 잘 만들어야 해. 이 LLM을 최적화하려면 좋은 결과를 얻을 때까지 여러 번 시도해야 할 수도 있어.</p>\n<p>GPT-4를 광범위하게 활용하면서, 최적의 결과를 찾기 전에 여러 가지 방법을 고려할 수 있음을 알았어. GPT-4에게 가능한 접근법을 묻는 것이 좋을 뿐 아니라 (이런 예시처럼) 더 나은 방법을 알고 있다면, GPT-4에게 사용하도록 명확하게 요청해.</p>\n<p>그리고 LLM 프롬프팅 작업을 할 때 중요한 점은, GPT-4는 결과물에 변화를 주는 방식으로 설계되었기 때문에, 당신이 프롬프트로 받는 코드가 여기서 보여주는 것과 정확히 일치하지 않을 수 있다는 거야.</p>\n<p>코멘트를 남겨서 프롬프팅이 어떻게 진행되었는지 알려줘!</p>\n<!-- TIL 수평 -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>만약 이 유형의 이야기가 당신의 취향이고 저를 작가로 지원하고 싶다면, 제 Substack에 가입해주세요.</p>\n<p>Substack에서는 매주 두 번 뉴스레터와 다른 플랫폼에서는 찾을 수 없는 기사들을 발행하고 있어요.</p>\n</body>\n</html>\n"},"__N_SSG":true}