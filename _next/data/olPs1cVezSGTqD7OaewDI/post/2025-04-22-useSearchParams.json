{"pageProps":{"post":{"title":"Next.js 15μ—μ„ useSearchParamsλ΅ ν„μ¬ URL μΏΌλ¦¬ μ‰½κ² κ°€μ Έμ¤λ” λ°©λ²•","description":"","date":"2025-04-22 12:54","slug":"2025-04-22-useSearchParams","content":"\n\n# useSearchParams ν›… κ°„λ‹¨ μ •λ¦¬\n\nμ¤λμ€ Next.jsμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‰½κ² μ½μ„ μ μλ” `useSearchParams` ν›…μ— λ€ν•΄ μ΄μ•ΌκΈ°ν•΄λ³Όκ²μ”.\n\n`useSearchParams`λ” ν„μ¬ νμ΄μ§€ URLμ μΏΌλ¦¬ μ¤νΈλ§μ„ μ½μ„ μ μκ² λ„μ™€μ£Όλ” ν›…μ…λ‹λ‹¤. λ§μΉ `URLSearchParams` κ°μ²΄μ²λΌ λ™μ‘ν•μ§€λ§, μ½κΈ° μ „μ©μ΄λΌλ” μ μ΄ νΉμ§•μ΄μ—μ”. κ·Έλμ„ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό **μ΅°ν**ν•  λ• λ”± νΈν•λ‹µλ‹λ‹¤.\n\n---\n\n## μ‚¬μ©λ²• μμ‹\n\n```jsx\n'use client'\n\nimport { useSearchParams } from 'next/navigation'\n\nexport default function SearchBar() {\n  const searchParams = useSearchParams()\n  \n  // μΏΌλ¦¬ μ¤νΈλ§μ—μ„ 'search'λΌλ” κ°’ κ°€μ Έμ¤κΈ°\n  const search = searchParams.get('search')\n  \n  // μλ¥Ό λ“¤μ–΄ URLμ΄ /dashboard?search=my-project λΌλ©΄,\n  // search λ³€μλ” 'my-project'κ°€ λ©λ‹λ‹¤.\n  return <>Search: {search}</>\n}\n```\n\n---\n\n## μ¶”κ°€ ν!\n\n- **μ½κΈ° μ „μ©μ΄λΌ κ°’ λ³€κ²½μ€ λ¶κ°€!**  \n  μ΄ ν›…μΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„° κ°’μ„ λ³€κ²½ν•κ³  μ‹¶μΌλ©΄ `useRouter`μ `push`λ‚ `replace` λ©”μ„λ“λ¥Ό ν™μ©ν•΄μ•Ό ν•΄μ”.\n\n- **μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ—¬λ¬ κ°μΌ λ•λ„ OK!**  \n  μλ¥Ό λ“¤μ–΄ `?search=apple&page=2` μΈ κ²½μ°, `searchParams.get('page')`λ΅ νμ΄μ§€ λ²νΈλ„ λ°”λ΅ κΊΌλ‚Ό μ μλ‹µλ‹λ‹¤.\n\n- **μ΄κΈ°κ°’κ³Ό κΈ°λ³Έκ°’ μ²λ¦¬**  \n  μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ—†μΌλ©΄ `get` λ©”μ„λ“κ°€ `null`μ„ λ°ν™ν•΄μ”. λ”°λΌμ„ κΈ°λ³Έκ°’μ΄ ν•„μ”ν•λ©΄ `const search = searchParams.get('search') ?? 'κΈ°λ³Έκ°’'` μ²λΌ λ„ λ³‘ν•© μ—°μ‚°μλ¥Ό ν™μ©ν•μ„Έμ”.\n\n---\n\nμ΄λ ‡κ² `useSearchParams`λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ URL μΏΌλ¦¬ μ •λ³΄λ¥Ό μ‰½κ² ν™•μΈν•  μ μκ² λ„μ™€μ¤μ„, ν•„ν„°λ§, κ²€μƒ‰ κΈ°λ¥ κµ¬ν„ν•  λ• μ•„μ£Ό μ μ©ν•λ‹µλ‹λ‹¤.  \nν•λ² μ§μ ‘ ν”„λ΅μ νΈμ— μ¨λ³΄λ©΄ ν›¨μ”¬ λ” μ΄ν•΄κ°€ μ‰¬μΈ κ±°μμ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## Parameters\n\n```js\nconst searchParams = useSearchParams()\n```\n\nuseSearchParamsλ” νλΌλ―Έν„°λ¥Ό λ°›μ§€ μ•μ•„μ”.\n\n## Returns\n\nuseSearchParams ν›…μ„ νΈμ¶ν•λ©΄ URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤λ£° μ μλ” `URLSearchParams` κ°μ²΄μ™€ μ΄λ¥Ό μ—…λ°μ΄νΈν•  μ μλ” ν•¨μλ¥Ό λ°ν™ν•΄μ”.\n\nκ°„λ‹¨ν λ§ν•΄μ„, μ΄ ν›…μ„ μ‚¬μ©ν•λ©΄ λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ ν„μ¬ URLμ μΏΌλ¦¬μ¤νΈλ§μ„ μ‰½κ² μ½κ³  μμ •ν•  μ μλ‹µλ‹λ‹¤.\n\nμλ¥Ό λ“¤μ–΄, ν„μ¬ URLμ΄ `?page=2&sort=desc`λΌλ©΄, `searchParams.get('page')`λ¥Ό ν†µν•΄ `2`λΌλ” κ°’μ„ κ°€μ Έμ¬ μ μκ³ , `setSearchParams` ν•¨μλ¥Ό ν†µν•΄ μΏΌλ¦¬μ¤νΈλ§μ„ μ—…λ°μ΄νΈν•  μ μμ–΄μ”.\n\nμ΄ λ•λ¬Έμ— λ¦¬μ•΅νΈ λΌμ°ν…μ—μ„ μƒνƒλ¥Ό URLμ— λ°μν•κ±°λ‚, URLμ„ ν†µν•΄ μƒνƒλ¥Ό κ³µμ ν•  λ• λ§¤μ° μ μ©ν•λ‹µλ‹λ‹¤!\n\nν•„μ”ν•λ©΄ λ” μμ„Έν μ–΄λ–»κ² μ‚¬μ©ν•λ”μ§€λ„ μ•λ ¤μ¤„κ²μ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nuseSearchParamsλ” URLμ μΏΌλ¦¬ μ¤νΈλ§μ„ μ½μ„ μ μλ” μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ“¤μ„ ν¬ν•¨ν•λ” URLSearchParams μΈν„°νμ΄μ¤μ μ½κΈ° μ „μ© λ²„μ „μ„ λ°ν™ν•΄μ¤μ”.\n\nμ£Όμ” λ©”μ„λ“λ¥Ό ν•λ² μ‚΄ν΄λ³Όκ²μ”:\n\n| λ©”μ„λ“ | μ„¤λ… | μμ‹ λ° κ²°κ³Ό |\n|--------|------|-------------|\n| `URLSearchParams.get()` | νΉμ • κ²€μƒ‰ νλΌλ―Έν„°μ™€ μ—°κ΄€λ μ²« λ²μ§Έ κ°’μ„ λ°ν™ν•΄μ”. | `/dashboard?a=1` β†’ `\"1\"`<br>`/dashboard?a=` β†’ `\"\"` (λΉ λ¬Έμμ—΄)<br>`/dashboard?b=3` β†’ `null`<br>`/dashboard?a=1&a=2` β†’ `\"1\"` (λ¨λ“  κ°’μ„ λ°›μΌλ ¤λ©΄ `getAll()` μ‚¬μ©) |\n| `URLSearchParams.has()` | νΉμ • νλΌλ―Έν„°κ°€ μ΅΄μ¬ν•λ”μ§€ λ¶λ¦¬μ–Έ κ°’μ„ λ°ν™ν•΄μ”. | `/dashboard?a=1` β†’ `true`<br>`/dashboard?b=3` β†’ `false` |\n\nμ΄ μ™Έμ—λ„ `getAll()`, `keys()`, `values()`, `entries()`, `forEach()`, `toString()` κ°™μ€ μ½κΈ° μ „μ© λ©”μ„λ“λ“¤μ΄ μμ–΄μ”. κ°κ°μ λ©”μ„λ“λ¥Ό ν™μ©ν•λ©΄ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤μ–‘ν•κ² μ΅°νν•κ³  μ΅°μ‘ν•λ” λ° νΈλ¦¬ν•©λ‹λ‹¤.\n\n> μ•μ•„λ‘λ©΄ μΆ‹μ•„μ”!\n> \n> - `useSearchParams`λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ“Έ μ μλ” ν›…μΌλ΅, μ„λ²„ μ»΄ν¬λ„νΈμ—μ„λ” μ§€μ›λμ§€ μ•μ•„μ”. μ΄λ” λ¶€λ¶„ λ λ”λ§ μ‹ κ°’μ΄ μ¤λλμ–΄ λ²„λ¦¬λ” λ¬Έμ λ¥Ό λ°©μ§€ν•κΈ° μ„ν•¨μ΄μ£ .\n> - λ§μ•½ ν”„λ΅μ νΈμ— `/pages` λ””λ ‰ν„°λ¦¬λ¥Ό μ‚¬μ© μ¤‘μ΄λΌλ©΄, `useSearchParams`λ” `ReadonlyURLSearchParams | null` νƒ€μ…μ„ λ°ν™ν•΄μ”. μ΄λ” νμ΄μ§€λ¥Ό μ‚¬μ „ λ λ”λ§ν•  λ• κ²€μƒ‰ νλΌλ―Έν„°λ¥Ό μ• μ μ—†λ” κ²½μ°κ°€ μκΈ° λ•λ¬ΈμΈλ°μ”, μ΄ λ¶€λ¶„μ€ `getServerSideProps`λ¥Ό μ‚¬μ©ν•μ§€ μ•λ” νμ΄μ§€μ νΈν™μ„±μ„ μ„ν•΄μ„μμ”.\n\nμ°Έκ³ λ΅, μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤λ£° λ•λ” μ—¬λ¬ κ°μ κ°™μ€ μ΄λ¦„ νλΌλ―Έν„°κ°€ μ΅΄μ¬ν•  μλ„ μλ”λ°, `get()`μ€ μ²« λ²μ§Έ κ°’λ§ λ°ν™ν•κΈ° λ•λ¬Έμ— λ¨λ“  κ°’μ„ λ‹¤λ£¨λ ¤λ©΄ `getAll()`μ„ κΌ­ κΈ°μ–µν•΄λ‘μ„Έμ”! κ·Έλ¦¬κ³  μΏΌλ¦¬ μ¤νΈλ§μ„ μ§μ ‘ νμ‹±ν•κ±°λ‚ μ΅°μ‘ν•λ” κ²ƒλ³΄λ‹¤ μ΄ ν›…μ„ μ΄μ©ν•λ©΄ νΈν•κ³  μ•μ „ν•©λ‹λ‹¤.\n\nλ‹¤μμ—λ” `useSearchParams`λ¥Ό μ‹¤μ λ΅ μ–΄λ–»κ² ν™μ©ν•λ”μ§€ κ°„λ‹¨ν• μμ μ™€ ν•¨κ» μ‚΄ν΄λ³Όκ²μ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n### Static Rendering(μ •μ  λ λ”λ§)\n\nλΌμ°νΈ(route)κ°€ μ •μ μΌλ΅ λ λ”λ§λ  λ•, `useSearchParams`λ¥Ό νΈμ¶ν•λ©΄ ν•΄λ‹Ή ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ(Client Component) νΈλ¦¬κ°€ κ°€μ¥ κ°€κΉμ΄ `Suspense` κ²½κ³„κΉμ§€ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ λ”λ§μΌλ΅ μ²λ¦¬λ©λ‹λ‹¤.\n\nμ¦‰, κ²½λ΅μ μΌλ¶€λ” μ •μ μΌλ΅ λ―Έλ¦¬ λ λ”λ§ ν•λ©΄μ„, `useSearchParams`λ¥Ό μ‚¬μ©ν•λ” λ™μ  λ¶€λ¶„λ§ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν•  μ μλ‹¤λ” μ–κΈ°μ£ . μ΄ λ•λ¶„μ— μ΄κΈ° λ΅λ“ μ†λ„λ¥Ό μ μ§€ν•λ©΄μ„λ„ URL μΏΌλ¦¬ νλΌλ―Έν„° κ°™μ€ λ™μ μΈ λ¶€λ¶„μ„ μ²λ¦¬ν•  μ μκ² λΌμ”.\n\nκ·Έλμ„ `useSearchParams`λ¥Ό μ“°λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” κΌ­ `Suspense` κ²½κ³„λ΅ κ°μ‹Έλ” κ±Έ μ¶”μ²ν•©λ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ κ·Έ μ„μ½μ— μ„μΉν• ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ“¤μ€ μ •μ μΌλ΅ λ λ”λ§λκ³ , μ΄κΈ° HTMLκ³Ό ν•¨κ» μ „λ‹¬λ  μ μμ–΄μ„ SEOλ‚ νΌν¬λ¨Όμ¤μ— λ„μ›€μ„ μ£Όμ£ .  \n\nκ°„λ‹¨ν• μμ‹λ¥Ό λ“¤μ–΄λ³΄μλ©΄,  \n\n```jsx\nimport { Suspense } from 'react';\nimport ClientComponent from './ClientComponent';\n\nfunction Page() {\n  return (\n    <Suspense fallback={<Loading />}>\n      <ClientComponent />\n    </Suspense>\n  );\n}\n```\n\nμ΄λ ‡κ² ν•λ©΄ `ClientComponent`κ°€ `useSearchParams`λ¥Ό μ‚¬μ©ν•΄λ„, `Page` μƒλ‹¨μ— μλ” μ»΄ν¬λ„νΈλ“¤μ€ μ •μ  λ λ”λ§ λ©λ‹λ‹¤.\n\n> μ°Έκ³ λ΅, Reactμ `Suspense`λ” λΉ„λ™κΈ° μ»΄ν¬λ„νΈ λ΅λ”©μ΄λ‚ λ°μ΄ν„°λ¥Ό κΈ°λ‹¤λ¦΄ λ• UIλ¥Ό κΉ”λ”ν•κ² μ²λ¦¬ν•  μ μκ² λ„μ™€μ¤μ„ μ‚¬μ©μ κ²½ν—μ΄ ν›¨μ”¬ μΆ‹μ•„μ Έμ”.\n\nμ”μ•½ν•λ©΄, μ •μ  λ λ”λ§κ³Ό λ™μ  μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν•¨κ» μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄:\n\n- `useSearchParams` μ‚¬μ©ν•λ” μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—¬μ•Ό ν•λ‹¤.\n- κ·Έλ¦¬κ³  ν•΄λ‹Ή μ»΄ν¬λ„νΈλ¥Ό `Suspense` κ²½κ³„λ΅ κ°μ‹Έμ•Ό ν•λ‹¤.\n\nμ΄κ² ν„μ¬ Next.jsλ‚ React κΈ°λ° ν”„λ΅μ νΈμ—μ„ κ°€μ¥ κ¶μ¥ν•λ” λ°©μ‹μ…λ‹λ‹¤.\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nμ΄λ²μ—λ” Next.jsμ—μ„ λ™μ  λ λ”λ§(Dynamic Rendering)κ³Ό Suspenseλ¥Ό ν™μ©ν•λ” μμ λ¥Ό μ†κ°ν• κ²μ”. μ΄κ±Έ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ URL νλΌλ―Έν„°λ¥Ό λ°›μ•„μ„ λ™μ μΌλ΅ ν™”λ©΄μ— λ³΄μ—¬μ£Όλ” λ°©λ²•κ³Ό, λ΅λ”© λ€κΈ° μƒνƒλ¥Ό κ΄€λ¦¬ν•λ” λ°©λ²•μ„ ν•¨κ» λ°°μ›λ³Ό μ μμµλ‹λ‹¤.\n\n---\n\n### μμ  μ½”λ“ μ„¤λ…\n\n```js\n'use client'\n\nimport { useSearchParams } from 'next/navigation'\n\nexport default function SearchBar() {\n  const searchParams = useSearchParams()\n\n  const search = searchParams.get('search')\n\n  // μ •μ  λ λ”λ§ μ‚¬μ© μ‹ μ„λ²„μ—μ„λ” μ¶λ ¥λμ§€ μ•μ•„μ”\n  console.log(search)\n\n  return <>Search: {search}</>\n}\n```\n\nμΌλ‹¨ `SearchBar` μ»΄ν¬λ„νΈμ—μ„  `'use client'` μ„ μ–Έμ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ μ „μ© μ»΄ν¬λ„νΈμ„μ„ μ•λ ¤μ£Όκ³  μμ–΄μ”. κ·Έλ¬λ©΄μ„ `useSearchParams` ν›…μ„ μ΄μ©ν•΄ URL μΏΌλ¦¬ νλΌλ―Έν„°μ—μ„ `search` κ°’μ„ λ°›μ•„μ¤μ£ . μ—¬κΈ°μ„ μ¤‘μ”ν• μ μ€ μ΄ μ½”λ“ λ‚΄λ¶€μ `console.log(search)`λ” ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ μ°νλ‹¤λ” κ²ƒ! μ¦‰, μ •μ μΈ μ„λ²„ λ λ”λ§ μ‹μ—λ” μ‹¤ν–‰λμ§€ μ•μ•„μ„ μ„λ²„ λ΅κ·Έμ—” ν‘μ‹λμ§€ μ•μµλ‹λ‹¤.\n\n---\n\n```js\nimport { Suspense } from 'react'\nimport SearchBar from './search-bar'\n\n// Suspenseμ fallbackμΌλ΅ λ³΄μ—¬μ§ μ»΄ν¬λ„νΈ\nfunction SearchBarFallback() {\n  return <>placeholder</>\n}\n\nexport default function Page() {\n  return (\n    <>\n      <nav>\n        <Suspense fallback={<SearchBarFallback />}>\n          <SearchBar />\n        </Suspense>\n      </nav>\n      <h1>Dashboard</h1>\n    </>\n  )\n}\n```\n\nλ‘ λ²μ§Έ μ½”λ“μ—μ„λ” Reactμ `Suspense` μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•κ³  μμ–΄μ”. Suspenseλ” λΉ„λ™κΈ° μ‘μ—…μ„ κΈ°λ‹¤λ¦¬λ” λ™μ• μ‚¬μ©μμ—κ² λ³΄μ—¬μ¤„ λ€μ²΄ UI (`fallback` μ†μ„±μΌλ΅ μ§€μ •λ μ»΄ν¬λ„νΈ)λ¥Ό λ§λ“¤μ–΄μ£Όλ”λ°μ”.\n\n- `SearchBarFallback`μ€ μ΄κΈ° λ΅λ”© μ‹ `\"placeholder\"` λΌλ” κ°„λ‹¨ν• ν…μ¤νΈλ¥Ό λ³΄μ—¬μ¤λ‹λ‹¤.\n- `SearchBar`κ°€ ν΄λΌμ΄μ–ΈνΈμ—μ„ ν•„μ”ν• λ°μ΄ν„°λ¥Ό λ°›μ•„μ¤λ©΄, `\"placeholder\"`κ°€ μ‹¤μ  κ²€μƒ‰μ–΄λ¥Ό λ³΄μ—¬μ£Όλ” `SearchBar` μ»΄ν¬λ„νΈλ΅ μμ—°μ¤λ½κ² κµμ²΄λμ£ .\n\n---\n\n| μ£Όμ” κ°λ…          | μ„¤λ…                                             |\n|-----------------|----------------------------------------------|\n| `'use client'` μ„ μ–Έ  | μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ „μ©μΌλ΅ λ§λ“¤μ–΄μ„ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ ν›… μ‚¬μ© κ°€λ¥ |\n| `useSearchParams` | URL μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ½λ” ν›…                            |\n| `Suspense`        | λΉ„λ™κΈ° μ»΄ν¬λ„νΈ λ΅λ”© μ‹ λ€μ²΄ UI ν‘μ‹                      |\n| `fallback`        | Suspenseκ°€ λ΅λ”© μ¤‘μΌ λ• λ³΄μ—¬μ¤„ μ»΄ν¬λ„νΈ νΉμ€ UI              |\n\n---\n\n### μΆ€ λ” μ•μ•„λ³΄κΈ°\n\n- **μ™ Suspenseλ¥Ό μ‚¬μ©ν• κΉ?**  \n  μ„λ²„μ—μ„ μ •μ μΌλ΅ νμ΄μ§€λ¥Ό λ λ”λ§ν•  λ•λ” μ•„μ§ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°κ°€ μ¤€λΉ„λμ–΄ μμ§€ μ•μµλ‹λ‹¤. μ΄λ• Suspenseλ” *λ΅λ”© μƒνƒ*λ¥Ό κ΄€λ¦¬ν•΄μ£Όμ–΄ μ‚¬μ©μ κ²½ν—(UX)μ„ λ” μΆ‹κ² λ§λ“¤μ–΄μ¤λ‹λ‹¤. νμ΄μ§€κ°€ μκ°„μ μΌλ΅ λΉ„μ–΄ μκ±°λ‚ κΉλΉ΅κ±°λ¦¬μ§€ μ•κ³ , λ¶€λ“λ½κ² λ™μ‘ν•λ„λ΅ λ„μ™€μ£Όλ” κ±°μ£ .\n\n- **useSearchParams ν™μ© ν**  \n  μ΄ ν›…μ€ ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ λ™μ‘ν•κΈ° λ•λ¬Έμ— μ„λ²„μΈ΅ λ λ”λ§μ—μ„λ” μ‚¬μ©ν•  μ μ—†μ–΄μ”. κ·Έλμ„ `'use client'` μ„ μ–Έμ΄ λ°λ“μ‹ ν•„μ”ν•©λ‹λ‹¤. λ§μ•½ νμ΄μ§€μ—μ„ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ„λ²„μ—μ„λ„ μ΄μ©ν•κ³  μ‹¶λ‹¤λ©΄ `getServerSideProps`λ‚ Next.jsμ μ„λ²„ μΈ΅ λ°μ΄ν„° ν¨μΉ­ λ°©λ²•μ„ ν™μ©ν•΄μ•Ό ν•©λ‹λ‹¤.\n\n- **μ •μ  λ λ”λ§κ³Ό ν΄λΌμ΄μ–ΈνΈ λ λ”λ§μ μ°¨μ΄**  \n  μ € μ½”λ“μ—μ„ `console.log(search)`λ” ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ λ³΄μ΄κ³  μ„λ²„ μ½μ†”μ—λ” μ°νμ§€ μ•λ”λ‹¤κ³  ν–μ£ ? μ΄ λ¶€λ¶„λ„ ν° μλ―Έκ°€ μμµλ‹λ‹¤. μ„λ²„μ—μ„λ” λΉλ“ μ‹μ μ— λ™μ‘ν•΄ μ •μ  HTMLμ„ λ§λ“¤μ–΄λ‚΄κ³ , ν΄λΌμ΄μ–ΈνΈμ—μ„ hydrateλλ©΄μ„ μ‹¤μ  μ μ €κ°€ λ³΄λ” μΈν„°λ™ν‹°λΈ μƒνƒλ΅ λ°”λ€λ” κ±°μμ”.\n\n---\n\n### λ§λ¬΄λ¦¬\n\nμ΄λ² κΈ€μ—μ„λ” Next.jsμ—μ„ λ™μ  URL νλΌλ―Έν„°λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°›μ•„μ„ ν™”λ©΄μ— λ°μν•λ” λ°©λ²•κ³Ό, React Suspenseλ¥Ό ν™μ©ν•΄ λ΅λ”© UIλ¥Ό λ§¤λ„λ½κ² μ²λ¦¬ν•λ” λ°©λ²•μ„ μ •λ¦¬ν•΄λ΄¤μ–΄μ”. κ°„λ‹¨ν•μ§€λ§ μ•μΌλ΅ λ‹¤μ–‘ν• μΈν„°λ™ν‹°λΈ UIλ¥Ό κµ¬ν„ν•  λ• λ§¤μ° μ μ©ν•  κ±°μμ”!\n\nκ¶κΈν• μ  μμΌλ©΄ λ“κΈ€ λ‹¬μ•„ μ£Όμ„Έμ”~ κ°™μ΄ λ°°μ›λ‚κ°€μ”! π\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nλ™μ μΌλ΅ λ λ”λ§λλ” λΌμ°νΈμ—μ„λ” `useSearchParams`κ°€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ μ΄κΈ° μ„λ²„ λ λ”λ§ μ‹μ—λ„ μ‚¬μ© κ°€λ¥ν•λ‹¤λ” μ , μ•κ³  κ³„μ…¨λ‚μ”?\n\nμλ¥Ό λ“¤μ–΄, μ•„λμ™€ κ°™μ€ μ»΄ν¬λ„νΈκ°€ μλ‹¤κ³  ν•΄λ΄…μ‹λ‹¤.\n\n```jsx\n'use client'\n \nimport { useSearchParams } from 'next/navigation'\n \nexport default function SearchBar() {\n  const searchParams = useSearchParams()\n  const search = searchParams.get('search')\n \n  // μ΄ κ°’μ€ μ΄κΈ° μ„λ²„ λ λ”λ§ μ‹μ—λ„ λ΅κ·Έμ— μ°νκ³ ,\n  // μ΄ν›„ ν΄λΌμ΄μ–ΈνΈ λ‚΄λΉ„κ²μ΄μ… μ‹μ—λ„ μ°ν™λ‹λ‹¤.\n  console.log(search)\n \n  return <>Search: {search}</>\n}\n```\n\nμ—¬κΈ°μ„ `useSearchParams`λ” URLμ— ν¬ν•¨λ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‰½κ² κ°€μ Έμ¬ μ μκ² λ„μ™€μ¤λ‹λ‹¤. `searchParams.get('search')`λ¥Ό ν†µν•΄ `?search=ν‚¤μ›λ“` κ°™μ€ μΏΌλ¦¬ κ°’μ„ μ¶”μ¶ν•  μ μμ£ .\n\nκ·Έλ¦¬κ³  μ΄ `SearchBar`λ¥Ό ν¬ν•¨ν•λ” νμ΄μ§€λ” μ•„λμ²λΌ κµ¬μ„±ν•  μ μμ–΄μ”:\n\n```jsx\nimport SearchBar from './search-bar'\n \n// νμ΄μ§€κ°€ ν•­μƒ λ™μ μΌλ΅ λ λ”λ§λκ² κ°•μ ν•©λ‹λ‹¤.\nexport const dynamic = 'force-dynamic'\n \nexport default function Page() {\n  return (\n    <>\n      <nav>\n        <SearchBar />\n      </nav>\n      <h1>Dashboard</h1>\n    </>\n  )\n}\n```\n\nμ—¬κΈ°μ„ `export const dynamic = 'force-dynamic'`λ” μ΄ νμ΄μ§€κ°€ ν•­μƒ μ„λ²„μ—μ„ λ™μ μΌλ΅ λ λ”λ§λλ„λ΅ Next.jsμ— μ•λ ¤μ£Όλ” μ—­ν• μ„ ν•©λ‹λ‹¤. λ•λ¶„μ— μΏΌλ¦¬ νλΌλ―Έν„° κ°’μ΄ μ‹¤μ‹κ°„μΌλ΅ λ°μλμ–΄, `SearchBar` μ»΄ν¬λ„νΈλ„ κ·Έμ— λ§κ² λ™μ‘ν•©λ‹λ‹¤.\n\n---\n\n### μ°Έκ³ λ΅ μ•μ•„λ‘λ©΄ μΆ‹μ€ μ \n\n- **μ„λ²„μ»΄ν¬λ„νΈ vs ν΄λΌμ΄μ–ΈνΈμ»΄ν¬λ„νΈ**: `useSearchParams`λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ‚¬μ©ν•λ©΄ μ¤λ¥κ°€ λ°μƒν•΄μ”.\n- **κ²€μƒ‰μ–΄ λ°μν•κΈ°**: λ§μ•½ κ²€μƒ‰μ–΄λ¥Ό URLμ— λ°μν•κ³  μ‹¶λ‹¤λ©΄, `useRouter`μ `push`λ‚ `replace` λ©”μ„λ“λ„ ν™μ©ν•  μ μμµλ‹λ‹¤.\n- **μ΄κΈ° λ λ”λ§κ³Ό ν΄λΌμ΄μ–ΈνΈ λ‚΄λΉ„κ²μ΄μ…**: μ΄ μμ μ²λΌ μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ„λ²„ λ λ”λ§ μ‹μ μ—λ„ μ ν¨ν•΄ λ΅κ·Έλ¥Ό μ°μ„ μ μλ‹¤λ©΄, μ‚¬μ©μ κ²½ν—μ΄ λ” λ¶€λ“λ½κ³  λΉ λ¦…λ‹λ‹¤.\n\nμ΄λ° λ°©μ‹μ„ μ μ©ν•λ©΄ Next.js μ•±μ—μ„ URL μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤λ£¨λ” μ‘μ—…μ΄ ν•κ²° κ°„νΈν•΄μ§€κ³ , μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ•„μ°λ¥΄λ” μΌκ΄€λ λ°μ΄ν„° μ ‘κ·Όμ΄ κ°€λ¥ν•΄μ Έμ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n> μ•μ•„λ‘λ©΄ μΆ‹μ€ ν: λ™μ  λΌμ°νΈ μ„Έκ·Έλ¨ΌνΈ μ„¤μ • μµμ…μ„ `force-dynamic`μΌλ΅ μ§€μ •ν•λ©΄ λ™μ  λ λ”λ§μ„ κ°•μ λ΅ μν–‰ν•  μ μμ–΄μ”.\n\n### μ„λ²„ μ»΄ν¬λ„νΈ\n\n#### νμ΄μ§€μ—μ„ (Pages)\n\nμ„λ²„ μ»΄ν¬λ„νΈμΈ νμ΄μ§€μ—μ„ κ²€μƒ‰ νλΌλ―Έν„°(search params)λ¥Ό μ‚¬μ©ν•λ ¤λ©΄, `searchParams`λΌλ” propμ„ ν™μ©ν•λ©΄ λ©λ‹λ‹¤.\n\n---\n\nμ—¬κΈ°μ„ μ κΉ!  \nNext.js κ°™μ€ ν”„λ μ„μ›ν¬λ¥Ό μ“Έ λ•, νμ΄μ§€ μ»΄ν¬λ„νΈμ— `searchParams`κ°€ κΈ°λ³Έμ μΌλ΅ λ“¤μ–΄μ™€μ„ URL μΏΌλ¦¬ μ¤νΈλ§μ„ μ‰½κ² λ‹¤λ£° μ μμ–΄μ”. μλ¥Ό λ“¤μ–΄, `?q=nextjs` κ°™μ€ κ²€μƒ‰μ–΄λ¥Ό λ°›μ•„μ„ ν•„ν„°λ‚ κ²€μƒ‰ κΈ°λ¥μ— λ°”λ΅ μ‚¬μ©ν•  μ μμ£ .\n\nλ, `force-dynamic` μµμ…μ„ ν™μ©ν•λ©΄ λΉλ“ μ‹μ μ— μ •μ μΌλ΅ λ―Έλ¦¬ λ λ”λ§ν•λ” κ² μ•„λ‹λΌ, λ§¤ μ”μ²­λ§λ‹¤ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ™€μ„ μµμ‹  μƒνƒλ¥Ό μ μ§€ν•  μ μμµλ‹λ‹¤. μ‚¬μ©μλ§λ‹¤ λ‹¤λ¥΄κ² λ³΄μ—¬μ¤μ•Ό ν•κ±°λ‚, μμ£Ό λ°”λ€λ” μ½ν…μΈ λ¥Ό λ™μ μΌλ΅ μ²λ¦¬ν•  λ• μ•„μ£Ό μ μ©ν•΄μ”!\n\nν•„μ”ν•λ‹¤λ©΄, λ‹¤μμ²λΌ μ„¤μ •ν•΄λ³΄μ„Έμ”:\n\n```js\nexport const dynamic = 'force-dynamic';\n```\n\nμ΄κ±Έ μ“°λ©΄ ν•΄λ‹Ή νμ΄μ§€κ°€ ν•­μƒ μ„λ²„μ—μ„ μµμ‹  λ°μ΄ν„°λ¥Ό λ°›μ•„μ„ λ λ”λ§λ©λ‹λ‹¤.\n\nμ΄λ ‡κ² ν•λ©΄ μ‚¬μ©μ κ²½ν—λ„ λ” μΆ‹μ•„μ§€κ³ , SEOμ—λ„ μ λ¦¬ν•  μ μμ–΄μ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n#### λ μ΄μ•„μ›ƒ(Layouts)\n\nνμ΄μ§€μ™€λ” λ‹¬λ¦¬, λ μ΄μ•„μ›ƒ(Layouts, μ„λ²„ μ»΄ν¬λ„νΈ)μ€ `searchParams`λΌλ” propμ„ λ°›μ§€ μ•μ•„μ”. κ·Έ μ΄μ λ”, κ³µμ  λ μ΄μ•„μ›ƒμ€ λ‚΄λΉ„κ²μ΄μ… μ¤‘μ— μ¬λ λ”λ§λμ§€ μ•μ•„μ„, λ§μ•½ `searchParams`λ¥Ό λ°›λ”λ‹¤λ©΄ νƒμƒ‰ κ°„μ— μ¤λλ(μ¦‰, κµ¬λ²„μ „μ) κ²€μƒ‰ νλΌλ―Έν„°κ°€ λ‚¨μ•„μμ„ μ μκΈ° λ•λ¬Έμ΄μ—μ”. μ΄ λ¶€λ¶„μ— λ€ν•΄μ„λ” μΆ€ λ” μμ„Έν• μ„¤λ…λ„ μμΌλ‹ μ°Έκ³ ν•λ©΄ μΆ‹μ•„μ”.\n\nλ€μ‹ μ—, νμ΄μ§€ μ»΄ν¬λ„νΈμ—μ„λ” `searchParams` propμ„ λ°›μ•„μ„ μ‚¬μ©ν•κ±°λ‚, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ `useSearchParams` ν›…μ„ μ‚¬μ©ν•΄μ„ μµμ‹  κ²€μƒ‰ νλΌλ―Έν„°λ¥Ό λ°›μ•„μ¤λ” κ²ƒμ„ κ¶μ¥ν•΄μ”. ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” λΈλΌμ°μ €μ—μ„ μµμ‹  μƒνƒλ΅ λ‹¤μ‹ λ λ”λ§λκΈ° λ•λ¬Έμ— ν•­μƒ μµμ‹ μ `searchParams` κ°’μ„ κ°€μ Έμ¬ μ μλ‹µλ‹λ‹¤.\n\n---\n\n## μμ \n\n(μμ  μ½”λ“λ¥Ό μ²¨λ¶€ν•λ©΄ λ” μ΄ν•΄ν•κΈ° μ‰¬μΈ κ²ƒ κ°™μ•„μ”! λ§ν¬λ‹¤μ΄ ν…μ΄λΈ” λ“±μΌλ΅ μ •λ¦¬ν•΄μ„ λ³΄μ—¬μ£Όλ©΄ μΆ‹κ³ , ν•„μ”ν•λ©΄ μ κ°€ λ„μ™€λ“λ¦΄κ²μ”.)\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n### searchParams μ—…λ°μ΄νΈν•λ” λ°©λ²•\n\nNext.jsμ—μ„ `useRouter`λ‚ `<Link>`λ¥Ό μ΄μ©ν•΄ μƒλ΅μ΄ `searchParams`λ¥Ό μ‰½κ² μ„¤μ •ν•  μ μμ–΄μ”. μ΄λ ‡κ² λ„¤λΉ„κ²μ΄μ…μ΄ μ΄λ£¨μ–΄μ§€λ©΄ ν•΄λ‹Ή νμ΄μ§€(`page.js`)μ—μ„ μ—…λ°μ΄νΈλ `searchParams`λ¥Ό propsλ΅ λ°”λ΅ λ°›μ„ μ μλ‹µλ‹λ‹¤.\n\nμ•„λ μμ  μ½”λ“λ¥Ό ν•λ² λ³Όκ²μ”! μ΄ μ½”λ“λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ ν„μ¬ URLμ μΏΌλ¦¬μ¤νΈλ§μ„ κ°€μ Έμ¤κ³ , νΉμ • νλΌλ―Έν„°λ¥Ό μ—…λ°μ΄νΈν•΄μ„ μƒλ΅μ΄ μΏΌλ¦¬μ¤νΈλ§μ„ λ§λ“  λ‹¤μ λΌμ°ν„°λ΅ μ΄λ™ν•κ±°λ‚ λ§ν¬λ¥Ό λ§λ“¤μ–΄ μ¤λ‹λ‹¤.\n\n```jsx\n'use client'\n\nimport { useRouter, usePathname, useSearchParams } from 'next/navigation';\nimport { useCallback } from 'react';\nimport Link from 'next/link';\n\nexport default function ExampleClientComponent() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n  // ν„μ¬ μΏΌλ¦¬μ¤νΈλ§μ— μƒ key/valueλ¥Ό ν•©μ³μ„ μƒλ΅μ΄ μΏΌλ¦¬λ¬Έμμ—΄ μƒμ„±\n  const createQueryString = useCallback(\n    (name, value) => {\n      const params = new URLSearchParams(searchParams.toString());\n      params.set(name, value);\n\n      return params.toString();\n    },\n    [searchParams]\n  );\n\n  return (\n    <>\n      <p>Sort By</p>\n\n      {/* useRouterλ¥Ό μ¨μ„ λ²„νΌ ν΄λ¦­μ‹ μ΄λ™ν•κΈ° */}\n      <button\n        onClick={() => {\n          // ν„μ¬ κ²½λ΅μ— ?sort=asc μΏΌλ¦¬κ°€ λ¶™μ\n          router.push(pathname + '?' + createQueryString('sort', 'asc'));\n        }}\n      >\n        ASC\n      </button>\n\n      {/* Linkλ¥Ό μ΄μ©ν•΄ λ°”λ΅ μ΄λ™ λ§ν¬ λ§λ“¤κΈ° */}\n      <Link href={pathname + '?' + createQueryString('sort', 'desc')}>\n        DESC\n      </Link>\n    </>\n  );\n}\n```\n\n---\n\n#### μ΅°κΈλ§ λ” μ„¤λ…μ„ λ³΄νƒμλ©΄!\n\n- `useSearchParams()`λ” ν„μ¬ URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό `URLSearchParams` ν•νƒλ΅ λ°ν™ν•΄ μ¤μ”. κ·Έλμ„ μ†μ‰½κ² `.set()`, `.get()`, `.has()` κ°™μ€ λ©”μ„λ“λ¥Ό μ“Έ μ μμ£ .\n- `useCallback`μΌλ΅ ν•¨μ λ©”λ¨μ΄μ μ΄μ…μ„ ν•΄μ„ λ¶ν•„μ”ν• μ¬μƒμ„±μ„ λ§‰μ•„ μ„±λ¥ μµμ ν™”λ¥Ό λ„μ™€μ¤λ‹λ‹¤.\n- `router.push()`λ” μλ°”μ¤ν¬λ¦½νΈ μ½”λ“μ—μ„ ν”„λ΅κ·Έλλ°μ μΌλ΅ κ²½λ΅ λ³€κ²½ν•  λ• μ‚¬μ©ν•΄μ”.\n- `<Link>`λ” λ§ν¬μ—…μ—μ„ ν•μ΄νΌλ§ν¬λ¥Ό λ§λ“¤ λ• ν™μ©ν•κ³ μ”.\n- μ΄λ ‡κ² μΏΌλ¦¬μ¤νΈλ§μ„ κ΄€λ¦¬ν•λ©΄ νμ΄μ§€ μƒνƒ(μ: ν•„ν„°, μ •λ ¬ λ“±)λ¥Ό URLμ— λ…ν™•ν ν‘ν„ν•  μ μμ–΄ SEOμ—λ„ μ΄λ΅­λ‹µλ‹λ‹¤.\n\n---\n\n### μ •λ¦¬\n\n| λ©”μ„λ“        | μ—­ν•                           | μ–Έμ  μ“°λ©΄ μΆ‹μ„κΉ?                   |\n|---------------|-------------------------------|-----------------------------------|\n| `useRouter()` | ν”„λ΅κ·Έλλ°μ μΌλ΅ λ„¤λΉ„κ²μ΄μ…ν•κΈ° | λ²„νΌ ν΄λ¦­ μ‹ λ™μ μΈ κ²½λ΅ λ³€κ²½ ν•„μ”ν•  λ• |\n| `<Link>`      | ν•μ΄νΌλ§ν¬λ¥Ό JSXμ—μ„ λ§λ“¤κΈ°    | μ •μ μΈ λ§ν¬λ‚ μ‚¬μ©μ ν΄λ¦­ μ΄λ™ μ‹      |\n| `useSearchParams()` | URL μΏΌλ¦¬ μ •λ³΄ μ½κ³  μ΅°μ‘ν•κΈ°       | ν„μ¬ μΏΌλ¦¬ μƒνƒλ¥Ό μ•κ³  μ‹¶μ„ λ•           |\n\nμ •λ¦¬ν•΄ λ³΄λ‹ μΎμ ν• λΌμ°ν…κ³Ό μƒνƒ κ΄€λ¦¬λ¥Ό μ„ν•΄ μ •λ§ μμ£Ό μ“°κ² λ  κΈ°λ¥λ“¤μ΄μ£ ? μ—¬λ¬λ¶„λ„ κΌ­ μ½”λ“μ— μ μ©ν•΄μ„ κΉ”λ”ν• νμ΄μ§€ μ „ν™ κ²½ν— λ§λ“¤μ–΄ λ³΄μ„Έμ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n| Version   | Changes                      |\n|-----------|------------------------------|\n| `v13.0.0` | `useSearchParams`κ°€ μ¶”κ°€λ¨  |\n\nμ„ ν‘λ” React Router λΌμ΄λΈλ¬λ¦¬μ λ³€ν™” μ¤‘ ν•λ‚μΈ `v13.0.0` λ²„μ „μ—μ„ `useSearchParams`λΌλ” ν›…μ΄ μƒλ΅ λ„μ…λλ‹¤λ” λ‚΄μ©μ΄μ—μ”. \n\n`useSearchParams`λ” URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‰½κ² μ½κ³  μμ •ν•  μ μκ² λ„μ™€μ£Όλ” ν›…μ΄μ—μ”. μλ¥Ό λ“¤μ–΄, μ‚¬μ©μκ°€ κ²€μƒ‰μ–΄λ¥Ό URL μΏΌλ¦¬μ— λ‚¨κ²¨λ‘κ³  μ‹¶μ„ λ•, μ§μ ‘ λ³µμ΅ν• μΏΌλ¦¬ μ¤νΈλ§μ„ λ‹¤λ£° ν•„μ” μ—†μ΄ Reactμ²λΌ μƒνƒ κ΄€λ¦¬ν•λ“―μ΄ λ‹¤λ£° μ μλ‹µλ‹λ‹¤.\n\nμ§μ ‘ μ‚¬μ©ν•΄λ³΄λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ“Έ μ μμ–΄μ”:\n\n```jsx\nimport { useSearchParams } from 'react-router-dom';\n\nfunction SearchPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('q') || '';\n\n  const handleInputChange = (e) => {\n    setSearchParams({ q: e.target.value });\n  };\n\n  return (\n    <input type=\"text\" value={query} onChange={handleInputChange} />\n  );\n}\n```\n\nμ—¬κΈ°μ„ `q`λ” μΏΌλ¦¬ νλΌλ―Έν„° ν‚¤μ΄κ³ , μ‚¬μ©μκ°€ μ…λ ¥ν•  λ•λ§λ‹¤ URLμ΄ μλ™μΌλ΅ μ—…λ°μ΄νΈλΌμ„ λ’¤λ΅κ°€κΈ°λ„ νΈν•΄μ§€κ³ , κ²€μƒ‰ κ²°κ³Ό κ³µμ λ„ μ‰¬μ›μ Έμ”.\n\nμ΄ κΈ°λ¥ λ•λ¶„μ— URLκ³Ό μƒνƒλ¥Ό λ™κΈ°ν™”ν•λ” μ‘μ—…μ΄ ν›¨μ”¬ νΈλ¦¬ν•΄μ΅μΌλ‹ React Routerλ¥Ό μ‚¬μ©ν•λ‹¤λ©΄ κΌ­ μ•μ•„λ‘μ‹κΈΈ μ¶”μ²ν•΄μ”!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":15},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<h1>useSearchParams ν›… κ°„λ‹¨ μ •λ¦¬</h1>\n<p>μ¤λμ€ Next.jsμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‰½κ² μ½μ„ μ μλ” <code>useSearchParams</code> ν›…μ— λ€ν•΄ μ΄μ•ΌκΈ°ν•΄λ³Όκ²μ”.</p>\n<p><code>useSearchParams</code>λ” ν„μ¬ νμ΄μ§€ URLμ μΏΌλ¦¬ μ¤νΈλ§μ„ μ½μ„ μ μκ² λ„μ™€μ£Όλ” ν›…μ…λ‹λ‹¤. λ§μΉ <code>URLSearchParams</code> κ°μ²΄μ²λΌ λ™μ‘ν•μ§€λ§, μ½κΈ° μ „μ©μ΄λΌλ” μ μ΄ νΉμ§•μ΄μ—μ”. κ·Έλμ„ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό <strong>μ΅°ν</strong>ν•  λ• λ”± νΈν•λ‹µλ‹λ‹¤.</p>\n<hr>\n<h2>μ‚¬μ©λ²• μμ‹</h2>\n<pre><code class=\"hljs language-jsx\"><span class=\"hljs-string\">'use client'</span>\n\n<span class=\"hljs-keyword\">import</span> { useSearchParams } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'next/navigation'</span>\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">SearchBar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> searchParams = <span class=\"hljs-title function_\">useSearchParams</span>()\n  \n  <span class=\"hljs-comment\">// μΏΌλ¦¬ μ¤νΈλ§μ—μ„ 'search'λΌλ” κ°’ κ°€μ Έμ¤κΈ°</span>\n  <span class=\"hljs-keyword\">const</span> search = searchParams.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'search'</span>)\n  \n  <span class=\"hljs-comment\">// μλ¥Ό λ“¤μ–΄ URLμ΄ /dashboard?search=my-project λΌλ©΄,</span>\n  <span class=\"hljs-comment\">// search λ³€μλ” 'my-project'κ°€ λ©λ‹λ‹¤.</span>\n  <span class=\"hljs-keyword\">return</span> <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>Search: {search}<span class=\"hljs-tag\">&#x3C;/></span></span>\n}\n</code></pre>\n<hr>\n<h2>μ¶”κ°€ ν!</h2>\n<ul>\n<li>\n<p><strong>μ½κΈ° μ „μ©μ΄λΌ κ°’ λ³€κ²½μ€ λ¶κ°€!</strong><br>\nμ΄ ν›…μΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„° κ°’μ„ λ³€κ²½ν•κ³  μ‹¶μΌλ©΄ <code>useRouter</code>μ <code>push</code>λ‚ <code>replace</code> λ©”μ„λ“λ¥Ό ν™μ©ν•΄μ•Ό ν•΄μ”.</p>\n</li>\n<li>\n<p><strong>μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ—¬λ¬ κ°μΌ λ•λ„ OK!</strong><br>\nμλ¥Ό λ“¤μ–΄ <code>?search=apple&#x26;page=2</code> μΈ κ²½μ°, <code>searchParams.get('page')</code>λ΅ νμ΄μ§€ λ²νΈλ„ λ°”λ΅ κΊΌλ‚Ό μ μλ‹µλ‹λ‹¤.</p>\n</li>\n<li>\n<p><strong>μ΄κΈ°κ°’κ³Ό κΈ°λ³Έκ°’ μ²λ¦¬</strong><br>\nμΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ—†μΌλ©΄ <code>get</code> λ©”μ„λ“κ°€ <code>null</code>μ„ λ°ν™ν•΄μ”. λ”°λΌμ„ κΈ°λ³Έκ°’μ΄ ν•„μ”ν•λ©΄ <code>const search = searchParams.get('search') ?? 'κΈ°λ³Έκ°’'</code> μ²λΌ λ„ λ³‘ν•© μ—°μ‚°μλ¥Ό ν™μ©ν•μ„Έμ”.</p>\n</li>\n</ul>\n<hr>\n<p>μ΄λ ‡κ² <code>useSearchParams</code>λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ URL μΏΌλ¦¬ μ •λ³΄λ¥Ό μ‰½κ² ν™•μΈν•  μ μκ² λ„μ™€μ¤μ„, ν•„ν„°λ§, κ²€μƒ‰ κΈ°λ¥ κµ¬ν„ν•  λ• μ•„μ£Ό μ μ©ν•λ‹µλ‹λ‹¤.<br>\nν•λ² μ§μ ‘ ν”„λ΅μ νΈμ— μ¨λ³΄λ©΄ ν›¨μ”¬ λ” μ΄ν•΄κ°€ μ‰¬μΈ κ±°μμ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>Parameters</h2>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> searchParams = <span class=\"hljs-title function_\">useSearchParams</span>()\n</code></pre>\n<p>useSearchParamsλ” νλΌλ―Έν„°λ¥Ό λ°›μ§€ μ•μ•„μ”.</p>\n<h2>Returns</h2>\n<p>useSearchParams ν›…μ„ νΈμ¶ν•λ©΄ URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤λ£° μ μλ” <code>URLSearchParams</code> κ°μ²΄μ™€ μ΄λ¥Ό μ—…λ°μ΄νΈν•  μ μλ” ν•¨μλ¥Ό λ°ν™ν•΄μ”.</p>\n<p>κ°„λ‹¨ν λ§ν•΄μ„, μ΄ ν›…μ„ μ‚¬μ©ν•λ©΄ λ¦¬μ•΅νΈ μ»΄ν¬λ„νΈ λ‚΄μ—μ„ ν„μ¬ URLμ μΏΌλ¦¬μ¤νΈλ§μ„ μ‰½κ² μ½κ³  μμ •ν•  μ μλ‹µλ‹λ‹¤.</p>\n<p>μλ¥Ό λ“¤μ–΄, ν„μ¬ URLμ΄ <code>?page=2&#x26;sort=desc</code>λΌλ©΄, <code>searchParams.get('page')</code>λ¥Ό ν†µν•΄ <code>2</code>λΌλ” κ°’μ„ κ°€μ Έμ¬ μ μκ³ , <code>setSearchParams</code> ν•¨μλ¥Ό ν†µν•΄ μΏΌλ¦¬μ¤νΈλ§μ„ μ—…λ°μ΄νΈν•  μ μμ–΄μ”.</p>\n<p>μ΄ λ•λ¬Έμ— λ¦¬μ•΅νΈ λΌμ°ν…μ—μ„ μƒνƒλ¥Ό URLμ— λ°μν•κ±°λ‚, URLμ„ ν†µν•΄ μƒνƒλ¥Ό κ³µμ ν•  λ• λ§¤μ° μ μ©ν•λ‹µλ‹λ‹¤!</p>\n<p>ν•„μ”ν•λ©΄ λ” μμ„Έν μ–΄λ–»κ² μ‚¬μ©ν•λ”μ§€λ„ μ•λ ¤μ¤„κ²μ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>useSearchParamsλ” URLμ μΏΌλ¦¬ μ¤νΈλ§μ„ μ½μ„ μ μλ” μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ“¤μ„ ν¬ν•¨ν•λ” URLSearchParams μΈν„°νμ΄μ¤μ μ½κΈ° μ „μ© λ²„μ „μ„ λ°ν™ν•΄μ¤μ”.</p>\n<p>μ£Όμ” λ©”μ„λ“λ¥Ό ν•λ² μ‚΄ν΄λ³Όκ²μ”:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>λ©”μ„λ“</th><th>μ„¤λ…</th><th>μμ‹ λ° κ²°κ³Ό</th></tr></thead><tbody><tr><td><code>URLSearchParams.get()</code></td><td>νΉμ • κ²€μƒ‰ νλΌλ―Έν„°μ™€ μ—°κ΄€λ μ²« λ²μ§Έ κ°’μ„ λ°ν™ν•΄μ”.</td><td><code>/dashboard?a=1</code> β†’ <code>\"1\"</code><br><code>/dashboard?a=</code> β†’ <code>\"\"</code> (λΉ λ¬Έμμ—΄)<br><code>/dashboard?b=3</code> β†’ <code>null</code><br><code>/dashboard?a=1&#x26;a=2</code> β†’ <code>\"1\"</code> (λ¨λ“  κ°’μ„ λ°›μΌλ ¤λ©΄ <code>getAll()</code> μ‚¬μ©)</td></tr><tr><td><code>URLSearchParams.has()</code></td><td>νΉμ • νλΌλ―Έν„°κ°€ μ΅΄μ¬ν•λ”μ§€ λ¶λ¦¬μ–Έ κ°’μ„ λ°ν™ν•΄μ”.</td><td><code>/dashboard?a=1</code> β†’ <code>true</code><br><code>/dashboard?b=3</code> β†’ <code>false</code></td></tr></tbody></table>\n<p>μ΄ μ™Έμ—λ„ <code>getAll()</code>, <code>keys()</code>, <code>values()</code>, <code>entries()</code>, <code>forEach()</code>, <code>toString()</code> κ°™μ€ μ½κΈ° μ „μ© λ©”μ„λ“λ“¤μ΄ μμ–΄μ”. κ°κ°μ λ©”μ„λ“λ¥Ό ν™μ©ν•λ©΄ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤μ–‘ν•κ² μ΅°νν•κ³  μ΅°μ‘ν•λ” λ° νΈλ¦¬ν•©λ‹λ‹¤.</p>\n<blockquote>\n<p>μ•μ•„λ‘λ©΄ μΆ‹μ•„μ”!</p>\n<ul>\n<li><code>useSearchParams</code>λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ“Έ μ μλ” ν›…μΌλ΅, μ„λ²„ μ»΄ν¬λ„νΈμ—μ„λ” μ§€μ›λμ§€ μ•μ•„μ”. μ΄λ” λ¶€λ¶„ λ λ”λ§ μ‹ κ°’μ΄ μ¤λλμ–΄ λ²„λ¦¬λ” λ¬Έμ λ¥Ό λ°©μ§€ν•κΈ° μ„ν•¨μ΄μ£ .</li>\n<li>λ§μ•½ ν”„λ΅μ νΈμ— <code>/pages</code> λ””λ ‰ν„°λ¦¬λ¥Ό μ‚¬μ© μ¤‘μ΄λΌλ©΄, <code>useSearchParams</code>λ” <code>ReadonlyURLSearchParams | null</code> νƒ€μ…μ„ λ°ν™ν•΄μ”. μ΄λ” νμ΄μ§€λ¥Ό μ‚¬μ „ λ λ”λ§ν•  λ• κ²€μƒ‰ νλΌλ―Έν„°λ¥Ό μ• μ μ—†λ” κ²½μ°κ°€ μκΈ° λ•λ¬ΈμΈλ°μ”, μ΄ λ¶€λ¶„μ€ <code>getServerSideProps</code>λ¥Ό μ‚¬μ©ν•μ§€ μ•λ” νμ΄μ§€μ νΈν™μ„±μ„ μ„ν•΄μ„μμ”.</li>\n</ul>\n</blockquote>\n<p>μ°Έκ³ λ΅, μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤λ£° λ•λ” μ—¬λ¬ κ°μ κ°™μ€ μ΄λ¦„ νλΌλ―Έν„°κ°€ μ΅΄μ¬ν•  μλ„ μλ”λ°, <code>get()</code>μ€ μ²« λ²μ§Έ κ°’λ§ λ°ν™ν•κΈ° λ•λ¬Έμ— λ¨λ“  κ°’μ„ λ‹¤λ£¨λ ¤λ©΄ <code>getAll()</code>μ„ κΌ­ κΈ°μ–µν•΄λ‘μ„Έμ”! κ·Έλ¦¬κ³  μΏΌλ¦¬ μ¤νΈλ§μ„ μ§μ ‘ νμ‹±ν•κ±°λ‚ μ΅°μ‘ν•λ” κ²ƒλ³΄λ‹¤ μ΄ ν›…μ„ μ΄μ©ν•λ©΄ νΈν•κ³  μ•μ „ν•©λ‹λ‹¤.</p>\n<p>λ‹¤μμ—λ” <code>useSearchParams</code>λ¥Ό μ‹¤μ λ΅ μ–΄λ–»κ² ν™μ©ν•λ”μ§€ κ°„λ‹¨ν• μμ μ™€ ν•¨κ» μ‚΄ν΄λ³Όκ²μ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h3>Static Rendering(μ •μ  λ λ”λ§)</h3>\n<p>λΌμ°νΈ(route)κ°€ μ •μ μΌλ΅ λ λ”λ§λ  λ•, <code>useSearchParams</code>λ¥Ό νΈμ¶ν•λ©΄ ν•΄λ‹Ή ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ(Client Component) νΈλ¦¬κ°€ κ°€μ¥ κ°€κΉμ΄ <code>Suspense</code> κ²½κ³„κΉμ§€ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ λ”λ§μΌλ΅ μ²λ¦¬λ©λ‹λ‹¤.</p>\n<p>μ¦‰, κ²½λ΅μ μΌλ¶€λ” μ •μ μΌλ΅ λ―Έλ¦¬ λ λ”λ§ ν•λ©΄μ„, <code>useSearchParams</code>λ¥Ό μ‚¬μ©ν•λ” λ™μ  λ¶€λ¶„λ§ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ λ”λ§ν•  μ μλ‹¤λ” μ–κΈ°μ£ . μ΄ λ•λ¶„μ— μ΄κΈ° λ΅λ“ μ†λ„λ¥Ό μ μ§€ν•λ©΄μ„λ„ URL μΏΌλ¦¬ νλΌλ―Έν„° κ°™μ€ λ™μ μΈ λ¶€λ¶„μ„ μ²λ¦¬ν•  μ μκ² λΌμ”.</p>\n<p>κ·Έλμ„ <code>useSearchParams</code>λ¥Ό μ“°λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” κΌ­ <code>Suspense</code> κ²½κ³„λ΅ κ°μ‹Έλ” κ±Έ μ¶”μ²ν•©λ‹λ‹¤. μ΄λ ‡κ² ν•λ©΄ κ·Έ μ„μ½μ— μ„μΉν• ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ“¤μ€ μ •μ μΌλ΅ λ λ”λ§λκ³ , μ΄κΈ° HTMLκ³Ό ν•¨κ» μ „λ‹¬λ  μ μμ–΄μ„ SEOλ‚ νΌν¬λ¨Όμ¤μ— λ„μ›€μ„ μ£Όμ£ .</p>\n<p>κ°„λ‹¨ν• μμ‹λ¥Ό λ“¤μ–΄λ³΄μλ©΄,</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">Suspense</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">ClientComponent</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./ClientComponent'</span>;\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Page</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">Suspense</span> <span class=\"hljs-attr\">fallback</span>=<span class=\"hljs-string\">{</span>&#x3C;<span class=\"hljs-attr\">Loading</span> /></span>}>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">ClientComponent</span> /></span>\n    <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">Suspense</span>></span></span>\n  );\n}\n</code></pre>\n<p>μ΄λ ‡κ² ν•λ©΄ <code>ClientComponent</code>κ°€ <code>useSearchParams</code>λ¥Ό μ‚¬μ©ν•΄λ„, <code>Page</code> μƒλ‹¨μ— μλ” μ»΄ν¬λ„νΈλ“¤μ€ μ •μ  λ λ”λ§ λ©λ‹λ‹¤.</p>\n<blockquote>\n<p>μ°Έκ³ λ΅, Reactμ <code>Suspense</code>λ” λΉ„λ™κΈ° μ»΄ν¬λ„νΈ λ΅λ”©μ΄λ‚ λ°μ΄ν„°λ¥Ό κΈ°λ‹¤λ¦΄ λ• UIλ¥Ό κΉ”λ”ν•κ² μ²λ¦¬ν•  μ μκ² λ„μ™€μ¤μ„ μ‚¬μ©μ κ²½ν—μ΄ ν›¨μ”¬ μΆ‹μ•„μ Έμ”.</p>\n</blockquote>\n<p>μ”μ•½ν•λ©΄, μ •μ  λ λ”λ§κ³Ό λ™μ  μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν•¨κ» μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄:</p>\n<ul>\n<li><code>useSearchParams</code> μ‚¬μ©ν•λ” μ»΄ν¬λ„νΈλ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—¬μ•Ό ν•λ‹¤.</li>\n<li>κ·Έλ¦¬κ³  ν•΄λ‹Ή μ»΄ν¬λ„νΈλ¥Ό <code>Suspense</code> κ²½κ³„λ΅ κ°μ‹Έμ•Ό ν•λ‹¤.</li>\n</ul>\n<p>μ΄κ² ν„μ¬ Next.jsλ‚ React κΈ°λ° ν”„λ΅μ νΈμ—μ„ κ°€μ¥ κ¶μ¥ν•λ” λ°©μ‹μ…λ‹λ‹¤.</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>μ΄λ²μ—λ” Next.jsμ—μ„ λ™μ  λ λ”λ§(Dynamic Rendering)κ³Ό Suspenseλ¥Ό ν™μ©ν•λ” μμ λ¥Ό μ†κ°ν• κ²μ”. μ΄κ±Έ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ URL νλΌλ―Έν„°λ¥Ό λ°›μ•„μ„ λ™μ μΌλ΅ ν™”λ©΄μ— λ³΄μ—¬μ£Όλ” λ°©λ²•κ³Ό, λ΅λ”© λ€κΈ° μƒνƒλ¥Ό κ΄€λ¦¬ν•λ” λ°©λ²•μ„ ν•¨κ» λ°°μ›λ³Ό μ μμµλ‹λ‹¤.</p>\n<hr>\n<h3>μμ  μ½”λ“ μ„¤λ…</h3>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-string\">'use client'</span>\n\n<span class=\"hljs-keyword\">import</span> { useSearchParams } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'next/navigation'</span>\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">SearchBar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> searchParams = <span class=\"hljs-title function_\">useSearchParams</span>()\n\n  <span class=\"hljs-keyword\">const</span> search = searchParams.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'search'</span>)\n\n  <span class=\"hljs-comment\">// μ •μ  λ λ”λ§ μ‚¬μ© μ‹ μ„λ²„μ—μ„λ” μ¶λ ¥λμ§€ μ•μ•„μ”</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(search)\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>Search: {search}<span class=\"hljs-tag\">&#x3C;/></span></span>\n}\n</code></pre>\n<p>μΌλ‹¨ <code>SearchBar</code> μ»΄ν¬λ„νΈμ—μ„  <code>'use client'</code> μ„ μ–Έμ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈ μ „μ© μ»΄ν¬λ„νΈμ„μ„ μ•λ ¤μ£Όκ³  μμ–΄μ”. κ·Έλ¬λ©΄μ„ <code>useSearchParams</code> ν›…μ„ μ΄μ©ν•΄ URL μΏΌλ¦¬ νλΌλ―Έν„°μ—μ„ <code>search</code> κ°’μ„ λ°›μ•„μ¤μ£ . μ—¬κΈ°μ„ μ¤‘μ”ν• μ μ€ μ΄ μ½”λ“ λ‚΄λ¶€μ <code>console.log(search)</code>λ” ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ μ°νλ‹¤λ” κ²ƒ! μ¦‰, μ •μ μΈ μ„λ²„ λ λ”λ§ μ‹μ—λ” μ‹¤ν–‰λμ§€ μ•μ•„μ„ μ„λ²„ λ΅κ·Έμ—” ν‘μ‹λμ§€ μ•μµλ‹λ‹¤.</p>\n<hr>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">Suspense</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">SearchBar</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./search-bar'</span>\n\n<span class=\"hljs-comment\">// Suspenseμ fallbackμΌλ΅ λ³΄μ—¬μ§ μ»΄ν¬λ„νΈ</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">SearchBarFallback</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>placeholder<span class=\"hljs-tag\">&#x3C;/></span></span>\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Page</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">nav</span>></span>\n        <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">Suspense</span> <span class=\"hljs-attr\">fallback</span>=<span class=\"hljs-string\">{</span>&#x3C;<span class=\"hljs-attr\">SearchBarFallback</span> /></span>}>\n          <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">SearchBar</span> /></span>\n        <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">Suspense</span>></span>\n      <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">nav</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">h1</span>></span>Dashboard<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">h1</span>></span>\n    <span class=\"hljs-tag\">&#x3C;/></span></span>\n  )\n}\n</code></pre>\n<p>λ‘ λ²μ§Έ μ½”λ“μ—μ„λ” Reactμ <code>Suspense</code> μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•κ³  μμ–΄μ”. Suspenseλ” λΉ„λ™κΈ° μ‘μ—…μ„ κΈ°λ‹¤λ¦¬λ” λ™μ• μ‚¬μ©μμ—κ² λ³΄μ—¬μ¤„ λ€μ²΄ UI (<code>fallback</code> μ†μ„±μΌλ΅ μ§€μ •λ μ»΄ν¬λ„νΈ)λ¥Ό λ§λ“¤μ–΄μ£Όλ”λ°μ”.</p>\n<ul>\n<li><code>SearchBarFallback</code>μ€ μ΄κΈ° λ΅λ”© μ‹ <code>\"placeholder\"</code> λΌλ” κ°„λ‹¨ν• ν…μ¤νΈλ¥Ό λ³΄μ—¬μ¤λ‹λ‹¤.</li>\n<li><code>SearchBar</code>κ°€ ν΄λΌμ΄μ–ΈνΈμ—μ„ ν•„μ”ν• λ°μ΄ν„°λ¥Ό λ°›μ•„μ¤λ©΄, <code>\"placeholder\"</code>κ°€ μ‹¤μ  κ²€μƒ‰μ–΄λ¥Ό λ³΄μ—¬μ£Όλ” <code>SearchBar</code> μ»΄ν¬λ„νΈλ΅ μμ—°μ¤λ½κ² κµμ²΄λμ£ .</li>\n</ul>\n<hr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>μ£Όμ” κ°λ…</th><th>μ„¤λ…</th></tr></thead><tbody><tr><td><code>'use client'</code> μ„ μ–Έ</td><td>μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ „μ©μΌλ΅ λ§λ“¤μ–΄μ„ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ ν›… μ‚¬μ© κ°€λ¥</td></tr><tr><td><code>useSearchParams</code></td><td>URL μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ½λ” ν›…</td></tr><tr><td><code>Suspense</code></td><td>λΉ„λ™κΈ° μ»΄ν¬λ„νΈ λ΅λ”© μ‹ λ€μ²΄ UI ν‘μ‹</td></tr><tr><td><code>fallback</code></td><td>Suspenseκ°€ λ΅λ”© μ¤‘μΌ λ• λ³΄μ—¬μ¤„ μ»΄ν¬λ„νΈ νΉμ€ UI</td></tr></tbody></table>\n<hr>\n<h3>μΆ€ λ” μ•μ•„λ³΄κΈ°</h3>\n<ul>\n<li>\n<p><strong>μ™ Suspenseλ¥Ό μ‚¬μ©ν• κΉ?</strong><br>\nμ„λ²„μ—μ„ μ •μ μΌλ΅ νμ΄μ§€λ¥Ό λ λ”λ§ν•  λ•λ” μ•„μ§ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„°κ°€ μ¤€λΉ„λμ–΄ μμ§€ μ•μµλ‹λ‹¤. μ΄λ• Suspenseλ” <em>λ΅λ”© μƒνƒ</em>λ¥Ό κ΄€λ¦¬ν•΄μ£Όμ–΄ μ‚¬μ©μ κ²½ν—(UX)μ„ λ” μΆ‹κ² λ§λ“¤μ–΄μ¤λ‹λ‹¤. νμ΄μ§€κ°€ μκ°„μ μΌλ΅ λΉ„μ–΄ μκ±°λ‚ κΉλΉ΅κ±°λ¦¬μ§€ μ•κ³ , λ¶€λ“λ½κ² λ™μ‘ν•λ„λ΅ λ„μ™€μ£Όλ” κ±°μ£ .</p>\n</li>\n<li>\n<p><strong>useSearchParams ν™μ© ν</strong><br>\nμ΄ ν›…μ€ ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ λ™μ‘ν•κΈ° λ•λ¬Έμ— μ„λ²„μΈ΅ λ λ”λ§μ—μ„λ” μ‚¬μ©ν•  μ μ—†μ–΄μ”. κ·Έλμ„ <code>'use client'</code> μ„ μ–Έμ΄ λ°λ“μ‹ ν•„μ”ν•©λ‹λ‹¤. λ§μ•½ νμ΄μ§€μ—μ„ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ„λ²„μ—μ„λ„ μ΄μ©ν•κ³  μ‹¶λ‹¤λ©΄ <code>getServerSideProps</code>λ‚ Next.jsμ μ„λ²„ μΈ΅ λ°μ΄ν„° ν¨μΉ­ λ°©λ²•μ„ ν™μ©ν•΄μ•Ό ν•©λ‹λ‹¤.</p>\n</li>\n<li>\n<p><strong>μ •μ  λ λ”λ§κ³Ό ν΄λΌμ΄μ–ΈνΈ λ λ”λ§μ μ°¨μ΄</strong><br>\nμ € μ½”λ“μ—μ„ <code>console.log(search)</code>λ” ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ λ³΄μ΄κ³  μ„λ²„ μ½μ†”μ—λ” μ°νμ§€ μ•λ”λ‹¤κ³  ν–μ£ ? μ΄ λ¶€λ¶„λ„ ν° μλ―Έκ°€ μμµλ‹λ‹¤. μ„λ²„μ—μ„λ” λΉλ“ μ‹μ μ— λ™μ‘ν•΄ μ •μ  HTMLμ„ λ§λ“¤μ–΄λ‚΄κ³ , ν΄λΌμ΄μ–ΈνΈμ—μ„ hydrateλλ©΄μ„ μ‹¤μ  μ μ €κ°€ λ³΄λ” μΈν„°λ™ν‹°λΈ μƒνƒλ΅ λ°”λ€λ” κ±°μμ”.</p>\n</li>\n</ul>\n<hr>\n<h3>λ§λ¬΄λ¦¬</h3>\n<p>μ΄λ² κΈ€μ—μ„λ” Next.jsμ—μ„ λ™μ  URL νλΌλ―Έν„°λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°›μ•„μ„ ν™”λ©΄μ— λ°μν•λ” λ°©λ²•κ³Ό, React Suspenseλ¥Ό ν™μ©ν•΄ λ΅λ”© UIλ¥Ό λ§¤λ„λ½κ² μ²λ¦¬ν•λ” λ°©λ²•μ„ μ •λ¦¬ν•΄λ΄¤μ–΄μ”. κ°„λ‹¨ν•μ§€λ§ μ•μΌλ΅ λ‹¤μ–‘ν• μΈν„°λ™ν‹°λΈ UIλ¥Ό κµ¬ν„ν•  λ• λ§¤μ° μ μ©ν•  κ±°μμ”!</p>\n<p>κ¶κΈν• μ  μμΌλ©΄ λ“κΈ€ λ‹¬μ•„ μ£Όμ„Έμ”~ κ°™μ΄ λ°°μ›λ‚κ°€μ”! π</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>λ™μ μΌλ΅ λ λ”λ§λλ” λΌμ°νΈμ—μ„λ” <code>useSearchParams</code>κ°€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ μ΄κΈ° μ„λ²„ λ λ”λ§ μ‹μ—λ„ μ‚¬μ© κ°€λ¥ν•λ‹¤λ” μ , μ•κ³  κ³„μ…¨λ‚μ”?</p>\n<p>μλ¥Ό λ“¤μ–΄, μ•„λμ™€ κ°™μ€ μ»΄ν¬λ„νΈκ°€ μλ‹¤κ³  ν•΄λ΄…μ‹λ‹¤.</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"hljs-string\">'use client'</span>\n \n<span class=\"hljs-keyword\">import</span> { useSearchParams } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'next/navigation'</span>\n \n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">SearchBar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> searchParams = <span class=\"hljs-title function_\">useSearchParams</span>()\n  <span class=\"hljs-keyword\">const</span> search = searchParams.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'search'</span>)\n \n  <span class=\"hljs-comment\">// μ΄ κ°’μ€ μ΄κΈ° μ„λ²„ λ λ”λ§ μ‹μ—λ„ λ΅κ·Έμ— μ°νκ³ ,</span>\n  <span class=\"hljs-comment\">// μ΄ν›„ ν΄λΌμ΄μ–ΈνΈ λ‚΄λΉ„κ²μ΄μ… μ‹μ—λ„ μ°ν™λ‹λ‹¤.</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(search)\n \n  <span class=\"hljs-keyword\">return</span> <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>Search: {search}<span class=\"hljs-tag\">&#x3C;/></span></span>\n}\n</code></pre>\n<p>μ—¬κΈ°μ„ <code>useSearchParams</code>λ” URLμ— ν¬ν•¨λ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‰½κ² κ°€μ Έμ¬ μ μκ² λ„μ™€μ¤λ‹λ‹¤. <code>searchParams.get('search')</code>λ¥Ό ν†µν•΄ <code>?search=ν‚¤μ›λ“</code> κ°™μ€ μΏΌλ¦¬ κ°’μ„ μ¶”μ¶ν•  μ μμ£ .</p>\n<p>κ·Έλ¦¬κ³  μ΄ <code>SearchBar</code>λ¥Ό ν¬ν•¨ν•λ” νμ΄μ§€λ” μ•„λμ²λΌ κµ¬μ„±ν•  μ μμ–΄μ”:</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">SearchBar</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./search-bar'</span>\n \n<span class=\"hljs-comment\">// νμ΄μ§€κ°€ ν•­μƒ λ™μ μΌλ΅ λ λ”λ§λκ² κ°•μ ν•©λ‹λ‹¤.</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> dynamic = <span class=\"hljs-string\">'force-dynamic'</span>\n \n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Page</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">nav</span>></span>\n        <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">SearchBar</span> /></span>\n      <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">nav</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">h1</span>></span>Dashboard<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">h1</span>></span>\n    <span class=\"hljs-tag\">&#x3C;/></span></span>\n  )\n}\n</code></pre>\n<p>μ—¬κΈ°μ„ <code>export const dynamic = 'force-dynamic'</code>λ” μ΄ νμ΄μ§€κ°€ ν•­μƒ μ„λ²„μ—μ„ λ™μ μΌλ΅ λ λ”λ§λλ„λ΅ Next.jsμ— μ•λ ¤μ£Όλ” μ—­ν• μ„ ν•©λ‹λ‹¤. λ•λ¶„μ— μΏΌλ¦¬ νλΌλ―Έν„° κ°’μ΄ μ‹¤μ‹κ°„μΌλ΅ λ°μλμ–΄, <code>SearchBar</code> μ»΄ν¬λ„νΈλ„ κ·Έμ— λ§κ² λ™μ‘ν•©λ‹λ‹¤.</p>\n<hr>\n<h3>μ°Έκ³ λ΅ μ•μ•„λ‘λ©΄ μΆ‹μ€ μ </h3>\n<ul>\n<li><strong>μ„λ²„μ»΄ν¬λ„νΈ vs ν΄λΌμ΄μ–ΈνΈμ»΄ν¬λ„νΈ</strong>: <code>useSearchParams</code>λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ‚¬μ©ν•λ©΄ μ¤λ¥κ°€ λ°μƒν•΄μ”.</li>\n<li><strong>κ²€μƒ‰μ–΄ λ°μν•κΈ°</strong>: λ§μ•½ κ²€μƒ‰μ–΄λ¥Ό URLμ— λ°μν•κ³  μ‹¶λ‹¤λ©΄, <code>useRouter</code>μ <code>push</code>λ‚ <code>replace</code> λ©”μ„λ“λ„ ν™μ©ν•  μ μμµλ‹λ‹¤.</li>\n<li><strong>μ΄κΈ° λ λ”λ§κ³Ό ν΄λΌμ΄μ–ΈνΈ λ‚΄λΉ„κ²μ΄μ…</strong>: μ΄ μμ μ²λΌ μΏΌλ¦¬ νλΌλ―Έν„°κ°€ μ„λ²„ λ λ”λ§ μ‹μ μ—λ„ μ ν¨ν•΄ λ΅κ·Έλ¥Ό μ°μ„ μ μλ‹¤λ©΄, μ‚¬μ©μ κ²½ν—μ΄ λ” λ¶€λ“λ½κ³  λΉ λ¦…λ‹λ‹¤.</li>\n</ul>\n<p>μ΄λ° λ°©μ‹μ„ μ μ©ν•λ©΄ Next.js μ•±μ—μ„ URL μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό λ‹¤λ£¨λ” μ‘μ—…μ΄ ν•κ²° κ°„νΈν•΄μ§€κ³ , μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ•„μ°λ¥΄λ” μΌκ΄€λ λ°μ΄ν„° μ ‘κ·Όμ΄ κ°€λ¥ν•΄μ Έμ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<blockquote>\n<p>μ•μ•„λ‘λ©΄ μΆ‹μ€ ν: λ™μ  λΌμ°νΈ μ„Έκ·Έλ¨ΌνΈ μ„¤μ • μµμ…μ„ <code>force-dynamic</code>μΌλ΅ μ§€μ •ν•λ©΄ λ™μ  λ λ”λ§μ„ κ°•μ λ΅ μν–‰ν•  μ μμ–΄μ”.</p>\n</blockquote>\n<h3>μ„λ²„ μ»΄ν¬λ„νΈ</h3>\n<h4>νμ΄μ§€μ—μ„ (Pages)</h4>\n<p>μ„λ²„ μ»΄ν¬λ„νΈμΈ νμ΄μ§€μ—μ„ κ²€μƒ‰ νλΌλ―Έν„°(search params)λ¥Ό μ‚¬μ©ν•λ ¤λ©΄, <code>searchParams</code>λΌλ” propμ„ ν™μ©ν•λ©΄ λ©λ‹λ‹¤.</p>\n<hr>\n<p>μ—¬κΈ°μ„ μ κΉ!<br>\nNext.js κ°™μ€ ν”„λ μ„μ›ν¬λ¥Ό μ“Έ λ•, νμ΄μ§€ μ»΄ν¬λ„νΈμ— <code>searchParams</code>κ°€ κΈ°λ³Έμ μΌλ΅ λ“¤μ–΄μ™€μ„ URL μΏΌλ¦¬ μ¤νΈλ§μ„ μ‰½κ² λ‹¤λ£° μ μμ–΄μ”. μλ¥Ό λ“¤μ–΄, <code>?q=nextjs</code> κ°™μ€ κ²€μƒ‰μ–΄λ¥Ό λ°›μ•„μ„ ν•„ν„°λ‚ κ²€μƒ‰ κΈ°λ¥μ— λ°”λ΅ μ‚¬μ©ν•  μ μμ£ .</p>\n<p>λ, <code>force-dynamic</code> μµμ…μ„ ν™μ©ν•λ©΄ λΉλ“ μ‹μ μ— μ •μ μΌλ΅ λ―Έλ¦¬ λ λ”λ§ν•λ” κ² μ•„λ‹λΌ, λ§¤ μ”μ²­λ§λ‹¤ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό κ°€μ Έμ™€μ„ μµμ‹  μƒνƒλ¥Ό μ μ§€ν•  μ μμµλ‹λ‹¤. μ‚¬μ©μλ§λ‹¤ λ‹¤λ¥΄κ² λ³΄μ—¬μ¤μ•Ό ν•κ±°λ‚, μμ£Ό λ°”λ€λ” μ½ν…μΈ λ¥Ό λ™μ μΌλ΅ μ²λ¦¬ν•  λ• μ•„μ£Ό μ μ©ν•΄μ”!</p>\n<p>ν•„μ”ν•λ‹¤λ©΄, λ‹¤μμ²λΌ μ„¤μ •ν•΄λ³΄μ„Έμ”:</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> dynamic = <span class=\"hljs-string\">'force-dynamic'</span>;\n</code></pre>\n<p>μ΄κ±Έ μ“°λ©΄ ν•΄λ‹Ή νμ΄μ§€κ°€ ν•­μƒ μ„λ²„μ—μ„ μµμ‹  λ°μ΄ν„°λ¥Ό λ°›μ•„μ„ λ λ”λ§λ©λ‹λ‹¤.</p>\n<p>μ΄λ ‡κ² ν•λ©΄ μ‚¬μ©μ κ²½ν—λ„ λ” μΆ‹μ•„μ§€κ³ , SEOμ—λ„ μ λ¦¬ν•  μ μμ–΄μ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h4>λ μ΄μ•„μ›ƒ(Layouts)</h4>\n<p>νμ΄μ§€μ™€λ” λ‹¬λ¦¬, λ μ΄μ•„μ›ƒ(Layouts, μ„λ²„ μ»΄ν¬λ„νΈ)μ€ <code>searchParams</code>λΌλ” propμ„ λ°›μ§€ μ•μ•„μ”. κ·Έ μ΄μ λ”, κ³µμ  λ μ΄μ•„μ›ƒμ€ λ‚΄λΉ„κ²μ΄μ… μ¤‘μ— μ¬λ λ”λ§λμ§€ μ•μ•„μ„, λ§μ•½ <code>searchParams</code>λ¥Ό λ°›λ”λ‹¤λ©΄ νƒμƒ‰ κ°„μ— μ¤λλ(μ¦‰, κµ¬λ²„μ „μ) κ²€μƒ‰ νλΌλ―Έν„°κ°€ λ‚¨μ•„μμ„ μ μκΈ° λ•λ¬Έμ΄μ—μ”. μ΄ λ¶€λ¶„μ— λ€ν•΄μ„λ” μΆ€ λ” μμ„Έν• μ„¤λ…λ„ μμΌλ‹ μ°Έκ³ ν•λ©΄ μΆ‹μ•„μ”.</p>\n<p>λ€μ‹ μ—, νμ΄μ§€ μ»΄ν¬λ„νΈμ—μ„λ” <code>searchParams</code> propμ„ λ°›μ•„μ„ μ‚¬μ©ν•κ±°λ‚, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ <code>useSearchParams</code> ν›…μ„ μ‚¬μ©ν•΄μ„ μµμ‹  κ²€μƒ‰ νλΌλ―Έν„°λ¥Ό λ°›μ•„μ¤λ” κ²ƒμ„ κ¶μ¥ν•΄μ”. ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” λΈλΌμ°μ €μ—μ„ μµμ‹  μƒνƒλ΅ λ‹¤μ‹ λ λ”λ§λκΈ° λ•λ¬Έμ— ν•­μƒ μµμ‹ μ <code>searchParams</code> κ°’μ„ κ°€μ Έμ¬ μ μλ‹µλ‹λ‹¤.</p>\n<hr>\n<h2>μμ </h2>\n<p>(μμ  μ½”λ“λ¥Ό μ²¨λ¶€ν•λ©΄ λ” μ΄ν•΄ν•κΈ° μ‰¬μΈ κ²ƒ κ°™μ•„μ”! λ§ν¬λ‹¤μ΄ ν…μ΄λΈ” λ“±μΌλ΅ μ •λ¦¬ν•΄μ„ λ³΄μ—¬μ£Όλ©΄ μΆ‹κ³ , ν•„μ”ν•λ©΄ μ κ°€ λ„μ™€λ“λ¦΄κ²μ”.)</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h3>searchParams μ—…λ°μ΄νΈν•λ” λ°©λ²•</h3>\n<p>Next.jsμ—μ„ <code>useRouter</code>λ‚ <code>&#x3C;Link></code>λ¥Ό μ΄μ©ν•΄ μƒλ΅μ΄ <code>searchParams</code>λ¥Ό μ‰½κ² μ„¤μ •ν•  μ μμ–΄μ”. μ΄λ ‡κ² λ„¤λΉ„κ²μ΄μ…μ΄ μ΄λ£¨μ–΄μ§€λ©΄ ν•΄λ‹Ή νμ΄μ§€(<code>page.js</code>)μ—μ„ μ—…λ°μ΄νΈλ <code>searchParams</code>λ¥Ό propsλ΅ λ°”λ΅ λ°›μ„ μ μλ‹µλ‹λ‹¤.</p>\n<p>μ•„λ μμ  μ½”λ“λ¥Ό ν•λ² λ³Όκ²μ”! μ΄ μ½”λ“λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ ν„μ¬ URLμ μΏΌλ¦¬μ¤νΈλ§μ„ κ°€μ Έμ¤κ³ , νΉμ • νλΌλ―Έν„°λ¥Ό μ—…λ°μ΄νΈν•΄μ„ μƒλ΅μ΄ μΏΌλ¦¬μ¤νΈλ§μ„ λ§λ“  λ‹¤μ λΌμ°ν„°λ΅ μ΄λ™ν•κ±°λ‚ λ§ν¬λ¥Ό λ§λ“¤μ–΄ μ¤λ‹λ‹¤.</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"hljs-string\">'use client'</span>\n\n<span class=\"hljs-keyword\">import</span> { useRouter, usePathname, useSearchParams } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'next/navigation'</span>;\n<span class=\"hljs-keyword\">import</span> { useCallback } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Link</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'next/link'</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">ExampleClientComponent</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> router = <span class=\"hljs-title function_\">useRouter</span>();\n  <span class=\"hljs-keyword\">const</span> pathname = <span class=\"hljs-title function_\">usePathname</span>();\n  <span class=\"hljs-keyword\">const</span> searchParams = <span class=\"hljs-title function_\">useSearchParams</span>();\n\n  <span class=\"hljs-comment\">// ν„μ¬ μΏΌλ¦¬μ¤νΈλ§μ— μƒ key/valueλ¥Ό ν•©μ³μ„ μƒλ΅μ΄ μΏΌλ¦¬λ¬Έμμ—΄ μƒμ„±</span>\n  <span class=\"hljs-keyword\">const</span> createQueryString = <span class=\"hljs-title function_\">useCallback</span>(\n    <span class=\"hljs-function\">(<span class=\"hljs-params\">name, value</span>) =></span> {\n      <span class=\"hljs-keyword\">const</span> params = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">URLSearchParams</span>(searchParams.<span class=\"hljs-title function_\">toString</span>());\n      params.<span class=\"hljs-title function_\">set</span>(name, value);\n\n      <span class=\"hljs-keyword\">return</span> params.<span class=\"hljs-title function_\">toString</span>();\n    },\n    [searchParams]\n  );\n\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">p</span>></span>Sort By<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">p</span>></span>\n\n      {/* useRouterλ¥Ό μ¨μ„ λ²„νΌ ν΄λ¦­μ‹ μ΄λ™ν•κΈ° */}\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">button</span>\n        <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">{()</span> =></span> {\n          // ν„μ¬ κ²½λ΅μ— ?sort=asc μΏΌλ¦¬κ°€ λ¶™μ\n          router.push(pathname + '?' + createQueryString('sort', 'asc'));\n        }}\n      >\n        ASC\n      <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">button</span>></span>\n\n      {/* Linkλ¥Ό μ΄μ©ν•΄ λ°”λ΅ μ΄λ™ λ§ν¬ λ§λ“¤κΈ° */}\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">Link</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">{pathname</span> + '?' + <span class=\"hljs-attr\">createQueryString</span>('<span class=\"hljs-attr\">sort</span>', '<span class=\"hljs-attr\">desc</span>')}></span>\n        DESC\n      <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">Link</span>></span>\n    <span class=\"hljs-tag\">&#x3C;/></span></span>\n  );\n}\n</code></pre>\n<hr>\n<h4>μ΅°κΈλ§ λ” μ„¤λ…μ„ λ³΄νƒμλ©΄!</h4>\n<ul>\n<li><code>useSearchParams()</code>λ” ν„μ¬ URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό <code>URLSearchParams</code> ν•νƒλ΅ λ°ν™ν•΄ μ¤μ”. κ·Έλμ„ μ†μ‰½κ² <code>.set()</code>, <code>.get()</code>, <code>.has()</code> κ°™μ€ λ©”μ„λ“λ¥Ό μ“Έ μ μμ£ .</li>\n<li><code>useCallback</code>μΌλ΅ ν•¨μ λ©”λ¨μ΄μ μ΄μ…μ„ ν•΄μ„ λ¶ν•„μ”ν• μ¬μƒμ„±μ„ λ§‰μ•„ μ„±λ¥ μµμ ν™”λ¥Ό λ„μ™€μ¤λ‹λ‹¤.</li>\n<li><code>router.push()</code>λ” μλ°”μ¤ν¬λ¦½νΈ μ½”λ“μ—μ„ ν”„λ΅κ·Έλλ°μ μΌλ΅ κ²½λ΅ λ³€κ²½ν•  λ• μ‚¬μ©ν•΄μ”.</li>\n<li><code>&#x3C;Link></code>λ” λ§ν¬μ—…μ—μ„ ν•μ΄νΌλ§ν¬λ¥Ό λ§λ“¤ λ• ν™μ©ν•κ³ μ”.</li>\n<li>μ΄λ ‡κ² μΏΌλ¦¬μ¤νΈλ§μ„ κ΄€λ¦¬ν•λ©΄ νμ΄μ§€ μƒνƒ(μ: ν•„ν„°, μ •λ ¬ λ“±)λ¥Ό URLμ— λ…ν™•ν ν‘ν„ν•  μ μμ–΄ SEOμ—λ„ μ΄λ΅­λ‹µλ‹λ‹¤.</li>\n</ul>\n<hr>\n<h3>μ •λ¦¬</h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>λ©”μ„λ“</th><th>μ—­ν• </th><th>μ–Έμ  μ“°λ©΄ μΆ‹μ„κΉ?</th></tr></thead><tbody><tr><td><code>useRouter()</code></td><td>ν”„λ΅κ·Έλλ°μ μΌλ΅ λ„¤λΉ„κ²μ΄μ…ν•κΈ°</td><td>λ²„νΌ ν΄λ¦­ μ‹ λ™μ μΈ κ²½λ΅ λ³€κ²½ ν•„μ”ν•  λ•</td></tr><tr><td><code>&#x3C;Link></code></td><td>ν•μ΄νΌλ§ν¬λ¥Ό JSXμ—μ„ λ§λ“¤κΈ°</td><td>μ •μ μΈ λ§ν¬λ‚ μ‚¬μ©μ ν΄λ¦­ μ΄λ™ μ‹</td></tr><tr><td><code>useSearchParams()</code></td><td>URL μΏΌλ¦¬ μ •λ³΄ μ½κ³  μ΅°μ‘ν•κΈ°</td><td>ν„μ¬ μΏΌλ¦¬ μƒνƒλ¥Ό μ•κ³  μ‹¶μ„ λ•</td></tr></tbody></table>\n<p>μ •λ¦¬ν•΄ λ³΄λ‹ μΎμ ν• λΌμ°ν…κ³Ό μƒνƒ κ΄€λ¦¬λ¥Ό μ„ν•΄ μ •λ§ μμ£Ό μ“°κ² λ  κΈ°λ¥λ“¤μ΄μ£ ? μ—¬λ¬λ¶„λ„ κΌ­ μ½”λ“μ— μ μ©ν•΄μ„ κΉ”λ”ν• νμ΄μ§€ μ „ν™ κ²½ν— λ§λ“¤μ–΄ λ³΄μ„Έμ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td><code>v13.0.0</code></td><td><code>useSearchParams</code>κ°€ μ¶”κ°€λ¨</td></tr></tbody></table>\n<p>μ„ ν‘λ” React Router λΌμ΄λΈλ¬λ¦¬μ λ³€ν™” μ¤‘ ν•λ‚μΈ <code>v13.0.0</code> λ²„μ „μ—μ„ <code>useSearchParams</code>λΌλ” ν›…μ΄ μƒλ΅ λ„μ…λλ‹¤λ” λ‚΄μ©μ΄μ—μ”.</p>\n<p><code>useSearchParams</code>λ” URLμ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ‰½κ² μ½κ³  μμ •ν•  μ μκ² λ„μ™€μ£Όλ” ν›…μ΄μ—μ”. μλ¥Ό λ“¤μ–΄, μ‚¬μ©μκ°€ κ²€μƒ‰μ–΄λ¥Ό URL μΏΌλ¦¬μ— λ‚¨κ²¨λ‘κ³  μ‹¶μ„ λ•, μ§μ ‘ λ³µμ΅ν• μΏΌλ¦¬ μ¤νΈλ§μ„ λ‹¤λ£° ν•„μ” μ—†μ΄ Reactμ²λΌ μƒνƒ κ΄€λ¦¬ν•λ“―μ΄ λ‹¤λ£° μ μλ‹µλ‹λ‹¤.</p>\n<p>μ§μ ‘ μ‚¬μ©ν•΄λ³΄λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ“Έ μ μμ–΄μ”:</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"hljs-keyword\">import</span> { useSearchParams } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react-router-dom'</span>;\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">SearchPage</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> [searchParams, setSearchParams] = <span class=\"hljs-title function_\">useSearchParams</span>();\n  <span class=\"hljs-keyword\">const</span> query = searchParams.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">'q'</span>) || <span class=\"hljs-string\">''</span>;\n\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">handleInputChange</span> = (<span class=\"hljs-params\">e</span>) => {\n    <span class=\"hljs-title function_\">setSearchParams</span>({ <span class=\"hljs-attr\">q</span>: e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">value</span> });\n  };\n\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">\"text\"</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{query}</span> <span class=\"hljs-attr\">onChange</span>=<span class=\"hljs-string\">{handleInputChange}</span> /></span></span>\n  );\n}\n</code></pre>\n<p>μ—¬κΈ°μ„ <code>q</code>λ” μΏΌλ¦¬ νλΌλ―Έν„° ν‚¤μ΄κ³ , μ‚¬μ©μκ°€ μ…λ ¥ν•  λ•λ§λ‹¤ URLμ΄ μλ™μΌλ΅ μ—…λ°μ΄νΈλΌμ„ λ’¤λ΅κ°€κΈ°λ„ νΈν•΄μ§€κ³ , κ²€μƒ‰ κ²°κ³Ό κ³µμ λ„ μ‰¬μ›μ Έμ”.</p>\n<p>μ΄ κΈ°λ¥ λ•λ¶„μ— URLκ³Ό μƒνƒλ¥Ό λ™κΈ°ν™”ν•λ” μ‘μ—…μ΄ ν›¨μ”¬ νΈλ¦¬ν•΄μ΅μΌλ‹ React Routerλ¥Ό μ‚¬μ©ν•λ‹¤λ©΄ κΌ­ μ•μ•„λ‘μ‹κΈΈ μ¶”μ²ν•΄μ”!</p>\n</body>\n</html>\n"},"__N_SSG":true}