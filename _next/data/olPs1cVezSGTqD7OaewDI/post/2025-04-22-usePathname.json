{"pageProps":{"post":{"title":"Nextjs 13μ—μ„ usePathnameμΌλ΅ ν„μ¬ URL κ²½λ΅ μ‰½κ² κ°€μ Έμ¤λ” λ°©λ²•","description":"","date":"2025-04-22 12:51","slug":"2025-04-22-usePathname","content":"\n\n# usePathname ν›… μ†κ°\n\n`usePathname`μ€ Next.jsμ—μ„ μ κ³µν•λ” ν›…μΌλ΅, ν„μ¬ URLμ κ²½λ΅(pathname)λ¥Ό μ½μ–΄μ¬ μ μλ” **ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ** μ „μ© ν›…μ΄μ—μ”.\n\n---\n\n```js\n'use client'\n\nimport { usePathname } from 'next/navigation'\n\nexport default function ExampleClientComponent() {\n  const pathname = usePathname()\n  return <p>Current pathname: {pathname}</p>\n}\n```\n\nμ„ μμ μ²λΌ `usePathname`μ„ μ‚¬μ©ν•λ©΄ ν„μ¬ νμ΄μ§€μ κ²½λ΅λ¥Ό μ‰½κ² κ°€μ Έμ™€μ„ ν™”λ©΄μ— μ¶λ ¥ν•  μ μλ‹µλ‹λ‹¤.\n\n---\n\n### μ™ κΌ­ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ‚¬μ©ν• κΉ?\n\n`usePathname` ν›…μ€ **ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§** μ‚¬μ©ν•΄μ•Ό ν•΄μ”. μ—¬κΈ°μ„ ν• κ°€μ§€ μ¤ν•΄ν•μ§€ λ§μ•„μ•Ό ν•  μ μ€, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ„±λ¥ μ €ν•(de-optimization)κ°€ μ•„λ‹λΌλ” κ±°μμ”! μ¤νλ ¤ Next.jsμ μ„λ²„ μ»΄ν¬λ„νΈ μ•„ν‚¤ν…μ² μ•μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ¤‘μ”ν• μ—­ν• μ„ ν•μ£ .\n\nμ¦‰, μ„λ²„ μ»΄ν¬λ„νΈ(Server Component)κ°€ μ„λ²„μ—μ„ λ λ”λ§ν•κ³ , ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ(Client Component)λ” λΈλΌμ°μ €μ—μ„ λ™μ μΈ UIμ™€ μ‚¬μ©μ μ΄λ²¤νΈλ¥Ό λ‹΄λ‹Ήν•λ” μ—­ν•  λ¶„λ‹΄ λ•λ¶„μ— μ•± μ„±λ¥μ„ μµμ ν™”ν•λ” κµ¬μ΅°λλ‹λ‹¤.\n\n---\n\n### μ°Έκ³ λ΅ μ•μ•„λ‘λ©΄ μΆ‹μ€ μ \n\n- `usePathname`μΌλ΅ κ°€μ Έμ¤λ” κ²½λ΅λ” μΏΌλ¦¬ μ¤νΈλ§μ΄λ‚ ν•΄μ‹(#)λ¥Ό ν¬ν•¨ν•μ§€ μ•κ³  μμν• κ²½λ΅λ§ λ°ν™ν•΄μ”. μλ¥Ό λ“¤μ–΄, `https://example.com/posts?id=123` λΌλ©΄ `/posts`κ°€ λ°ν™λ©λ‹λ‹¤.\n- νμ΄μ§€ μ „ν™ μ‹ URLμ΄ λ³€κ²½λλ”λΌλ„ `usePathname`μ΄ λ°ν™ν•λ” κ°’μ΄ μλ™μΌλ΅ μ—…λ°μ΄νΈλμ–΄ ν•­μƒ μµμ‹  κ²½λ΅λ¥Ό μ–»μ„ μ μμ–΄μ”.\n- λ§μ•½ μΏΌλ¦¬ μ¤νΈλ§μ΄λ‚ ν•΄μ‹κΉμ§€ ν•„μ”ν•λ‹¤λ©΄ `useSearchParams` κ°™μ€ ν›…λ„ ν•¨κ» ν™μ©ν•΄ λ³΄λ” κ±Έ μ¶”μ²ν•΄μ”.\n\nμ΄μ²λΌ `usePathname`μ€ νμ΄μ§€ μ„μΉμ— λ”°λΌ UIλ¥Ό λ‹¤λ¥΄κ² ν‘ν„ν•΄μ•Ό ν•λ” μƒν™©μ—μ„ μ•„μ£Ό μ μ©ν•λ‹, Next.js ν”„λ΅μ νΈμ—μ„ κΌ­ μ™μ§€ν•΄ λ‘μ‹λ©΄ μΆ‹μµλ‹λ‹¤!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nμλ¥Ό λ“¤μ–΄, Client Componentμ—μ„ usePathnameμ„ μ‚¬μ©ν•  κ²½μ° μ΄κΈ° νμ΄μ§€ λ΅λ“ μ‹ HTMLλ΅ λ λ”λ§ λ©λ‹λ‹¤. μ΄ν›„μ— λ‹¤λ¥Έ κ²½λ΅λ΅ μ΄λ™ν•  λ• μ΄ μ»΄ν¬λ„νΈλ” λ‹¤μ‹ λ°›μ•„μ¬ ν•„μ”κ°€ μ—†μ–΄μ”. ν• λ² ν΄λΌμ΄μ–ΈνΈ μλ°”μ¤ν¬λ¦½νΈ λ²λ“¤λ΅ λ‹¤μ΄λ΅λ“λλ©΄, ν„μ¬ μƒνƒ(state)μ— λ§κ² λ‹¤μ‹ λ λ”λ§λ©λ‹λ‹¤.\n\n> μ°Έκ³ ν•  μ :\nμ„λ²„ μ»΄ν¬λ„νΈμ—μ„ ν„μ¬ URLμ„ μ½λ” κ²ƒμ€ μ§€μ›ν•μ§€ μ•μ•„μ”. μ΄κ² μλ„λ μ„¤κ³„μΈλ°, λ•λ¶„μ— νμ΄μ§€ κ°„ μ΄λ™ μ‹ λ μ΄μ•„μ›ƒ μƒνƒλ¥Ό μ μ§€ν•  μ μμ–΄μ”.\n\n### νΈν™μ„± λ¨λ“:\n- usePathnameμ€ fallback κ²½λ΅λ¥Ό λ λ”λ§ν•  λ•λ‚, Next.jsκ°€ μλ™μΌλ΅ μ •μ  μµμ ν™”ν• pages λ””λ ‰ν† λ¦¬μ νμ΄μ§€μ—μ„λ” nullμ„ λ°ν™ν•  μ μμ–΄μ”.\n- next.config.jsμ—μ„ λ¦¬λΌμ΄νΈ(rewrites)λ¥Ό μ“°κ±°λ‚, Middlewareμ™€ ν•¨κ» usePathnameμ„ μ‚¬μ©ν•  λ•λ” useStateμ™€ useEffectλ„ κ°™μ΄ μ¨μ•Ό ν•©λ‹λ‹¤. κ·Έλ ‡μ§€ μ•μΌλ©΄ hydration mismatch μ¤λ¥κ°€ λ°μƒν•  μ μκ±°λ“ μ”.\n- ν”„λ΅μ νΈ λ‚΄μ— app λ””λ ‰ν† λ¦¬μ™€ pages λ””λ ‰ν† λ¦¬κ°€ λ¨λ‘ μ΅΄μ¬ν•λ©΄, Next.jsκ°€ μλ™μΌλ΅ νƒ€μ…μ„ μ—…λ°μ΄νΈν•΄μ¤λ‹λ‹¤.\n\n## νλΌλ―Έν„° μ‚¬μ©λ²•\n\n```js\nconst pathname = usePathname()\n```\n\n---\n\n### μ΅°κΈ λ” μ•λ ¤λ“λ¦¬μλ©΄\n\n- usePathname ν›…μ€ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ ν„μ¬ κ²½λ΅λ¥Ό μ‰½κ² μ–»μ–΄μ¬ λ• μ•„μ£Ό μ μ©ν•΄μ”. μλ¥Ό λ“¤μ–΄, λ©”λ‰΄μ—μ„ ν„μ¬ μ„μΉμ— λ”°λΌ μ¤νƒ€μΌμ„ λ‹¤λ¥΄κ² ν•κ±°λ‚, νμ΄μ§€ μ΄λ™ μ‹μ— μ΅°κ±΄λ¶€ λ λ”λ§μ„ ν•κ³  μ‹¶μ„ λ• λ”± μΆ‹μ£ .\n- μ„λ²„ μ»΄ν¬λ„νΈλ” URL μ •λ³΄μ— μμ΅΄ν•μ§€ μ•κ³  λ λ”λ§λκΈ° λ•λ¬Έμ— μ²μ λ΅λ“κ°€ λ” λΉ λ¥΄κ³ , λ μ΄μ•„μ›ƒ μ¬μ‚¬μ©μ„±μ΄ λ†’μ•„μ§€λ” μ¥μ μ΄ μμ–΄μ”.\n- ν•μ§€λ§ μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ ν„μ¬ URLμ„ λ‹¤λ¤„μ•Ό ν•λ‹¤λ©΄, μΏΌλ¦¬ νλΌλ―Έν„° λ“±μ„ propsλ΅ λ„κ²¨μ£Όκ±°λ‚ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό ν™μ©ν•λ” λ“± μ°νν•λ” λ°©μ‹μ„ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.\n\nμ΄λ ‡κ² usePathnameκ³Ό Server/Client μ»΄ν¬λ„νΈμ μ—­ν•  μ°¨μ΄λ¥Ό μ΄ν•΄ν•λ©΄ Next.jsμ μ•± λΌμ°ν…κ³Ό λ λ”λ§ μ „λµμ„ λ” μ ν™μ©ν•  μ μμ„ κ±°μμ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\nusePathnameμ€ νλΌλ―Έν„°λ¥Ό λ°›μ§€ μ•λ” ν›…(hook)μ…λ‹λ‹¤.\n\n## λ°ν™κ°’\n\nusePathnameμ€ ν„μ¬ URLμ κ²½λ΅(pathname)λ¥Ό λ¬Έμμ—΄λ΅ λ°ν™ν•΄μ¤μ”. μλ¥Ό λ“¤μ–΄ λ³Όκ²μ”:\n\n| URL                | λ°ν™κ°’           |\n|--------------------|------------------|\n| `/`                | `'/'`            |\n| `/dashboard`       | `'/dashboard'`   |\n| `/dashboard?v=2`   | `'/dashboard'`   |\n| `/blog/hello-world`| `'/blog/hello-world'` |\n\nλ³΄μ‹λ‹¤μ‹ν”Ό μΏΌλ¦¬ μ¤νΈλ§(`?v=2` κ°™μ€ λ¶€λ¶„)μ€ μ μ™Έν•κ³  κ²½λ΅ λ¶€λ¶„λ§ λ”± κ°€μ Έμ¨λ‹µλ‹λ‹¤. μ΄ κΈ°λ¥ λ•λ¶„μ— ν„μ¬ μ‚¬μ©μκ°€ μ–΄λ νμ΄μ§€μ— μλ”μ§€ μ‰½κ² μ• μ μκ³ , λΌμ°ν… μ²λ¦¬ν•  λ• μ•„μ£Ό μ μ©ν•΄μ”.\n\nμ¶”κ°€λ΅, usePathnameμ€ Next.js κ°™μ€ λ¦¬μ•΅νΈ ν”„λ μ„μ›ν¬μ—μ„ κ³µμ‹μ μΌλ΅ μ§€μ›λλ” ν›…μ΄κ³ , ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ‚¬μ© κ°€λ¥ν•λ‹¤λ” μ  μ°Έκ³ ν•μ„Έμ”!\n\n<!-- TIL μν‰ -->\n<ins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"></ins>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n\n## μμ \n\n### λΌμ°νΈ λ³€κ²½μ— λ”°λΌ λ¬΄μ–Έκ°€ ν•κΈ°\n\n```js\n'use client'\n\nimport { usePathname, useSearchParams } from 'next/navigation'\nimport { useEffect } from 'react'\n\nfunction ExampleClientComponent() {\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n\n  useEffect(() => {\n    // λΌμ°νΈ(pathname)λ‚ μΏΌλ¦¬μ¤νΈλ§(searchParams)μ΄ λ°”λ€” λ•λ§λ‹¤ μ‹¤ν–‰λλ” μ½”λ“ μ‘μ„±\n    console.log('κ²½λ΅ λλ” μΏΌλ¦¬ νλΌλ―Έν„°κ°€ λ³€κ²½λμ—μµλ‹λ‹¤.')\n  }, [pathname, searchParams])\n}\n```\n\n| Version  | Changes               |\n|----------|-----------------------|\n| v13.0.0  | `usePathname`κ°€ λ„μ…λ¨ |\n\n---\n\nμ΄ μμ λ” Next.jsμ `app` λ””λ ‰ν† λ¦¬ κΈ°λ° λΌμ°ν…μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λΌμ°νΈ κ²½λ΅λ‚ μΏΌλ¦¬ νλΌλ―Έν„°μ— λ°μ‘ν•΄ λ™μ‘ν•  μ μκ² ν•΄μ£Όλ” λ°©λ²•μ…λ‹λ‹¤. `usePathname`κ³Ό `useSearchParams` ν›…μ€ κ°κ° ν„μ¬ κ²½λ΅μ™€ μΏΌλ¦¬ μ¤νΈλ§μ„ κ°€μ Έμ™€μ„, `useEffect`μ μμ΅΄μ„± λ°°μ—΄μ— λ„£μ–΄ κ²½λ΅λ‚ μΏΌλ¦¬κ°€ λ°”λ€” λ•λ§λ‹¤ νΉμ • μ‘μ—…μ„ μ‹¤ν–‰ν•  μ μλ„λ΅ λ„μ™€μ¤λ‹λ‹¤.\n\nπ€ μ°Έκ³ λ΅ `useSearchParams`λ” λ°ν™ν•λ” κ°’μ΄ `URLSearchParams` κ°μ²΄μ™€ μ μ‚¬ν•λ°, λ‚΄λ¶€μ μΌλ΅ Next.jsκ°€ λ¦¬λ λ”λ§ μµμ ν™”λ¥Ό μ„ν•΄ μ»¤μ¤ν…€ν• λ¶€λ¶„μ΄ μμΌλ‹ μ°Έκ³ ν•μ„Έμ”. κ·Έλ¦¬κ³  `useEffect`λ¥Ό μ‚¬μ©ν•  λ•λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ„μ„ λ…μ‹ν•λ” `'use client'`κ°€ κΌ­ ν•„μ”ν•©λ‹λ‹¤.\n\nμ΄λ° λ°©μ‹μ€ μ‚¬μ©μκ°€ URLμ„ λ³€κ²½ν•λ©΄μ„λ„ λ°μ΄ν„° νμΉ­μ΄λ‚ UI μ—…λ°μ΄νΈκ°€ μλ™μΌλ΅ λ°μλκΈΈ μ›ν•  λ• μ μ©ν•κ² ν™μ©ν•  μ μμΌλ‹κΉ κΌ­ κΈ°μ–µν•΄ λ‘λ©΄ μΆ‹μµλ‹λ‹¤!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":5},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<h1>usePathname ν›… μ†κ°</h1>\n<p><code>usePathname</code>μ€ Next.jsμ—μ„ μ κ³µν•λ” ν›…μΌλ΅, ν„μ¬ URLμ κ²½λ΅(pathname)λ¥Ό μ½μ–΄μ¬ μ μλ” <strong>ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ</strong> μ „μ© ν›…μ΄μ—μ”.</p>\n<hr>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-string\">'use client'</span>\n\n<span class=\"hljs-keyword\">import</span> { usePathname } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'next/navigation'</span>\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">ExampleClientComponent</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> pathname = <span class=\"hljs-title function_\">usePathname</span>()\n  <span class=\"hljs-keyword\">return</span> <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">p</span>></span>Current pathname: {pathname}<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">p</span>></span></span>\n}\n</code></pre>\n<p>μ„ μμ μ²λΌ <code>usePathname</code>μ„ μ‚¬μ©ν•λ©΄ ν„μ¬ νμ΄μ§€μ κ²½λ΅λ¥Ό μ‰½κ² κ°€μ Έμ™€μ„ ν™”λ©΄μ— μ¶λ ¥ν•  μ μλ‹µλ‹λ‹¤.</p>\n<hr>\n<h3>μ™ κΌ­ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ‚¬μ©ν• κΉ?</h3>\n<p><code>usePathname</code> ν›…μ€ <strong>ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§</strong> μ‚¬μ©ν•΄μ•Ό ν•΄μ”. μ—¬κΈ°μ„ ν• κ°€μ§€ μ¤ν•΄ν•μ§€ λ§μ•„μ•Ό ν•  μ μ€, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ„±λ¥ μ €ν•(de-optimization)κ°€ μ•„λ‹λΌλ” κ±°μμ”! μ¤νλ ¤ Next.jsμ μ„λ²„ μ»΄ν¬λ„νΈ μ•„ν‚¤ν…μ² μ•μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ¤‘μ”ν• μ—­ν• μ„ ν•μ£ .</p>\n<p>μ¦‰, μ„λ²„ μ»΄ν¬λ„νΈ(Server Component)κ°€ μ„λ²„μ—μ„ λ λ”λ§ν•κ³ , ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ(Client Component)λ” λΈλΌμ°μ €μ—μ„ λ™μ μΈ UIμ™€ μ‚¬μ©μ μ΄λ²¤νΈλ¥Ό λ‹΄λ‹Ήν•λ” μ—­ν•  λ¶„λ‹΄ λ•λ¶„μ— μ•± μ„±λ¥μ„ μµμ ν™”ν•λ” κµ¬μ΅°λλ‹λ‹¤.</p>\n<hr>\n<h3>μ°Έκ³ λ΅ μ•μ•„λ‘λ©΄ μΆ‹μ€ μ </h3>\n<ul>\n<li><code>usePathname</code>μΌλ΅ κ°€μ Έμ¤λ” κ²½λ΅λ” μΏΌλ¦¬ μ¤νΈλ§μ΄λ‚ ν•΄μ‹(#)λ¥Ό ν¬ν•¨ν•μ§€ μ•κ³  μμν• κ²½λ΅λ§ λ°ν™ν•΄μ”. μλ¥Ό λ“¤μ–΄, <code>https://example.com/posts?id=123</code> λΌλ©΄ <code>/posts</code>κ°€ λ°ν™λ©λ‹λ‹¤.</li>\n<li>νμ΄μ§€ μ „ν™ μ‹ URLμ΄ λ³€κ²½λλ”λΌλ„ <code>usePathname</code>μ΄ λ°ν™ν•λ” κ°’μ΄ μλ™μΌλ΅ μ—…λ°μ΄νΈλμ–΄ ν•­μƒ μµμ‹  κ²½λ΅λ¥Ό μ–»μ„ μ μμ–΄μ”.</li>\n<li>λ§μ•½ μΏΌλ¦¬ μ¤νΈλ§μ΄λ‚ ν•΄μ‹κΉμ§€ ν•„μ”ν•λ‹¤λ©΄ <code>useSearchParams</code> κ°™μ€ ν›…λ„ ν•¨κ» ν™μ©ν•΄ λ³΄λ” κ±Έ μ¶”μ²ν•΄μ”.</li>\n</ul>\n<p>μ΄μ²λΌ <code>usePathname</code>μ€ νμ΄μ§€ μ„μΉμ— λ”°λΌ UIλ¥Ό λ‹¤λ¥΄κ² ν‘ν„ν•΄μ•Ό ν•λ” μƒν™©μ—μ„ μ•„μ£Ό μ μ©ν•λ‹, Next.js ν”„λ΅μ νΈμ—μ„ κΌ­ μ™μ§€ν•΄ λ‘μ‹λ©΄ μΆ‹μµλ‹λ‹¤!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>μλ¥Ό λ“¤μ–΄, Client Componentμ—μ„ usePathnameμ„ μ‚¬μ©ν•  κ²½μ° μ΄κΈ° νμ΄μ§€ λ΅λ“ μ‹ HTMLλ΅ λ λ”λ§ λ©λ‹λ‹¤. μ΄ν›„μ— λ‹¤λ¥Έ κ²½λ΅λ΅ μ΄λ™ν•  λ• μ΄ μ»΄ν¬λ„νΈλ” λ‹¤μ‹ λ°›μ•„μ¬ ν•„μ”κ°€ μ—†μ–΄μ”. ν• λ² ν΄λΌμ΄μ–ΈνΈ μλ°”μ¤ν¬λ¦½νΈ λ²λ“¤λ΅ λ‹¤μ΄λ΅λ“λλ©΄, ν„μ¬ μƒνƒ(state)μ— λ§κ² λ‹¤μ‹ λ λ”λ§λ©λ‹λ‹¤.</p>\n<blockquote>\n<p>μ°Έκ³ ν•  μ :\nμ„λ²„ μ»΄ν¬λ„νΈμ—μ„ ν„μ¬ URLμ„ μ½λ” κ²ƒμ€ μ§€μ›ν•μ§€ μ•μ•„μ”. μ΄κ² μλ„λ μ„¤κ³„μΈλ°, λ•λ¶„μ— νμ΄μ§€ κ°„ μ΄λ™ μ‹ λ μ΄μ•„μ›ƒ μƒνƒλ¥Ό μ μ§€ν•  μ μμ–΄μ”.</p>\n</blockquote>\n<h3>νΈν™μ„± λ¨λ“:</h3>\n<ul>\n<li>usePathnameμ€ fallback κ²½λ΅λ¥Ό λ λ”λ§ν•  λ•λ‚, Next.jsκ°€ μλ™μΌλ΅ μ •μ  μµμ ν™”ν• pages λ””λ ‰ν† λ¦¬μ νμ΄μ§€μ—μ„λ” nullμ„ λ°ν™ν•  μ μμ–΄μ”.</li>\n<li>next.config.jsμ—μ„ λ¦¬λΌμ΄νΈ(rewrites)λ¥Ό μ“°κ±°λ‚, Middlewareμ™€ ν•¨κ» usePathnameμ„ μ‚¬μ©ν•  λ•λ” useStateμ™€ useEffectλ„ κ°™μ΄ μ¨μ•Ό ν•©λ‹λ‹¤. κ·Έλ ‡μ§€ μ•μΌλ©΄ hydration mismatch μ¤λ¥κ°€ λ°μƒν•  μ μκ±°λ“ μ”.</li>\n<li>ν”„λ΅μ νΈ λ‚΄μ— app λ””λ ‰ν† λ¦¬μ™€ pages λ””λ ‰ν† λ¦¬κ°€ λ¨λ‘ μ΅΄μ¬ν•λ©΄, Next.jsκ°€ μλ™μΌλ΅ νƒ€μ…μ„ μ—…λ°μ΄νΈν•΄μ¤λ‹λ‹¤.</li>\n</ul>\n<h2>νλΌλ―Έν„° μ‚¬μ©λ²•</h2>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">const</span> pathname = <span class=\"hljs-title function_\">usePathname</span>()\n</code></pre>\n<hr>\n<h3>μ΅°κΈ λ” μ•λ ¤λ“λ¦¬μλ©΄</h3>\n<ul>\n<li>usePathname ν›…μ€ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ ν„μ¬ κ²½λ΅λ¥Ό μ‰½κ² μ–»μ–΄μ¬ λ• μ•„μ£Ό μ μ©ν•΄μ”. μλ¥Ό λ“¤μ–΄, λ©”λ‰΄μ—μ„ ν„μ¬ μ„μΉμ— λ”°λΌ μ¤νƒ€μΌμ„ λ‹¤λ¥΄κ² ν•κ±°λ‚, νμ΄μ§€ μ΄λ™ μ‹μ— μ΅°κ±΄λ¶€ λ λ”λ§μ„ ν•κ³  μ‹¶μ„ λ• λ”± μΆ‹μ£ .</li>\n<li>μ„λ²„ μ»΄ν¬λ„νΈλ” URL μ •λ³΄μ— μμ΅΄ν•μ§€ μ•κ³  λ λ”λ§λκΈ° λ•λ¬Έμ— μ²μ λ΅λ“κ°€ λ” λΉ λ¥΄κ³ , λ μ΄μ•„μ›ƒ μ¬μ‚¬μ©μ„±μ΄ λ†’μ•„μ§€λ” μ¥μ μ΄ μμ–΄μ”.</li>\n<li>ν•μ§€λ§ μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ ν„μ¬ URLμ„ λ‹¤λ¤„μ•Ό ν•λ‹¤λ©΄, μΏΌλ¦¬ νλΌλ―Έν„° λ“±μ„ propsλ΅ λ„κ²¨μ£Όκ±°λ‚ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό ν™μ©ν•λ” λ“± μ°νν•λ” λ°©μ‹μ„ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.</li>\n</ul>\n<p>μ΄λ ‡κ² usePathnameκ³Ό Server/Client μ»΄ν¬λ„νΈμ μ—­ν•  μ°¨μ΄λ¥Ό μ΄ν•΄ν•λ©΄ Next.jsμ μ•± λΌμ°ν…κ³Ό λ λ”λ§ μ „λµμ„ λ” μ ν™μ©ν•  μ μμ„ κ±°μμ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<p>usePathnameμ€ νλΌλ―Έν„°λ¥Ό λ°›μ§€ μ•λ” ν›…(hook)μ…λ‹λ‹¤.</p>\n<h2>λ°ν™κ°’</h2>\n<p>usePathnameμ€ ν„μ¬ URLμ κ²½λ΅(pathname)λ¥Ό λ¬Έμμ—΄λ΅ λ°ν™ν•΄μ¤μ”. μλ¥Ό λ“¤μ–΄ λ³Όκ²μ”:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>URL</th><th>λ°ν™κ°’</th></tr></thead><tbody><tr><td><code>/</code></td><td><code>'/'</code></td></tr><tr><td><code>/dashboard</code></td><td><code>'/dashboard'</code></td></tr><tr><td><code>/dashboard?v=2</code></td><td><code>'/dashboard'</code></td></tr><tr><td><code>/blog/hello-world</code></td><td><code>'/blog/hello-world'</code></td></tr></tbody></table>\n<p>λ³΄μ‹λ‹¤μ‹ν”Ό μΏΌλ¦¬ μ¤νΈλ§(<code>?v=2</code> κ°™μ€ λ¶€λ¶„)μ€ μ μ™Έν•κ³  κ²½λ΅ λ¶€λ¶„λ§ λ”± κ°€μ Έμ¨λ‹µλ‹λ‹¤. μ΄ κΈ°λ¥ λ•λ¶„μ— ν„μ¬ μ‚¬μ©μκ°€ μ–΄λ νμ΄μ§€μ— μλ”μ§€ μ‰½κ² μ• μ μκ³ , λΌμ°ν… μ²λ¦¬ν•  λ• μ•„μ£Ό μ μ©ν•΄μ”.</p>\n<p>μ¶”κ°€λ΅, usePathnameμ€ Next.js κ°™μ€ λ¦¬μ•΅νΈ ν”„λ μ„μ›ν¬μ—μ„ κ³µμ‹μ μΌλ΅ μ§€μ›λλ” ν›…μ΄κ³ , ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ‚¬μ© κ°€λ¥ν•λ‹¤λ” μ  μ°Έκ³ ν•μ„Έμ”!</p>\n<!-- TIL μν‰ -->\n<p><ins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"></ins></p>\n<script>\n(adsbygoogle = window.adsbygoogle || []).push({});\n</script>\n<h2>μμ </h2>\n<h3>λΌμ°νΈ λ³€κ²½μ— λ”°λΌ λ¬΄μ–Έκ°€ ν•κΈ°</h3>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-string\">'use client'</span>\n\n<span class=\"hljs-keyword\">import</span> { usePathname, useSearchParams } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'next/navigation'</span>\n<span class=\"hljs-keyword\">import</span> { useEffect } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">ExampleClientComponent</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> pathname = <span class=\"hljs-title function_\">usePathname</span>()\n  <span class=\"hljs-keyword\">const</span> searchParams = <span class=\"hljs-title function_\">useSearchParams</span>()\n\n  <span class=\"hljs-title function_\">useEffect</span>(<span class=\"hljs-function\">() =></span> {\n    <span class=\"hljs-comment\">// λΌμ°νΈ(pathname)λ‚ μΏΌλ¦¬μ¤νΈλ§(searchParams)μ΄ λ°”λ€” λ•λ§λ‹¤ μ‹¤ν–‰λλ” μ½”λ“ μ‘μ„±</span>\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">'κ²½λ΅ λλ” μΏΌλ¦¬ νλΌλ―Έν„°κ°€ λ³€κ²½λμ—μµλ‹λ‹¤.'</span>)\n  }, [pathname, searchParams])\n}\n</code></pre>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>v13.0.0</td><td><code>usePathname</code>κ°€ λ„μ…λ¨</td></tr></tbody></table>\n<hr>\n<p>μ΄ μμ λ” Next.jsμ <code>app</code> λ””λ ‰ν† λ¦¬ κΈ°λ° λΌμ°ν…μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λΌμ°νΈ κ²½λ΅λ‚ μΏΌλ¦¬ νλΌλ―Έν„°μ— λ°μ‘ν•΄ λ™μ‘ν•  μ μκ² ν•΄μ£Όλ” λ°©λ²•μ…λ‹λ‹¤. <code>usePathname</code>κ³Ό <code>useSearchParams</code> ν›…μ€ κ°κ° ν„μ¬ κ²½λ΅μ™€ μΏΌλ¦¬ μ¤νΈλ§μ„ κ°€μ Έμ™€μ„, <code>useEffect</code>μ μμ΅΄μ„± λ°°μ—΄μ— λ„£μ–΄ κ²½λ΅λ‚ μΏΌλ¦¬κ°€ λ°”λ€” λ•λ§λ‹¤ νΉμ • μ‘μ—…μ„ μ‹¤ν–‰ν•  μ μλ„λ΅ λ„μ™€μ¤λ‹λ‹¤.</p>\n<p>π€ μ°Έκ³ λ΅ <code>useSearchParams</code>λ” λ°ν™ν•λ” κ°’μ΄ <code>URLSearchParams</code> κ°μ²΄μ™€ μ μ‚¬ν•λ°, λ‚΄λ¶€μ μΌλ΅ Next.jsκ°€ λ¦¬λ λ”λ§ μµμ ν™”λ¥Ό μ„ν•΄ μ»¤μ¤ν…€ν• λ¶€λ¶„μ΄ μμΌλ‹ μ°Έκ³ ν•μ„Έμ”. κ·Έλ¦¬κ³  <code>useEffect</code>λ¥Ό μ‚¬μ©ν•  λ•λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ„μ„ λ…μ‹ν•λ” <code>'use client'</code>κ°€ κΌ­ ν•„μ”ν•©λ‹λ‹¤.</p>\n<p>μ΄λ° λ°©μ‹μ€ μ‚¬μ©μκ°€ URLμ„ λ³€κ²½ν•λ©΄μ„λ„ λ°μ΄ν„° νμΉ­μ΄λ‚ UI μ—…λ°μ΄νΈκ°€ μλ™μΌλ΅ λ°μλκΈΈ μ›ν•  λ• μ μ©ν•κ² ν™μ©ν•  μ μμΌλ‹κΉ κΌ­ κΈ°μ–µν•΄ λ‘λ©΄ μΆ‹μµλ‹λ‹¤!</p>\n</body>\n</html>\n"},"__N_SSG":true}