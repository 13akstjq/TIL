<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>위성으로 보이지 않는 용암 흐름과 활활 타오르는 산불을 어떻게 포착할 수 있을까 Python 사용법 | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="위성으로 보이지 않는 용암 흐름과 활활 타오르는 산불을 어떻게 포착할 수 있을까 Python 사용법 | TIL" data-gatsby-head="true"/><meta property="og:title" content="위성으로 보이지 않는 용암 흐름과 활활 타오르는 산불을 어떻게 포착할 수 있을까 Python 사용법 | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython" data-gatsby-head="true"/><meta name="twitter:title" content="위성으로 보이지 않는 용암 흐름과 활활 타오르는 산불을 어떻게 포착할 수 있을까 Python 사용법 | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-12 20:44" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-5ecfd58aae5a7e3d.js" defer=""></script><script src="/TIL/_next/static/jKAIrnIuHBv4ZHjiQbX6i/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/jKAIrnIuHBv4ZHjiQbX6i/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">위성으로 보이지 않는 용암 흐름과 활활 타오르는 산불을 어떻게 포착할 수 있을까 Python 사용법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="위성으로 보이지 않는 용암 흐름과 활활 타오르는 산불을 어떻게 포착할 수 있을까 Python 사용법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 12, 2024</span><span class="posts_reading_time__f7YPP">23<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_0.png">
<h1>목차</h1>
<ul>
<li>🌟 소개</li>
<li>🔍 Sentinel-2 (분광대역)</li>
<li>🌐 Sentinel-2 이미지 다운로드</li>
<li>⚙️ Sentinel-2 이미지 처리 (클리핑 및 리샘플링)</li>
<li>🌋 Sentinel-2 이미지 시각화 (화산)</li>
<li>🔥 Sentinel-2 이미지 시각화 (산불)</li>
<li>📄 결론</li>
<li>📚 참고 자료</li>
</ul>
<h2>🌟 소개</h2>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>알고 계실지 모르겠지만, 우리 눈은 가시 영역(파란색, 녹색, 빨간색의 밴드)의 물체만 볼 수 있어요. 하지만 빛이 물체에 닿아 반사되면, 적외선과 같은 다른 스펙트럼 영역의 정보도 담고 있어요. 적외선 빛은 짙은 가스, 예를 들어 연기와 같은 것을 통과해 명확한 시야를 제공하죠. 하지만 우리 눈은 일부 동물들(뱀 등)과 달리 적외선 영역에 있는 물체를 보지 못해요. 지난 수십 년 동안 적외선 빛을 탐지하는 센서 개발에 상당한 진전이 있었어요. 이러한 센서들은 실용적인 응용에 활용되고 있어요.</p>
<p>나는 항상 위성이 가시 영역에서는 볼 수 없는 적외선 영역에서 중요한 정보를 감지할 수 있는 좋은 예시를 찾고 있었어요. 지난 주에는 2023년 12월 이후 세 번째로 활동을 시작한 아이슬란드 화산에 대해 읽었어요. 그것은 나에게 위성이 촬영한 화산의 이미지를 확인하고 싶다는 생각을 일으켰어요. 나는 운이 좋아서 화산으로부터 올라오는 연기를 보여주는 선명한 위성 이미지를 발견할 수 있다면 좋겠다고 바랬어요. 그것은 가시 영역에서 빛이 흩어지는 것과 적외선 영역에서 연기를 통과해 용암 흐름을 드러내는 모습을 보여줄 수 있는 완벽한 예시가 될 것 같았죠.</p>
<p>내가 확인한 여러 위성 중 하나가 완벽한 타이밍으로 있었어요! 화산은 2월 8일 목요일 아침에 폭발했고, Sentinel-2가 2월 8일 정오쯤에 지나갔어요. 나는 이것이 위성 이미지가 가시 영역에선 흐리더라도 적외선 영역의 센서로 장착된 위성 이미지가 우리에게 화산을 모니터링하고 화산재를 탐지하는 데 어떻게 도움이 되는지 보여주는 완벽한 예시가 될 수 있다고 생각했어요.</p>
<p>매우 짙은 연기가 있는 상황에서 적외선 밴드의 응용을 탐구하려고, 나는 캘리포니아에서 발생한 2020년 최대 화재 중 하나를 캡처한 또 다른 Sentinel-2 이미지를 시각화하기로 결정했어요.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 이야기에서는 아이슬란드 레이키아네스 반도의 화산과 2020년 캘리포니아의 크릭 파이어를 위해 캡처된 두 개의 센티넬-2 이미지를 다운로드할 것입니다. 우리는 파이썬을 사용하여 이 두 이미지를 시각화하기 위해 시각적 및 적외선 지역의 다른 밴드 조합을 사용할 것입니다. 적외선 정보가 활동 중인 용암 흐름 및 화재 지점을 보여줄 수 있음을 알 수 있을 것입니다. 이것이 흥미롭게 들린다면 계속 읽어보세요!</p>
<h2>🔍 센티넬-2 (분광대 업무)</h2>
<p>센티넬-2 미션은 유럽 우주국 (ESA)가 Copernicus 프로그램의 일환으로 개발한 쌍둥이 위성인 센티넬-2A와 센티넬-2B로 구성되어 있습니다. 센티넬-2 위성에는 데이터를 캡처하는 다중 스펙트럼 장비가 있습니다. 각 밴드는 특정 파장 범위를 갖고 있어 다양한 지구 관측 응용프로그램을 지원합니다. 이 게시물에서는 가시 지역의 밴드와 적외선 영역의 세 개의 밴드를 사용할 것입니다. 여기에는 이러한 밴드 목록이 있습니다:
Band 2 (Blue): 496.6 nm
Band 3 (Green): 560.0 nm
Band 4 (Red): 664.5 nm
Band 8 (NIR - 근적외선): 835.1 nm
Band 11 (SWIR1- 단파 적외선): 1613.7 nm
Band 12 (SWIR2- 단파 적외선): 2202.4 nm</p>
<p>Band 2 (Blue), 3 (Green), 4 (Red), 및 8 (NIR)의 공간 해상도는 10 미터이며, Band 11 및 12 (단파 적외선)은 20 미터입니다. 이는 화산 및 산불을 시각화하는 데 충분합니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>🌐 센티넬-2 이미지 다운로드</h2>
<p>이미 Python 및 R에서 센티넬-2 이미지를 다운로드하는 두 가지 튜토리얼을 작성했어요. 회원가입하는 방법, 자격 증명을 설정하고 이미지를 다운로드하는 방법을 알고 싶다면, 다음 게시물들을 참조하세요. 이번 게시물에서 이미지 다운로드를 위한 코드의 필요한 수정 사항을 설명했습니다:</p>
<p>해당 스크립트를 바탕으로 관심 영역의 좌표, 이미지 날짜, 그리고 화산 및 산불을 위한 파란색, 녹색, 빨간색, 근적외선 및 단파대역을 다운로드해야 합니다.</p>
<p>각 사례에 필요한 정보는 다음과 같아요:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>아이슬란드 화산:</h2>
<pre><code class="hljs language-js">위성 = <span class="hljs-string">"SENTINEL-2"</span>
레벨 = <span class="hljs-string">"S2MSI1C"</span>

관심지점 = <span class="hljs-string">"POINT(-22.411503 63.892295)"</span>

시작일 = <span class="hljs-string">"2024-02-07"</span>
종료일 = <span class="hljs-string">"2024-02-10"</span>
</code></pre>
<h2>크리크 산불:</h2>
<pre><code class="hljs language-js">위성 = <span class="hljs-string">"SENTINEL-2"</span>
레벨 = <span class="hljs-string">"S2MSI1C"</span>

관심지점 = <span class="hljs-string">"POINT(-119.26 37.1914)"</span>

시작일 = <span class="hljs-string">"2020-09-07"</span>
종료일 = <span class="hljs-string">"2020-09-10"</span>
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이슬란드 화산:</p>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_1.png" alt="이슬란드 화산"></p>
<p>화산 분화는 현지 시간으로 2월 8일 목요일 오전 5시 30분에 발생했으며, 화면 캡처에 표시된 바와 같이 분화 후 정확히 7시간 후인 2월 8일 13:03 UTC(현지 시간 12시 30분)에 촬영된 이미지가 하나만 가능합니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>크릭 파이어:</h2>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_2.png" alt="크릭 파이어"></p>
<p>크릭 파이어는 9월 4일에 발생했으며 12월 24일에 소멸되었습니다. 목록의 두 이미지 모두 8일에 촬영되었습니다 (산불 발생 후 4일이 지난 후), 그러나 두 번째 이미지의 컨텐츠 길이는 0입니다. 따라서, 이 게시물에서는 첫 번째 이미지 (S2A_MSIL1C_20200908T183921_N0500_R070_T11SKB_20230309T124945)를 사용하겠습니다.</p>
<p>두 블로그 게시물에서 Sentinel-2 이미지를 다운로드하는 코드를 실행하기 전에 시각 영역 (파랑, 초록, 빨강)에서 세 개의 밴드와 적외선 영역 (근적외선 및 단파적 외선 밴드)에서 세 개의 밴드를 포함해야 합니다. 다음 라인은 이러한 밴드에 해당됩니다:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python"><span class="hljs-string">f"<span class="hljs-subst">{product_name}</span>/<span class="hljs-subst">{root[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>].text}</span>.jp2"</span> <span class="hljs-comment"># Blue</span>
<span class="hljs-string">f"<span class="hljs-subst">{product_name}</span>/<span class="hljs-subst">{root[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>].text}</span>.jp2"</span> <span class="hljs-comment"># Green</span>
<span class="hljs-string">f"<span class="hljs-subst">{product_name}</span>/<span class="hljs-subst">{root[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>].text}</span>.jp2"</span> <span class="hljs-comment"># Red</span>
<span class="hljs-string">f"<span class="hljs-subst">{product_name}</span>/<span class="hljs-subst">{root[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>].text}</span>.jp2"</span> <span class="hljs-comment"># Near-infrared</span>
<span class="hljs-string">f"<span class="hljs-subst">{product_name}</span>/<span class="hljs-subst">{root[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>].text}</span>.jp2"</span> <span class="hljs-comment"># Shortwave infrared-1</span>
<span class="hljs-string">f"<span class="hljs-subst">{product_name}</span>/<span class="hljs-subst">{root[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][<span class="hljs-number">12</span>].text}</span>.jp2"</span> <span class="hljs-comment"># Shortwave infrared-2</span>
</code></pre>
<p>위 단계를 올바르게 따라왔다면, 각 예제당 아래 파일들이 디렉토리에 저장되어 있어야 합니다:</p>
<h2>아이슬란드 화산:</h2>
<img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_3.png">
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>Creek Fire:</h2>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_4.png" alt="Creek Fire Image"></p>
<p>⚙️ Processing Sentinel-2 Images (Clipping and Downscaling)</p>
<p>After downloading those images, we need to clip each band for the area of interest (AOI) around the volcano and the wildfire. Since we have the coordinates for each incident, we can create a buffer polygon (3 km for the volcano and 10 km for the wildfire) using this function:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> math

def <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, distance, bearing):
    # 지구 반지름 (킬로미터)
    earth_radius = <span class="hljs-number">6371.0</span>

    # 좌표를 라디안으로 변환
    center_lat_rad = math.<span class="hljs-title function_">radians</span>(center_lat)
    center_lon_rad = math.<span class="hljs-title function_">radians</span>(center_lon)

    # 새로운 위도 계산
    new_lat_rad = math.<span class="hljs-title function_">asin</span>(math.<span class="hljs-title function_">sin</span>(center_lat_rad) * math.<span class="hljs-title function_">cos</span>(distance / earth_radius) +
                            math.<span class="hljs-title function_">cos</span>(center_lat_rad) * math.<span class="hljs-title function_">sin</span>(distance / earth_radius) * math.<span class="hljs-title function_">cos</span>(bearing))

    # 새로운 경도 계산
    new_lon_rad = center_lon_rad + math.<span class="hljs-title function_">atan2</span>(math.<span class="hljs-title function_">sin</span>(bearing) * math.<span class="hljs-title function_">sin</span>(distance / earth_radius) * math.<span class="hljs-title function_">cos</span>(center_lat_rad),
                                              math.<span class="hljs-title function_">cos</span>(distance / earth_radius) - math.<span class="hljs-title function_">sin</span>(center_lat_rad) * math.<span class="hljs-title function_">sin</span>(new_lat_rad))

    # 다시 도 단위로 변환
    new_lat = math.<span class="hljs-title function_">degrees</span>(new_lat_rad)
    new_lon = math.<span class="hljs-title function_">degrees</span>(new_lon_rad)

    <span class="hljs-keyword">return</span> new_lon, new_lat 
</code></pre>
<h2>아이슬란드 화산(AOI)을 위해 위의 함수 사용하기:</h2>
<pre><code class="hljs language-js"># 중심 좌표
center_lat = <span class="hljs-number">63.892295</span>
center_lon = -<span class="hljs-number">22.411503</span>

# 버퍼 거리 (킬로미터)
buffer_distance = <span class="hljs-number">3</span>

# 네 모퉁이의 좌표 계산
north_lon, north_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, <span class="hljs-number">0</span>)
south_lon, south_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, math.<span class="hljs-property">pi</span>)
east_lon, east_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, math.<span class="hljs-property">pi</span> / <span class="hljs-number">2</span>)
west_lon, west_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, -math.<span class="hljs-property">pi</span> / <span class="hljs-number">2</span>)

# 원하는 형식으로 좌표 출력
<span class="hljs-title function_">print</span>(f<span class="hljs-string">"({west_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {north_lat:.4f})"</span>)
</code></pre>
<pre><code class="hljs language-js"># 출력:
(-<span class="hljs-number">22.4728</span> <span class="hljs-number">63.9193</span>, -<span class="hljs-number">22.3502</span> <span class="hljs-number">63.9193</span>, -<span class="hljs-number">22.3502</span> <span class="hljs-number">63.8653</span>, -<span class="hljs-number">22.4728</span> <span class="hljs-number">63.8653</span>, -<span class="hljs-number">22.4728</span> <span class="hljs-number">63.9193</span>)
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>Creek Fire (AOI)에 대한 위의 함수를 사용하십시오:</h2>
<pre><code class="hljs language-js"># 중심 좌표
center_lat = <span class="hljs-number">37.19147</span>
center_lon = -<span class="hljs-number">119.261175</span>

# 킬로미터 단위의 버퍼 거리
buffer_distance = <span class="hljs-number">10</span>

# 네 꼭지점의 좌표 계산
north_lon, north_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, <span class="hljs-number">0</span>)
south_lon, south_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, math.<span class="hljs-property">pi</span>)
east_lon, east_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, math.<span class="hljs-property">pi</span> / <span class="hljs-number">2</span>)
west_lon, west_lat = <span class="hljs-title function_">calculate_new_coordinates</span>(center_lat, center_lon, buffer_distance, -math.<span class="hljs-property">pi</span> / <span class="hljs-number">2</span>)

# 원하는 형식으로 좌표 출력
<span class="hljs-title function_">print</span>(f<span class="hljs-string">"({west_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {north_lat:.4f})"</span>)
</code></pre>
<pre><code class="hljs language-js"># 결과:
(-<span class="hljs-number">119.3741</span> <span class="hljs-number">37.2814</span>, -<span class="hljs-number">119.1483</span> <span class="hljs-number">37.2814</span>, -<span class="hljs-number">119.1483</span> <span class="hljs-number">37.1015</span>, -<span class="hljs-number">119.3741</span> <span class="hljs-number">37.1015</span>, -<span class="hljs-number">119.3741</span> <span class="hljs-number">37.2814</span>)
</code></pre>
<p>그런 다음 jp2 파일을 클리핑하기 위해 "aoi_polygon_wkt"에 이러한 좌표를 사용할 수 있습니다. 이는 본 게시물의 "AOI에 스택 형식으로 변환하고 클리핑하기" 섹션에서 설명한 대로입니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"># <span class="hljs-title class_">Volcano</span>: 다각형 <span class="hljs-variable constant_">WKT</span>
aoi_polygon_wkt = <span class="hljs-string">"POLYGON ((-22.4728 63.9193, -22.3502 63.9193, -22.3502 63.8653, -22.4728 63.8653, -22.4728 63.9193))"</span>

# <span class="hljs-title class_">Wildfire</span>: 다각형 <span class="hljs-variable constant_">WKT</span>
aoi_polygon_wkt = <span class="hljs-string">"POLYGON ((-119.3741 37.2814, -119.1483 37.2814, -119.1483 37.1015, -119.3741 37.1015, -119.3741 37.2814))"</span>
</code></pre>
<p>이 다각형들을 사용하여 JP2 파일을 AOI에 맞게 자를 수 있습니다. 그러나 시각화 부분에서 이 레이어를 쌓기 전에, 다른 밴드들 (파랑, 녹색, 빨강 및 근적외선)의 크기와 호환되도록 단파적적 적외선 밴드를 20m에서 10m로 축소해야 합니다. 이를 수행하는 함수는 다음과 같습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> rasterio
<span class="hljs-keyword">from</span> scipy.<span class="hljs-property">ndimage</span> <span class="hljs-keyword">import</span> zoom

def <span class="hljs-title function_">downscale_raster</span>(input_path, output_path, scale_factor):
    <span class="hljs-keyword">with</span> rasterio.<span class="hljs-title function_">open</span>(input_path) <span class="hljs-keyword">as</span> <span class="hljs-attr">src</span>:
        # 데이터 읽기
        data = src.<span class="hljs-title function_">read</span>(<span class="hljs-number">1</span>)

        # 새로운 치수 계산
        new_height = <span class="hljs-title function_">int</span>(src.<span class="hljs-property">height</span> / scale_factor)
        new_width = <span class="hljs-title function_">int</span>(src.<span class="hljs-property">width</span> / scale_factor)

        # 리샘플링을 위해 scipy의 zoom 함수 사용
        resampled_data = <span class="hljs-title function_">zoom</span>(data, <span class="hljs-number">1</span>/scale_factor, order=<span class="hljs-number">3</span>)

        # 새 래스터의 메타데이터 업데이트
        transform = src.<span class="hljs-property">transform</span> * src.<span class="hljs-property">transform</span>.<span class="hljs-title function_">scale</span>(
            (src.<span class="hljs-property">width</span> / resampled_data.<span class="hljs-property">shape</span>[<span class="hljs-number">1</span>]),
            (src.<span class="hljs-property">height</span> / resampled_data.<span class="hljs-property">shape</span>[<span class="hljs-number">0</span>])
        )

        new_profile = src.<span class="hljs-property">profile</span>
        new_profile.<span class="hljs-title function_">update</span>({
            <span class="hljs-string">'driver'</span>: <span class="hljs-string">'JP2OpenJPEG'</span>,
            <span class="hljs-string">'height'</span>: new_height,
            <span class="hljs-string">'width'</span>: new_width,
            <span class="hljs-string">'transform'</span>: transform
        })

        # 새 파일에 리샘플된 래스터 작성
        <span class="hljs-keyword">with</span> rasterio.<span class="hljs-title function_">open</span>(output_path, <span class="hljs-string">'w'</span>, **new_profile) <span class="hljs-keyword">as</span> <span class="hljs-attr">dst</span>:
            dst.<span class="hljs-title function_">write</span>(resampled_data, <span class="hljs-number">1</span>)
</code></pre>
<p>그런 다음, 각 사용 사례에 대해 20m에서 10m로 단파 밴드를 축소하는 데 이 함수를 적용할 수 있습니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>아이슬란드 화산에 대한 위 함수 사용:</h2>
<pre><code class="hljs language-js"># 사용법
input_band_path_B11 = <span class="hljs-string">"/content/T27VVL_20240208T130311_B11.jp2"</span>
output_band_path_B11 = <span class="hljs-string">"/content/T27VVL_20240208T130311_B11_resampled.jp2"</span>

input_band_path_B12 = <span class="hljs-string">"/content/T27VVL_20240208T130311_B12.jp2"</span>
output_band_path_B12 = <span class="hljs-string">"/content/T27VVL_20240208T130311_B12_resampled.jp2"</span>

scale_factor = <span class="hljs-number">1</span>/<span class="hljs-number">2</span>  # 20m to 10m

<span class="hljs-title function_">downscale_raster</span>(input_band_path_B11, output_band_path_B11, scale_factor)
<span class="hljs-title function_">downscale_raster</span>(input_band_path_B12, output_band_path_B12, scale_factor)
</code></pre>
<h2>크릭 파이어에 대한 위 함수 사용:</h2>
<pre><code class="hljs language-js"># 사용법
input_band_path_B11 = <span class="hljs-string">"/content/T11SKB_20200908T183921_B11.jp2"</span>
output_band_path_B11 = <span class="hljs-string">"/content/T11SKB_20200908T183921_B11_resampled.jp2"</span>

input_band_path_B12 = <span class="hljs-string">"/content/T11SKB_20200908T183921_B12.jp2"</span>
output_band_path_B12 = <span class="hljs-string">"/content/T11SKB_20200908T183921_B12_resampled.jp2"</span>

scale_factor = <span class="hljs-number">1</span>/<span class="hljs-number">2</span>  # 20m to 10m

<span class="hljs-title function_">downscale_raster</span>(input_band_path_B11, output_band_path_B11, scale_factor)
<span class="hljs-title function_">downscale_raster</span>(input_band_path_B12, output_band_path_B12, scale_factor)
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 단계를 마치면 디렉토리에 두 개의 파일이 더 생겼어요:</p>
<h2>Iceland Volcano:</h2>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_5.png" alt="Iceland Volcano"></p>
<h2>Creek Fire:</h2>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_6.png">
<p>같은 차원의 모든 밴드를 가지고 있으므로 이제 이 게시물의 "스택, Geotiff로 변환한 다음 AOI( TOA)에 자르기" 섹션을 기반으로 스택 파일을 생성할 수 있습니다.</p>
<h2>🌋 센티넬-2 이미지 시각화 (화산)</h2>
<p>이제 화산 사건을 위한 하나의 스택 파일과 산불 사건을 위한 다른 하나의 스택 파일이 있다면, 각각을 다른 밴드 조합을 사용하여 플로팅할 수 있습니다. 구체적으로, 우리는 세 가지 플롯을 만들 것입니다. 하나는 오직 가시적인 밴드(빨강, 초록, 파랑)을 기반으로 하고, 다른 하나는 가시적 및 근적외선 밴드(초록, 빨강, 그리고 근적외선)의 결합을 기반으로 하며, 세 번째는 적외선 영역에만 초점을 맞춘 것입니다(근적외선 및 단파 밴드) 데이터를 적외선 영역의 데이터를 생략한다면 어떤 정보를 놓칠 수 있는지 이해하기 위함입니다. 아래에 표시된 플롯과 비슷한 플롯을 생성하려면 이 게시물의 "TOA 및 표면 반사 이미지의 실제 색상 플로팅" 섹션을 참조하실 수 있습니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>아이슬란드 화산:</h2>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_7.png" alt="아이슬란드 화산"></p>
<p>이 그림은 시각적 영역에서 기록된 것으로, 화산 주변에 용암이 퍼져 있음을 볼 수 있습니다 (검은 픽셀), 화산의 연기 기둥, 그리고 몇 가지 매우 작은 빨간색 영역은 활성 용암을 보여줍니다. 앞에서 언급한 대로, 시각 대역에서 빛은 쉽게 산란되어, 우리는 이 이미지에서 연기 기둥을 흰색 픽셀로 볼 수 있습니다. 시각 대역에서 빛의 산란은 물체를 가리는데, 연기 아래에 있는 활성 용암을 관측하기 어렵게 만듭니다. 스크립트의 밝기를 제어하는 이득 매개변수를 조정해도 (스크립트의 이득 매개변수), 서쪽으로 흐르는 용암 흐름만 볼 수 있습니다:</p>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_8.png" alt="활성 용암을 볼 수 있나요?"></p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>가시 스펙트럼에서 조정된 이득 매개 변수로 인해 화산재가 서쪽으로 이동하는 것을 더 명확하게 볼 수 있습니다. 하지만 여전히 연기 구름 아래에서 무슨 일이 일어나고 있는지는 모릅니다. 이번에는 근적외선 정보를 추가하여 이미지를 다시 그려보겠습니다.</p>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_9.png" alt="image"></p>
<p>이것을 통해 해당 시간에 두 개의 활동적인 용암 흐름이 있었음을 알 수 있습니다. 하나는 서쪽으로 향하는 것으로서 가시 스펙트럼에서 어느 정도 감지할 수 있었으며, 다른 하나는 남쪽으로 이동하고 있었는데 이는 근적외선 빛을 통해 확인되었습니다. 남쪽으로 향하는 흐름은 그리인다비크 근처에 있었는데, 해당 지역은 이전 11월의 분출 이후 대피된 지역입니다.</p>
<p>소개에서 언급했지만, 이에 대한 주요 이유는 적외선 빛이 가시 파장 대비 더 긴 파장을 가지고 있다는 것입니다. 이것은 가시 파장과 달리 미립자와 같은 미립현을 통과하여 흩어지지 않고 밀집된 가스와 연기를 통과할 수 있게 합니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>앞으로 나아가서 이미지를 다시 그려봅시다. 이번에는 단파적 초적외선 및 근적외선 대역만 사용하겠습니다:</p>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_10.png" alt="image"></p>
<p>단파적 초적외선을 추가함으로써 이미지에 또 다른 정보가 더해졌음을 확인할 수 있습니다. 화산재를 나타내는 더 밝은 픽셀에 더해, 첫 번째와 두 번째 이미지의 검은 용암이 이제 두 영역으로 분리되었음을 보실 수 있습니다: 붉은색과 검은색. 붉은 영역은 새롭게 화재가 발생한 지역을 나타내며, 단파적 대역에서 더 많이 반사되는 온한 용암을 포함하고 있을 가능성이 높습니다. 나머지 부분은 활동이 없는 용암을 보여줍니다.</p>
<h2>🔥 Sentinel-2 이미지 시각화 (산불)</h2>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이전 섹션과 유사하게, 화재를 위한 센티넬-2 이미지를 플로팅할 것인데요. 이를 위해 가시 파장대 (적색, 청색, 녹색), 가시 및 근적외선 파장대 (녹색, 적색, 근적외선), 그리고 적외선 파장대(단파 및 근적외선)을 결합하여 사용할 거에요. 우선 가시 영역부터 시작해보죠:</p>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_11.png" alt="Sentinel-2 이미지"></p>
<p>이 사진은 Creek Fire를 위한 가시 파장대를 사용해 촬영한 센티넬-2 이미지입니다. 앞서 언급한 대로 이 지역에서 빛은 쉽게 산란되기 때문에, 보이는 것은 불타는 지역으로부터 대기로 솟아 오르는 매우 밀도 높은 연기 구름뿐입니다. 그러나 화산 예시와 같이, 적외선 영역의 빛은 연기로 투과할 수 있어 가시 영역에서 보이지 않는 것을 드러낼 수 있습니다. 연기 속 상황을 평가하기 위해, 가까운 적외선과 가시 파장대를 사용해 이미지를 플로팅하여 연기 아래에서 무슨 일이 일어나고 있는지 알아봅시다:</p>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_12.png" alt="Sentinel-2 이미지"></p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>별 차이가 없네요!!</p>
<p>여기에 설명된 대로, 화산 상황과는 달리 근적외선은 가시적인 대역과 유사하게 산란되어 연기 아래에서 무슨 일이 일어나는지 밝혀내기에 유용하지 않았습니다. Sentinel-2에는 근적외선보다 파장이 긴 두 개의 단파장 적외선 대역이 있기 때문에, 이 이미지를 그 두 개의 단파장 적외선 대역과 근적외선을 사용하여 한 번 더 그려보고 시각화에서 가시 대역을 제거했습니다:</p>
<p><img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_13.png" alt="이미지"></p>
<p>인상적이지 않나요?</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>단파적 적외선 대역은 짙은 연기를 관통하여 불 타는 지역(반짝이고 황금빛 픽셀)을 굵은 연기층 아래서 보여줄 수 있었습니다. 이러한 지역을 찾는 것은 적외선 대역만으로 또는 가시적 및 근적외선 영역의 조합으로는 볼 수 없었던 것들을 고 관리 및 산불 모니터링에 중요할 수 있습니다.</p>
<p>마지막 단계로, 이들을 함께 모아서 이 템플릿을 사용하여 예시별 이미지를 옆에 놓고 그림을 그리겠습니다:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> rasterio
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.<span class="hljs-property">pyplot</span> <span class="hljs-keyword">as</span> plt

# 쌓인 이미지 플로팅
<span class="hljs-keyword">with</span> rasterio.<span class="hljs-title function_">open</span>(<span class="hljs-string">"stacked_TOA.tif"</span>) <span class="hljs-keyword">as</span> <span class="hljs-attr">src</span>:
    # 밴드 인덱스 정의
    blue_band = <span class="hljs-number">1</span>
    green_band = <span class="hljs-number">2</span>
    red_band = <span class="hljs-number">3</span>
    nir_band = <span class="hljs-number">4</span>
    swir1_band = <span class="hljs-number">5</span>
    swir2_band = <span class="hljs-number">6</span>

    # 밴드 읽기
    red = src.<span class="hljs-title function_">read</span>(red_band)
    green = src.<span class="hljs-title function_">read</span>(green_band)
    blue = src.<span class="hljs-title function_">read</span>(blue_band)
    nir = src.<span class="hljs-title function_">read</span>(nir_band)
    swir1 = src.<span class="hljs-title function_">read</span>(swir1_band)
    swir2 = src.<span class="hljs-title function_">read</span>(swir2_band)

    # 게인 적용
    gain = <span class="hljs-number">2</span>
    red_n = np.<span class="hljs-title function_">clip</span>(red * gain / <span class="hljs-number">10000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)
    green_n = np.<span class="hljs-title function_">clip</span>(green * gain / <span class="hljs-number">10000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)
    blue_n = np.<span class="hljs-title function_">clip</span>(blue * gain / <span class="hljs-number">10000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)
    nir_n = np.<span class="hljs-title function_">clip</span>(nir * gain / <span class="hljs-number">10000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)
    swir1_n = np.<span class="hljs-title function_">clip</span>(swir1 * gain / <span class="hljs-number">10000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)
    swir2_n = np.<span class="hljs-title function_">clip</span>(swir2 * gain / <span class="hljs-number">10000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)

    # 다른 컴포지트 생성
    rgb_composite = np.<span class="hljs-title function_">dstack</span>((red_n, green_n, blue_n))
    nir_composite = np.<span class="hljs-title function_">dstack</span>((nir_n, red_n, green_n))
    swir_composite = np.<span class="hljs-title function_">dstack</span>((swir2_n, swir1_n, nir_n))

    # 컴포지트 플로팅
    plt.<span class="hljs-title function_">figure</span>(figsize=(<span class="hljs-number">24</span>, <span class="hljs-number">8</span>))

    plt.<span class="hljs-title function_">subplot</span>(<span class="hljs-number">131</span>)
    plt.<span class="hljs-title function_">title</span>(<span class="hljs-string">'Red, Green and Blue'</span>, fontsize=<span class="hljs-number">18</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.<span class="hljs-title function_">imshow</span>(rgb_composite)
    plt.<span class="hljs-title function_">axis</span>(<span class="hljs-string">'off'</span>)

    plt.<span class="hljs-title function_">subplot</span>(<span class="hljs-number">132</span>)
    plt.<span class="hljs-title function_">title</span>(<span class="hljs-string">'Near-infrared, Red, Green'</span>, fontsize=<span class="hljs-number">18</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.<span class="hljs-title function_">imshow</span>(nir_composite)
    plt.<span class="hljs-title function_">axis</span>(<span class="hljs-string">'off'</span>)

    plt.<span class="hljs-title function_">subplot</span>(<span class="hljs-number">133</span>)
    plt.<span class="hljs-title function_">title</span>(<span class="hljs-string">'Infrared Bands: Shortwave and Near-infrared'</span>, fontsize=<span class="hljs-number">18</span>, fontweight=<span class="hljs-string">'bold'</span>)
    plt.<span class="hljs-title function_">imshow</span>(swir_composite)
    plt.<span class="hljs-title function_">axis</span>(<span class="hljs-string">'off'</span>)
    
    # 플롯 저장
    plt.<span class="hljs-title function_">savefig</span>(<span class="hljs-string">'composite_plot.png'</span>)

    plt.<span class="hljs-title function_">show</span>()
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_14.png">
<img src="/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_15.png">
<p>Sentinel-2 섹션에서 언급했듯이, 이 위성은 13개의 밴드를 가지고 있으며, 이 중 9개는 적외선 영역에 해당됩니다. 우리는 연기 아래 숨겨진 물체들을 드러내기 위해 적외선 영역의 세 밴드만 사용했습니다. 다른 적외선 밴드들인 레드 엣지(Band 5, 6, 7, 그리고 8A)를 사용하여 용암이나 화재가 발생한 지역의 시각화를 탐색해보세요. 그 결과에 미치는 영향을 관찰해보세요.</p>
<h2>📄 결론</h2>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이미지 비교 — 하나는 가시 영역에서 촬영되었고 다른 것들은 적외선 대역에서 촬영된 것입니다. 이 비교를 통해 다양한 전자기 스펙트럼에서 눈과 센서를 가지고 있는 능력과 중요성이 드러났습니다. 적외선 데이터의 추가적인 레이어는 RGB 이미지에서 보이지 않던 활성화된 용암 흐름과 화재 지역을 명확하게 식별하고 매핑할 수 있게 해줍니다. 가시광에 비해 적외선 대역의 우수한 침투력은 센서가 연기로 가려져있는 활성 용암과 활성 화재와 같은 물체의 존재를 감지할 수 있게 합니다. 이 능력은 이러한 사건들의 잠재적 위험을 평가하고 재난 완화를 위한 적시의 결정을 내릴 수 있는 능력을 향상시킵니다.</p>
<h2>📚 참고 자료</h2>
<p>Copernicus Sentinel 데이터 [2024]에 대한 Sentinel 데이터</p>
<p>Copernicus 서비스 정보 [2024]에 대한 Copernicus 서비스 정보</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>📱 저와 더 많은 콘텐츠를 공유하기 위해 다른 플랫폼에서 저와 연결해보세요! LinkedIn, ResearchGate, Github, 그리고 Twitter.</p>
<p>이 링크를 통해 확인할 수 있는 관련 게시물이 있습니다:</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"위성으로 보이지 않는 용암 흐름과 활활 타오르는 산불을 어떻게 포착할 수 있을까 Python 사용법","description":"","date":"2024-07-12 20:44","slug":"2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython","content":"\n\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_0.png\" /\u003e\n\n# 목차\n\n- 🌟 소개\n- 🔍 Sentinel-2 (분광대역)\n- 🌐 Sentinel-2 이미지 다운로드\n- ⚙️ Sentinel-2 이미지 처리 (클리핑 및 리샘플링)\n- 🌋 Sentinel-2 이미지 시각화 (화산)\n- 🔥 Sentinel-2 이미지 시각화 (산불)\n- 📄 결론\n- 📚 참고 자료\n\n## 🌟 소개\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n알고 계실지 모르겠지만, 우리 눈은 가시 영역(파란색, 녹색, 빨간색의 밴드)의 물체만 볼 수 있어요. 하지만 빛이 물체에 닿아 반사되면, 적외선과 같은 다른 스펙트럼 영역의 정보도 담고 있어요. 적외선 빛은 짙은 가스, 예를 들어 연기와 같은 것을 통과해 명확한 시야를 제공하죠. 하지만 우리 눈은 일부 동물들(뱀 등)과 달리 적외선 영역에 있는 물체를 보지 못해요. 지난 수십 년 동안 적외선 빛을 탐지하는 센서 개발에 상당한 진전이 있었어요. 이러한 센서들은 실용적인 응용에 활용되고 있어요.\n\n나는 항상 위성이 가시 영역에서는 볼 수 없는 적외선 영역에서 중요한 정보를 감지할 수 있는 좋은 예시를 찾고 있었어요. 지난 주에는 2023년 12월 이후 세 번째로 활동을 시작한 아이슬란드 화산에 대해 읽었어요. 그것은 나에게 위성이 촬영한 화산의 이미지를 확인하고 싶다는 생각을 일으켰어요. 나는 운이 좋아서 화산으로부터 올라오는 연기를 보여주는 선명한 위성 이미지를 발견할 수 있다면 좋겠다고 바랬어요. 그것은 가시 영역에서 빛이 흩어지는 것과 적외선 영역에서 연기를 통과해 용암 흐름을 드러내는 모습을 보여줄 수 있는 완벽한 예시가 될 것 같았죠.\n\n내가 확인한 여러 위성 중 하나가 완벽한 타이밍으로 있었어요! 화산은 2월 8일 목요일 아침에 폭발했고, Sentinel-2가 2월 8일 정오쯤에 지나갔어요. 나는 이것이 위성 이미지가 가시 영역에선 흐리더라도 적외선 영역의 센서로 장착된 위성 이미지가 우리에게 화산을 모니터링하고 화산재를 탐지하는 데 어떻게 도움이 되는지 보여주는 완벽한 예시가 될 수 있다고 생각했어요.\n\n매우 짙은 연기가 있는 상황에서 적외선 밴드의 응용을 탐구하려고, 나는 캘리포니아에서 발생한 2020년 최대 화재 중 하나를 캡처한 또 다른 Sentinel-2 이미지를 시각화하기로 결정했어요.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 이야기에서는 아이슬란드 레이키아네스 반도의 화산과 2020년 캘리포니아의 크릭 파이어를 위해 캡처된 두 개의 센티넬-2 이미지를 다운로드할 것입니다. 우리는 파이썬을 사용하여 이 두 이미지를 시각화하기 위해 시각적 및 적외선 지역의 다른 밴드 조합을 사용할 것입니다. 적외선 정보가 활동 중인 용암 흐름 및 화재 지점을 보여줄 수 있음을 알 수 있을 것입니다. 이것이 흥미롭게 들린다면 계속 읽어보세요!\n\n## 🔍 센티넬-2 (분광대 업무)\n\n센티넬-2 미션은 유럽 우주국 (ESA)가 Copernicus 프로그램의 일환으로 개발한 쌍둥이 위성인 센티넬-2A와 센티넬-2B로 구성되어 있습니다. 센티넬-2 위성에는 데이터를 캡처하는 다중 스펙트럼 장비가 있습니다. 각 밴드는 특정 파장 범위를 갖고 있어 다양한 지구 관측 응용프로그램을 지원합니다. 이 게시물에서는 가시 지역의 밴드와 적외선 영역의 세 개의 밴드를 사용할 것입니다. 여기에는 이러한 밴드 목록이 있습니다:\nBand 2 (Blue): 496.6 nm\nBand 3 (Green): 560.0 nm\nBand 4 (Red): 664.5 nm\nBand 8 (NIR - 근적외선): 835.1 nm\nBand 11 (SWIR1- 단파 적외선): 1613.7 nm\nBand 12 (SWIR2- 단파 적외선): 2202.4 nm\n\nBand 2 (Blue), 3 (Green), 4 (Red), 및 8 (NIR)의 공간 해상도는 10 미터이며, Band 11 및 12 (단파 적외선)은 20 미터입니다. 이는 화산 및 산불을 시각화하는 데 충분합니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 🌐 센티넬-2 이미지 다운로드\n\n이미 Python 및 R에서 센티넬-2 이미지를 다운로드하는 두 가지 튜토리얼을 작성했어요. 회원가입하는 방법, 자격 증명을 설정하고 이미지를 다운로드하는 방법을 알고 싶다면, 다음 게시물들을 참조하세요. 이번 게시물에서 이미지 다운로드를 위한 코드의 필요한 수정 사항을 설명했습니다:\n\n해당 스크립트를 바탕으로 관심 영역의 좌표, 이미지 날짜, 그리고 화산 및 산불을 위한 파란색, 녹색, 빨간색, 근적외선 및 단파대역을 다운로드해야 합니다.\n\n각 사례에 필요한 정보는 다음과 같아요:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 아이슬란드 화산:\n\n```js\n위성 = \"SENTINEL-2\"\n레벨 = \"S2MSI1C\"\n\n관심지점 = \"POINT(-22.411503 63.892295)\"\n\n시작일 = \"2024-02-07\"\n종료일 = \"2024-02-10\"\n```\n## 크리크 산불:\n\n```js\n위성 = \"SENTINEL-2\"\n레벨 = \"S2MSI1C\"\n\n관심지점 = \"POINT(-119.26 37.1914)\"\n\n시작일 = \"2020-09-07\"\n종료일 = \"2020-09-10\"\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이슬란드 화산:\n\n![이슬란드 화산](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_1.png)\n\n화산 분화는 현지 시간으로 2월 8일 목요일 오전 5시 30분에 발생했으며, 화면 캡처에 표시된 바와 같이 분화 후 정확히 7시간 후인 2월 8일 13:03 UTC(현지 시간 12시 30분)에 촬영된 이미지가 하나만 가능합니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 크릭 파이어:\n\n![크릭 파이어](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_2.png)\n\n크릭 파이어는 9월 4일에 발생했으며 12월 24일에 소멸되었습니다. 목록의 두 이미지 모두 8일에 촬영되었습니다 (산불 발생 후 4일이 지난 후), 그러나 두 번째 이미지의 컨텐츠 길이는 0입니다. 따라서, 이 게시물에서는 첫 번째 이미지 (S2A_MSIL1C_20200908T183921_N0500_R070_T11SKB_20230309T124945)를 사용하겠습니다.\n\n두 블로그 게시물에서 Sentinel-2 이미지를 다운로드하는 코드를 실행하기 전에 시각 영역 (파랑, 초록, 빨강)에서 세 개의 밴드와 적외선 영역 (근적외선 및 단파적 외선 밴드)에서 세 개의 밴드를 포함해야 합니다. 다음 라인은 이러한 밴드에 해당됩니다:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\nf\"{product_name}/{root[0][0][12][0][0][12].text}.jp2\" # Blue\nf\"{product_name}/{root[0][0][12][0][0][12].text}.jp2\" # Green\nf\"{product_name}/{root[0][0][12][0][0][12].text}.jp2\" # Red\nf\"{product_name}/{root[0][0][12][0][0][12].text}.jp2\" # Near-infrared\nf\"{product_name}/{root[0][0][12][0][0][12].text}.jp2\" # Shortwave infrared-1\nf\"{product_name}/{root[0][0][12][0][0][12].text}.jp2\" # Shortwave infrared-2\n```\n\n위 단계를 올바르게 따라왔다면, 각 예제당 아래 파일들이 디렉토리에 저장되어 있어야 합니다:\n\n## 아이슬란드 화산:\n\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_3.png\" /\u003e\n\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## Creek Fire:\n\n![Creek Fire Image](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_4.png)\n\n⚙️ Processing Sentinel-2 Images (Clipping and Downscaling)\n\nAfter downloading those images, we need to clip each band for the area of interest (AOI) around the volcano and the wildfire. Since we have the coordinates for each incident, we can create a buffer polygon (3 km for the volcano and 10 km for the wildfire) using this function:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nimport math\n\ndef calculate_new_coordinates(center_lat, center_lon, distance, bearing):\n    # 지구 반지름 (킬로미터)\n    earth_radius = 6371.0\n\n    # 좌표를 라디안으로 변환\n    center_lat_rad = math.radians(center_lat)\n    center_lon_rad = math.radians(center_lon)\n\n    # 새로운 위도 계산\n    new_lat_rad = math.asin(math.sin(center_lat_rad) * math.cos(distance / earth_radius) +\n                            math.cos(center_lat_rad) * math.sin(distance / earth_radius) * math.cos(bearing))\n\n    # 새로운 경도 계산\n    new_lon_rad = center_lon_rad + math.atan2(math.sin(bearing) * math.sin(distance / earth_radius) * math.cos(center_lat_rad),\n                                              math.cos(distance / earth_radius) - math.sin(center_lat_rad) * math.sin(new_lat_rad))\n\n    # 다시 도 단위로 변환\n    new_lat = math.degrees(new_lat_rad)\n    new_lon = math.degrees(new_lon_rad)\n\n    return new_lon, new_lat \n```\n\n## 아이슬란드 화산(AOI)을 위해 위의 함수 사용하기:\n\n```js\n# 중심 좌표\ncenter_lat = 63.892295\ncenter_lon = -22.411503\n\n# 버퍼 거리 (킬로미터)\nbuffer_distance = 3\n\n# 네 모퉁이의 좌표 계산\nnorth_lon, north_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, 0)\nsouth_lon, south_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, math.pi)\neast_lon, east_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, math.pi / 2)\nwest_lon, west_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, -math.pi / 2)\n\n# 원하는 형식으로 좌표 출력\nprint(f\"({west_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {north_lat:.4f})\")\n```\n\n```js\n# 출력:\n(-22.4728 63.9193, -22.3502 63.9193, -22.3502 63.8653, -22.4728 63.8653, -22.4728 63.9193)\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## Creek Fire (AOI)에 대한 위의 함수를 사용하십시오:\n\n```js\n# 중심 좌표\ncenter_lat = 37.19147\ncenter_lon = -119.261175\n\n# 킬로미터 단위의 버퍼 거리\nbuffer_distance = 10\n\n# 네 꼭지점의 좌표 계산\nnorth_lon, north_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, 0)\nsouth_lon, south_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, math.pi)\neast_lon, east_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, math.pi / 2)\nwest_lon, west_lat = calculate_new_coordinates(center_lat, center_lon, buffer_distance, -math.pi / 2)\n\n# 원하는 형식으로 좌표 출력\nprint(f\"({west_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {north_lat:.4f})\")\n```\n\n```js\n# 결과:\n(-119.3741 37.2814, -119.1483 37.2814, -119.1483 37.1015, -119.3741 37.1015, -119.3741 37.2814)\n```\n\n그런 다음 jp2 파일을 클리핑하기 위해 \"aoi_polygon_wkt\"에 이러한 좌표를 사용할 수 있습니다. 이는 본 게시물의 \"AOI에 스택 형식으로 변환하고 클리핑하기\" 섹션에서 설명한 대로입니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# Volcano: 다각형 WKT\naoi_polygon_wkt = \"POLYGON ((-22.4728 63.9193, -22.3502 63.9193, -22.3502 63.8653, -22.4728 63.8653, -22.4728 63.9193))\"\n\n# Wildfire: 다각형 WKT\naoi_polygon_wkt = \"POLYGON ((-119.3741 37.2814, -119.1483 37.2814, -119.1483 37.1015, -119.3741 37.1015, -119.3741 37.2814))\"\n```\n\n이 다각형들을 사용하여 JP2 파일을 AOI에 맞게 자를 수 있습니다. 그러나 시각화 부분에서 이 레이어를 쌓기 전에, 다른 밴드들 (파랑, 녹색, 빨강 및 근적외선)의 크기와 호환되도록 단파적적 적외선 밴드를 20m에서 10m로 축소해야 합니다. 이를 수행하는 함수는 다음과 같습니다:\n\n```js\nimport rasterio\nfrom scipy.ndimage import zoom\n\ndef downscale_raster(input_path, output_path, scale_factor):\n    with rasterio.open(input_path) as src:\n        # 데이터 읽기\n        data = src.read(1)\n\n        # 새로운 치수 계산\n        new_height = int(src.height / scale_factor)\n        new_width = int(src.width / scale_factor)\n\n        # 리샘플링을 위해 scipy의 zoom 함수 사용\n        resampled_data = zoom(data, 1/scale_factor, order=3)\n\n        # 새 래스터의 메타데이터 업데이트\n        transform = src.transform * src.transform.scale(\n            (src.width / resampled_data.shape[1]),\n            (src.height / resampled_data.shape[0])\n        )\n\n        new_profile = src.profile\n        new_profile.update({\n            'driver': 'JP2OpenJPEG',\n            'height': new_height,\n            'width': new_width,\n            'transform': transform\n        })\n\n        # 새 파일에 리샘플된 래스터 작성\n        with rasterio.open(output_path, 'w', **new_profile) as dst:\n            dst.write(resampled_data, 1)\n```\n\n그런 다음, 각 사용 사례에 대해 20m에서 10m로 단파 밴드를 축소하는 데 이 함수를 적용할 수 있습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 아이슬란드 화산에 대한 위 함수 사용:\n\n```js\n# 사용법\ninput_band_path_B11 = \"/content/T27VVL_20240208T130311_B11.jp2\"\noutput_band_path_B11 = \"/content/T27VVL_20240208T130311_B11_resampled.jp2\"\n\ninput_band_path_B12 = \"/content/T27VVL_20240208T130311_B12.jp2\"\noutput_band_path_B12 = \"/content/T27VVL_20240208T130311_B12_resampled.jp2\"\n\nscale_factor = 1/2  # 20m to 10m\n\ndownscale_raster(input_band_path_B11, output_band_path_B11, scale_factor)\ndownscale_raster(input_band_path_B12, output_band_path_B12, scale_factor)\n```\n\n## 크릭 파이어에 대한 위 함수 사용:\n\n```js\n# 사용법\ninput_band_path_B11 = \"/content/T11SKB_20200908T183921_B11.jp2\"\noutput_band_path_B11 = \"/content/T11SKB_20200908T183921_B11_resampled.jp2\"\n\ninput_band_path_B12 = \"/content/T11SKB_20200908T183921_B12.jp2\"\noutput_band_path_B12 = \"/content/T11SKB_20200908T183921_B12_resampled.jp2\"\n\nscale_factor = 1/2  # 20m to 10m\n\ndownscale_raster(input_band_path_B11, output_band_path_B11, scale_factor)\ndownscale_raster(input_band_path_B12, output_band_path_B12, scale_factor)\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 단계를 마치면 디렉토리에 두 개의 파일이 더 생겼어요:\n\n## Iceland Volcano:\n\n![Iceland Volcano](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_5.png)\n\n## Creek Fire:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_6.png\" /\u003e\n\n같은 차원의 모든 밴드를 가지고 있으므로 이제 이 게시물의 \"스택, Geotiff로 변환한 다음 AOI( TOA)에 자르기\" 섹션을 기반으로 스택 파일을 생성할 수 있습니다.\n\n## 🌋 센티넬-2 이미지 시각화 (화산)\n\n이제 화산 사건을 위한 하나의 스택 파일과 산불 사건을 위한 다른 하나의 스택 파일이 있다면, 각각을 다른 밴드 조합을 사용하여 플로팅할 수 있습니다. 구체적으로, 우리는 세 가지 플롯을 만들 것입니다. 하나는 오직 가시적인 밴드(빨강, 초록, 파랑)을 기반으로 하고, 다른 하나는 가시적 및 근적외선 밴드(초록, 빨강, 그리고 근적외선)의 결합을 기반으로 하며, 세 번째는 적외선 영역에만 초점을 맞춘 것입니다(근적외선 및 단파 밴드) 데이터를 적외선 영역의 데이터를 생략한다면 어떤 정보를 놓칠 수 있는지 이해하기 위함입니다. 아래에 표시된 플롯과 비슷한 플롯을 생성하려면 이 게시물의 \"TOA 및 표면 반사 이미지의 실제 색상 플로팅\" 섹션을 참조하실 수 있습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## 아이슬란드 화산:\n\n![아이슬란드 화산](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_7.png)\n\n이 그림은 시각적 영역에서 기록된 것으로, 화산 주변에 용암이 퍼져 있음을 볼 수 있습니다 (검은 픽셀), 화산의 연기 기둥, 그리고 몇 가지 매우 작은 빨간색 영역은 활성 용암을 보여줍니다. 앞에서 언급한 대로, 시각 대역에서 빛은 쉽게 산란되어, 우리는 이 이미지에서 연기 기둥을 흰색 픽셀로 볼 수 있습니다. 시각 대역에서 빛의 산란은 물체를 가리는데, 연기 아래에 있는 활성 용암을 관측하기 어렵게 만듭니다. 스크립트의 밝기를 제어하는 이득 매개변수를 조정해도 (스크립트의 이득 매개변수), 서쪽으로 흐르는 용암 흐름만 볼 수 있습니다:\n\n![활성 용암을 볼 수 있나요?](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_8.png)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n가시 스펙트럼에서 조정된 이득 매개 변수로 인해 화산재가 서쪽으로 이동하는 것을 더 명확하게 볼 수 있습니다. 하지만 여전히 연기 구름 아래에서 무슨 일이 일어나고 있는지는 모릅니다. 이번에는 근적외선 정보를 추가하여 이미지를 다시 그려보겠습니다.\n\n![image](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_9.png)\n\n이것을 통해 해당 시간에 두 개의 활동적인 용암 흐름이 있었음을 알 수 있습니다. 하나는 서쪽으로 향하는 것으로서 가시 스펙트럼에서 어느 정도 감지할 수 있었으며, 다른 하나는 남쪽으로 이동하고 있었는데 이는 근적외선 빛을 통해 확인되었습니다. 남쪽으로 향하는 흐름은 그리인다비크 근처에 있었는데, 해당 지역은 이전 11월의 분출 이후 대피된 지역입니다.\n\n소개에서 언급했지만, 이에 대한 주요 이유는 적외선 빛이 가시 파장 대비 더 긴 파장을 가지고 있다는 것입니다. 이것은 가시 파장과 달리 미립자와 같은 미립현을 통과하여 흩어지지 않고 밀집된 가스와 연기를 통과할 수 있게 합니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n앞으로 나아가서 이미지를 다시 그려봅시다. 이번에는 단파적 초적외선 및 근적외선 대역만 사용하겠습니다:\n\n![image](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_10.png)\n\n단파적 초적외선을 추가함으로써 이미지에 또 다른 정보가 더해졌음을 확인할 수 있습니다. 화산재를 나타내는 더 밝은 픽셀에 더해, 첫 번째와 두 번째 이미지의 검은 용암이 이제 두 영역으로 분리되었음을 보실 수 있습니다: 붉은색과 검은색. 붉은 영역은 새롭게 화재가 발생한 지역을 나타내며, 단파적 대역에서 더 많이 반사되는 온한 용암을 포함하고 있을 가능성이 높습니다. 나머지 부분은 활동이 없는 용암을 보여줍니다.\n\n## 🔥 Sentinel-2 이미지 시각화 (산불)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이전 섹션과 유사하게, 화재를 위한 센티넬-2 이미지를 플로팅할 것인데요. 이를 위해 가시 파장대 (적색, 청색, 녹색), 가시 및 근적외선 파장대 (녹색, 적색, 근적외선), 그리고 적외선 파장대(단파 및 근적외선)을 결합하여 사용할 거에요. 우선 가시 영역부터 시작해보죠:\n\n![Sentinel-2 이미지](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_11.png)\n\n이 사진은 Creek Fire를 위한 가시 파장대를 사용해 촬영한 센티넬-2 이미지입니다. 앞서 언급한 대로 이 지역에서 빛은 쉽게 산란되기 때문에, 보이는 것은 불타는 지역으로부터 대기로 솟아 오르는 매우 밀도 높은 연기 구름뿐입니다. 그러나 화산 예시와 같이, 적외선 영역의 빛은 연기로 투과할 수 있어 가시 영역에서 보이지 않는 것을 드러낼 수 있습니다. 연기 속 상황을 평가하기 위해, 가까운 적외선과 가시 파장대를 사용해 이미지를 플로팅하여 연기 아래에서 무슨 일이 일어나고 있는지 알아봅시다:\n\n![Sentinel-2 이미지](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_12.png)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n별 차이가 없네요!!\n\n여기에 설명된 대로, 화산 상황과는 달리 근적외선은 가시적인 대역과 유사하게 산란되어 연기 아래에서 무슨 일이 일어나는지 밝혀내기에 유용하지 않았습니다. Sentinel-2에는 근적외선보다 파장이 긴 두 개의 단파장 적외선 대역이 있기 때문에, 이 이미지를 그 두 개의 단파장 적외선 대역과 근적외선을 사용하여 한 번 더 그려보고 시각화에서 가시 대역을 제거했습니다:\n\n![이미지](/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_13.png)\n\n인상적이지 않나요?\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n단파적 적외선 대역은 짙은 연기를 관통하여 불 타는 지역(반짝이고 황금빛 픽셀)을 굵은 연기층 아래서 보여줄 수 있었습니다. 이러한 지역을 찾는 것은 적외선 대역만으로 또는 가시적 및 근적외선 영역의 조합으로는 볼 수 없었던 것들을 고 관리 및 산불 모니터링에 중요할 수 있습니다.\n\n마지막 단계로, 이들을 함께 모아서 이 템플릿을 사용하여 예시별 이미지를 옆에 놓고 그림을 그리겠습니다:\n\n```js\nimport rasterio\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# 쌓인 이미지 플로팅\nwith rasterio.open(\"stacked_TOA.tif\") as src:\n    # 밴드 인덱스 정의\n    blue_band = 1\n    green_band = 2\n    red_band = 3\n    nir_band = 4\n    swir1_band = 5\n    swir2_band = 6\n\n    # 밴드 읽기\n    red = src.read(red_band)\n    green = src.read(green_band)\n    blue = src.read(blue_band)\n    nir = src.read(nir_band)\n    swir1 = src.read(swir1_band)\n    swir2 = src.read(swir2_band)\n\n    # 게인 적용\n    gain = 2\n    red_n = np.clip(red * gain / 10000, 0, 1)\n    green_n = np.clip(green * gain / 10000, 0, 1)\n    blue_n = np.clip(blue * gain / 10000, 0, 1)\n    nir_n = np.clip(nir * gain / 10000, 0, 1)\n    swir1_n = np.clip(swir1 * gain / 10000, 0, 1)\n    swir2_n = np.clip(swir2 * gain / 10000, 0, 1)\n\n    # 다른 컴포지트 생성\n    rgb_composite = np.dstack((red_n, green_n, blue_n))\n    nir_composite = np.dstack((nir_n, red_n, green_n))\n    swir_composite = np.dstack((swir2_n, swir1_n, nir_n))\n\n    # 컴포지트 플로팅\n    plt.figure(figsize=(24, 8))\n\n    plt.subplot(131)\n    plt.title('Red, Green and Blue', fontsize=18, fontweight='bold')\n    plt.imshow(rgb_composite)\n    plt.axis('off')\n\n    plt.subplot(132)\n    plt.title('Near-infrared, Red, Green', fontsize=18, fontweight='bold')\n    plt.imshow(nir_composite)\n    plt.axis('off')\n\n    plt.subplot(133)\n    plt.title('Infrared Bands: Shortwave and Near-infrared', fontsize=18, fontweight='bold')\n    plt.imshow(swir_composite)\n    plt.axis('off')\n    \n    # 플롯 저장\n    plt.savefig('composite_plot.png')\n\n    plt.show()\r\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_14.png\" /\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_15.png\" /\u003e\n\nSentinel-2 섹션에서 언급했듯이, 이 위성은 13개의 밴드를 가지고 있으며, 이 중 9개는 적외선 영역에 해당됩니다. 우리는 연기 아래 숨겨진 물체들을 드러내기 위해 적외선 영역의 세 밴드만 사용했습니다. 다른 적외선 밴드들인 레드 엣지(Band 5, 6, 7, 그리고 8A)를 사용하여 용암이나 화재가 발생한 지역의 시각화를 탐색해보세요. 그 결과에 미치는 영향을 관찰해보세요.\n\n## 📄 결론\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이미지 비교 — 하나는 가시 영역에서 촬영되었고 다른 것들은 적외선 대역에서 촬영된 것입니다. 이 비교를 통해 다양한 전자기 스펙트럼에서 눈과 센서를 가지고 있는 능력과 중요성이 드러났습니다. 적외선 데이터의 추가적인 레이어는 RGB 이미지에서 보이지 않던 활성화된 용암 흐름과 화재 지역을 명확하게 식별하고 매핑할 수 있게 해줍니다. 가시광에 비해 적외선 대역의 우수한 침투력은 센서가 연기로 가려져있는 활성 용암과 활성 화재와 같은 물체의 존재를 감지할 수 있게 합니다. 이 능력은 이러한 사건들의 잠재적 위험을 평가하고 재난 완화를 위한 적시의 결정을 내릴 수 있는 능력을 향상시킵니다.\n\n## 📚 참고 자료\n\nCopernicus Sentinel 데이터 [2024]에 대한 Sentinel 데이터\n\nCopernicus 서비스 정보 [2024]에 대한 Copernicus 서비스 정보\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n📱 저와 더 많은 콘텐츠를 공유하기 위해 다른 플랫폼에서 저와 연결해보세요! LinkedIn, ResearchGate, Github, 그리고 Twitter.\n\n이 링크를 통해 확인할 수 있는 관련 게시물이 있습니다:","ogImage":{"url":"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_0.png"},"coverImage":"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_0.png","tag":["Tech"],"readingTime":23},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_0.png\"\u003e\n\u003ch1\u003e목차\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e🌟 소개\u003c/li\u003e\n\u003cli\u003e🔍 Sentinel-2 (분광대역)\u003c/li\u003e\n\u003cli\u003e🌐 Sentinel-2 이미지 다운로드\u003c/li\u003e\n\u003cli\u003e⚙️ Sentinel-2 이미지 처리 (클리핑 및 리샘플링)\u003c/li\u003e\n\u003cli\u003e🌋 Sentinel-2 이미지 시각화 (화산)\u003c/li\u003e\n\u003cli\u003e🔥 Sentinel-2 이미지 시각화 (산불)\u003c/li\u003e\n\u003cli\u003e📄 결론\u003c/li\u003e\n\u003cli\u003e📚 참고 자료\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e🌟 소개\u003c/h2\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e알고 계실지 모르겠지만, 우리 눈은 가시 영역(파란색, 녹색, 빨간색의 밴드)의 물체만 볼 수 있어요. 하지만 빛이 물체에 닿아 반사되면, 적외선과 같은 다른 스펙트럼 영역의 정보도 담고 있어요. 적외선 빛은 짙은 가스, 예를 들어 연기와 같은 것을 통과해 명확한 시야를 제공하죠. 하지만 우리 눈은 일부 동물들(뱀 등)과 달리 적외선 영역에 있는 물체를 보지 못해요. 지난 수십 년 동안 적외선 빛을 탐지하는 센서 개발에 상당한 진전이 있었어요. 이러한 센서들은 실용적인 응용에 활용되고 있어요.\u003c/p\u003e\n\u003cp\u003e나는 항상 위성이 가시 영역에서는 볼 수 없는 적외선 영역에서 중요한 정보를 감지할 수 있는 좋은 예시를 찾고 있었어요. 지난 주에는 2023년 12월 이후 세 번째로 활동을 시작한 아이슬란드 화산에 대해 읽었어요. 그것은 나에게 위성이 촬영한 화산의 이미지를 확인하고 싶다는 생각을 일으켰어요. 나는 운이 좋아서 화산으로부터 올라오는 연기를 보여주는 선명한 위성 이미지를 발견할 수 있다면 좋겠다고 바랬어요. 그것은 가시 영역에서 빛이 흩어지는 것과 적외선 영역에서 연기를 통과해 용암 흐름을 드러내는 모습을 보여줄 수 있는 완벽한 예시가 될 것 같았죠.\u003c/p\u003e\n\u003cp\u003e내가 확인한 여러 위성 중 하나가 완벽한 타이밍으로 있었어요! 화산은 2월 8일 목요일 아침에 폭발했고, Sentinel-2가 2월 8일 정오쯤에 지나갔어요. 나는 이것이 위성 이미지가 가시 영역에선 흐리더라도 적외선 영역의 센서로 장착된 위성 이미지가 우리에게 화산을 모니터링하고 화산재를 탐지하는 데 어떻게 도움이 되는지 보여주는 완벽한 예시가 될 수 있다고 생각했어요.\u003c/p\u003e\n\u003cp\u003e매우 짙은 연기가 있는 상황에서 적외선 밴드의 응용을 탐구하려고, 나는 캘리포니아에서 발생한 2020년 최대 화재 중 하나를 캡처한 또 다른 Sentinel-2 이미지를 시각화하기로 결정했어요.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 이야기에서는 아이슬란드 레이키아네스 반도의 화산과 2020년 캘리포니아의 크릭 파이어를 위해 캡처된 두 개의 센티넬-2 이미지를 다운로드할 것입니다. 우리는 파이썬을 사용하여 이 두 이미지를 시각화하기 위해 시각적 및 적외선 지역의 다른 밴드 조합을 사용할 것입니다. 적외선 정보가 활동 중인 용암 흐름 및 화재 지점을 보여줄 수 있음을 알 수 있을 것입니다. 이것이 흥미롭게 들린다면 계속 읽어보세요!\u003c/p\u003e\n\u003ch2\u003e🔍 센티넬-2 (분광대 업무)\u003c/h2\u003e\n\u003cp\u003e센티넬-2 미션은 유럽 우주국 (ESA)가 Copernicus 프로그램의 일환으로 개발한 쌍둥이 위성인 센티넬-2A와 센티넬-2B로 구성되어 있습니다. 센티넬-2 위성에는 데이터를 캡처하는 다중 스펙트럼 장비가 있습니다. 각 밴드는 특정 파장 범위를 갖고 있어 다양한 지구 관측 응용프로그램을 지원합니다. 이 게시물에서는 가시 지역의 밴드와 적외선 영역의 세 개의 밴드를 사용할 것입니다. 여기에는 이러한 밴드 목록이 있습니다:\nBand 2 (Blue): 496.6 nm\nBand 3 (Green): 560.0 nm\nBand 4 (Red): 664.5 nm\nBand 8 (NIR - 근적외선): 835.1 nm\nBand 11 (SWIR1- 단파 적외선): 1613.7 nm\nBand 12 (SWIR2- 단파 적외선): 2202.4 nm\u003c/p\u003e\n\u003cp\u003eBand 2 (Blue), 3 (Green), 4 (Red), 및 8 (NIR)의 공간 해상도는 10 미터이며, Band 11 및 12 (단파 적외선)은 20 미터입니다. 이는 화산 및 산불을 시각화하는 데 충분합니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e🌐 센티넬-2 이미지 다운로드\u003c/h2\u003e\n\u003cp\u003e이미 Python 및 R에서 센티넬-2 이미지를 다운로드하는 두 가지 튜토리얼을 작성했어요. 회원가입하는 방법, 자격 증명을 설정하고 이미지를 다운로드하는 방법을 알고 싶다면, 다음 게시물들을 참조하세요. 이번 게시물에서 이미지 다운로드를 위한 코드의 필요한 수정 사항을 설명했습니다:\u003c/p\u003e\n\u003cp\u003e해당 스크립트를 바탕으로 관심 영역의 좌표, 이미지 날짜, 그리고 화산 및 산불을 위한 파란색, 녹색, 빨간색, 근적외선 및 단파대역을 다운로드해야 합니다.\u003c/p\u003e\n\u003cp\u003e각 사례에 필요한 정보는 다음과 같아요:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e아이슬란드 화산:\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e위성 = \u003cspan class=\"hljs-string\"\u003e\"SENTINEL-2\"\u003c/span\u003e\n레벨 = \u003cspan class=\"hljs-string\"\u003e\"S2MSI1C\"\u003c/span\u003e\n\n관심지점 = \u003cspan class=\"hljs-string\"\u003e\"POINT(-22.411503 63.892295)\"\u003c/span\u003e\n\n시작일 = \u003cspan class=\"hljs-string\"\u003e\"2024-02-07\"\u003c/span\u003e\n종료일 = \u003cspan class=\"hljs-string\"\u003e\"2024-02-10\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e크리크 산불:\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e위성 = \u003cspan class=\"hljs-string\"\u003e\"SENTINEL-2\"\u003c/span\u003e\n레벨 = \u003cspan class=\"hljs-string\"\u003e\"S2MSI1C\"\u003c/span\u003e\n\n관심지점 = \u003cspan class=\"hljs-string\"\u003e\"POINT(-119.26 37.1914)\"\u003c/span\u003e\n\n시작일 = \u003cspan class=\"hljs-string\"\u003e\"2020-09-07\"\u003c/span\u003e\n종료일 = \u003cspan class=\"hljs-string\"\u003e\"2020-09-10\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이슬란드 화산:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_1.png\" alt=\"이슬란드 화산\"\u003e\u003c/p\u003e\n\u003cp\u003e화산 분화는 현지 시간으로 2월 8일 목요일 오전 5시 30분에 발생했으며, 화면 캡처에 표시된 바와 같이 분화 후 정확히 7시간 후인 2월 8일 13:03 UTC(현지 시간 12시 30분)에 촬영된 이미지가 하나만 가능합니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e크릭 파이어:\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_2.png\" alt=\"크릭 파이어\"\u003e\u003c/p\u003e\n\u003cp\u003e크릭 파이어는 9월 4일에 발생했으며 12월 24일에 소멸되었습니다. 목록의 두 이미지 모두 8일에 촬영되었습니다 (산불 발생 후 4일이 지난 후), 그러나 두 번째 이미지의 컨텐츠 길이는 0입니다. 따라서, 이 게시물에서는 첫 번째 이미지 (S2A_MSIL1C_20200908T183921_N0500_R070_T11SKB_20230309T124945)를 사용하겠습니다.\u003c/p\u003e\n\u003cp\u003e두 블로그 게시물에서 Sentinel-2 이미지를 다운로드하는 코드를 실행하기 전에 시각 영역 (파랑, 초록, 빨강)에서 세 개의 밴드와 적외선 영역 (근적외선 및 단파적 외선 밴드)에서 세 개의 밴드를 포함해야 합니다. 다음 라인은 이러한 밴드에 해당됩니다:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{product_name}\u003c/span\u003e/\u003cspan class=\"hljs-subst\"\u003e{root[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e].text}\u003c/span\u003e.jp2\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Blue\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{product_name}\u003c/span\u003e/\u003cspan class=\"hljs-subst\"\u003e{root[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e].text}\u003c/span\u003e.jp2\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Green\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{product_name}\u003c/span\u003e/\u003cspan class=\"hljs-subst\"\u003e{root[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e].text}\u003c/span\u003e.jp2\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Red\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{product_name}\u003c/span\u003e/\u003cspan class=\"hljs-subst\"\u003e{root[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e].text}\u003c/span\u003e.jp2\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Near-infrared\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{product_name}\u003c/span\u003e/\u003cspan class=\"hljs-subst\"\u003e{root[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e].text}\u003c/span\u003e.jp2\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Shortwave infrared-1\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{product_name}\u003c/span\u003e/\u003cspan class=\"hljs-subst\"\u003e{root[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e][\u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e].text}\u003c/span\u003e.jp2\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Shortwave infrared-2\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위 단계를 올바르게 따라왔다면, 각 예제당 아래 파일들이 디렉토리에 저장되어 있어야 합니다:\u003c/p\u003e\n\u003ch2\u003e아이슬란드 화산:\u003c/h2\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_3.png\"\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eCreek Fire:\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_4.png\" alt=\"Creek Fire Image\"\u003e\u003c/p\u003e\n\u003cp\u003e⚙️ Processing Sentinel-2 Images (Clipping and Downscaling)\u003c/p\u003e\n\u003cp\u003eAfter downloading those images, we need to clip each band for the area of interest (AOI) around the volcano and the wildfire. Since we have the coordinates for each incident, we can create a buffer polygon (3 km for the volcano and 10 km for the wildfire) using this function:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e math\n\ndef \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, distance, bearing):\n    # 지구 반지름 (킬로미터)\n    earth_radius = \u003cspan class=\"hljs-number\"\u003e6371.0\u003c/span\u003e\n\n    # 좌표를 라디안으로 변환\n    center_lat_rad = math.\u003cspan class=\"hljs-title function_\"\u003eradians\u003c/span\u003e(center_lat)\n    center_lon_rad = math.\u003cspan class=\"hljs-title function_\"\u003eradians\u003c/span\u003e(center_lon)\n\n    # 새로운 위도 계산\n    new_lat_rad = math.\u003cspan class=\"hljs-title function_\"\u003easin\u003c/span\u003e(math.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(center_lat_rad) * math.\u003cspan class=\"hljs-title function_\"\u003ecos\u003c/span\u003e(distance / earth_radius) +\n                            math.\u003cspan class=\"hljs-title function_\"\u003ecos\u003c/span\u003e(center_lat_rad) * math.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(distance / earth_radius) * math.\u003cspan class=\"hljs-title function_\"\u003ecos\u003c/span\u003e(bearing))\n\n    # 새로운 경도 계산\n    new_lon_rad = center_lon_rad + math.\u003cspan class=\"hljs-title function_\"\u003eatan2\u003c/span\u003e(math.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(bearing) * math.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(distance / earth_radius) * math.\u003cspan class=\"hljs-title function_\"\u003ecos\u003c/span\u003e(center_lat_rad),\n                                              math.\u003cspan class=\"hljs-title function_\"\u003ecos\u003c/span\u003e(distance / earth_radius) - math.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(center_lat_rad) * math.\u003cspan class=\"hljs-title function_\"\u003esin\u003c/span\u003e(new_lat_rad))\n\n    # 다시 도 단위로 변환\n    new_lat = math.\u003cspan class=\"hljs-title function_\"\u003edegrees\u003c/span\u003e(new_lat_rad)\n    new_lon = math.\u003cspan class=\"hljs-title function_\"\u003edegrees\u003c/span\u003e(new_lon_rad)\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e new_lon, new_lat \n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e아이슬란드 화산(AOI)을 위해 위의 함수 사용하기:\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 중심 좌표\ncenter_lat = \u003cspan class=\"hljs-number\"\u003e63.892295\u003c/span\u003e\ncenter_lon = -\u003cspan class=\"hljs-number\"\u003e22.411503\u003c/span\u003e\n\n# 버퍼 거리 (킬로미터)\nbuffer_distance = \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n\n# 네 모퉁이의 좌표 계산\nnorth_lon, north_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\nsouth_lon, south_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, math.\u003cspan class=\"hljs-property\"\u003epi\u003c/span\u003e)\neast_lon, east_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, math.\u003cspan class=\"hljs-property\"\u003epi\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\nwest_lon, west_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, -math.\u003cspan class=\"hljs-property\"\u003epi\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n\n# 원하는 형식으로 좌표 출력\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(f\u003cspan class=\"hljs-string\"\u003e\"({west_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {north_lat:.4f})\"\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 출력:\n(-\u003cspan class=\"hljs-number\"\u003e22.4728\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e63.9193\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e22.3502\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e63.9193\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e22.3502\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e63.8653\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e22.4728\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e63.8653\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e22.4728\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e63.9193\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eCreek Fire (AOI)에 대한 위의 함수를 사용하십시오:\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 중심 좌표\ncenter_lat = \u003cspan class=\"hljs-number\"\u003e37.19147\u003c/span\u003e\ncenter_lon = -\u003cspan class=\"hljs-number\"\u003e119.261175\u003c/span\u003e\n\n# 킬로미터 단위의 버퍼 거리\nbuffer_distance = \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e\n\n# 네 꼭지점의 좌표 계산\nnorth_lon, north_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\nsouth_lon, south_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, math.\u003cspan class=\"hljs-property\"\u003epi\u003c/span\u003e)\neast_lon, east_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, math.\u003cspan class=\"hljs-property\"\u003epi\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\nwest_lon, west_lat = \u003cspan class=\"hljs-title function_\"\u003ecalculate_new_coordinates\u003c/span\u003e(center_lat, center_lon, buffer_distance, -math.\u003cspan class=\"hljs-property\"\u003epi\u003c/span\u003e / \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n\n# 원하는 형식으로 좌표 출력\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(f\u003cspan class=\"hljs-string\"\u003e\"({west_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {north_lat:.4f}, {east_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {south_lat:.4f}, {west_lon:.4f} {north_lat:.4f})\"\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 결과:\n(-\u003cspan class=\"hljs-number\"\u003e119.3741\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e37.2814\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e119.1483\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e37.2814\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e119.1483\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e37.1015\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e119.3741\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e37.1015\u003c/span\u003e, -\u003cspan class=\"hljs-number\"\u003e119.3741\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e37.2814\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그런 다음 jp2 파일을 클리핑하기 위해 \"aoi_polygon_wkt\"에 이러한 좌표를 사용할 수 있습니다. 이는 본 게시물의 \"AOI에 스택 형식으로 변환하고 클리핑하기\" 섹션에서 설명한 대로입니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# \u003cspan class=\"hljs-title class_\"\u003eVolcano\u003c/span\u003e: 다각형 \u003cspan class=\"hljs-variable constant_\"\u003eWKT\u003c/span\u003e\naoi_polygon_wkt = \u003cspan class=\"hljs-string\"\u003e\"POLYGON ((-22.4728 63.9193, -22.3502 63.9193, -22.3502 63.8653, -22.4728 63.8653, -22.4728 63.9193))\"\u003c/span\u003e\n\n# \u003cspan class=\"hljs-title class_\"\u003eWildfire\u003c/span\u003e: 다각형 \u003cspan class=\"hljs-variable constant_\"\u003eWKT\u003c/span\u003e\naoi_polygon_wkt = \u003cspan class=\"hljs-string\"\u003e\"POLYGON ((-119.3741 37.2814, -119.1483 37.2814, -119.1483 37.1015, -119.3741 37.1015, -119.3741 37.2814))\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 다각형들을 사용하여 JP2 파일을 AOI에 맞게 자를 수 있습니다. 그러나 시각화 부분에서 이 레이어를 쌓기 전에, 다른 밴드들 (파랑, 녹색, 빨강 및 근적외선)의 크기와 호환되도록 단파적적 적외선 밴드를 20m에서 10m로 축소해야 합니다. 이를 수행하는 함수는 다음과 같습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e rasterio\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e scipy.\u003cspan class=\"hljs-property\"\u003endimage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e zoom\n\ndef \u003cspan class=\"hljs-title function_\"\u003edownscale_raster\u003c/span\u003e(input_path, output_path, scale_factor):\n    \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e rasterio.\u003cspan class=\"hljs-title function_\"\u003eopen\u003c/span\u003e(input_path) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e:\n        # 데이터 읽기\n        data = src.\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n\n        # 새로운 치수 계산\n        new_height = \u003cspan class=\"hljs-title function_\"\u003eint\u003c/span\u003e(src.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / scale_factor)\n        new_width = \u003cspan class=\"hljs-title function_\"\u003eint\u003c/span\u003e(src.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / scale_factor)\n\n        # 리샘플링을 위해 scipy의 zoom 함수 사용\n        resampled_data = \u003cspan class=\"hljs-title function_\"\u003ezoom\u003c/span\u003e(data, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e/scale_factor, order=\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)\n\n        # 새 래스터의 메타데이터 업데이트\n        transform = src.\u003cspan class=\"hljs-property\"\u003etransform\u003c/span\u003e * src.\u003cspan class=\"hljs-property\"\u003etransform\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003escale\u003c/span\u003e(\n            (src.\u003cspan class=\"hljs-property\"\u003ewidth\u003c/span\u003e / resampled_data.\u003cspan class=\"hljs-property\"\u003eshape\u003c/span\u003e[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]),\n            (src.\u003cspan class=\"hljs-property\"\u003eheight\u003c/span\u003e / resampled_data.\u003cspan class=\"hljs-property\"\u003eshape\u003c/span\u003e[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e])\n        )\n\n        new_profile = src.\u003cspan class=\"hljs-property\"\u003eprofile\u003c/span\u003e\n        new_profile.\u003cspan class=\"hljs-title function_\"\u003eupdate\u003c/span\u003e({\n            \u003cspan class=\"hljs-string\"\u003e'driver'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'JP2OpenJPEG'\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e'height'\u003c/span\u003e: new_height,\n            \u003cspan class=\"hljs-string\"\u003e'width'\u003c/span\u003e: new_width,\n            \u003cspan class=\"hljs-string\"\u003e'transform'\u003c/span\u003e: transform\n        })\n\n        # 새 파일에 리샘플된 래스터 작성\n        \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e rasterio.\u003cspan class=\"hljs-title function_\"\u003eopen\u003c/span\u003e(output_path, \u003cspan class=\"hljs-string\"\u003e'w'\u003c/span\u003e, **new_profile) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edst\u003c/span\u003e:\n            dst.\u003cspan class=\"hljs-title function_\"\u003ewrite\u003c/span\u003e(resampled_data, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그런 다음, 각 사용 사례에 대해 20m에서 10m로 단파 밴드를 축소하는 데 이 함수를 적용할 수 있습니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e아이슬란드 화산에 대한 위 함수 사용:\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 사용법\ninput_band_path_B11 = \u003cspan class=\"hljs-string\"\u003e\"/content/T27VVL_20240208T130311_B11.jp2\"\u003c/span\u003e\noutput_band_path_B11 = \u003cspan class=\"hljs-string\"\u003e\"/content/T27VVL_20240208T130311_B11_resampled.jp2\"\u003c/span\u003e\n\ninput_band_path_B12 = \u003cspan class=\"hljs-string\"\u003e\"/content/T27VVL_20240208T130311_B12.jp2\"\u003c/span\u003e\noutput_band_path_B12 = \u003cspan class=\"hljs-string\"\u003e\"/content/T27VVL_20240208T130311_B12_resampled.jp2\"\u003c/span\u003e\n\nscale_factor = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e  # 20m to 10m\n\n\u003cspan class=\"hljs-title function_\"\u003edownscale_raster\u003c/span\u003e(input_band_path_B11, output_band_path_B11, scale_factor)\n\u003cspan class=\"hljs-title function_\"\u003edownscale_raster\u003c/span\u003e(input_band_path_B12, output_band_path_B12, scale_factor)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e크릭 파이어에 대한 위 함수 사용:\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 사용법\ninput_band_path_B11 = \u003cspan class=\"hljs-string\"\u003e\"/content/T11SKB_20200908T183921_B11.jp2\"\u003c/span\u003e\noutput_band_path_B11 = \u003cspan class=\"hljs-string\"\u003e\"/content/T11SKB_20200908T183921_B11_resampled.jp2\"\u003c/span\u003e\n\ninput_band_path_B12 = \u003cspan class=\"hljs-string\"\u003e\"/content/T11SKB_20200908T183921_B12.jp2\"\u003c/span\u003e\noutput_band_path_B12 = \u003cspan class=\"hljs-string\"\u003e\"/content/T11SKB_20200908T183921_B12_resampled.jp2\"\u003c/span\u003e\n\nscale_factor = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e/\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e  # 20m to 10m\n\n\u003cspan class=\"hljs-title function_\"\u003edownscale_raster\u003c/span\u003e(input_band_path_B11, output_band_path_B11, scale_factor)\n\u003cspan class=\"hljs-title function_\"\u003edownscale_raster\u003c/span\u003e(input_band_path_B12, output_band_path_B12, scale_factor)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 단계를 마치면 디렉토리에 두 개의 파일이 더 생겼어요:\u003c/p\u003e\n\u003ch2\u003eIceland Volcano:\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_5.png\" alt=\"Iceland Volcano\"\u003e\u003c/p\u003e\n\u003ch2\u003eCreek Fire:\u003c/h2\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_6.png\"\u003e\n\u003cp\u003e같은 차원의 모든 밴드를 가지고 있으므로 이제 이 게시물의 \"스택, Geotiff로 변환한 다음 AOI( TOA)에 자르기\" 섹션을 기반으로 스택 파일을 생성할 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e🌋 센티넬-2 이미지 시각화 (화산)\u003c/h2\u003e\n\u003cp\u003e이제 화산 사건을 위한 하나의 스택 파일과 산불 사건을 위한 다른 하나의 스택 파일이 있다면, 각각을 다른 밴드 조합을 사용하여 플로팅할 수 있습니다. 구체적으로, 우리는 세 가지 플롯을 만들 것입니다. 하나는 오직 가시적인 밴드(빨강, 초록, 파랑)을 기반으로 하고, 다른 하나는 가시적 및 근적외선 밴드(초록, 빨강, 그리고 근적외선)의 결합을 기반으로 하며, 세 번째는 적외선 영역에만 초점을 맞춘 것입니다(근적외선 및 단파 밴드) 데이터를 적외선 영역의 데이터를 생략한다면 어떤 정보를 놓칠 수 있는지 이해하기 위함입니다. 아래에 표시된 플롯과 비슷한 플롯을 생성하려면 이 게시물의 \"TOA 및 표면 반사 이미지의 실제 색상 플로팅\" 섹션을 참조하실 수 있습니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003e아이슬란드 화산:\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_7.png\" alt=\"아이슬란드 화산\"\u003e\u003c/p\u003e\n\u003cp\u003e이 그림은 시각적 영역에서 기록된 것으로, 화산 주변에 용암이 퍼져 있음을 볼 수 있습니다 (검은 픽셀), 화산의 연기 기둥, 그리고 몇 가지 매우 작은 빨간색 영역은 활성 용암을 보여줍니다. 앞에서 언급한 대로, 시각 대역에서 빛은 쉽게 산란되어, 우리는 이 이미지에서 연기 기둥을 흰색 픽셀로 볼 수 있습니다. 시각 대역에서 빛의 산란은 물체를 가리는데, 연기 아래에 있는 활성 용암을 관측하기 어렵게 만듭니다. 스크립트의 밝기를 제어하는 이득 매개변수를 조정해도 (스크립트의 이득 매개변수), 서쪽으로 흐르는 용암 흐름만 볼 수 있습니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_8.png\" alt=\"활성 용암을 볼 수 있나요?\"\u003e\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e가시 스펙트럼에서 조정된 이득 매개 변수로 인해 화산재가 서쪽으로 이동하는 것을 더 명확하게 볼 수 있습니다. 하지만 여전히 연기 구름 아래에서 무슨 일이 일어나고 있는지는 모릅니다. 이번에는 근적외선 정보를 추가하여 이미지를 다시 그려보겠습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_9.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e이것을 통해 해당 시간에 두 개의 활동적인 용암 흐름이 있었음을 알 수 있습니다. 하나는 서쪽으로 향하는 것으로서 가시 스펙트럼에서 어느 정도 감지할 수 있었으며, 다른 하나는 남쪽으로 이동하고 있었는데 이는 근적외선 빛을 통해 확인되었습니다. 남쪽으로 향하는 흐름은 그리인다비크 근처에 있었는데, 해당 지역은 이전 11월의 분출 이후 대피된 지역입니다.\u003c/p\u003e\n\u003cp\u003e소개에서 언급했지만, 이에 대한 주요 이유는 적외선 빛이 가시 파장 대비 더 긴 파장을 가지고 있다는 것입니다. 이것은 가시 파장과 달리 미립자와 같은 미립현을 통과하여 흩어지지 않고 밀집된 가스와 연기를 통과할 수 있게 합니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e앞으로 나아가서 이미지를 다시 그려봅시다. 이번에는 단파적 초적외선 및 근적외선 대역만 사용하겠습니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_10.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e단파적 초적외선을 추가함으로써 이미지에 또 다른 정보가 더해졌음을 확인할 수 있습니다. 화산재를 나타내는 더 밝은 픽셀에 더해, 첫 번째와 두 번째 이미지의 검은 용암이 이제 두 영역으로 분리되었음을 보실 수 있습니다: 붉은색과 검은색. 붉은 영역은 새롭게 화재가 발생한 지역을 나타내며, 단파적 대역에서 더 많이 반사되는 온한 용암을 포함하고 있을 가능성이 높습니다. 나머지 부분은 활동이 없는 용암을 보여줍니다.\u003c/p\u003e\n\u003ch2\u003e🔥 Sentinel-2 이미지 시각화 (산불)\u003c/h2\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이전 섹션과 유사하게, 화재를 위한 센티넬-2 이미지를 플로팅할 것인데요. 이를 위해 가시 파장대 (적색, 청색, 녹색), 가시 및 근적외선 파장대 (녹색, 적색, 근적외선), 그리고 적외선 파장대(단파 및 근적외선)을 결합하여 사용할 거에요. 우선 가시 영역부터 시작해보죠:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_11.png\" alt=\"Sentinel-2 이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e이 사진은 Creek Fire를 위한 가시 파장대를 사용해 촬영한 센티넬-2 이미지입니다. 앞서 언급한 대로 이 지역에서 빛은 쉽게 산란되기 때문에, 보이는 것은 불타는 지역으로부터 대기로 솟아 오르는 매우 밀도 높은 연기 구름뿐입니다. 그러나 화산 예시와 같이, 적외선 영역의 빛은 연기로 투과할 수 있어 가시 영역에서 보이지 않는 것을 드러낼 수 있습니다. 연기 속 상황을 평가하기 위해, 가까운 적외선과 가시 파장대를 사용해 이미지를 플로팅하여 연기 아래에서 무슨 일이 일어나고 있는지 알아봅시다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_12.png\" alt=\"Sentinel-2 이미지\"\u003e\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e별 차이가 없네요!!\u003c/p\u003e\n\u003cp\u003e여기에 설명된 대로, 화산 상황과는 달리 근적외선은 가시적인 대역과 유사하게 산란되어 연기 아래에서 무슨 일이 일어나는지 밝혀내기에 유용하지 않았습니다. Sentinel-2에는 근적외선보다 파장이 긴 두 개의 단파장 적외선 대역이 있기 때문에, 이 이미지를 그 두 개의 단파장 적외선 대역과 근적외선을 사용하여 한 번 더 그려보고 시각화에서 가시 대역을 제거했습니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_13.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e인상적이지 않나요?\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e단파적 적외선 대역은 짙은 연기를 관통하여 불 타는 지역(반짝이고 황금빛 픽셀)을 굵은 연기층 아래서 보여줄 수 있었습니다. 이러한 지역을 찾는 것은 적외선 대역만으로 또는 가시적 및 근적외선 영역의 조합으로는 볼 수 없었던 것들을 고 관리 및 산불 모니터링에 중요할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e마지막 단계로, 이들을 함께 모아서 이 템플릿을 사용하여 예시별 이미지를 옆에 놓고 그림을 그리겠습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e rasterio\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e numpy \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e np\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e matplotlib.\u003cspan class=\"hljs-property\"\u003epyplot\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e plt\n\n# 쌓인 이미지 플로팅\n\u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e rasterio.\u003cspan class=\"hljs-title function_\"\u003eopen\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"stacked_TOA.tif\"\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003esrc\u003c/span\u003e:\n    # 밴드 인덱스 정의\n    blue_band = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n    green_band = \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n    red_band = \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n    nir_band = \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\n    swir1_band = \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\n    swir2_band = \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e\n\n    # 밴드 읽기\n    red = src.\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(red_band)\n    green = src.\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(green_band)\n    blue = src.\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(blue_band)\n    nir = src.\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(nir_band)\n    swir1 = src.\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(swir1_band)\n    swir2 = src.\u003cspan class=\"hljs-title function_\"\u003eread\u003c/span\u003e(swir2_band)\n\n    # 게인 적용\n    gain = \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n    red_n = np.\u003cspan class=\"hljs-title function_\"\u003eclip\u003c/span\u003e(red * gain / \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    green_n = np.\u003cspan class=\"hljs-title function_\"\u003eclip\u003c/span\u003e(green * gain / \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    blue_n = np.\u003cspan class=\"hljs-title function_\"\u003eclip\u003c/span\u003e(blue * gain / \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    nir_n = np.\u003cspan class=\"hljs-title function_\"\u003eclip\u003c/span\u003e(nir * gain / \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    swir1_n = np.\u003cspan class=\"hljs-title function_\"\u003eclip\u003c/span\u003e(swir1 * gain / \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    swir2_n = np.\u003cspan class=\"hljs-title function_\"\u003eclip\u003c/span\u003e(swir2 * gain / \u003cspan class=\"hljs-number\"\u003e10000\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n\n    # 다른 컴포지트 생성\n    rgb_composite = np.\u003cspan class=\"hljs-title function_\"\u003edstack\u003c/span\u003e((red_n, green_n, blue_n))\n    nir_composite = np.\u003cspan class=\"hljs-title function_\"\u003edstack\u003c/span\u003e((nir_n, red_n, green_n))\n    swir_composite = np.\u003cspan class=\"hljs-title function_\"\u003edstack\u003c/span\u003e((swir2_n, swir1_n, nir_n))\n\n    # 컴포지트 플로팅\n    plt.\u003cspan class=\"hljs-title function_\"\u003efigure\u003c/span\u003e(figsize=(\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e))\n\n    plt.\u003cspan class=\"hljs-title function_\"\u003esubplot\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e131\u003c/span\u003e)\n    plt.\u003cspan class=\"hljs-title function_\"\u003etitle\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Red, Green and Blue'\u003c/span\u003e, fontsize=\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e, fontweight=\u003cspan class=\"hljs-string\"\u003e'bold'\u003c/span\u003e)\n    plt.\u003cspan class=\"hljs-title function_\"\u003eimshow\u003c/span\u003e(rgb_composite)\n    plt.\u003cspan class=\"hljs-title function_\"\u003eaxis\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'off'\u003c/span\u003e)\n\n    plt.\u003cspan class=\"hljs-title function_\"\u003esubplot\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e132\u003c/span\u003e)\n    plt.\u003cspan class=\"hljs-title function_\"\u003etitle\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Near-infrared, Red, Green'\u003c/span\u003e, fontsize=\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e, fontweight=\u003cspan class=\"hljs-string\"\u003e'bold'\u003c/span\u003e)\n    plt.\u003cspan class=\"hljs-title function_\"\u003eimshow\u003c/span\u003e(nir_composite)\n    plt.\u003cspan class=\"hljs-title function_\"\u003eaxis\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'off'\u003c/span\u003e)\n\n    plt.\u003cspan class=\"hljs-title function_\"\u003esubplot\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e133\u003c/span\u003e)\n    plt.\u003cspan class=\"hljs-title function_\"\u003etitle\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Infrared Bands: Shortwave and Near-infrared'\u003c/span\u003e, fontsize=\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e, fontweight=\u003cspan class=\"hljs-string\"\u003e'bold'\u003c/span\u003e)\n    plt.\u003cspan class=\"hljs-title function_\"\u003eimshow\u003c/span\u003e(swir_composite)\n    plt.\u003cspan class=\"hljs-title function_\"\u003eaxis\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'off'\u003c/span\u003e)\n    \n    # 플롯 저장\n    plt.\u003cspan class=\"hljs-title function_\"\u003esavefig\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'composite_plot.png'\u003c/span\u003e)\n\n    plt.\u003cspan class=\"hljs-title function_\"\u003eshow\u003c/span\u003e()\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_14.png\"\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython_15.png\"\u003e\n\u003cp\u003eSentinel-2 섹션에서 언급했듯이, 이 위성은 13개의 밴드를 가지고 있으며, 이 중 9개는 적외선 영역에 해당됩니다. 우리는 연기 아래 숨겨진 물체들을 드러내기 위해 적외선 영역의 세 밴드만 사용했습니다. 다른 적외선 밴드들인 레드 엣지(Band 5, 6, 7, 그리고 8A)를 사용하여 용암이나 화재가 발생한 지역의 시각화를 탐색해보세요. 그 결과에 미치는 영향을 관찰해보세요.\u003c/p\u003e\n\u003ch2\u003e📄 결론\u003c/h2\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이미지 비교 — 하나는 가시 영역에서 촬영되었고 다른 것들은 적외선 대역에서 촬영된 것입니다. 이 비교를 통해 다양한 전자기 스펙트럼에서 눈과 센서를 가지고 있는 능력과 중요성이 드러났습니다. 적외선 데이터의 추가적인 레이어는 RGB 이미지에서 보이지 않던 활성화된 용암 흐름과 화재 지역을 명확하게 식별하고 매핑할 수 있게 해줍니다. 가시광에 비해 적외선 대역의 우수한 침투력은 센서가 연기로 가려져있는 활성 용암과 활성 화재와 같은 물체의 존재를 감지할 수 있게 합니다. 이 능력은 이러한 사건들의 잠재적 위험을 평가하고 재난 완화를 위한 적시의 결정을 내릴 수 있는 능력을 향상시킵니다.\u003c/p\u003e\n\u003ch2\u003e📚 참고 자료\u003c/h2\u003e\n\u003cp\u003eCopernicus Sentinel 데이터 [2024]에 대한 Sentinel 데이터\u003c/p\u003e\n\u003cp\u003eCopernicus 서비스 정보 [2024]에 대한 Copernicus 서비스 정보\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e📱 저와 더 많은 콘텐츠를 공유하기 위해 다른 플랫폼에서 저와 연결해보세요! LinkedIn, ResearchGate, Github, 그리고 Twitter.\u003c/p\u003e\n\u003cp\u003e이 링크를 통해 확인할 수 있는 관련 게시물이 있습니다:\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-12-SatellitesCanSeeInvisibleLavaFlowsandActiveWildfiresButHowPython"},"buildId":"jKAIrnIuHBv4ZHjiQbX6i","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>