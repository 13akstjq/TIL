<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²• | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-09-Server-SentEventSSEinFastAPIApplications" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²• | TIL" data-gatsby-head="true"/><meta property="og:title" content="FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²• | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-09-Server-SentEventSSEinFastAPIApplications" data-gatsby-head="true"/><meta name="twitter:title" content="FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²• | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-09 09:22" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/TIL/_next/static/chunks/463-925361deb4cec4b1.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-9d7ebbd29b9e08ce.js" defer=""></script><script src="/TIL/_next/static/xwOwpfNxF5xANgUpiyc2H/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/xwOwpfNxF5xANgUpiyc2H/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 9, 2024</span><span class="posts_reading_time__f7YPP">9<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-07-09-Server-SentEventSSEinFastAPIApplications&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>ì„œë²„ ì „ì†¡ ì´ë²¤íŠ¸(Server-Sent Events, SSE)ëŠ” ì„œë²„ê°€ ì‹±ê¸€ HTTP ì—°ê²°ì„ í†µí•´ ì›¹ í´ë¼ì´ì–¸íŠ¸ì— ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•  ìˆ˜ ìˆëŠ” ì„œë²„ í‘¸ì‹œ ê¸°ìˆ ì…ë‹ˆë‹¤. ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ë˜ëŠ” ì‹¤ì‹œê°„ ë¶„ì„ê³¼ ê°™ì´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.</p>
<p><img src="/TIL/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png" alt="SSE"></p>
<h2>SSE ì†Œê°œ</h2>
<ul>
<li>SSEëŠ” ì„œë²„ê°€ ì´ˆê¸° í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì„¤ì •í•˜ìë§ˆì ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„° ì „ì†¡ì„ ì‹œì‘í•  ìˆ˜ ìˆëŠ” í‘œì¤€ì…ë‹ˆë‹¤.</li>
<li>ì›¹ì†Œì¼“ê³¼ ë‹¬ë¦¬ SSEëŠ” ì–‘ë°©í–¥ í†µì‹ ì´ ì•„ë‹Œ ë‹¨ë°©í–¥ì´ë©°, ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ê°€ íë¦…ë‹ˆë‹¤.</li>
<li>ì´ë¡œì¨ SSEëŠ” ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ë” ê°„ë‹¨í•œ ëŒ€ì•ˆì´ ë©ë‹ˆë‹¤.</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ì™œ SSEë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?</h2>
<p>SSEëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤:</p>
<ul>
<li>ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤, ì˜ˆë¥¼ ë“¤ì–´ ì‹¤ì‹œê°„ ìŠ¤í¬ì¸  ì ìˆ˜, ì£¼ì‹ ì‹œì¥ ì—…ë°ì´íŠ¸, ë˜ëŠ” ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±.</li>
<li>ì„œë²„ ëª¨ë‹ˆí„°ë§ ë° ëŒ€ì‹œë³´ë“œ: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œëŠ” SSEë¥¼ í™œìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¥¼ ê³„ì† í´ë§í•  í•„ìš” ì—†ì´ ë©”íŠ¸ë¦­ ë° ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ì•Œë¦¼: ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ì•Œë¦¼ì„ SSEë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì„œ, í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì§€ì†ì ìœ¼ë¡œ í´ë§í•  í•„ìš”ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤.</li>
<li>ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì„¸íŠ¸ë‚˜ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ê²ƒì„ SSEë¡œ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<h1>FastAPIì—ì„œ SSE êµ¬í˜„í•˜ê¸°</h1>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>FastAPIì€ ì†ë„ì™€ ì‚¬ìš© í¸ì˜ì„±ìœ¼ë¡œ ìœ ëª…í•˜ë©°, sse-starlette ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í†µí•©í•˜ì—¬ SSEë¥¼ êµ¬í˜„í•˜ëŠ” ë° ì˜ ì‘ë™í•©ë‹ˆë‹¤. ë‹¤ìŒì€ ì„¤ì • ë°©ë²•ì…ë‹ˆë‹¤.</p>
<h1>ì˜ˆì œ êµ¬í˜„</h1>
<h2>ë‹¨ê³„ 1: í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜</h2>
<p>ë¨¼ì €, FastAPIì™€ sse-starletteë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">pip install fastapi sse-starlette
</code></pre>
<h2>Step 2: FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±</h2>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> <span class="hljs-title class_">FastAPI</span>
<span class="hljs-keyword">from</span> sse_starlette.<span class="hljs-property">sse</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">EventSourceResponse</span>
<span class="hljs-keyword">import</span> asyncio

app = <span class="hljs-title class_">FastAPI</span>()
<span class="hljs-keyword">async</span> def <span class="hljs-title function_">event_generator</span>():
    <span class="hljs-keyword">while</span> <span class="hljs-title class_">True</span>:
        <span class="hljs-keyword">await</span> asyncio.<span class="hljs-title function_">sleep</span>(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">yield</span> {<span class="hljs-string">"data"</span>: <span class="hljs-string">"This is a server-sent event!"</span>}
@app.<span class="hljs-title function_">get</span>(<span class="hljs-string">"/events"</span>)
<span class="hljs-keyword">async</span> def <span class="hljs-title function_">sse_endpoint</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">EventSourceResponse</span>(<span class="hljs-title function_">event_generator</span>())
</code></pre>
<p>ì´ ì˜ˆì‹œì—ì„œ event_generatorëŠ” ë§¤ ì´ˆë§ˆë‹¤ ìƒˆ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë¹„ë™ê¸° ìƒì„±ìì…ë‹ˆë‹¤. sse_endpoint ì—”ë“œí¬ì¸íŠ¸ëŠ” EventSourceResponseë¥¼ ì‚¬ìš©í•˜ì—¬ SSE ì—°ê²°ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>FastAPIì—ì„œ SSE ì‚¬ìš© ì‚¬ë¡€</h2>
<ul>
<li>
<p>ëŒ€ì‹œë³´ë“œìš© ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:</p>
<ul>
<li>SSEëŠ” ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ë‚˜ ì‹¤ì‹œê°„ ë¶„ì„ ëŒ€ì‹œë³´ë“œì™€ ê°™ì€ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ì„ í‘œì‹œí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë³µì¡í•œ WebSocket ê´€ë¦¬ ì—†ì´ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.</li>
</ul>
</li>
<li>
<p>ì‹¤ì‹œê°„ ì•Œë¦¼:</p>
</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>
<p>ì‚¬ìš©ìì—ê²Œ ì´ë²¤íŠ¸ ì•Œë¦¼ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜(ë©”ì‹ ì € ì•±ì´ë‚˜ ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ê°™ì€)ì€ SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ì—…ë°ì´íŠ¸ë¥¼ ì‹ ì†í•˜ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>ìŠ¤íŠ¸ë¦¬ë° ë¡œê·¸:</p>
</li>
<li>
<p>SSEëŠ” ì‹¤ì‹œê°„ ë¡œê·¸ë‚˜ ê¸°íƒ€ ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ë¥¼ í‘œì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜ ë§ëŠ” ê°€ë²¼ìš´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.</p>
</li>
</ul>
<h2>SSEì˜ ì¥ì :</h2>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>ê°„í¸í•¨: SSEëŠ” ì›¹ì†Œì¼“ì— ë¹„í•´ êµ¬í˜„ê³¼ ê´€ë¦¬ê°€ ê°„ë‹¨í•©ë‹ˆë‹¤.</li>
<li>ìë™ ì¬ì—°ê²°: ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì¬ì—°ê²°ì„ ì²˜ë¦¬í•˜ì—¬ SSEê°€ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ì— ê°•ë ¥í•©ë‹ˆë‹¤.</li>
<li>HTTP í˜¸í™˜ì„±: SSEëŠ” í‘œì¤€ HTTP/2 ì—°ê²°ì„ í†µí•´ ì‘ë™í•˜ë¯€ë¡œ ê¸°ì¡´ ì¸í”„ë¼ì™€ ì‘ì—…í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.</li>
</ul>
<h2>SSE ëŒ€ì•ˆ:</h2>
<ul>
<li>
<p>ì›¹ì†Œì¼“:</p>
</li>
<li>
<p>ì–‘ë°©í–¥ í†µì‹ : ì–‘ë°©í–¥ í†µì‹ ì´ í•„ìš”í•œ ê²½ìš° ì›¹ì†Œì¼“ì„ ì„ í˜¸í•©ë‹ˆë‹¤.</p>
</li>
<li>
<p>ë‚®ì€ ì§€ì—° ì‹œê°„: ì›¹ì†Œì¼“ì€ SSEë³´ë‹¤ ë‚®ì€ ì§€ì—° ì‹œê°„ì„ ì œê³µí•˜ì—¬ ì˜¨ë¼ì¸ ê²Œì„ê³¼ ê°™ì´ ë§¤ìš° ìƒí˜¸ì‘ìš©ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.</p>
</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>
<p>Long Polling:</p>
</li>
<li>
<p>í˜¸í™˜ì„±: Long pollingì€ ì˜¤ë˜ëœ ë¸Œë¼ìš°ì €ì™€ í˜¸í™˜ë˜ë©° WebSocketsì´ë‚˜ SSEë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>ì˜¤ë²„í—¤ë“œ: ë°˜ë³µëœ ìš”ì²­ìœ¼ë¡œ ì¸í•´ SSEë‚˜ WebSocketsì— ë¹„í•´ ë” ë§ì€ ì˜¤ë²„í—¤ë“œë¥¼ ë„ì…í•©ë‹ˆë‹¤.</p>
</li>
</ul>
<h1>SSEì˜ í˜„ì‹¤ ì„¸ê³„ì—ì„œì˜ ì‚¬ìš© ì‚¬ë¡€</h1>
<p>ì„œë²„-ì „ì†¡ ì´ë²¤íŠ¸ (SSE)ëŠ” ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í•„ìš”ë¡œí•˜ëŠ” í˜„ì‹¤ ì„¸ê³„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì— ëª‡ ê°€ì§€ ì£¼ëª©í•  ë§Œí•œ ì˜ˆì‹œê°€ ìˆìŠµë‹ˆë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´</li>
<li>ì£¼ì‹ ì‹œì¥ ë° ê¸ˆìœµ ë°ì´í„°</li>
<li>ì†Œì…œ ë¯¸ë””ì–´ í”Œë«í¼ ë“±ë“±..</li>
</ul>
<p>ìš°ë¦¬ëŠ” ESPNì´ë‚˜ BBC Sportsì™€ ê°™ì´ ì œê³µë˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì˜ˆì‹œë¥¼ ë” ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>ì§„í–‰ ì¤‘ì¸ ì¶•êµ¬ ê²½ê¸°ì— ëŒ€í•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒìƒí•´ë³´ì„¸ìš”. ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê³¨ ë“ì  ë° ê²½ê¸° í†µê³„ì™€ ê°™ì€ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤. ì´ê³³ì´ [GitHub ë§í¬](GitHub Link).</p>
<h2>SSE êµ¬í˜„</h2>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>ì„œë²„ ì¸¡ êµ¬í˜„:</li>
</ul>
<p>ì•„ë˜ íŒŒì¼ì€ ê²½ê¸° ê°œìš”ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// scores.py</span>

[
  {
    <span class="hljs-attr">time</span>: <span class="hljs-string">"00:01"</span>,
    <span class="hljs-attr">scores</span>: <span class="hljs-string">"1:0"</span>,
    <span class="hljs-attr">event</span>: <span class="hljs-string">"Goal! Team A scores!"</span>,
  },
  {
    <span class="hljs-attr">time</span>: <span class="hljs-string">"00:05"</span>,
    <span class="hljs-attr">scores</span>: <span class="hljs-string">"1:1"</span>,
    <span class="hljs-attr">event</span>: <span class="hljs-string">"Goal! Team B scores!"</span>,
  },
  {
    <span class="hljs-attr">time</span>: <span class="hljs-string">"00:10"</span>,
    <span class="hljs-attr">scores</span>: <span class="hljs-string">"2:1"</span>,
    <span class="hljs-attr">event</span>: <span class="hljs-string">"Goal! Team A scores again!"</span>,
  },
];
</code></pre>
<ul>
<li>ì„œë²„ëŠ” ê²½ê¸° ë°ì´í„°ì˜ ì‹¤ì‹œê°„ í”¼ë“œë¥¼ ìœ ì§€í•˜ë©° SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.</li>
<li>ì–´ë–¤ ì´ë²¤íŠ¸(ê³¨, êµì²´ ë“±)ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤, ì„œë²„ëŠ” ì´ ì—…ë°ì´íŠ¸ë¥¼ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í‘¸ì‹œí•©ë‹ˆë‹¤.</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>main.py</h1>
<p>from fastapi import FastAPI
from sse_starlette.sse import EventSourceResponse
import asyncio
import json</p>
<p>app = FastAPI()</p>
<p>async def event_generator():
with open("scores.json", "r") as file:
scores = json.load(file)
for score in scores:
await asyncio.sleep(5)<br>
yield f"Match Summary: {json.dumps(score)}\n\n"</p>
<p>@app.get("/live-scores")
async def live_scores_endpoint():
return EventSourceResponse(event_generator())</p>
<h1>Adding CORS middleware</h1>
<p>from fastapi.middleware.cors import CORSMiddleware</p>
<p>app.add_middleware(
CORSMiddleware,
allow_origins=["<em>"],
allow_credentials=True,
allow_methods=["</em>"],
allow_headers=["*"],
)</p>
<p>Client-Side Implementation:</p>
<ul>
<li>ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì¸ í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì™€ SSE ì—°ê²°ì„ ì„¤ì •í•˜ê³  ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.</li>
</ul>
<pre><code class="hljs language-html"><span class="hljs-comment">&#x3C;!-- index.html --></span>

<span class="hljs-meta">&#x3C;!DOCTYPE <span class="hljs-keyword">html</span>></span>
<span class="hljs-tag">&#x3C;<span class="hljs-name">html</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">head</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">title</span>></span>Live Sports Scores<span class="hljs-tag">&#x3C;/<span class="hljs-name">title</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">head</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">body</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">h1</span>></span>Live Football Scores<span class="hljs-tag">&#x3C;/<span class="hljs-name">h1</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"score-updates"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>

    <span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
      <span class="hljs-keyword">const</span> eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">"http://127.0.0.1:8000/live-scores"</span>);

      eventSource.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) {
        <span class="hljs-keyword">const</span> newElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
        newElement.<span class="hljs-property">innerHTML</span> = event.<span class="hljs-property">data</span>;
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"score-updates"</span>).<span class="hljs-title function_">appendChild</span>(newElement);
      };

      eventSource.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"EventSource failed:"</span>, event);
        eventSource.<span class="hljs-title function_">close</span>();
      };
    </span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">body</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">html</span>></span>
</code></pre>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2>ì°¸ê³ </h2>
<ul>
<li><a href="https://fastapi.tiangolo.com/" rel="nofollow" target="_blank">https://fastapi.tiangolo.com/</a></li>
<li><a href="https://pypi.org/project/sse-starlette/" rel="nofollow" target="_blank">https://pypi.org/project/sse-starlette/</a></li>
</ul>
<h1>ê²°ë¡ </h1>
<p>sse-starletteë¥¼ ì‚¬ìš©í•˜ë©´ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì— SSEë¥¼ í†µí•©í•˜ëŠ” ê²ƒì´ ê°„í¸í•˜ê³  íš¨ìœ¨ì ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ì‹œìŠ¤í…œ ë˜ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œ ì¤‘ì´ë“ , SSEëŠ” ê²¬ê³ í•˜ê³  ê°„í¸í•œ í•´ê²°ì±…ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ë§Œì¼ ì–´ë– í•œ ì˜¤ë¥˜ë¥¼ ë°œê²¬í•˜ì‹œê±°ë‚˜ ê°œì„  ì œì•ˆì´ ìˆìœ¼ì‹œë‹¤ë©´ ì•„ë˜ ëŒ“ê¸€ì— ê³µìœ í•´ ì£¼ì„¸ìš”.</p>
<p>ì´ ê¸€ì´ ë§ˆìŒì— ë“¤ì—ˆë‹¤ë©´ ğŸ‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë°œê²¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”. GitHubì—ì„œ ì œ í”„ë¡œí•„ì„ íŒ”ë¡œìš°í•˜ê³  LinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ë„ ê´œì°®ì•„ìš”.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Server-Sent EventSSE ì‚¬ìš© ë°©ë²•","description":"","date":"2024-07-09 09:22","slug":"2024-07-09-Server-SentEventSSEinFastAPIApplications","content":"\nì„œë²„ ì „ì†¡ ì´ë²¤íŠ¸(Server-Sent Events, SSE)ëŠ” ì„œë²„ê°€ ì‹±ê¸€ HTTP ì—°ê²°ì„ í†µí•´ ì›¹ í´ë¼ì´ì–¸íŠ¸ì— ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•  ìˆ˜ ìˆëŠ” ì„œë²„ í‘¸ì‹œ ê¸°ìˆ ì…ë‹ˆë‹¤. ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ë˜ëŠ” ì‹¤ì‹œê°„ ë¶„ì„ê³¼ ê°™ì´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\n\n![SSE](/TIL/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png)\n\n## SSE ì†Œê°œ\n\n- SSEëŠ” ì„œë²„ê°€ ì´ˆê¸° í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì„¤ì •í•˜ìë§ˆì ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„° ì „ì†¡ì„ ì‹œì‘í•  ìˆ˜ ìˆëŠ” í‘œì¤€ì…ë‹ˆë‹¤.\n- ì›¹ì†Œì¼“ê³¼ ë‹¬ë¦¬ SSEëŠ” ì–‘ë°©í–¥ í†µì‹ ì´ ì•„ë‹Œ ë‹¨ë°©í–¥ì´ë©°, ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ê°€ íë¦…ë‹ˆë‹¤.\n- ì´ë¡œì¨ SSEëŠ” ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ë” ê°„ë‹¨í•œ ëŒ€ì•ˆì´ ë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì™œ SSEë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?\n\nSSEëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤:\n\n- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤, ì˜ˆë¥¼ ë“¤ì–´ ì‹¤ì‹œê°„ ìŠ¤í¬ì¸  ì ìˆ˜, ì£¼ì‹ ì‹œì¥ ì—…ë°ì´íŠ¸, ë˜ëŠ” ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±.\n- ì„œë²„ ëª¨ë‹ˆí„°ë§ ë° ëŒ€ì‹œë³´ë“œ: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œëŠ” SSEë¥¼ í™œìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¥¼ ê³„ì† í´ë§í•  í•„ìš” ì—†ì´ ë©”íŠ¸ë¦­ ë° ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì•Œë¦¼: ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ì•Œë¦¼ì„ SSEë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì„œ, í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì§€ì†ì ìœ¼ë¡œ í´ë§í•  í•„ìš”ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤.\n- ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì„¸íŠ¸ë‚˜ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ê²ƒì„ SSEë¡œ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# FastAPIì—ì„œ SSE êµ¬í˜„í•˜ê¸°\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nFastAPIì€ ì†ë„ì™€ ì‚¬ìš© í¸ì˜ì„±ìœ¼ë¡œ ìœ ëª…í•˜ë©°, sse-starlette ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í†µí•©í•˜ì—¬ SSEë¥¼ êµ¬í˜„í•˜ëŠ” ë° ì˜ ì‘ë™í•©ë‹ˆë‹¤. ë‹¤ìŒì€ ì„¤ì • ë°©ë²•ì…ë‹ˆë‹¤.\n\n# ì˜ˆì œ êµ¬í˜„\n\n## ë‹¨ê³„ 1: í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜\n\në¨¼ì €, FastAPIì™€ sse-starletteë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\npip install fastapi sse-starlette\n```\n\n## Step 2: FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±\n\n```js\nfrom fastapi import FastAPI\nfrom sse_starlette.sse import EventSourceResponse\nimport asyncio\n\napp = FastAPI()\nasync def event_generator():\n    while True:\n        await asyncio.sleep(1)\n        yield {\"data\": \"This is a server-sent event!\"}\n@app.get(\"/events\")\nasync def sse_endpoint():\n    return EventSourceResponse(event_generator())\n```\n\nì´ ì˜ˆì‹œì—ì„œ event_generatorëŠ” ë§¤ ì´ˆë§ˆë‹¤ ìƒˆ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë¹„ë™ê¸° ìƒì„±ìì…ë‹ˆë‹¤. sse_endpoint ì—”ë“œí¬ì¸íŠ¸ëŠ” EventSourceResponseë¥¼ ì‚¬ìš©í•˜ì—¬ SSE ì—°ê²°ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## FastAPIì—ì„œ SSE ì‚¬ìš© ì‚¬ë¡€\n\n- ëŒ€ì‹œë³´ë“œìš© ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:\n\n  - SSEëŠ” ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ë‚˜ ì‹¤ì‹œê°„ ë¶„ì„ ëŒ€ì‹œë³´ë“œì™€ ê°™ì€ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ì„ í‘œì‹œí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë³µì¡í•œ WebSocket ê´€ë¦¬ ì—†ì´ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n- ì‹¤ì‹œê°„ ì•Œë¦¼:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì‚¬ìš©ìì—ê²Œ ì´ë²¤íŠ¸ ì•Œë¦¼ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜(ë©”ì‹ ì € ì•±ì´ë‚˜ ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ê°™ì€)ì€ SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ì—…ë°ì´íŠ¸ë¥¼ ì‹ ì†í•˜ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- ìŠ¤íŠ¸ë¦¬ë° ë¡œê·¸:\n\n- SSEëŠ” ì‹¤ì‹œê°„ ë¡œê·¸ë‚˜ ê¸°íƒ€ ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ë¥¼ í‘œì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜ ë§ëŠ” ê°€ë²¼ìš´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.\n\n## SSEì˜ ì¥ì :\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ê°„í¸í•¨: SSEëŠ” ì›¹ì†Œì¼“ì— ë¹„í•´ êµ¬í˜„ê³¼ ê´€ë¦¬ê°€ ê°„ë‹¨í•©ë‹ˆë‹¤.\n- ìë™ ì¬ì—°ê²°: ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì¬ì—°ê²°ì„ ì²˜ë¦¬í•˜ì—¬ SSEê°€ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ì— ê°•ë ¥í•©ë‹ˆë‹¤.\n- HTTP í˜¸í™˜ì„±: SSEëŠ” í‘œì¤€ HTTP/2 ì—°ê²°ì„ í†µí•´ ì‘ë™í•˜ë¯€ë¡œ ê¸°ì¡´ ì¸í”„ë¼ì™€ ì‘ì—…í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.\n\n## SSE ëŒ€ì•ˆ:\n\n- ì›¹ì†Œì¼“:\n\n- ì–‘ë°©í–¥ í†µì‹ : ì–‘ë°©í–¥ í†µì‹ ì´ í•„ìš”í•œ ê²½ìš° ì›¹ì†Œì¼“ì„ ì„ í˜¸í•©ë‹ˆë‹¤.\n- ë‚®ì€ ì§€ì—° ì‹œê°„: ì›¹ì†Œì¼“ì€ SSEë³´ë‹¤ ë‚®ì€ ì§€ì—° ì‹œê°„ì„ ì œê³µí•˜ì—¬ ì˜¨ë¼ì¸ ê²Œì„ê³¼ ê°™ì´ ë§¤ìš° ìƒí˜¸ì‘ìš©ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Long Polling:\n\n- í˜¸í™˜ì„±: Long pollingì€ ì˜¤ë˜ëœ ë¸Œë¼ìš°ì €ì™€ í˜¸í™˜ë˜ë©° WebSocketsì´ë‚˜ SSEë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì˜¤ë²„í—¤ë“œ: ë°˜ë³µëœ ìš”ì²­ìœ¼ë¡œ ì¸í•´ SSEë‚˜ WebSocketsì— ë¹„í•´ ë” ë§ì€ ì˜¤ë²„í—¤ë“œë¥¼ ë„ì…í•©ë‹ˆë‹¤.\n\n# SSEì˜ í˜„ì‹¤ ì„¸ê³„ì—ì„œì˜ ì‚¬ìš© ì‚¬ë¡€\n\nì„œë²„-ì „ì†¡ ì´ë²¤íŠ¸ (SSE)ëŠ” ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í•„ìš”ë¡œí•˜ëŠ” í˜„ì‹¤ ì„¸ê³„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì— ëª‡ ê°€ì§€ ì£¼ëª©í•  ë§Œí•œ ì˜ˆì‹œê°€ ìˆìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´\n- ì£¼ì‹ ì‹œì¥ ë° ê¸ˆìœµ ë°ì´í„°\n- ì†Œì…œ ë¯¸ë””ì–´ í”Œë«í¼ ë“±ë“±..\n\nìš°ë¦¬ëŠ” ESPNì´ë‚˜ BBC Sportsì™€ ê°™ì´ ì œê³µë˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì˜ˆì‹œë¥¼ ë” ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\nì§„í–‰ ì¤‘ì¸ ì¶•êµ¬ ê²½ê¸°ì— ëŒ€í•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒìƒí•´ë³´ì„¸ìš”. ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê³¨ ë“ì  ë° ê²½ê¸° í†µê³„ì™€ ê°™ì€ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤. ì´ê³³ì´ [GitHub ë§í¬](GitHub Link).\n\n## SSE êµ¬í˜„\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì„œë²„ ì¸¡ êµ¬í˜„:\n\nì•„ë˜ íŒŒì¼ì€ ê²½ê¸° ê°œìš”ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\n```js\n// scores.py\n\n[\n  {\n    time: \"00:01\",\n    scores: \"1:0\",\n    event: \"Goal! Team A scores!\",\n  },\n  {\n    time: \"00:05\",\n    scores: \"1:1\",\n    event: \"Goal! Team B scores!\",\n  },\n  {\n    time: \"00:10\",\n    scores: \"2:1\",\n    event: \"Goal! Team A scores again!\",\n  },\n];\n```\n\n- ì„œë²„ëŠ” ê²½ê¸° ë°ì´í„°ì˜ ì‹¤ì‹œê°„ í”¼ë“œë¥¼ ìœ ì§€í•˜ë©° SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.\n- ì–´ë–¤ ì´ë²¤íŠ¸(ê³¨, êµì²´ ë“±)ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤, ì„œë²„ëŠ” ì´ ì—…ë°ì´íŠ¸ë¥¼ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í‘¸ì‹œí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# main.py\n\nfrom fastapi import FastAPI\nfrom sse_starlette.sse import EventSourceResponse\nimport asyncio\nimport json\n\napp = FastAPI()\n\nasync def event_generator():\nwith open(\"scores.json\", \"r\") as file:\nscores = json.load(file)\nfor score in scores:\nawait asyncio.sleep(5)  \n yield f\"Match Summary: {json.dumps(score)}\\n\\n\"\n\n@app.get(\"/live-scores\")\nasync def live_scores_endpoint():\nreturn EventSourceResponse(event_generator())\n\n# Adding CORS middleware\n\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\nCORSMiddleware,\nallow_origins=[\"*\"],\nallow_credentials=True,\nallow_methods=[\"*\"],\nallow_headers=[\"*\"],\n)\n\nClient-Side Implementation:\n\n- ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì¸ í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì™€ SSE ì—°ê²°ì„ ì„¤ì •í•˜ê³  ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.\n\n```html\n\u003c!-- index.html --\u003e\n\n\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n  \u003chead\u003e\n    \u003ctitle\u003eLive Sports Scores\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ch1\u003eLive Football Scores\u003c/h1\u003e\n    \u003cdiv id=\"score-updates\"\u003e\u003c/div\u003e\n\n    \u003cscript\u003e\n      const eventSource = new EventSource(\"http://127.0.0.1:8000/live-scores\");\n\n      eventSource.onmessage = function (event) {\n        const newElement = document.createElement(\"div\");\n        newElement.innerHTML = event.data;\n        document.getElementById(\"score-updates\").appendChild(newElement);\n      };\n\n      eventSource.onerror = function (event) {\n        console.error(\"EventSource failed:\", event);\n        eventSource.close();\n      };\n    \u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n## ì°¸ê³ \n\n- https://fastapi.tiangolo.com/\n- https://pypi.org/project/sse-starlette/\n\n# ê²°ë¡ \n\nsse-starletteë¥¼ ì‚¬ìš©í•˜ë©´ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì— SSEë¥¼ í†µí•©í•˜ëŠ” ê²ƒì´ ê°„í¸í•˜ê³  íš¨ìœ¨ì ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ì‹œìŠ¤í…œ ë˜ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œ ì¤‘ì´ë“ , SSEëŠ” ê²¬ê³ í•˜ê³  ê°„í¸í•œ í•´ê²°ì±…ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ë§Œì¼ ì–´ë– í•œ ì˜¤ë¥˜ë¥¼ ë°œê²¬í•˜ì‹œê±°ë‚˜ ê°œì„  ì œì•ˆì´ ìˆìœ¼ì‹œë‹¤ë©´ ì•„ë˜ ëŒ“ê¸€ì— ê³µìœ í•´ ì£¼ì„¸ìš”.\n\nì´ ê¸€ì´ ë§ˆìŒì— ë“¤ì—ˆë‹¤ë©´ ğŸ‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë°œê²¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”. GitHubì—ì„œ ì œ í”„ë¡œí•„ì„ íŒ”ë¡œìš°í•˜ê³  LinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ë„ ê´œì°®ì•„ìš”.\n","ogImage":{"url":"/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png"},"coverImage":"/TIL/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png","tag":["Tech"],"readingTime":9},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003eì„œë²„ ì „ì†¡ ì´ë²¤íŠ¸(Server-Sent Events, SSE)ëŠ” ì„œë²„ê°€ ì‹±ê¸€ HTTP ì—°ê²°ì„ í†µí•´ ì›¹ í´ë¼ì´ì–¸íŠ¸ì— ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•  ìˆ˜ ìˆëŠ” ì„œë²„ í‘¸ì‹œ ê¸°ìˆ ì…ë‹ˆë‹¤. ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ë˜ëŠ” ì‹¤ì‹œê°„ ë¶„ì„ê³¼ ê°™ì´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-09-Server-SentEventSSEinFastAPIApplications_0.png\" alt=\"SSE\"\u003e\u003c/p\u003e\n\u003ch2\u003eSSE ì†Œê°œ\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eSSEëŠ” ì„œë²„ê°€ ì´ˆê¸° í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ì„¤ì •í•˜ìë§ˆì ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„° ì „ì†¡ì„ ì‹œì‘í•  ìˆ˜ ìˆëŠ” í‘œì¤€ì…ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì›¹ì†Œì¼“ê³¼ ë‹¬ë¦¬ SSEëŠ” ì–‘ë°©í–¥ í†µì‹ ì´ ì•„ë‹Œ ë‹¨ë°©í–¥ì´ë©°, ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ê°€ íë¦…ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì´ë¡œì¨ SSEëŠ” ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ë” ê°„ë‹¨í•œ ëŒ€ì•ˆì´ ë©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eì™œ SSEë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?\u003c/h2\u003e\n\u003cp\u003eSSEëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸: ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— í‘¸ì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤, ì˜ˆë¥¼ ë“¤ì–´ ì‹¤ì‹œê°„ ìŠ¤í¬ì¸  ì ìˆ˜, ì£¼ì‹ ì‹œì¥ ì—…ë°ì´íŠ¸, ë˜ëŠ” ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±.\u003c/li\u003e\n\u003cli\u003eì„œë²„ ëª¨ë‹ˆí„°ë§ ë° ëŒ€ì‹œë³´ë“œ: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œëŠ” SSEë¥¼ í™œìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¥¼ ê³„ì† í´ë§í•  í•„ìš” ì—†ì´ ë©”íŠ¸ë¦­ ë° ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì•Œë¦¼: ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ì•Œë¦¼ì„ SSEë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆì–´ì„œ, í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì§€ì†ì ìœ¼ë¡œ í´ë§í•  í•„ìš”ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì„¸íŠ¸ë‚˜ ë¡œê·¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ê²ƒì„ SSEë¡œ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eFastAPIì—ì„œ SSE êµ¬í˜„í•˜ê¸°\u003c/h1\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eFastAPIì€ ì†ë„ì™€ ì‚¬ìš© í¸ì˜ì„±ìœ¼ë¡œ ìœ ëª…í•˜ë©°, sse-starlette ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í†µí•©í•˜ì—¬ SSEë¥¼ êµ¬í˜„í•˜ëŠ” ë° ì˜ ì‘ë™í•©ë‹ˆë‹¤. ë‹¤ìŒì€ ì„¤ì • ë°©ë²•ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eì˜ˆì œ êµ¬í˜„\u003c/h1\u003e\n\u003ch2\u003eë‹¨ê³„ 1: í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜\u003c/h2\u003e\n\u003cp\u003eë¨¼ì €, FastAPIì™€ sse-starletteë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003epip install fastapi sse-starlette\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eStep 2: FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e fastapi \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFastAPI\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e sse_starlette.\u003cspan class=\"hljs-property\"\u003esse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEventSourceResponse\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e asyncio\n\napp = \u003cspan class=\"hljs-title class_\"\u003eFastAPI\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e def \u003cspan class=\"hljs-title function_\"\u003eevent_generator\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ewhile\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e:\n        \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e asyncio.\u003cspan class=\"hljs-title function_\"\u003esleep\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n        \u003cspan class=\"hljs-keyword\"\u003eyield\u003c/span\u003e {\u003cspan class=\"hljs-string\"\u003e\"data\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"This is a server-sent event!\"\u003c/span\u003e}\n@app.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"/events\"\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e def \u003cspan class=\"hljs-title function_\"\u003esse_endpoint\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEventSourceResponse\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eevent_generator\u003c/span\u003e())\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ ì˜ˆì‹œì—ì„œ event_generatorëŠ” ë§¤ ì´ˆë§ˆë‹¤ ìƒˆ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë¹„ë™ê¸° ìƒì„±ìì…ë‹ˆë‹¤. sse_endpoint ì—”ë“œí¬ì¸íŠ¸ëŠ” EventSourceResponseë¥¼ ì‚¬ìš©í•˜ì—¬ SSE ì—°ê²°ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eFastAPIì—ì„œ SSE ì‚¬ìš© ì‚¬ë¡€\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eëŒ€ì‹œë³´ë“œìš© ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSSEëŠ” ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ë‚˜ ì‹¤ì‹œê°„ ë¶„ì„ ëŒ€ì‹œë³´ë“œì™€ ê°™ì€ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ì„ í‘œì‹œí•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë³µì¡í•œ WebSocket ê´€ë¦¬ ì—†ì´ ì—…ë°ì´íŠ¸ë¥¼ í‘¸ì‹œí•˜ëŠ” ê°„ë‹¨í•œ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eì‹¤ì‹œê°„ ì•Œë¦¼:\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eì‚¬ìš©ìì—ê²Œ ì´ë²¤íŠ¸ ì•Œë¦¼ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜(ë©”ì‹ ì € ì•±ì´ë‚˜ ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ ê°™ì€)ì€ SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ì—…ë°ì´íŠ¸ë¥¼ ì‹ ì†í•˜ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eìŠ¤íŠ¸ë¦¬ë° ë¡œê·¸:\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSSEëŠ” ì‹¤ì‹œê°„ ë¡œê·¸ë‚˜ ê¸°íƒ€ ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ë¥¼ í‘œì‹œí•´ì•¼ í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜ ë§ëŠ” ê°€ë²¼ìš´ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eSSEì˜ ì¥ì :\u003c/h2\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eê°„í¸í•¨: SSEëŠ” ì›¹ì†Œì¼“ì— ë¹„í•´ êµ¬í˜„ê³¼ ê´€ë¦¬ê°€ ê°„ë‹¨í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eìë™ ì¬ì—°ê²°: ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì¬ì—°ê²°ì„ ì²˜ë¦¬í•˜ì—¬ SSEê°€ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ì— ê°•ë ¥í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eHTTP í˜¸í™˜ì„±: SSEëŠ” í‘œì¤€ HTTP/2 ì—°ê²°ì„ í†µí•´ ì‘ë™í•˜ë¯€ë¡œ ê¸°ì¡´ ì¸í”„ë¼ì™€ ì‘ì—…í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eSSE ëŒ€ì•ˆ:\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eì›¹ì†Œì¼“:\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eì–‘ë°©í–¥ í†µì‹ : ì–‘ë°©í–¥ í†µì‹ ì´ í•„ìš”í•œ ê²½ìš° ì›¹ì†Œì¼“ì„ ì„ í˜¸í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eë‚®ì€ ì§€ì—° ì‹œê°„: ì›¹ì†Œì¼“ì€ SSEë³´ë‹¤ ë‚®ì€ ì§€ì—° ì‹œê°„ì„ ì œê³µí•˜ì—¬ ì˜¨ë¼ì¸ ê²Œì„ê³¼ ê°™ì´ ë§¤ìš° ìƒí˜¸ì‘ìš©ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eLong Polling:\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eí˜¸í™˜ì„±: Long pollingì€ ì˜¤ë˜ëœ ë¸Œë¼ìš°ì €ì™€ í˜¸í™˜ë˜ë©° WebSocketsì´ë‚˜ SSEë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eì˜¤ë²„í—¤ë“œ: ë°˜ë³µëœ ìš”ì²­ìœ¼ë¡œ ì¸í•´ SSEë‚˜ WebSocketsì— ë¹„í•´ ë” ë§ì€ ì˜¤ë²„í—¤ë“œë¥¼ ë„ì…í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eSSEì˜ í˜„ì‹¤ ì„¸ê³„ì—ì„œì˜ ì‚¬ìš© ì‚¬ë¡€\u003c/h1\u003e\n\u003cp\u003eì„œë²„-ì „ì†¡ ì´ë²¤íŠ¸ (SSE)ëŠ” ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ í•„ìš”ë¡œí•˜ëŠ” í˜„ì‹¤ ì„¸ê³„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì— ëª‡ ê°€ì§€ ì£¼ëª©í•  ë§Œí•œ ì˜ˆì‹œê°€ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´\u003c/li\u003e\n\u003cli\u003eì£¼ì‹ ì‹œì¥ ë° ê¸ˆìœµ ë°ì´í„°\u003c/li\u003e\n\u003cli\u003eì†Œì…œ ë¯¸ë””ì–´ í”Œë«í¼ ë“±ë“±..\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eìš°ë¦¬ëŠ” ESPNì´ë‚˜ BBC Sportsì™€ ê°™ì´ ì œê³µë˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì˜ˆì‹œë¥¼ ë” ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì§„í–‰ ì¤‘ì¸ ì¶•êµ¬ ê²½ê¸°ì— ëŒ€í•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ë¼ì´ë¸Œ ìŠ¤í¬ì¸  ìŠ¤ì½”ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒìƒí•´ë³´ì„¸ìš”. ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê³¨ ë“ì  ë° ê²½ê¸° í†µê³„ì™€ ê°™ì€ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤. ì´ê³³ì´ [GitHub ë§í¬](GitHub Link).\u003c/p\u003e\n\u003ch2\u003eSSE êµ¬í˜„\u003c/h2\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eì„œë²„ ì¸¡ êµ¬í˜„:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì•„ë˜ íŒŒì¼ì€ ê²½ê¸° ê°œìš”ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// scores.py\u003c/span\u003e\n\n[\n  {\n    \u003cspan class=\"hljs-attr\"\u003etime\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"00:01\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003escores\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"1:0\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eevent\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Goal! Team A scores!\"\u003c/span\u003e,\n  },\n  {\n    \u003cspan class=\"hljs-attr\"\u003etime\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"00:05\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003escores\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"1:1\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eevent\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Goal! Team B scores!\"\u003c/span\u003e,\n  },\n  {\n    \u003cspan class=\"hljs-attr\"\u003etime\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"00:10\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003escores\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"2:1\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eevent\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Goal! Team A scores again!\"\u003c/span\u003e,\n  },\n];\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eì„œë²„ëŠ” ê²½ê¸° ë°ì´í„°ì˜ ì‹¤ì‹œê°„ í”¼ë“œë¥¼ ìœ ì§€í•˜ë©° SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì–´ë–¤ ì´ë²¤íŠ¸(ê³¨, êµì²´ ë“±)ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤, ì„œë²„ëŠ” ì´ ì—…ë°ì´íŠ¸ë¥¼ ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í‘¸ì‹œí•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003emain.py\u003c/h1\u003e\n\u003cp\u003efrom fastapi import FastAPI\nfrom sse_starlette.sse import EventSourceResponse\nimport asyncio\nimport json\u003c/p\u003e\n\u003cp\u003eapp = FastAPI()\u003c/p\u003e\n\u003cp\u003easync def event_generator():\nwith open(\"scores.json\", \"r\") as file:\nscores = json.load(file)\nfor score in scores:\nawait asyncio.sleep(5)\u003cbr\u003e\nyield f\"Match Summary: {json.dumps(score)}\\n\\n\"\u003c/p\u003e\n\u003cp\u003e@app.get(\"/live-scores\")\nasync def live_scores_endpoint():\nreturn EventSourceResponse(event_generator())\u003c/p\u003e\n\u003ch1\u003eAdding CORS middleware\u003c/h1\u003e\n\u003cp\u003efrom fastapi.middleware.cors import CORSMiddleware\u003c/p\u003e\n\u003cp\u003eapp.add_middleware(\nCORSMiddleware,\nallow_origins=[\"\u003cem\u003e\"],\nallow_credentials=True,\nallow_methods=[\"\u003c/em\u003e\"],\nallow_headers=[\"*\"],\n)\u003c/p\u003e\n\u003cp\u003eClient-Side Implementation:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ì¸ í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì™€ SSE ì—°ê²°ì„ ì„¤ì •í•˜ê³  ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜ì‹ í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-comment\"\u003e\u0026#x3C;!-- index.html --\u003e\u003c/span\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e\u0026#x3C;!DOCTYPE \u003cspan class=\"hljs-keyword\"\u003ehtml\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003eLive Sports Scores\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003etitle\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehead\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003eLive Football Scores\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"score-updates\"\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\u003cspan class=\"javascript\"\u003e\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e eventSource = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEventSource\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"http://127.0.0.1:8000/live-scores\"\u003c/span\u003e);\n\n      eventSource.\u003cspan class=\"hljs-property\"\u003eonmessage\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e newElement = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"div\"\u003c/span\u003e);\n        newElement.\u003cspan class=\"hljs-property\"\u003einnerHTML\u003c/span\u003e = event.\u003cspan class=\"hljs-property\"\u003edata\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"score-updates\"\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003eappendChild\u003c/span\u003e(newElement);\n      };\n\n      eventSource.\u003cspan class=\"hljs-property\"\u003eonerror\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) {\n        \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"EventSource failed:\"\u003c/span\u003e, event);\n        eventSource.\u003cspan class=\"hljs-title function_\"\u003eclose\u003c/span\u003e();\n      };\n    \u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003escript\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebody\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ehtml\u003c/span\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch2\u003eì°¸ê³ \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://fastapi.tiangolo.com/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://fastapi.tiangolo.com/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://pypi.org/project/sse-starlette/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://pypi.org/project/sse-starlette/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eê²°ë¡ \u003c/h1\u003e\n\u003cp\u003esse-starletteë¥¼ ì‚¬ìš©í•˜ë©´ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì— SSEë¥¼ í†µí•©í•˜ëŠ” ê²ƒì´ ê°„í¸í•˜ê³  íš¨ìœ¨ì ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ì‹œìŠ¤í…œ ë˜ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œ ì¤‘ì´ë“ , SSEëŠ” ê²¬ê³ í•˜ê³  ê°„í¸í•œ í•´ê²°ì±…ì„ ì œê³µí•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ë§Œì¼ ì–´ë– í•œ ì˜¤ë¥˜ë¥¼ ë°œê²¬í•˜ì‹œê±°ë‚˜ ê°œì„  ì œì•ˆì´ ìˆìœ¼ì‹œë‹¤ë©´ ì•„ë˜ ëŒ“ê¸€ì— ê³µìœ í•´ ì£¼ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eì´ ê¸€ì´ ë§ˆìŒì— ë“¤ì—ˆë‹¤ë©´ ğŸ‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë°œê²¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”. GitHubì—ì„œ ì œ í”„ë¡œí•„ì„ íŒ”ë¡œìš°í•˜ê³  LinkedInì—ì„œ ì €ì™€ ì—°ê²°í•´ë„ ê´œì°®ì•„ìš”.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-09-Server-SentEventSSEinFastAPIApplications"},"buildId":"xwOwpfNxF5xANgUpiyc2H","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>