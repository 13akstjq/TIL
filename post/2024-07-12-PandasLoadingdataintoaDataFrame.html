<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Pandas DataFrame에 데이터 로드하는 방법 | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-12-PandasLoadingdataintoaDataFrame" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Pandas DataFrame에 데이터 로드하는 방법 | TIL" data-gatsby-head="true"/><meta property="og:title" content="Pandas DataFrame에 데이터 로드하는 방법 | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-12-PandasLoadingdataintoaDataFrame" data-gatsby-head="true"/><meta name="twitter:title" content="Pandas DataFrame에 데이터 로드하는 방법 | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-12 20:58" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/0eef537492fed77a.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/0eef537492fed77a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-8ded8b979ba73586.js" defer=""></script><script src="/TIL/_next/static/M7pU9hOcx8u_ZIFMf95sd/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/M7pU9hOcx8u_ZIFMf95sd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Pandas DataFrame에 데이터 로드하는 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Pandas DataFrame에 데이터 로드하는 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 12, 2024</span><span class="posts_reading_time__f7YPP">9<!-- --> min read</span></span></div></div></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_0.png">
<p>판다스는 파이썬 데이터 라이브러리 중 주축에 서 있으며, 데이터 조작을 위한 다양한 함수 보물 묶음을 제공합니다. 핵심은 데이터프레임(DataFrame)으로, 이를 사용하여 테이블 형식의 데이터를 쉽게 저장하고 조작할 수 있습니다.</p>
<h2>타이타닉 데이터셋 불러오기</h2>
<p>다음은 캐글(Kaggle)에서 다운로드할 수 있는 데이터셋 링크입니다. <a href="https://www.kaggle.com/competitions/titanic/data?select=train.csv" rel="nofollow" target="_blank">링크 바로가기</a></p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_1.png" alt="Pandas Loading Data into a DataFrame"></p>
<p>타이타닉 데이터셋은 카글에서 제공하는 클래식한 챌린지로, 비극적인 타이타닉 호에 탑승한 승객들에 대한 데이터를 제공합니다. 이 데이터셋을 Pandas DataFrame으로 로드해보겠습니다:</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-comment"># 타이타닉 데이터셋 로드</span>
titanic_df = pd.read_csv(<span class="hljs-string">'train.csv'</span>)
<span class="hljs-comment"># 처음 몇 행 확인</span>
<span class="hljs-built_in">print</span>(titanic_df.head())
</code></pre>
<p>이 코드 조각은 타이타닉 CSV 파일을 DataFrame으로 읽어와 우리가 분석할 데이터를 엿볼 수 있도록 해줍니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>더 깊게 파기</p>
<p>이제, 판다스를 사용하여 타이타닉 데이터셋에서 수행할 수 있는 몇 가지 더 많은 작업을 살펴봅시다:</p>
<p>생존율 분석</p>
<p>타이타닉에 관한 가장 감동적인 질문 중 하나는 생존과 관련이 있습니다. 우리는 판다스를 사용하여 다양한 기능에 기반한 생존율을 분석할 수 있습니다:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"># 클래스별 생존률 계산
생존률 = titanic_df.<span class="hljs-title function_">groupby</span>(<span class="hljs-string">'Pclass'</span>)[<span class="hljs-string">'Survived'</span>].<span class="hljs-title function_">mean</span>()
<span class="hljs-title function_">print</span>(생존률)
</code></pre>
<p>이 코드는 승객 클래스별로 데이터를 그룹화하고 각 클래스의 평균 생존률을 계산합니다.</p>
<p>기능 엔지니어링: 가족 규모 열 생성</p>
<p>기존 데이터에서 새로운 기능을 만들어 추가 정보를 얻을 수 있습니다. 예를 들어 'FamilySize' 열을 만들어보겠습니다:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"># <span class="hljs-title class_">Create</span> a <span class="hljs-keyword">new</span> column <span class="hljs-keyword">for</span> family size
titanic_df[<span class="hljs-string">'FamilySize'</span>] = titanic_df[<span class="hljs-string">'SibSp'</span>] + titanic_df[<span class="hljs-string">'Parch'</span>] + <span class="hljs-number">1</span>
# <span class="hljs-title class_">Analyze</span> survival rates by family size
family_survival = titanic_df.<span class="hljs-title function_">groupby</span>(<span class="hljs-string">'FamilySize'</span>)[<span class="hljs-string">'Survived'</span>].<span class="hljs-title function_">mean</span>()
<span class="hljs-title function_">print</span>(family_survival)
</code></pre>
<p>이 코드 블록은 DataFrame에 새 열을 추가하고, 그런 다음 가족 규모별로 데이터를 그룹화하여 생존율에 영향을 미쳤는지 확인합니다.</p>
<p>로딩 매개변수 조정</p>
<p>데이터를 로드하는 방식을 더 세밀하게 조정해야 할 때가 있습니다. Pandas는 이 과정을 세밀하게 조정할 수 있는 많은 매개변수를 제공합니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"># 행을 건너뛰고 누락된 값 설정 및 열 제한을 위한 매개변수 조정
df = pd.<span class="hljs-title function_">read_csv</span>(<span class="hljs-string">'train.csv'</span>, skiprows=<span class="hljs-number">4</span>, na_values=[<span class="hljs-string">'?'</span>], usecols=[<span class="hljs-string">'Name'</span>, <span class="hljs-string">'Sex'</span>, <span class="hljs-string">'Age'</span>])
</code></pre>
<p>여러분은 행을 건너뛰고 누락된 값 처리를 할 수 있으며 특정 열만을 선택하여 로드할 수 있습니다.</p>
<p>DataFrame 미리보기</p>
<p>로드된 후에는 모든 것이 올바르게 보이는지 확인하기 위해 DataFrame을 미리보는 것이 좋습니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python"><span class="hljs-comment"># DataFrame의 첫 몇 행 미리보기</span>
<span class="hljs-built_in">print</span>(df.head())
<span class="hljs-comment"># DataFrame의 마지막 몇 행 미리보기</span>
<span class="hljs-built_in">print</span>(df.tail())
</code></pre>
<p>이러한 방법들은 데이터를 로드한 후 빠르게 데이터의 개요를 제공해줍니다.</p>
<p>요약 통계량 사용하기</p>
<p>판다스는 요약 통계량을 통해 데이터의 포괄적인 개요를 제공하는 데 뛰어납니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>Get summary statistics for numerical columns</h1>
<p>print(df.describe())</p>
<h1>Get summary statistics for all columns including categorical</h1>
<p>print(df.describe(include='all'))</p>
<p>이 명령어들은 데이터셋의 중심 경향성, 분산 및 형태를 요약하는 기술통계를 생성합니다.</p>
<h1>동물원 프로젝트의 더 많은 예제</h1>
<p>배운 내용을 더 실용적으로 적용해 보겠습니다 — 동물원 프로젝트입니다. 데이터를 로드하고 정리한 다음, 각 동물 종에 대한 평균 식량 필요량을 계산해 봅시다:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"># 동물원 데이터 분석
zoo_df = pd.<span class="hljs-title function_">read_csv</span>(<span class="hljs-string">'zoo_data.csv'</span>)
# 데이터 정제
zoo_df.<span class="hljs-title function_">dropna</span>(inplace=<span class="hljs-title class_">True</span>)
# 종 별 평균 사료 소비량 계산
average_food = zoo_df.<span class="hljs-title function_">groupby</span>(<span class="hljs-string">'species'</span>)[<span class="hljs-string">'food_per_day'</span>].<span class="hljs-title function_">mean</span>()
<span class="hljs-title function_">print</span>(average_food)
</code></pre>
<p>메소드 체이닝: 코드를 더 깔끔하게 작성하는 방법</p>
<p>판다스의 메소드 체이닝을 사용하면 한 줄 안에 여러 작업을 쉽게 수행할 수 있습니다. 각 메소드가 다음으로 자연스럽게 이어지는 책의 장이라고 생각해보세요.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
# 샘플 동물원 데이터
data = {
    <span class="hljs-string">'Animal'</span>: [<span class="hljs-string">'사자'</span>, <span class="hljs-string">'호랑이'</span>, <span class="hljs-string">'곰'</span>, <span class="hljs-string">'얼룩말'</span>],
    <span class="hljs-string">'이름'</span>: [<span class="hljs-string">'레오'</span>, <span class="hljs-string">'줄무늬'</span>, <span class="hljs-string">'발루'</span>, <span class="hljs-string">'자라'</span>],
    <span class="hljs-string">'나이'</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],
    <span class="hljs-string">'무게'</span>: [<span class="hljs-number">250</span>, <span class="hljs-number">220</span>, <span class="hljs-number">350</span>, <span class="hljs-number">380</span>]
}
zoo_df = pd.<span class="hljs-title class_">DataFrame</span>(data)
# 메소드 체이닝 예시
zoo_df.<span class="hljs-title function_">assign</span>(월령=lambda <span class="hljs-attr">x</span>: x[<span class="hljs-string">'나이'</span>] * <span class="hljs-number">12</span>).<span class="hljs-title function_">sort_values</span>(by=<span class="hljs-string">'나이'</span>)
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>위의 예에서 우리는 먼저 나이를 월로 변환한 다음 나이를 기준으로 DataFrame을 정렬합니다. 이 모든 작업을 한 표현식으로 처리합니다. 이렇게 하면 코드가 더 깔끔해지고 더 효율적으로 됩니다.</p>
<pre><code class="hljs language-js">결과
  동물 이름   나이   무게  월 단위 나이
<span class="hljs-number">2</span> <span class="hljs-title class_">Bear</span>   <span class="hljs-title class_">Baloo</span>   <span class="hljs-number">3</span>   <span class="hljs-number">350</span>       <span class="hljs-number">36</span>
<span class="hljs-number">3</span> <span class="hljs-title class_">Zebra</span>  <span class="hljs-title class_">Zara</span>    <span class="hljs-number">4</span>   <span class="hljs-number">380</span>       <span class="hljs-number">48</span>
<span class="hljs-number">0</span> <span class="hljs-title class_">Lion</span>   <span class="hljs-title class_">Leo</span>     <span class="hljs-number">5</span>   <span class="hljs-number">250</span>       <span class="hljs-number">60</span>
<span class="hljs-number">1</span> <span class="hljs-title class_">Tiger</span>  <span class="hljs-title class_">Stripes</span> <span class="hljs-number">7</span>   <span class="hljs-number">220</span>       <span class="hljs-number">84</span>
</code></pre>
<p>데이터 정렬 및 순위 매기기: 데이터 조직화</p>
<p>데이터를 정렬하는 것은 가장 중요한 항목이나 덜 중요한 항목을 분석할 때 중요합니다. 판다스는 이러한 작업을 위해 sort_values() 및 sort_index()를 제공합니다. 반면에 순위 매기기는 데이터에 순위를 할당하여 리더보드와 유사하게 만듭니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"># 체중순으로 정렬
sorted_zoo = zoo_df.<span class="hljs-title function_">sort_values</span>(by=<span class="hljs-string">'Weight'</span>, ascending=<span class="hljs-title class_">False</span>)
# 나이순으로 동물 순위 매기기
zoo_df[<span class="hljs-string">'Age_rank'</span>] = zoo_df[<span class="hljs-string">'Age'</span>].<span class="hljs-title function_">rank</span>(method=<span class="hljs-string">'min'</span>, ascending=<span class="hljs-title class_">False</span>)
</code></pre>
<p>데이터 걸러내기 및 그룹화: 데이터 살펴보기</p>
<p>필터링을 통해 특정 기준을 충족하는 데이터만 볼 수 있습니다. groupby()와 함께 사용되는 그룹화로 카테고리화된 데이터에 대한 작업을 수행할 수 있습니다.</p>
<pre><code class="hljs language-js"># <span class="hljs-number">300</span> 파운드 이상의 동물 필터링
heavy_animals = zoo_df[zoo_df[<span class="hljs-string">'Weight'</span>] > <span class="hljs-number">300</span>]
# 동물 종류별로 그룹핑하여 평균 체중 계산
avg_weight_by_animal = zoo_df.<span class="hljs-title function_">groupby</span>(<span class="hljs-string">'Animal'</span>)[<span class="hljs-string">'Weight'</span>].<span class="hljs-title function_">mean</span>()
우리의 동물 데이터셋에 대한 통찰을 제공하기 위해 동물공원 프로젝트를 위한 복잡한 코드 예제를 함께 구성해 보겠습니다. 동물원 주민을 필터링, 정렬, 순위 매기는 메소드를 연쇄적으로 적용하여 데이터를 처리할 것입니다.
# 동물원 프로젝트를 위한 복잡한 메소드 체이닝
(zoo_df
  .<span class="hljs-title function_">query</span>(<span class="hljs-string">'Weight >= 200'</span>)
  .<span class="hljs-title function_">assign</span>(<span class="hljs-title class_">Age</span>_in_months=lambda <span class="hljs-attr">x</span>: x[<span class="hljs-string">'Age'</span>] * <span class="hljs-number">12</span>)
  .<span class="hljs-title function_">sort_values</span>(by=[<span class="hljs-string">'Animal'</span>, <span class="hljs-string">'Age_in_months'</span>], ascending=[<span class="hljs-title class_">True</span>, <span class="hljs-title class_">False</span>])
  .<span class="hljs-title function_">groupby</span>(<span class="hljs-string">'Animal'</span>)
  .<span class="hljs-title function_">agg</span>({<span class="hljs-string">'Name'</span>: <span class="hljs-string">'first'</span>, <span class="hljs-string">'Age_in_months'</span>: <span class="hljs-string">'max'</span>, <span class="hljs-string">'Weight'</span>: <span class="hljs-string">'mean'</span>})
  .<span class="hljs-title function_">rename</span>(columns={<span class="hljs-string">'Name'</span>: <span class="hljs-string">'Oldest_Animal'</span>, <span class="hljs-string">'Age_in_months'</span>: <span class="hljs-string">'Oldest_Age'</span>, <span class="hljs-string">'Weight'</span>: <span class="hljs-string">'Avg_Weight'</span>})
  .<span class="hljs-title function_">reset_index</span>()
)
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">결과
    동물      가장 나이 많은 동물    가장 나이     평균 무게
<span class="hljs-number">0</span>    곰       발루           <span class="hljs-number">36</span>            <span class="hljs-number">50.0</span>
<span class="hljs-number">1</span>    사자      레오           <span class="hljs-number">60</span>           <span class="hljs-number">250.0</span>
<span class="hljs-number">2</span>    호랑이    스트라이프     <span class="hljs-number">84</span>           <span class="hljs-number">220.0</span>
<span class="hljs-number">3</span>    얼룩말    자라           <span class="hljs-number">48</span>           <span class="hljs-number">380.0</span>
</code></pre>
<p>이 블록에서는 200 파운드보다 무겁지 않은 동물을 걸러내고, 나이를 개월로 변환하며, 동물 유형과 나이순으로 정렬하여 동물 유형별로 그룹화한 다음, 가장 나이 많은 동물과 평균 무게를 찾기 위해 집계합니다. 이를 통해 데이터를 명확하고 조직적으로 볼 수 있으며, 추가 분석이나 보고에 이상적입니다.</p>
<p>계속해서 찾아주시기 바랍니다 (-̀ᴗ-́ )و</p>
<p>이전 포스트: <code>- Pandas: 파이썬에서 데이터 분석의 중추</code></p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>다음 - Pandas: 데이터 정리 및 변형</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Pandas DataFrame에 데이터 로드하는 방법","description":"","date":"2024-07-12 20:58","slug":"2024-07-12-PandasLoadingdataintoaDataFrame","content":"\n\n\u003cimg src=\"/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_0.png\" /\u003e\n\n판다스는 파이썬 데이터 라이브러리 중 주축에 서 있으며, 데이터 조작을 위한 다양한 함수 보물 묶음을 제공합니다. 핵심은 데이터프레임(DataFrame)으로, 이를 사용하여 테이블 형식의 데이터를 쉽게 저장하고 조작할 수 있습니다.\n\n## 타이타닉 데이터셋 불러오기\n\n다음은 캐글(Kaggle)에서 다운로드할 수 있는 데이터셋 링크입니다. [링크 바로가기](https://www.kaggle.com/competitions/titanic/data?select=train.csv)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n![Pandas Loading Data into a DataFrame](/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_1.png)\n\n타이타닉 데이터셋은 카글에서 제공하는 클래식한 챌린지로, 비극적인 타이타닉 호에 탑승한 승객들에 대한 데이터를 제공합니다. 이 데이터셋을 Pandas DataFrame으로 로드해보겠습니다:\n\n```python\nimport pandas as pd\n# 타이타닉 데이터셋 로드\ntitanic_df = pd.read_csv('train.csv')\n# 처음 몇 행 확인\nprint(titanic_df.head())\n```\n\n이 코드 조각은 타이타닉 CSV 파일을 DataFrame으로 읽어와 우리가 분석할 데이터를 엿볼 수 있도록 해줍니다.\n\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n더 깊게 파기\n\n이제, 판다스를 사용하여 타이타닉 데이터셋에서 수행할 수 있는 몇 가지 더 많은 작업을 살펴봅시다:\n\n생존율 분석\n\n타이타닉에 관한 가장 감동적인 질문 중 하나는 생존과 관련이 있습니다. 우리는 판다스를 사용하여 다양한 기능에 기반한 생존율을 분석할 수 있습니다:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# 클래스별 생존률 계산\n생존률 = titanic_df.groupby('Pclass')['Survived'].mean()\nprint(생존률)\n```\n\n이 코드는 승객 클래스별로 데이터를 그룹화하고 각 클래스의 평균 생존률을 계산합니다.\n\n기능 엔지니어링: 가족 규모 열 생성\n\n기존 데이터에서 새로운 기능을 만들어 추가 정보를 얻을 수 있습니다. 예를 들어 'FamilySize' 열을 만들어보겠습니다:\n\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# Create a new column for family size\ntitanic_df['FamilySize'] = titanic_df['SibSp'] + titanic_df['Parch'] + 1\n# Analyze survival rates by family size\nfamily_survival = titanic_df.groupby('FamilySize')['Survived'].mean()\nprint(family_survival)\n```\n\n이 코드 블록은 DataFrame에 새 열을 추가하고, 그런 다음 가족 규모별로 데이터를 그룹화하여 생존율에 영향을 미쳤는지 확인합니다.\n\n로딩 매개변수 조정\n\n데이터를 로드하는 방식을 더 세밀하게 조정해야 할 때가 있습니다. Pandas는 이 과정을 세밀하게 조정할 수 있는 많은 매개변수를 제공합니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# 행을 건너뛰고 누락된 값 설정 및 열 제한을 위한 매개변수 조정\ndf = pd.read_csv('train.csv', skiprows=4, na_values=['?'], usecols=['Name', 'Sex', 'Age'])\n```\n\n여러분은 행을 건너뛰고 누락된 값 처리를 할 수 있으며 특정 열만을 선택하여 로드할 수 있습니다.\n\nDataFrame 미리보기\n\n로드된 후에는 모든 것이 올바르게 보이는지 확인하기 위해 DataFrame을 미리보는 것이 좋습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\n# DataFrame의 첫 몇 행 미리보기\nprint(df.head())\n# DataFrame의 마지막 몇 행 미리보기\nprint(df.tail())\n```\n\n이러한 방법들은 데이터를 로드한 후 빠르게 데이터의 개요를 제공해줍니다.\n\n요약 통계량 사용하기\n\n판다스는 요약 통계량을 통해 데이터의 포괄적인 개요를 제공하는 데 뛰어납니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n# Get summary statistics for numerical columns\nprint(df.describe())\n# Get summary statistics for all columns including categorical\nprint(df.describe(include='all'))\n\n\n이 명령어들은 데이터셋의 중심 경향성, 분산 및 형태를 요약하는 기술통계를 생성합니다.\n\n# 동물원 프로젝트의 더 많은 예제\n\n배운 내용을 더 실용적으로 적용해 보겠습니다 — 동물원 프로젝트입니다. 데이터를 로드하고 정리한 다음, 각 동물 종에 대한 평균 식량 필요량을 계산해 봅시다:\n\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# 동물원 데이터 분석\nzoo_df = pd.read_csv('zoo_data.csv')\n# 데이터 정제\nzoo_df.dropna(inplace=True)\n# 종 별 평균 사료 소비량 계산\naverage_food = zoo_df.groupby('species')['food_per_day'].mean()\nprint(average_food)\n```\n\n메소드 체이닝: 코드를 더 깔끔하게 작성하는 방법\n\n판다스의 메소드 체이닝을 사용하면 한 줄 안에 여러 작업을 쉽게 수행할 수 있습니다. 각 메소드가 다음으로 자연스럽게 이어지는 책의 장이라고 생각해보세요.\n\n```js\nimport pandas as pd\n# 샘플 동물원 데이터\ndata = {\n    'Animal': ['사자', '호랑이', '곰', '얼룩말'],\n    '이름': ['레오', '줄무늬', '발루', '자라'],\n    '나이': [5, 7, 3, 4],\n    '무게': [250, 220, 350, 380]\n}\nzoo_df = pd.DataFrame(data)\n# 메소드 체이닝 예시\nzoo_df.assign(월령=lambda x: x['나이'] * 12).sort_values(by='나이')\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n위의 예에서 우리는 먼저 나이를 월로 변환한 다음 나이를 기준으로 DataFrame을 정렬합니다. 이 모든 작업을 한 표현식으로 처리합니다. 이렇게 하면 코드가 더 깔끔해지고 더 효율적으로 됩니다. \n\n```js\n결과\n  동물 이름   나이   무게  월 단위 나이\n2 Bear   Baloo   3   350       36\n3 Zebra  Zara    4   380       48\n0 Lion   Leo     5   250       60\n1 Tiger  Stripes 7   220       84\n```\n\n데이터 정렬 및 순위 매기기: 데이터 조직화\n\n데이터를 정렬하는 것은 가장 중요한 항목이나 덜 중요한 항목을 분석할 때 중요합니다. 판다스는 이러한 작업을 위해 sort_values() 및 sort_index()를 제공합니다. 반면에 순위 매기기는 데이터에 순위를 할당하여 리더보드와 유사하게 만듭니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n# 체중순으로 정렬\nsorted_zoo = zoo_df.sort_values(by='Weight', ascending=False)\n# 나이순으로 동물 순위 매기기\nzoo_df['Age_rank'] = zoo_df['Age'].rank(method='min', ascending=False)\n```\n\n데이터 걸러내기 및 그룹화: 데이터 살펴보기\n\n필터링을 통해 특정 기준을 충족하는 데이터만 볼 수 있습니다. groupby()와 함께 사용되는 그룹화로 카테고리화된 데이터에 대한 작업을 수행할 수 있습니다.\n\n```js\n# 300 파운드 이상의 동물 필터링\nheavy_animals = zoo_df[zoo_df['Weight'] \u003e 300]\n# 동물 종류별로 그룹핑하여 평균 체중 계산\navg_weight_by_animal = zoo_df.groupby('Animal')['Weight'].mean()\n우리의 동물 데이터셋에 대한 통찰을 제공하기 위해 동물공원 프로젝트를 위한 복잡한 코드 예제를 함께 구성해 보겠습니다. 동물원 주민을 필터링, 정렬, 순위 매기는 메소드를 연쇄적으로 적용하여 데이터를 처리할 것입니다.\n# 동물원 프로젝트를 위한 복잡한 메소드 체이닝\n(zoo_df\n  .query('Weight \u003e= 200')\n  .assign(Age_in_months=lambda x: x['Age'] * 12)\n  .sort_values(by=['Animal', 'Age_in_months'], ascending=[True, False])\n  .groupby('Animal')\n  .agg({'Name': 'first', 'Age_in_months': 'max', 'Weight': 'mean'})\n  .rename(columns={'Name': 'Oldest_Animal', 'Age_in_months': 'Oldest_Age', 'Weight': 'Avg_Weight'})\n  .reset_index()\n)\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n결과\n    동물      가장 나이 많은 동물    가장 나이     평균 무게\n0    곰       발루           36            50.0\n1    사자      레오           60           250.0\n2    호랑이    스트라이프     84           220.0\n3    얼룩말    자라           48           380.0\n```\n\n이 블록에서는 200 파운드보다 무겁지 않은 동물을 걸러내고, 나이를 개월로 변환하며, 동물 유형과 나이순으로 정렬하여 동물 유형별로 그룹화한 다음, 가장 나이 많은 동물과 평균 무게를 찾기 위해 집계합니다. 이를 통해 데이터를 명확하고 조직적으로 볼 수 있으며, 추가 분석이나 보고에 이상적입니다.\n\n계속해서 찾아주시기 바랍니다 (-̀ᴗ-́ )و\n\n이전 포스트: `- Pandas: 파이썬에서 데이터 분석의 중추`\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n다음 - Pandas: 데이터 정리 및 변형","ogImage":{"url":"/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_0.png"},"coverImage":"/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_0.png","tag":["Tech"],"readingTime":9},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_0.png\"\u003e\n\u003cp\u003e판다스는 파이썬 데이터 라이브러리 중 주축에 서 있으며, 데이터 조작을 위한 다양한 함수 보물 묶음을 제공합니다. 핵심은 데이터프레임(DataFrame)으로, 이를 사용하여 테이블 형식의 데이터를 쉽게 저장하고 조작할 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e타이타닉 데이터셋 불러오기\u003c/h2\u003e\n\u003cp\u003e다음은 캐글(Kaggle)에서 다운로드할 수 있는 데이터셋 링크입니다. \u003ca href=\"https://www.kaggle.com/competitions/titanic/data?select=train.csv\" rel=\"nofollow\" target=\"_blank\"\u003e링크 바로가기\u003c/a\u003e\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-12-PandasLoadingdataintoaDataFrame_1.png\" alt=\"Pandas Loading Data into a DataFrame\"\u003e\u003c/p\u003e\n\u003cp\u003e타이타닉 데이터셋은 카글에서 제공하는 클래식한 챌린지로, 비극적인 타이타닉 호에 탑승한 승객들에 대한 데이터를 제공합니다. 이 데이터셋을 Pandas DataFrame으로 로드해보겠습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e pandas \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e pd\n\u003cspan class=\"hljs-comment\"\u003e# 타이타닉 데이터셋 로드\u003c/span\u003e\ntitanic_df = pd.read_csv(\u003cspan class=\"hljs-string\"\u003e'train.csv'\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e# 처음 몇 행 확인\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(titanic_df.head())\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 코드 조각은 타이타닉 CSV 파일을 DataFrame으로 읽어와 우리가 분석할 데이터를 엿볼 수 있도록 해줍니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e더 깊게 파기\u003c/p\u003e\n\u003cp\u003e이제, 판다스를 사용하여 타이타닉 데이터셋에서 수행할 수 있는 몇 가지 더 많은 작업을 살펴봅시다:\u003c/p\u003e\n\u003cp\u003e생존율 분석\u003c/p\u003e\n\u003cp\u003e타이타닉에 관한 가장 감동적인 질문 중 하나는 생존과 관련이 있습니다. 우리는 판다스를 사용하여 다양한 기능에 기반한 생존율을 분석할 수 있습니다:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 클래스별 생존률 계산\n생존률 = titanic_df.\u003cspan class=\"hljs-title function_\"\u003egroupby\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Pclass'\u003c/span\u003e)[\u003cspan class=\"hljs-string\"\u003e'Survived'\u003c/span\u003e].\u003cspan class=\"hljs-title function_\"\u003emean\u003c/span\u003e()\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(생존률)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 코드는 승객 클래스별로 데이터를 그룹화하고 각 클래스의 평균 생존률을 계산합니다.\u003c/p\u003e\n\u003cp\u003e기능 엔지니어링: 가족 규모 열 생성\u003c/p\u003e\n\u003cp\u003e기존 데이터에서 새로운 기능을 만들어 추가 정보를 얻을 수 있습니다. 예를 들어 'FamilySize' 열을 만들어보겠습니다:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# \u003cspan class=\"hljs-title class_\"\u003eCreate\u003c/span\u003e a \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e column \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e family size\ntitanic_df[\u003cspan class=\"hljs-string\"\u003e'FamilySize'\u003c/span\u003e] = titanic_df[\u003cspan class=\"hljs-string\"\u003e'SibSp'\u003c/span\u003e] + titanic_df[\u003cspan class=\"hljs-string\"\u003e'Parch'\u003c/span\u003e] + \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n# \u003cspan class=\"hljs-title class_\"\u003eAnalyze\u003c/span\u003e survival rates by family size\nfamily_survival = titanic_df.\u003cspan class=\"hljs-title function_\"\u003egroupby\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'FamilySize'\u003c/span\u003e)[\u003cspan class=\"hljs-string\"\u003e'Survived'\u003c/span\u003e].\u003cspan class=\"hljs-title function_\"\u003emean\u003c/span\u003e()\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(family_survival)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 코드 블록은 DataFrame에 새 열을 추가하고, 그런 다음 가족 규모별로 데이터를 그룹화하여 생존율에 영향을 미쳤는지 확인합니다.\u003c/p\u003e\n\u003cp\u003e로딩 매개변수 조정\u003c/p\u003e\n\u003cp\u003e데이터를 로드하는 방식을 더 세밀하게 조정해야 할 때가 있습니다. Pandas는 이 과정을 세밀하게 조정할 수 있는 많은 매개변수를 제공합니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 행을 건너뛰고 누락된 값 설정 및 열 제한을 위한 매개변수 조정\ndf = pd.\u003cspan class=\"hljs-title function_\"\u003eread_csv\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'train.csv'\u003c/span\u003e, skiprows=\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e, na_values=[\u003cspan class=\"hljs-string\"\u003e'?'\u003c/span\u003e], usecols=[\u003cspan class=\"hljs-string\"\u003e'Name'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Sex'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Age'\u003c/span\u003e])\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e여러분은 행을 건너뛰고 누락된 값 처리를 할 수 있으며 특정 열만을 선택하여 로드할 수 있습니다.\u003c/p\u003e\n\u003cp\u003eDataFrame 미리보기\u003c/p\u003e\n\u003cp\u003e로드된 후에는 모든 것이 올바르게 보이는지 확인하기 위해 DataFrame을 미리보는 것이 좋습니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-comment\"\u003e# DataFrame의 첫 몇 행 미리보기\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(df.head())\n\u003cspan class=\"hljs-comment\"\u003e# DataFrame의 마지막 몇 행 미리보기\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(df.tail())\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이러한 방법들은 데이터를 로드한 후 빠르게 데이터의 개요를 제공해줍니다.\u003c/p\u003e\n\u003cp\u003e요약 통계량 사용하기\u003c/p\u003e\n\u003cp\u003e판다스는 요약 통계량을 통해 데이터의 포괄적인 개요를 제공하는 데 뛰어납니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003eGet summary statistics for numerical columns\u003c/h1\u003e\n\u003cp\u003eprint(df.describe())\u003c/p\u003e\n\u003ch1\u003eGet summary statistics for all columns including categorical\u003c/h1\u003e\n\u003cp\u003eprint(df.describe(include='all'))\u003c/p\u003e\n\u003cp\u003e이 명령어들은 데이터셋의 중심 경향성, 분산 및 형태를 요약하는 기술통계를 생성합니다.\u003c/p\u003e\n\u003ch1\u003e동물원 프로젝트의 더 많은 예제\u003c/h1\u003e\n\u003cp\u003e배운 내용을 더 실용적으로 적용해 보겠습니다 — 동물원 프로젝트입니다. 데이터를 로드하고 정리한 다음, 각 동물 종에 대한 평균 식량 필요량을 계산해 봅시다:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 동물원 데이터 분석\nzoo_df = pd.\u003cspan class=\"hljs-title function_\"\u003eread_csv\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'zoo_data.csv'\u003c/span\u003e)\n# 데이터 정제\nzoo_df.\u003cspan class=\"hljs-title function_\"\u003edropna\u003c/span\u003e(inplace=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e)\n# 종 별 평균 사료 소비량 계산\naverage_food = zoo_df.\u003cspan class=\"hljs-title function_\"\u003egroupby\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'species'\u003c/span\u003e)[\u003cspan class=\"hljs-string\"\u003e'food_per_day'\u003c/span\u003e].\u003cspan class=\"hljs-title function_\"\u003emean\u003c/span\u003e()\n\u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(average_food)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e메소드 체이닝: 코드를 더 깔끔하게 작성하는 방법\u003c/p\u003e\n\u003cp\u003e판다스의 메소드 체이닝을 사용하면 한 줄 안에 여러 작업을 쉽게 수행할 수 있습니다. 각 메소드가 다음으로 자연스럽게 이어지는 책의 장이라고 생각해보세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e pandas \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e pd\n# 샘플 동물원 데이터\ndata = {\n    \u003cspan class=\"hljs-string\"\u003e'Animal'\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e'사자'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'호랑이'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'곰'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'얼룩말'\u003c/span\u003e],\n    \u003cspan class=\"hljs-string\"\u003e'이름'\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e'레오'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'줄무늬'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'발루'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'자라'\u003c/span\u003e],\n    \u003cspan class=\"hljs-string\"\u003e'나이'\u003c/span\u003e: [\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e],\n    \u003cspan class=\"hljs-string\"\u003e'무게'\u003c/span\u003e: [\u003cspan class=\"hljs-number\"\u003e250\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e220\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e350\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e380\u003c/span\u003e]\n}\nzoo_df = pd.\u003cspan class=\"hljs-title class_\"\u003eDataFrame\u003c/span\u003e(data)\n# 메소드 체이닝 예시\nzoo_df.\u003cspan class=\"hljs-title function_\"\u003eassign\u003c/span\u003e(월령=lambda \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: x[\u003cspan class=\"hljs-string\"\u003e'나이'\u003c/span\u003e] * \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003esort_values\u003c/span\u003e(by=\u003cspan class=\"hljs-string\"\u003e'나이'\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e위의 예에서 우리는 먼저 나이를 월로 변환한 다음 나이를 기준으로 DataFrame을 정렬합니다. 이 모든 작업을 한 표현식으로 처리합니다. 이렇게 하면 코드가 더 깔끔해지고 더 효율적으로 됩니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e결과\n  동물 이름   나이   무게  월 단위 나이\n\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBear\u003c/span\u003e   \u003cspan class=\"hljs-title class_\"\u003eBaloo\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e350\u003c/span\u003e       \u003cspan class=\"hljs-number\"\u003e36\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eZebra\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eZara\u003c/span\u003e    \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e380\u003c/span\u003e       \u003cspan class=\"hljs-number\"\u003e48\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eLion\u003c/span\u003e   \u003cspan class=\"hljs-title class_\"\u003eLeo\u003c/span\u003e     \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e250\u003c/span\u003e       \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTiger\u003c/span\u003e  \u003cspan class=\"hljs-title class_\"\u003eStripes\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e   \u003cspan class=\"hljs-number\"\u003e220\u003c/span\u003e       \u003cspan class=\"hljs-number\"\u003e84\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e데이터 정렬 및 순위 매기기: 데이터 조직화\u003c/p\u003e\n\u003cp\u003e데이터를 정렬하는 것은 가장 중요한 항목이나 덜 중요한 항목을 분석할 때 중요합니다. 판다스는 이러한 작업을 위해 sort_values() 및 sort_index()를 제공합니다. 반면에 순위 매기기는 데이터에 순위를 할당하여 리더보드와 유사하게 만듭니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 체중순으로 정렬\nsorted_zoo = zoo_df.\u003cspan class=\"hljs-title function_\"\u003esort_values\u003c/span\u003e(by=\u003cspan class=\"hljs-string\"\u003e'Weight'\u003c/span\u003e, ascending=\u003cspan class=\"hljs-title class_\"\u003eFalse\u003c/span\u003e)\n# 나이순으로 동물 순위 매기기\nzoo_df[\u003cspan class=\"hljs-string\"\u003e'Age_rank'\u003c/span\u003e] = zoo_df[\u003cspan class=\"hljs-string\"\u003e'Age'\u003c/span\u003e].\u003cspan class=\"hljs-title function_\"\u003erank\u003c/span\u003e(method=\u003cspan class=\"hljs-string\"\u003e'min'\u003c/span\u003e, ascending=\u003cspan class=\"hljs-title class_\"\u003eFalse\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e데이터 걸러내기 및 그룹화: 데이터 살펴보기\u003c/p\u003e\n\u003cp\u003e필터링을 통해 특정 기준을 충족하는 데이터만 볼 수 있습니다. groupby()와 함께 사용되는 그룹화로 카테고리화된 데이터에 대한 작업을 수행할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# \u003cspan class=\"hljs-number\"\u003e300\u003c/span\u003e 파운드 이상의 동물 필터링\nheavy_animals = zoo_df[zoo_df[\u003cspan class=\"hljs-string\"\u003e'Weight'\u003c/span\u003e] \u003e \u003cspan class=\"hljs-number\"\u003e300\u003c/span\u003e]\n# 동물 종류별로 그룹핑하여 평균 체중 계산\navg_weight_by_animal = zoo_df.\u003cspan class=\"hljs-title function_\"\u003egroupby\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Animal'\u003c/span\u003e)[\u003cspan class=\"hljs-string\"\u003e'Weight'\u003c/span\u003e].\u003cspan class=\"hljs-title function_\"\u003emean\u003c/span\u003e()\n우리의 동물 데이터셋에 대한 통찰을 제공하기 위해 동물공원 프로젝트를 위한 복잡한 코드 예제를 함께 구성해 보겠습니다. 동물원 주민을 필터링, 정렬, 순위 매기는 메소드를 연쇄적으로 적용하여 데이터를 처리할 것입니다.\n# 동물원 프로젝트를 위한 복잡한 메소드 체이닝\n(zoo_df\n  .\u003cspan class=\"hljs-title function_\"\u003equery\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Weight \u003e= 200'\u003c/span\u003e)\n  .\u003cspan class=\"hljs-title function_\"\u003eassign\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eAge\u003c/span\u003e_in_months=lambda \u003cspan class=\"hljs-attr\"\u003ex\u003c/span\u003e: x[\u003cspan class=\"hljs-string\"\u003e'Age'\u003c/span\u003e] * \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e)\n  .\u003cspan class=\"hljs-title function_\"\u003esort_values\u003c/span\u003e(by=[\u003cspan class=\"hljs-string\"\u003e'Animal'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Age_in_months'\u003c/span\u003e], ascending=[\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eFalse\u003c/span\u003e])\n  .\u003cspan class=\"hljs-title function_\"\u003egroupby\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Animal'\u003c/span\u003e)\n  .\u003cspan class=\"hljs-title function_\"\u003eagg\u003c/span\u003e({\u003cspan class=\"hljs-string\"\u003e'Name'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'first'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Age_in_months'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'max'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Weight'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'mean'\u003c/span\u003e})\n  .\u003cspan class=\"hljs-title function_\"\u003erename\u003c/span\u003e(columns={\u003cspan class=\"hljs-string\"\u003e'Name'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Oldest_Animal'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Age_in_months'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Oldest_Age'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Weight'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Avg_Weight'\u003c/span\u003e})\n  .\u003cspan class=\"hljs-title function_\"\u003ereset_index\u003c/span\u003e()\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e결과\n    동물      가장 나이 많은 동물    가장 나이     평균 무게\n\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e    곰       발루           \u003cspan class=\"hljs-number\"\u003e36\u003c/span\u003e            \u003cspan class=\"hljs-number\"\u003e50.0\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e    사자      레오           \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e           \u003cspan class=\"hljs-number\"\u003e250.0\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e    호랑이    스트라이프     \u003cspan class=\"hljs-number\"\u003e84\u003c/span\u003e           \u003cspan class=\"hljs-number\"\u003e220.0\u003c/span\u003e\n\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e    얼룩말    자라           \u003cspan class=\"hljs-number\"\u003e48\u003c/span\u003e           \u003cspan class=\"hljs-number\"\u003e380.0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 블록에서는 200 파운드보다 무겁지 않은 동물을 걸러내고, 나이를 개월로 변환하며, 동물 유형과 나이순으로 정렬하여 동물 유형별로 그룹화한 다음, 가장 나이 많은 동물과 평균 무게를 찾기 위해 집계합니다. 이를 통해 데이터를 명확하고 조직적으로 볼 수 있으며, 추가 분석이나 보고에 이상적입니다.\u003c/p\u003e\n\u003cp\u003e계속해서 찾아주시기 바랍니다 (-̀ᴗ-́ )و\u003c/p\u003e\n\u003cp\u003e이전 포스트: \u003ccode\u003e- Pandas: 파이썬에서 데이터 분석의 중추\u003c/code\u003e\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e다음 - Pandas: 데이터 정리 및 변형\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-12-PandasLoadingdataintoaDataFrame"},"buildId":"M7pU9hOcx8u_ZIFMf95sd","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>