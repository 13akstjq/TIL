<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Flask와 SQLAlchemy를 사용한 데이터베이스 통합 방법 | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Flask와 SQLAlchemy를 사용한 데이터베이스 통합 방법 | TIL" data-gatsby-head="true"/><meta property="og:title" content="Flask와 SQLAlchemy를 사용한 데이터베이스 통합 방법 | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration" data-gatsby-head="true"/><meta name="twitter:title" content="Flask와 SQLAlchemy를 사용한 데이터베이스 통합 방법 | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-07 02:30" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/TIL/_next/static/chunks/463-925361deb4cec4b1.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-9d7ebbd29b9e08ce.js" defer=""></script><script src="/TIL/_next/static/QAkYP0lvl03W-5CKD69kb/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/QAkYP0lvl03W-5CKD69kb/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Flask와 SQLAlchemy를 사용한 데이터베이스 통합 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Flask와 SQLAlchemy를 사용한 데이터베이스 통합 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 7, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>이 기사에서는 SQLAlchemy를 사용하여 Flask 애플리케이션에 데이터베이스를 통합하는 방법에 대해 살펴볼 것입니다. SQLAlchemy는 데이터베이스 상호 작용을 훨씬 쉽게 만드는 파이썬용 강력한 SQL 툴킷 및 객체 관계 매핑(ORM) 라이브러리입니다.</p>
<p><img src="/TIL/assets/img/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration_0.png" alt="이미지"></p>
<p>SQLAlchemy란 무엇인가요?
SQLAlchemy는 개발자들이 파이썬 객체를 사용하여 데이터베이스 작업을 수행할 수 있는 인기 있는 ORM 라이브러리로, 원시 SQL 쿼리를 작성하지 않고도 데이터베이스 작업을 더 쉽게 관리할 수 있게 해줍니다.</p>
<h2>Flask 및 SQLAlchemy 설정하기</h2>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>우선, 컴퓨터에 Python이 설치되어 있는지 확인하세요. 그런 다음 pip를 사용하여 Flask와 SQLAlchemy를 설치하세요:</p>
<pre><code class="hljs language-js">pip install <span class="hljs-title class_">Flask</span> <span class="hljs-title class_">SQLAlchemy</span>
</code></pre>
<p>SQLAlchemy를 사용한 기본 Flask 애플리케이션 만들기</p>
<ul>
<li>프로젝트 구조: 프로젝트 구조를 다음과 같이 설정하세요:</li>
</ul>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">flask_sqlalchemy_example/
├── app.<span class="hljs-property">py</span>
├── config.<span class="hljs-property">py</span>
├── models.<span class="hljs-property">py</span>
└── requirements.<span class="hljs-property">txt</span>
</code></pre>
<ol start="2">
<li>Configuration: 데이터베이스 구성을 저장하는 config.py 파일을 만들어보세요:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> os

basedir = os.path.abspath(os.path.dirname(__file__))

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Config</span>:
    SQLALCHEMY_DATABASE_URI = <span class="hljs-string">'sqlite:///'</span> + os.path.join(basedir, <span class="hljs-string">'app.db'</span>)
    SQLALCHEMY_TRACK_MODIFICATIONS = <span class="hljs-literal">False</span>
</code></pre>
<ol start="3">
<li>모델 정의: 데이터베이스 모델을 정의하는 models.py 파일을 생성하세요:</li>
</ol>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python">아래는 Flask 애플리케이션을 개발하기 위한 코드 예제입니다.

<span class="hljs-keyword">from</span> flask_sqlalchemy <span class="hljs-keyword">import</span> SQLAlchemy

db = SQLAlchemy()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(db.Model):
    <span class="hljs-built_in">id</span> = db.Column(db.Integer, primary_key=<span class="hljs-literal">True</span>)
    username = db.Column(db.String(<span class="hljs-number">80</span>), unique=<span class="hljs-literal">True</span>, nullable=<span class="hljs-literal">False</span>)
    email = db.Column(db.String(<span class="hljs-number">120</span>), unique=<span class="hljs-literal">True</span>, nullable=<span class="hljs-literal">False</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">f'&#x3C;User <span class="hljs-subst">{self.username}</span>>'</span>

<span class="hljs-number">4.</span> Flask 애플리케이션 생성: 메인 애플리케이션 파일인 app.py를 생성하세요.

<span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask
<span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> Config
<span class="hljs-keyword">from</span> models <span class="hljs-keyword">import</span> db, User

app = Flask(__name__)
app.config.from_object(Config)
db.init_app(app)

<span class="hljs-meta">@app.before_first_request</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_tables</span>():
    db.create_all()

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/'</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">home</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Flask with SQLAlchemy 예제에 오신 것을 환영합니다!"</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    app.run(debug=<span class="hljs-literal">True</span>)

<span class="hljs-number">5.</span> 애플리케이션 실행: 애플리케이션을 실행하고 데이터베이스를 생성하세요.

&#x3C;!-- TIL 수평 -->
&#x3C;ins <span class="hljs-keyword">class</span>=<span class="hljs-string">"adsbygoogle"</span>
     style=<span class="hljs-string">"display:block"</span>
     data-ad-client=<span class="hljs-string">"ca-pub-4877378276818686"</span>
     data-ad-slot=<span class="hljs-string">"1549334788"</span>
     data-ad-<span class="hljs-built_in">format</span>=<span class="hljs-string">"auto"</span>
     data-full-width-responsive=<span class="hljs-string">"true"</span>>&#x3C;/ins>
&#x3C;script>
(adsbygoogle = window.adsbygoogle || []).push({});
&#x3C;/script>

python app.py

<span class="hljs-comment">## CRUD 작업 추가하기</span>

이제 사용자 모델을 관리하기 위해 CRUD(Create, Read, Update, Delete) 작업을 추가해 봅시다.

- 사용자 생성: 새 사용자를 생성하는 라우트를 추가하세요:

&#x3C;!-- TIL 수평 -->
&#x3C;ins <span class="hljs-keyword">class</span>=<span class="hljs-string">"adsbygoogle"</span>
     style=<span class="hljs-string">"display:block"</span>
     data-ad-client=<span class="hljs-string">"ca-pub-4877378276818686"</span>
     data-ad-slot=<span class="hljs-string">"1549334788"</span>
     data-ad-<span class="hljs-built_in">format</span>=<span class="hljs-string">"auto"</span>
     data-full-width-responsive=<span class="hljs-string">"true"</span>>&#x3C;/ins>
&#x3C;script>
(adsbygoogle = window.adsbygoogle || []).push({});
&#x3C;/script>

<span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> request, jsonify

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>():
    data = request.get_json()
    new_user = User(username=data[<span class="hljs-string">'username'</span>], email=data[<span class="hljs-string">'email'</span>])
    db.session.add(new_user)
    db.session.commit()
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'사용자가 성공적으로 생성되었습니다!'</span>}), <span class="hljs-number">201</span>

<span class="hljs-number">2.</span> 모든 사용자 가져오기: 모든 사용자를 가져오는 라우트를 추가합니다:

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users'</span>, methods=[<span class="hljs-string">'GET'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_users</span>():
    users = User.query.<span class="hljs-built_in">all</span>()
    <span class="hljs-keyword">return</span> jsonify([{<span class="hljs-string">'id'</span>: user.<span class="hljs-built_in">id</span>, <span class="hljs-string">'username'</span>: user.username, <span class="hljs-string">'email'</span>: user.email} <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users])

<span class="hljs-number">3.</span> 단일 사용자 가져오기: ID로 사용자를 가져오는 라우트를 추가합니다:

&#x3C;!-- TIL 수평 -->
&#x3C;ins <span class="hljs-keyword">class</span>=<span class="hljs-string">"adsbygoogle"</span>
     style=<span class="hljs-string">"display:block"</span>
     data-ad-client=<span class="hljs-string">"ca-pub-4877378276818686"</span>
     data-ad-slot=<span class="hljs-string">"1549334788"</span>
     data-ad-<span class="hljs-built_in">format</span>=<span class="hljs-string">"auto"</span>
     data-full-width-responsive=<span class="hljs-string">"true"</span>>&#x3C;/ins>
&#x3C;script>
(adsbygoogle = window.adsbygoogle || []).push({});
&#x3C;/script>

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users/&#x3C;int:id>'</span>, methods=[<span class="hljs-string">'GET'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params"><span class="hljs-built_in">id</span></span>):
    user = User.query.get_or_404(<span class="hljs-built_in">id</span>)
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'id'</span>: user.<span class="hljs-built_in">id</span>, <span class="hljs-string">'username'</span>: user.username, <span class="hljs-string">'email'</span>: user.email})

<span class="hljs-number">4.</span> 사용자 업데이트: ID로 사용자를 업데이트하는 라우트를 추가하세요:

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users/&#x3C;int:id>'</span>, methods=[<span class="hljs-string">'PUT'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">update_user</span>(<span class="hljs-params"><span class="hljs-built_in">id</span></span>):
    data = request.get_json()
    user = User.query.get_or_404(<span class="hljs-built_in">id</span>)
    user.username = data[<span class="hljs-string">'username'</span>]
    user.email = data[<span class="hljs-string">'email'</span>]
    db.session.commit()
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'사용자가 성공적으로 업데이트되었습니다!'</span>})

<span class="hljs-number">5.</span> 사용자 삭제: ID로 사용자를 삭제하는 라우트를 추가하세요:

&#x3C;!-- TIL 수평 -->
&#x3C;ins <span class="hljs-keyword">class</span>=<span class="hljs-string">"adsbygoogle"</span>
     style=<span class="hljs-string">"display:block"</span>
     data-ad-client=<span class="hljs-string">"ca-pub-4877378276818686"</span>
     data-ad-slot=<span class="hljs-string">"1549334788"</span>
     data-ad-<span class="hljs-built_in">format</span>=<span class="hljs-string">"auto"</span>
     data-full-width-responsive=<span class="hljs-string">"true"</span>>&#x3C;/ins>
&#x3C;script>
(adsbygoogle = window.adsbygoogle || []).push({});
&#x3C;/script>

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users/&#x3C;int:id>'</span>, methods=[<span class="hljs-string">'DELETE'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_user</span>(<span class="hljs-params"><span class="hljs-built_in">id</span></span>):
    user = User.query.get_or_404(<span class="hljs-built_in">id</span>)
    db.session.delete(user)
    db.session.commit()
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'사용자가 성공적으로 삭제되었습니다!'</span>})

최종 app.py 코드

CRUD 작업이 모두 포함된 완성된 app.py는 아래와 같습니다:
<span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, jsonify
<span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> Config
<span class="hljs-keyword">from</span> models <span class="hljs-keyword">import</span> db, User

app = Flask(__name__)
app.config.from_object(Config)
db.init_app(app)

<span class="hljs-meta">@app.before_first_request</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_tables</span>():
    db.create_all()

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/'</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">home</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Flask with SQLAlchemy 예제에 오신 것을 환영합니다!"</span>

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users'</span>, methods=[<span class="hljs-string">'POST'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_user</span>():
    data = request.get_json()
    new_user = User(username=data[<span class="hljs-string">'username'</span>], email=data[<span class="hljs-string">'email'</span>])
    db.session.add(new_user)
    db.session.commit()
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'사용자가 성공적으로 생성되었습니다!'</span>}), <span class="hljs-number">201</span>

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users'</span>, methods=[<span class="hljs-string">'GET'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_users</span>():
    users = User.query.<span class="hljs-built_in">all</span>()
    <span class="hljs-keyword">return</span> jsonify([{<span class="hljs-string">'id'</span>: user.<span class="hljs-built_in">id</span>, <span class="hljs-string">'username'</span>: user.username, <span class="hljs-string">'email'</span>: user.email} <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users])

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users/&#x3C;int:id>'</span>, methods=[<span class="hljs-string">'GET'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user</span>(<span class="hljs-params"><span class="hljs-built_in">id</span></span>):
    user = User.query.get_or_404(<span class="hljs-built_in">id</span>)
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'id'</span>: user.<span class="hljs-built_in">id</span>, <span class="hljs-string">'username'</span>: user.username, <span class="hljs-string">'email'</span>: user.email})

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users/&#x3C;int:id>'</span>, methods=[<span class="hljs-string">'PUT'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">update_user</span>(<span class="hljs-params"><span class="hljs-built_in">id</span></span>):
    data = request.get_json()
    user = User.query.get_or_404(<span class="hljs-built_in">id</span>)
    user.username = data[<span class="hljs-string">'username'</span>]
    user.email = data[<span class="hljs-string">'email'</span>]
    db.session.commit()
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'사용자가 성공적으로 업데이트되었습니다!'</span>})

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/users/&#x3C;int:id>'</span>, methods=[<span class="hljs-string">'DELETE'</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">delete_user</span>(<span class="hljs-params"><span class="hljs-built_in">id</span></span>):
    user = User.query.get_or_404(<span class="hljs-built_in">id</span>)
    db.session.delete(user)
    db.session.commit()
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">'message'</span>: <span class="hljs-string">'사용자가 성공적으로 삭제되었습니다!'</span>})

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    app.run(debug=<span class="hljs-literal">True</span>)

&#x3C;!-- TIL 수평 -->
&#x3C;ins <span class="hljs-keyword">class</span>=<span class="hljs-string">"adsbygoogle"</span>
     style=<span class="hljs-string">"display:block"</span>
     data-ad-client=<span class="hljs-string">"ca-pub-4877378276818686"</span>
     data-ad-slot=<span class="hljs-string">"1549334788"</span>
     data-ad-<span class="hljs-built_in">format</span>=<span class="hljs-string">"auto"</span>
     data-full-width-responsive=<span class="hljs-string">"true"</span>>&#x3C;/ins>
&#x3C;script>
(adsbygoogle = window.adsbygoogle || []).push({});
&#x3C;/script>

이 글에서는 SQLAlchemy를 Flask와 통합하여 데이터베이스 작업을 관리하는 방법을 다루었습니다. 우리는 간단한 사용자 모델을 생성하고 데이터베이스와 상호 작용하기 위한 CRUD 작업을 구현했습니다. SQLAlchemy의 ORM 기능은 Flask 애플리케이션에서 데이터베이스 관리를 위한 강력한 도구로 만들어 줍니다.
</code></pre>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Flask와 SQLAlchemy를 사용한 데이터베이스 통합 방법","description":"","date":"2024-07-07 02:30","slug":"2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration","content":"\n이 기사에서는 SQLAlchemy를 사용하여 Flask 애플리케이션에 데이터베이스를 통합하는 방법에 대해 살펴볼 것입니다. SQLAlchemy는 데이터베이스 상호 작용을 훨씬 쉽게 만드는 파이썬용 강력한 SQL 툴킷 및 객체 관계 매핑(ORM) 라이브러리입니다.\n\n![이미지](/TIL/assets/img/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration_0.png)\n\nSQLAlchemy란 무엇인가요?\nSQLAlchemy는 개발자들이 파이썬 객체를 사용하여 데이터베이스 작업을 수행할 수 있는 인기 있는 ORM 라이브러리로, 원시 SQL 쿼리를 작성하지 않고도 데이터베이스 작업을 더 쉽게 관리할 수 있게 해줍니다.\n\n## Flask 및 SQLAlchemy 설정하기\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n우선, 컴퓨터에 Python이 설치되어 있는지 확인하세요. 그런 다음 pip를 사용하여 Flask와 SQLAlchemy를 설치하세요:\n\n```js\npip install Flask SQLAlchemy\n```\n\nSQLAlchemy를 사용한 기본 Flask 애플리케이션 만들기\n\n- 프로젝트 구조: 프로젝트 구조를 다음과 같이 설정하세요:\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nflask_sqlalchemy_example/\n├── app.py\n├── config.py\n├── models.py\n└── requirements.txt\n```\n\n2. Configuration: 데이터베이스 구성을 저장하는 config.py 파일을 만들어보세요:\n\n```python\nimport os\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\n\nclass Config:\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n```\n\n3. 모델 정의: 데이터베이스 모델을 정의하는 models.py 파일을 생성하세요:\n\n\u003c!-- TIL 수평 --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\n아래는 Flask 애플리케이션을 개발하기 위한 코드 예제입니다.\n\nfrom flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n\nclass User(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n\n    def __repr__(self):\n        return f'\u003cUser {self.username}\u003e'\n\n4. Flask 애플리케이션 생성: 메인 애플리케이션 파일인 app.py를 생성하세요.\n\nfrom flask import Flask\nfrom config import Config\nfrom models import db, User\n\napp = Flask(__name__)\napp.config.from_object(Config)\ndb.init_app(app)\n\n@app.before_first_request\ndef create_tables():\n    db.create_all()\n\n@app.route('/')\ndef home():\n    return \"Flask with SQLAlchemy 예제에 오신 것을 환영합니다!\"\n\nif __name__ == '__main__':\n    app.run(debug=True)\n\n5. 애플리케이션 실행: 애플리케이션을 실행하고 데이터베이스를 생성하세요.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\npython app.py\n\n## CRUD 작업 추가하기\n\n이제 사용자 모델을 관리하기 위해 CRUD(Create, Read, Update, Delete) 작업을 추가해 봅시다.\n\n- 사용자 생성: 새 사용자를 생성하는 라우트를 추가하세요:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nfrom flask import request, jsonify\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    data = request.get_json()\n    new_user = User(username=data['username'], email=data['email'])\n    db.session.add(new_user)\n    db.session.commit()\n    return jsonify({'message': '사용자가 성공적으로 생성되었습니다!'}), 201\n\n2. 모든 사용자 가져오기: 모든 사용자를 가져오는 라우트를 추가합니다:\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    users = User.query.all()\n    return jsonify([{'id': user.id, 'username': user.username, 'email': user.email} for user in users])\n\n3. 단일 사용자 가져오기: ID로 사용자를 가져오는 라우트를 추가합니다:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n@app.route('/users/\u003cint:id\u003e', methods=['GET'])\ndef get_user(id):\n    user = User.query.get_or_404(id)\n    return jsonify({'id': user.id, 'username': user.username, 'email': user.email})\n\n4. 사용자 업데이트: ID로 사용자를 업데이트하는 라우트를 추가하세요:\n\n@app.route('/users/\u003cint:id\u003e', methods=['PUT'])\ndef update_user(id):\n    data = request.get_json()\n    user = User.query.get_or_404(id)\n    user.username = data['username']\n    user.email = data['email']\n    db.session.commit()\n    return jsonify({'message': '사용자가 성공적으로 업데이트되었습니다!'})\n\n5. 사용자 삭제: ID로 사용자를 삭제하는 라우트를 추가하세요:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n@app.route('/users/\u003cint:id\u003e', methods=['DELETE'])\ndef delete_user(id):\n    user = User.query.get_or_404(id)\n    db.session.delete(user)\n    db.session.commit()\n    return jsonify({'message': '사용자가 성공적으로 삭제되었습니다!'})\n\n최종 app.py 코드\n\nCRUD 작업이 모두 포함된 완성된 app.py는 아래와 같습니다:\nfrom flask import Flask, request, jsonify\nfrom config import Config\nfrom models import db, User\n\napp = Flask(__name__)\napp.config.from_object(Config)\ndb.init_app(app)\n\n@app.before_first_request\ndef create_tables():\n    db.create_all()\n\n@app.route('/')\ndef home():\n    return \"Flask with SQLAlchemy 예제에 오신 것을 환영합니다!\"\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    data = request.get_json()\n    new_user = User(username=data['username'], email=data['email'])\n    db.session.add(new_user)\n    db.session.commit()\n    return jsonify({'message': '사용자가 성공적으로 생성되었습니다!'}), 201\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    users = User.query.all()\n    return jsonify([{'id': user.id, 'username': user.username, 'email': user.email} for user in users])\n\n@app.route('/users/\u003cint:id\u003e', methods=['GET'])\ndef get_user(id):\n    user = User.query.get_or_404(id)\n    return jsonify({'id': user.id, 'username': user.username, 'email': user.email})\n\n@app.route('/users/\u003cint:id\u003e', methods=['PUT'])\ndef update_user(id):\n    data = request.get_json()\n    user = User.query.get_or_404(id)\n    user.username = data['username']\n    user.email = data['email']\n    db.session.commit()\n    return jsonify({'message': '사용자가 성공적으로 업데이트되었습니다!'})\n\n@app.route('/users/\u003cint:id\u003e', methods=['DELETE'])\ndef delete_user(id):\n    user = User.query.get_or_404(id)\n    db.session.delete(user)\n    db.session.commit()\n    return jsonify({'message': '사용자가 성공적으로 삭제되었습니다!'})\n\nif __name__ == '__main__':\n    app.run(debug=True)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 글에서는 SQLAlchemy를 Flask와 통합하여 데이터베이스 작업을 관리하는 방법을 다루었습니다. 우리는 간단한 사용자 모델을 생성하고 데이터베이스와 상호 작용하기 위한 CRUD 작업을 구현했습니다. SQLAlchemy의 ORM 기능은 Flask 애플리케이션에서 데이터베이스 관리를 위한 강력한 도구로 만들어 줍니다.\n```\n","ogImage":{"url":"/assets/img/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration_0.png"},"coverImage":"/TIL/assets/img/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e이 기사에서는 SQLAlchemy를 사용하여 Flask 애플리케이션에 데이터베이스를 통합하는 방법에 대해 살펴볼 것입니다. SQLAlchemy는 데이터베이스 상호 작용을 훨씬 쉽게 만드는 파이썬용 강력한 SQL 툴킷 및 객체 관계 매핑(ORM) 라이브러리입니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003eSQLAlchemy란 무엇인가요?\nSQLAlchemy는 개발자들이 파이썬 객체를 사용하여 데이터베이스 작업을 수행할 수 있는 인기 있는 ORM 라이브러리로, 원시 SQL 쿼리를 작성하지 않고도 데이터베이스 작업을 더 쉽게 관리할 수 있게 해줍니다.\u003c/p\u003e\n\u003ch2\u003eFlask 및 SQLAlchemy 설정하기\u003c/h2\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e우선, 컴퓨터에 Python이 설치되어 있는지 확인하세요. 그런 다음 pip를 사용하여 Flask와 SQLAlchemy를 설치하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003epip install \u003cspan class=\"hljs-title class_\"\u003eFlask\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSQLAlchemy\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSQLAlchemy를 사용한 기본 Flask 애플리케이션 만들기\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e프로젝트 구조: 프로젝트 구조를 다음과 같이 설정하세요:\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eflask_sqlalchemy_example/\n├── app.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n├── config.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n├── models.\u003cspan class=\"hljs-property\"\u003epy\u003c/span\u003e\n└── requirements.\u003cspan class=\"hljs-property\"\u003etxt\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eConfiguration: 데이터베이스 구성을 저장하는 config.py 파일을 만들어보세요:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e os\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eConfig\u003c/span\u003e:\n    SQLALCHEMY_DATABASE_URI = \u003cspan class=\"hljs-string\"\u003e'sqlite:///'\u003c/span\u003e + os.path.join(basedir, \u003cspan class=\"hljs-string\"\u003e'app.db'\u003c/span\u003e)\n    SQLALCHEMY_TRACK_MODIFICATIONS = \u003cspan class=\"hljs-literal\"\u003eFalse\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e모델 정의: 데이터베이스 모델을 정의하는 models.py 파일을 생성하세요:\u003c/li\u003e\n\u003c/ol\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e아래는 Flask 애플리케이션을 개발하기 위한 코드 예제입니다.\n\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e flask_sqlalchemy \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e SQLAlchemy\n\ndb = SQLAlchemy()\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUser\u003c/span\u003e(db.Model):\n    \u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e = db.Column(db.Integer, primary_key=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e)\n    username = db.Column(db.String(\u003cspan class=\"hljs-number\"\u003e80\u003c/span\u003e), unique=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e, nullable=\u003cspan class=\"hljs-literal\"\u003eFalse\u003c/span\u003e)\n    email = db.Column(db.String(\u003cspan class=\"hljs-number\"\u003e120\u003c/span\u003e), unique=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e, nullable=\u003cspan class=\"hljs-literal\"\u003eFalse\u003c/span\u003e)\n\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e__repr__\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eself\u003c/span\u003e):\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ef'\u0026#x3C;User \u003cspan class=\"hljs-subst\"\u003e{self.username}\u003c/span\u003e\u003e'\u003c/span\u003e\n\n\u003cspan class=\"hljs-number\"\u003e4.\u003c/span\u003e Flask 애플리케이션 생성: 메인 애플리케이션 파일인 app.py를 생성하세요.\n\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e flask \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Flask\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e config \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Config\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e models \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e db, User\n\napp = Flask(__name__)\napp.config.from_object(Config)\ndb.init_app(app)\n\n\u003cspan class=\"hljs-meta\"\u003e@app.before_first_request\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreate_tables\u003c/span\u003e():\n    db.create_all()\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehome\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Flask with SQLAlchemy 예제에 오신 것을 환영합니다!\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e __name__ == \u003cspan class=\"hljs-string\"\u003e'__main__'\u003c/span\u003e:\n    app.run(debug=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e)\n\n\u003cspan class=\"hljs-number\"\u003e5.\u003c/span\u003e 애플리케이션 실행: 애플리케이션을 실행하고 데이터베이스를 생성하세요.\n\n\u0026#x3C;!-- TIL 수평 --\u003e\n\u0026#x3C;ins \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"adsbygoogle\"\u003c/span\u003e\n     style=\u003cspan class=\"hljs-string\"\u003e\"display:block\"\u003c/span\u003e\n     data-ad-client=\u003cspan class=\"hljs-string\"\u003e\"ca-pub-4877378276818686\"\u003c/span\u003e\n     data-ad-slot=\u003cspan class=\"hljs-string\"\u003e\"1549334788\"\u003c/span\u003e\n     data-ad-\u003cspan class=\"hljs-built_in\"\u003eformat\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"auto\"\u003c/span\u003e\n     data-full-width-responsive=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u0026#x3C;/ins\u003e\n\u0026#x3C;script\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u0026#x3C;/script\u003e\n\npython app.py\n\n\u003cspan class=\"hljs-comment\"\u003e## CRUD 작업 추가하기\u003c/span\u003e\n\n이제 사용자 모델을 관리하기 위해 CRUD(Create, Read, Update, Delete) 작업을 추가해 봅시다.\n\n- 사용자 생성: 새 사용자를 생성하는 라우트를 추가하세요:\n\n\u0026#x3C;!-- TIL 수평 --\u003e\n\u0026#x3C;ins \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"adsbygoogle\"\u003c/span\u003e\n     style=\u003cspan class=\"hljs-string\"\u003e\"display:block\"\u003c/span\u003e\n     data-ad-client=\u003cspan class=\"hljs-string\"\u003e\"ca-pub-4877378276818686\"\u003c/span\u003e\n     data-ad-slot=\u003cspan class=\"hljs-string\"\u003e\"1549334788\"\u003c/span\u003e\n     data-ad-\u003cspan class=\"hljs-built_in\"\u003eformat\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"auto\"\u003c/span\u003e\n     data-full-width-responsive=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u0026#x3C;/ins\u003e\n\u0026#x3C;script\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u0026#x3C;/script\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e flask \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e request, jsonify\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'POST'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreate_user\u003c/span\u003e():\n    data = request.get_json()\n    new_user = User(username=data[\u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e], email=data[\u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e])\n    db.session.add(new_user)\n    db.session.commit()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'사용자가 성공적으로 생성되었습니다!'\u003c/span\u003e}), \u003cspan class=\"hljs-number\"\u003e201\u003c/span\u003e\n\n\u003cspan class=\"hljs-number\"\u003e2.\u003c/span\u003e 모든 사용자 가져오기: 모든 사용자를 가져오는 라우트를 추가합니다:\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'GET'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eget_users\u003c/span\u003e():\n    users = User.query.\u003cspan class=\"hljs-built_in\"\u003eall\u003c/span\u003e()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify([{\u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e: user.\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e: user.username, \u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e: user.email} \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e user \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e users])\n\n\u003cspan class=\"hljs-number\"\u003e3.\u003c/span\u003e 단일 사용자 가져오기: ID로 사용자를 가져오는 라우트를 추가합니다:\n\n\u0026#x3C;!-- TIL 수평 --\u003e\n\u0026#x3C;ins \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"adsbygoogle\"\u003c/span\u003e\n     style=\u003cspan class=\"hljs-string\"\u003e\"display:block\"\u003c/span\u003e\n     data-ad-client=\u003cspan class=\"hljs-string\"\u003e\"ca-pub-4877378276818686\"\u003c/span\u003e\n     data-ad-slot=\u003cspan class=\"hljs-string\"\u003e\"1549334788\"\u003c/span\u003e\n     data-ad-\u003cspan class=\"hljs-built_in\"\u003eformat\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"auto\"\u003c/span\u003e\n     data-full-width-responsive=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u0026#x3C;/ins\u003e\n\u0026#x3C;script\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u0026#x3C;/script\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users/\u0026#x3C;int:id\u003e'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'GET'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eget_user\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\u003c/span\u003e):\n    user = User.query.get_or_404(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e: user.\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e: user.username, \u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e: user.email})\n\n\u003cspan class=\"hljs-number\"\u003e4.\u003c/span\u003e 사용자 업데이트: ID로 사용자를 업데이트하는 라우트를 추가하세요:\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users/\u0026#x3C;int:id\u003e'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'PUT'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eupdate_user\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\u003c/span\u003e):\n    data = request.get_json()\n    user = User.query.get_or_404(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e)\n    user.username = data[\u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e]\n    user.email = data[\u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e]\n    db.session.commit()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'사용자가 성공적으로 업데이트되었습니다!'\u003c/span\u003e})\n\n\u003cspan class=\"hljs-number\"\u003e5.\u003c/span\u003e 사용자 삭제: ID로 사용자를 삭제하는 라우트를 추가하세요:\n\n\u0026#x3C;!-- TIL 수평 --\u003e\n\u0026#x3C;ins \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"adsbygoogle\"\u003c/span\u003e\n     style=\u003cspan class=\"hljs-string\"\u003e\"display:block\"\u003c/span\u003e\n     data-ad-client=\u003cspan class=\"hljs-string\"\u003e\"ca-pub-4877378276818686\"\u003c/span\u003e\n     data-ad-slot=\u003cspan class=\"hljs-string\"\u003e\"1549334788\"\u003c/span\u003e\n     data-ad-\u003cspan class=\"hljs-built_in\"\u003eformat\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"auto\"\u003c/span\u003e\n     data-full-width-responsive=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u0026#x3C;/ins\u003e\n\u0026#x3C;script\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u0026#x3C;/script\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users/\u0026#x3C;int:id\u003e'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'DELETE'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelete_user\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\u003c/span\u003e):\n    user = User.query.get_or_404(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e)\n    db.session.delete(user)\n    db.session.commit()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'사용자가 성공적으로 삭제되었습니다!'\u003c/span\u003e})\n\n최종 app.py 코드\n\nCRUD 작업이 모두 포함된 완성된 app.py는 아래와 같습니다:\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e flask \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Flask, request, jsonify\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e config \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Config\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e models \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e db, User\n\napp = Flask(__name__)\napp.config.from_object(Config)\ndb.init_app(app)\n\n\u003cspan class=\"hljs-meta\"\u003e@app.before_first_request\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreate_tables\u003c/span\u003e():\n    db.create_all()\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehome\u003c/span\u003e():\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Flask with SQLAlchemy 예제에 오신 것을 환영합니다!\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'POST'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecreate_user\u003c/span\u003e():\n    data = request.get_json()\n    new_user = User(username=data[\u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e], email=data[\u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e])\n    db.session.add(new_user)\n    db.session.commit()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'사용자가 성공적으로 생성되었습니다!'\u003c/span\u003e}), \u003cspan class=\"hljs-number\"\u003e201\u003c/span\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'GET'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eget_users\u003c/span\u003e():\n    users = User.query.\u003cspan class=\"hljs-built_in\"\u003eall\u003c/span\u003e()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify([{\u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e: user.\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e: user.username, \u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e: user.email} \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e user \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e users])\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users/\u0026#x3C;int:id\u003e'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'GET'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eget_user\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\u003c/span\u003e):\n    user = User.query.get_or_404(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'id'\u003c/span\u003e: user.\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e: user.username, \u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e: user.email})\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users/\u0026#x3C;int:id\u003e'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'PUT'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eupdate_user\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\u003c/span\u003e):\n    data = request.get_json()\n    user = User.query.get_or_404(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e)\n    user.username = data[\u003cspan class=\"hljs-string\"\u003e'username'\u003c/span\u003e]\n    user.email = data[\u003cspan class=\"hljs-string\"\u003e'email'\u003c/span\u003e]\n    db.session.commit()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'사용자가 성공적으로 업데이트되었습니다!'\u003c/span\u003e})\n\n\u003cspan class=\"hljs-meta\"\u003e@app.route(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-string\"\u003e'/users/\u0026#x3C;int:id\u003e'\u003c/span\u003e, methods=[\u003cspan class=\"hljs-string\"\u003e'DELETE'\u003c/span\u003e]\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelete_user\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e\u003c/span\u003e):\n    user = User.query.get_or_404(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e)\n    db.session.delete(user)\n    db.session.commit()\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e jsonify({\u003cspan class=\"hljs-string\"\u003e'message'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'사용자가 성공적으로 삭제되었습니다!'\u003c/span\u003e})\n\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e __name__ == \u003cspan class=\"hljs-string\"\u003e'__main__'\u003c/span\u003e:\n    app.run(debug=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e)\n\n\u0026#x3C;!-- TIL 수평 --\u003e\n\u0026#x3C;ins \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"adsbygoogle\"\u003c/span\u003e\n     style=\u003cspan class=\"hljs-string\"\u003e\"display:block\"\u003c/span\u003e\n     data-ad-client=\u003cspan class=\"hljs-string\"\u003e\"ca-pub-4877378276818686\"\u003c/span\u003e\n     data-ad-slot=\u003cspan class=\"hljs-string\"\u003e\"1549334788\"\u003c/span\u003e\n     data-ad-\u003cspan class=\"hljs-built_in\"\u003eformat\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"auto\"\u003c/span\u003e\n     data-full-width-responsive=\u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e\u003e\u0026#x3C;/ins\u003e\n\u0026#x3C;script\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u0026#x3C;/script\u003e\n\n이 글에서는 SQLAlchemy를 Flask와 통합하여 데이터베이스 작업을 관리하는 방법을 다루었습니다. 우리는 간단한 사용자 모델을 생성하고 데이터베이스와 상호 작용하기 위한 CRUD 작업을 구현했습니다. SQLAlchemy의 ORM 기능은 Flask 애플리케이션에서 데이터베이스 관리를 위한 강력한 도구로 만들어 줍니다.\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-07-UsingFlaskwithSQLAlchemyforDatabaseIntegration"},"buildId":"QAkYP0lvl03W-5CKD69kb","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>