<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>BlockNote의 Text-To-Speech 기능 구현 방법 - Nextjs 사용  | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="BlockNote의 Text-To-Speech 기능 구현 방법 - Nextjs 사용  | TIL" data-gatsby-head="true"/><meta property="og:title" content="BlockNote의 Text-To-Speech 기능 구현 방법 - Nextjs 사용  | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/TIL/assets/img/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs" data-gatsby-head="true"/><meta name="twitter:title" content="BlockNote의 Text-To-Speech 기능 구현 방법 - Nextjs 사용  | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/assets/img/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-14 20:49" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/0eef537492fed77a.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/0eef537492fed77a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-8ded8b979ba73586.js" defer=""></script><script src="/TIL/_next/static/KUC9M_yIlA1Ugo01xmkHL/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/KUC9M_yIlA1Ugo01xmkHL/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">BlockNote의 Text-To-Speech 기능 구현 방법 - Nextjs 사용 </h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="BlockNote의 Text-To-Speech 기능 구현 방법 - Nextjs 사용 " loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 14, 2024</span><span class="posts_reading_time__f7YPP">7<!-- --> min read</span></span></div></div></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<h2>와우: WYSIWYG 편집기로 텍스트 음성 변환 기능!</h2>
<p>로켓 과학을 해결했습니다! 물론 거짓말이에요. BlockNote에 텍스트 음성 변환 기능을 Next.Js에서 어떻게 구현할지 알아냈습니다. BlockNote를 모르시면, Next.js에서 WYSIWYG 편집기 문제에 대한 해결책을 발견한 기사를 읽어보세요.</p>
<p>그러니까 읽어보세요. 하지만 여러분의 지식 부족함에도 불구하고, 저는 계속 이 기사를 쓸 겁니다. BlockNote를 아는 여러분은 이 기사로 들어가 봅시다. 출발!</p>
<p><img src="/TIL/assets/img/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs_0.png" alt="이미지"></p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>요약</h1>
<p>우리는 블록을 HTML로 변환하여 Firebase에 BlockNote 데이터를 저장하는 방법을 배웠어요. 그 기사를 읽었다면 가상으로 엄지척을 할게요. 그럼, 코드는 지금 이렇게 보일 거예요:</p>
<pre><code class="hljs language-js"><span class="hljs-string">'use client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect, useRef, <span class="hljs-title class_">ChangeEvent</span>, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useSearchParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/navigation'</span>;
<span class="hljs-keyword">import</span> { firestore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../../firebase'</span>;
<span class="hljs-keyword">import</span> { getDoc, doc, updateDoc } <span class="hljs-keyword">from</span> <span class="hljs-string">'firebase/firestore'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">"@blocknote/core/fonts/inter.css"</span>;
<span class="hljs-keyword">import</span> { useCreateBlockNote } <span class="hljs-keyword">from</span> <span class="hljs-string">"@blocknote/react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BlockNoteView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@blocknote/mantine"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">"@blocknote/mantine/style.css"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Block</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@blocknote/core"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Document</span>(<span class="hljs-params"></span>) {
 <span class="hljs-keyword">const</span> params = <span class="hljs-title function_">useSearchParams</span>();
 <span class="hljs-keyword">const</span> docId = params.<span class="hljs-title function_">get</span>(<span class="hljs-string">"id"</span>);
 <span class="hljs-keyword">const</span> [title, setTitle] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
 <span class="hljs-keyword">const</span> [value, setValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
 <span class="hljs-keyword">const</span> [blocks, setBlocks] = useState&#x3C;<span class="hljs-title class_">Block</span>[]>([]);

   <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchDocument</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) => {
     <span class="hljs-keyword">if</span> (!docId) <span class="hljs-keyword">return</span>;

     <span class="hljs-keyword">const</span> docRef = <span class="hljs-title function_">doc</span>(firestore, <span class="hljs-string">`documents/<span class="hljs-subst">${docId}</span>`</span>);
     <span class="hljs-keyword">try</span> {
       <span class="hljs-keyword">const</span> docSnap = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getDoc</span>(docRef);
       <span class="hljs-keyword">if</span> (docSnap.<span class="hljs-title function_">exists</span>()) {
         <span class="hljs-keyword">const</span> data = docSnap.<span class="hljs-title function_">data</span>();
         <span class="hljs-title function_">setTitle</span>(data.<span class="hljs-property">title</span> || <span class="hljs-string">''</span>);
         <span class="hljs-title function_">setValue</span>(data.<span class="hljs-property">content</span> || <span class="hljs-string">''</span>);
       } <span class="hljs-keyword">else</span> {
         <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Document does not exist'</span>);
       }
     } <span class="hljs-keyword">catch</span> (error) {
       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error fetching document: '</span>, error);
     }
   };

   <span class="hljs-title function_">fetchDocument</span>();
 }, [docId]);

 <span class="hljs-keyword">const</span> editor = <span class="hljs-title function_">useCreateBlockNote</span>();

 <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =></span> {
   <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadInitialHTML</span>(<span class="hljs-params"></span>) {
     <span class="hljs-keyword">const</span> blocks = <span class="hljs-keyword">await</span> editor.<span class="hljs-title function_">tryParseHTMLToBlocks</span>(value);
     editor.<span class="hljs-title function_">replaceBlocks</span>(editor.<span class="hljs-property">document</span>, blocks);
   }
   <span class="hljs-title function_">loadInitialHTML</span>();
 }, [editor, value]);

 <span class="hljs-keyword">const</span> <span class="hljs-title function_">saveDocument</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) => {
   <span class="hljs-keyword">if</span> (!docId) <span class="hljs-keyword">return</span>;

   <span class="hljs-keyword">const</span> content = <span class="hljs-keyword">await</span> editor.<span class="hljs-title function_">blocksToHTMLLossy</span>(blocks);

   <span class="hljs-keyword">try</span> {
     <span class="hljs-keyword">await</span> <span class="hljs-title function_">updateDoc</span>(<span class="hljs-title function_">doc</span>(firestore, <span class="hljs-string">`documents/<span class="hljs-subst">${docId}</span>`</span>), {
       <span class="hljs-attr">content</span>: content,
     });

     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Document saved successfully'</span>);
   } <span class="hljs-keyword">catch</span> (error) {
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error saving document: '</span>, error);
   }
 };

 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
     <span class="hljs-tag">&#x3C;<span class="hljs-name">h1</span>></span>{title}<span class="hljs-tag">&#x3C;/<span class="hljs-name">h1</span>></span>
     <span class="hljs-tag">&#x3C;<span class="hljs-name">BlockNoteView</span> <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{()</span> =></span> { setBlocks(editor.document); }} />
     <span class="hljs-tag">&#x3C;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{saveDocument}</span>></span>Save Document<span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
   <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
 );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Document</span>;
</code></pre>
<p>우리가 머릿속을 새롭게 한 이제, 뭔가 추가해봐요!</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>이것을 어떻게 할 건가요???</h1>
<p>좋은 질문이네요! 제가 떠올렸기 때문에 알고 있어요. 웹 스피치 API를 사용하여 텍스트 음성 변환 기능을 구현할 거에요.</p>
<p>웹 스피치 API를 활용하면 음성 데이터를 웹 앱에 통합할 수 있어요. 이 경우는 Next.js 애플리케이션에서 사용할 거에요.</p>
<p>이러한 종류의 기능을 추가하기 위해 SpeechSynthesis라고 불리는 Web 스피치 API의 인터페이스를 사용할 거에요.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>구현</h1>
<p>우리의 코드에는 단지 한 가지 함수와 버튼을 추가하면 됩니다. 그게 다에요. 코드에 다음 함수를 추가하세요:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> text = blocks
  .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">block</span> =></span> block?.<span class="hljs-property">content</span>)
  .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">content</span> =></span> content !== <span class="hljs-literal">undefined</span>)
  .<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">content</span> =></span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(content)) {
      <span class="hljs-keyword">return</span> content
        .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">contentItem</span> =></span> contentItem.<span class="hljs-property">type</span> === <span class="hljs-string">'text'</span>)
        .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">contentItem</span> =></span> contentItem.<span class="hljs-property">text</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> [];
    }
  })
  .<span class="hljs-title function_">join</span>(<span class="hljs-string">' '</span>);
  <span class="hljs-keyword">let</span> utterance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SpeechSynthesisUtterance</span>(text);
  <span class="hljs-keyword">let</span> voicesArray = speechSynthesis.<span class="hljs-title function_">getVoices</span>();
  utterance.<span class="hljs-property">voice</span> = voicesArray[<span class="hljs-number">2</span>];
  speechSynthesis.<span class="hljs-title function_">speak</span>(utterance);
}
</code></pre>
<p>이 함수는 문서에서 콘텐츠를 가져와서 콘텐츠가 텍스트 유형인 경우 에디터 내용을 말합니다. 간단하죠. 이제 '말하기' 버튼을 화면에 표시하세요:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-jsx">&#x3C;button onClick={speak}><span class="hljs-title class_">Speak</span>&#x3C;/button>
</code></pre>
<h1>더 깊이 파고들기</h1>
<p>만약 음성 합성의 피치, 속도, 볼륨을 변경하여 사용자 정의하고 싶다면 어떻게 할까요? 잘하셨어요! 이제 이에 대해 알아볼게요. 이 뒤에 광고가 나와야죠! 농담이죠: 여기는 유튜브가 아니에요.</p>
<p>피치 변경하기</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>음 높이를 조절하려면 이 줄을 추가하세요:</p>
<pre><code class="hljs language-js">utterance.<span class="hljs-property">pitch</span> = <span class="hljs-number">4</span>; <span class="hljs-comment">// 원하는 값으로 숫자를 변경하세요</span>
</code></pre>
<p>속도 변경하기</p>
<p>속도를 조절하려면 이 줄을 추가하세요:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js">utterance.<span class="hljs-property">rate</span>= <span class="hljs-number">5</span>; <span class="hljs-comment">// 원하는 값으로 숫자를 변경해주세요</span>
</code></pre>
<p>볼륨 조절하기</p>
<pre><code class="hljs language-js">utterance.<span class="hljs-property">volume</span>= <span class="hljs-number">0.4</span>; <span class="hljs-comment">// 원하는 값으로 소수를 변경해주세요</span>
</code></pre>
<p>지금까지 코드에 텍스트 음성 변환 기능을 구현하는 단 기사를 마무리 지어보았습니다. 만약 이 기사가 도움이 되었다면 박수를 보내주세요, 팔로우를 눌러주세요, 또는 응답을 달아주세요.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>행복한 코딩하세요!</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"BlockNote의 Text-To-Speech 기능 구현 방법 - Nextjs 사용 ","description":"","date":"2024-07-14 20:49","slug":"2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs","content":"\n\n## 와우: WYSIWYG 편집기로 텍스트 음성 변환 기능!\n\n로켓 과학을 해결했습니다! 물론 거짓말이에요. BlockNote에 텍스트 음성 변환 기능을 Next.Js에서 어떻게 구현할지 알아냈습니다. BlockNote를 모르시면, Next.js에서 WYSIWYG 편집기 문제에 대한 해결책을 발견한 기사를 읽어보세요.\n\n그러니까 읽어보세요. 하지만 여러분의 지식 부족함에도 불구하고, 저는 계속 이 기사를 쓸 겁니다. BlockNote를 아는 여러분은 이 기사로 들어가 봅시다. 출발!\n\n![이미지](/TIL/assets/img/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs_0.png)\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 요약\n\n우리는 블록을 HTML로 변환하여 Firebase에 BlockNote 데이터를 저장하는 방법을 배웠어요. 그 기사를 읽었다면 가상으로 엄지척을 할게요. 그럼, 코드는 지금 이렇게 보일 거예요:\n\n```js\n'use client';\nimport React, { useState, useEffect, useRef, ChangeEvent, useCallback } from 'react';\nimport { useSearchParams } from 'next/navigation';\nimport { firestore } from '../../../../../firebase';\nimport { getDoc, doc, updateDoc } from 'firebase/firestore';\nimport \"@blocknote/core/fonts/inter.css\";\nimport { useCreateBlockNote } from \"@blocknote/react\";\nimport { BlockNoteView } from \"@blocknote/mantine\";\nimport \"@blocknote/mantine/style.css\";\nimport { Block } from \"@blocknote/core\";\n\nfunction Document() {\n const params = useSearchParams();\n const docId = params.get(\"id\");\n const [title, setTitle] = useState('');\n const [value, setValue] = useState('');\n const [blocks, setBlocks] = useState\u003cBlock[]\u003e([]);\n\n   useEffect(() =\u003e {\n   const fetchDocument = async () =\u003e {\n     if (!docId) return;\n\n     const docRef = doc(firestore, `documents/${docId}`);\n     try {\n       const docSnap = await getDoc(docRef);\n       if (docSnap.exists()) {\n         const data = docSnap.data();\n         setTitle(data.title || '');\n         setValue(data.content || '');\n       } else {\n         console.log('Document does not exist');\n       }\n     } catch (error) {\n       console.error('Error fetching document: ', error);\n     }\n   };\n\n   fetchDocument();\n }, [docId]);\n\n const editor = useCreateBlockNote();\n\n useEffect(() =\u003e {\n   async function loadInitialHTML() {\n     const blocks = await editor.tryParseHTMLToBlocks(value);\n     editor.replaceBlocks(editor.document, blocks);\n   }\n   loadInitialHTML();\n }, [editor, value]);\n\n const saveDocument = async () =\u003e {\n   if (!docId) return;\n\n   const content = await editor.blocksToHTMLLossy(blocks);\n\n   try {\n     await updateDoc(doc(firestore, `documents/${docId}`), {\n       content: content,\n     });\n\n     console.log('Document saved successfully');\n   } catch (error) {\n     console.error('Error saving document: ', error);\n   }\n };\n\n return (\n   \u003cdiv\u003e\n     \u003ch1\u003e{title}\u003c/h1\u003e\n     \u003cBlockNoteView editor={editor} onChange={() =\u003e { setBlocks(editor.document); }} /\u003e\n     \u003cbutton onClick={saveDocument}\u003eSave Document\u003c/button\u003e\n   \u003c/div\u003e\n );\n}\n\nexport default Document;\n```\n\n우리가 머릿속을 새롭게 한 이제, 뭔가 추가해봐요!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 이것을 어떻게 할 건가요???\n\n좋은 질문이네요! 제가 떠올렸기 때문에 알고 있어요. 웹 스피치 API를 사용하여 텍스트 음성 변환 기능을 구현할 거에요.\n\n웹 스피치 API를 활용하면 음성 데이터를 웹 앱에 통합할 수 있어요. 이 경우는 Next.js 애플리케이션에서 사용할 거에요.\n\n이러한 종류의 기능을 추가하기 위해 SpeechSynthesis라고 불리는 Web 스피치 API의 인터페이스를 사용할 거에요.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 구현\n\n우리의 코드에는 단지 한 가지 함수와 버튼을 추가하면 됩니다. 그게 다에요. 코드에 다음 함수를 추가하세요:\n\n```js\nfunction speak() {\n  const text = blocks\n  .map(block =\u003e block?.content)\n  .filter(content =\u003e content !== undefined)\n  .flatMap(content =\u003e {\n    if (Array.isArray(content)) {\n      return content\n        .filter(contentItem =\u003e contentItem.type === 'text')\n        .map(contentItem =\u003e contentItem.text);\n    } else {\n      return [];\n    }\n  })\n  .join(' ');\n  let utterance = new SpeechSynthesisUtterance(text);\n  let voicesArray = speechSynthesis.getVoices();\n  utterance.voice = voicesArray[2];\n  speechSynthesis.speak(utterance);\n}\n```\n\n이 함수는 문서에서 콘텐츠를 가져와서 콘텐츠가 텍스트 유형인 경우 에디터 내용을 말합니다. 간단하죠. 이제 '말하기' 버튼을 화면에 표시하세요:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```jsx\n\u003cbutton onClick={speak}\u003eSpeak\u003c/button\u003e\n```\n\n# 더 깊이 파고들기\n\n만약 음성 합성의 피치, 속도, 볼륨을 변경하여 사용자 정의하고 싶다면 어떻게 할까요? 잘하셨어요! 이제 이에 대해 알아볼게요. 이 뒤에 광고가 나와야죠! 농담이죠: 여기는 유튜브가 아니에요.\n\n피치 변경하기\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n음 높이를 조절하려면 이 줄을 추가하세요:\n\n```js\nutterance.pitch = 4; // 원하는 값으로 숫자를 변경하세요\n```\n\n속도 변경하기\n\n속도를 조절하려면 이 줄을 추가하세요:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nutterance.rate= 5; // 원하는 값으로 숫자를 변경해주세요\n```\n\n볼륨 조절하기\n\n```js\nutterance.volume= 0.4; // 원하는 값으로 소수를 변경해주세요\n```\n\n지금까지 코드에 텍스트 음성 변환 기능을 구현하는 단 기사를 마무리 지어보았습니다. 만약 이 기사가 도움이 되었다면 박수를 보내주세요, 팔로우를 눌러주세요, 또는 응답을 달아주세요.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n행복한 코딩하세요!","ogImage":{"url":"/TIL/assets/img/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs_0.png"},"coverImage":"/TIL/assets/img/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs_0.png","tag":["Tech"],"readingTime":7},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch2\u003e와우: WYSIWYG 편집기로 텍스트 음성 변환 기능!\u003c/h2\u003e\n\u003cp\u003e로켓 과학을 해결했습니다! 물론 거짓말이에요. BlockNote에 텍스트 음성 변환 기능을 Next.Js에서 어떻게 구현할지 알아냈습니다. BlockNote를 모르시면, Next.js에서 WYSIWYG 편집기 문제에 대한 해결책을 발견한 기사를 읽어보세요.\u003c/p\u003e\n\u003cp\u003e그러니까 읽어보세요. 하지만 여러분의 지식 부족함에도 불구하고, 저는 계속 이 기사를 쓸 겁니다. BlockNote를 아는 여러분은 이 기사로 들어가 봅시다. 출발!\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e요약\u003c/h1\u003e\n\u003cp\u003e우리는 블록을 HTML로 변환하여 Firebase에 BlockNote 데이터를 저장하는 방법을 배웠어요. 그 기사를 읽었다면 가상으로 엄지척을 할게요. 그럼, 코드는 지금 이렇게 보일 거예요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-string\"\u003e'use client'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, { useState, useEffect, useRef, \u003cspan class=\"hljs-title class_\"\u003eChangeEvent\u003c/span\u003e, useCallback } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useSearchParams } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/navigation'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { firestore } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../../../../../firebase'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { getDoc, doc, updateDoc } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase/firestore'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@blocknote/core/fonts/inter.css\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useCreateBlockNote } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@blocknote/react\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBlockNoteView\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@blocknote/mantine\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@blocknote/mantine/style.css\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eBlock\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@blocknote/core\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eDocument\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e params = \u003cspan class=\"hljs-title function_\"\u003euseSearchParams\u003c/span\u003e();\n \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e docId = params.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"id\"\u003c/span\u003e);\n \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [title, setTitle] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e);\n \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [value, setValue] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e);\n \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [blocks, setBlocks] = useState\u0026#x3C;\u003cspan class=\"hljs-title class_\"\u003eBlock\u003c/span\u003e[]\u003e([]);\n\n   \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efetchDocument\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n     \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!docId) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n\n     \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e docRef = \u003cspan class=\"hljs-title function_\"\u003edoc\u003c/span\u003e(firestore, \u003cspan class=\"hljs-string\"\u003e`documents/\u003cspan class=\"hljs-subst\"\u003e${docId}\u003c/span\u003e`\u003c/span\u003e);\n     \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n       \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e docSnap = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetDoc\u003c/span\u003e(docRef);\n       \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (docSnap.\u003cspan class=\"hljs-title function_\"\u003eexists\u003c/span\u003e()) {\n         \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e data = docSnap.\u003cspan class=\"hljs-title function_\"\u003edata\u003c/span\u003e();\n         \u003cspan class=\"hljs-title function_\"\u003esetTitle\u003c/span\u003e(data.\u003cspan class=\"hljs-property\"\u003etitle\u003c/span\u003e || \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e);\n         \u003cspan class=\"hljs-title function_\"\u003esetValue\u003c/span\u003e(data.\u003cspan class=\"hljs-property\"\u003econtent\u003c/span\u003e || \u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e);\n       } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n         \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Document does not exist'\u003c/span\u003e);\n       }\n     } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n       \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Error fetching document: '\u003c/span\u003e, error);\n     }\n   };\n\n   \u003cspan class=\"hljs-title function_\"\u003efetchDocument\u003c/span\u003e();\n }, [docId]);\n\n \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e editor = \u003cspan class=\"hljs-title function_\"\u003euseCreateBlockNote\u003c/span\u003e();\n\n \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eloadInitialHTML\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n     \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e blocks = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e editor.\u003cspan class=\"hljs-title function_\"\u003etryParseHTMLToBlocks\u003c/span\u003e(value);\n     editor.\u003cspan class=\"hljs-title function_\"\u003ereplaceBlocks\u003c/span\u003e(editor.\u003cspan class=\"hljs-property\"\u003edocument\u003c/span\u003e, blocks);\n   }\n   \u003cspan class=\"hljs-title function_\"\u003eloadInitialHTML\u003c/span\u003e();\n }, [editor, value]);\n\n \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esaveDocument\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) =\u003e {\n   \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!docId) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n\n   \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e content = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e editor.\u003cspan class=\"hljs-title function_\"\u003eblocksToHTMLLossy\u003c/span\u003e(blocks);\n\n   \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n     \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eupdateDoc\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003edoc\u003c/span\u003e(firestore, \u003cspan class=\"hljs-string\"\u003e`documents/\u003cspan class=\"hljs-subst\"\u003e${docId}\u003c/span\u003e`\u003c/span\u003e), {\n       \u003cspan class=\"hljs-attr\"\u003econtent\u003c/span\u003e: content,\n     });\n\n     \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Document saved successfully'\u003c/span\u003e);\n   } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n     \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Error saving document: '\u003c/span\u003e, error);\n   }\n };\n\n \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n   \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003e{title}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh1\u003c/span\u003e\u003e\u003c/span\u003e\n     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eBlockNoteView\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eeditor\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{editor}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{()\u003c/span\u003e =\u003e\u003c/span\u003e { setBlocks(editor.document); }} /\u003e\n     \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{saveDocument}\u003c/span\u003e\u003e\u003c/span\u003eSave Document\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u003e\u003c/span\u003e\n   \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n );\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocument\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e우리가 머릿속을 새롭게 한 이제, 뭔가 추가해봐요!\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e이것을 어떻게 할 건가요???\u003c/h1\u003e\n\u003cp\u003e좋은 질문이네요! 제가 떠올렸기 때문에 알고 있어요. 웹 스피치 API를 사용하여 텍스트 음성 변환 기능을 구현할 거에요.\u003c/p\u003e\n\u003cp\u003e웹 스피치 API를 활용하면 음성 데이터를 웹 앱에 통합할 수 있어요. 이 경우는 Next.js 애플리케이션에서 사용할 거에요.\u003c/p\u003e\n\u003cp\u003e이러한 종류의 기능을 추가하기 위해 SpeechSynthesis라고 불리는 Web 스피치 API의 인터페이스를 사용할 거에요.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e구현\u003c/h1\u003e\n\u003cp\u003e우리의 코드에는 단지 한 가지 함수와 버튼을 추가하면 됩니다. 그게 다에요. 코드에 다음 함수를 추가하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003espeak\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e text = blocks\n  .\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eblock\u003c/span\u003e =\u003e\u003c/span\u003e block?.\u003cspan class=\"hljs-property\"\u003econtent\u003c/span\u003e)\n  .\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003econtent\u003c/span\u003e =\u003e\u003c/span\u003e content !== \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e)\n  .\u003cspan class=\"hljs-title function_\"\u003eflatMap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003econtent\u003c/span\u003e =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eisArray\u003c/span\u003e(content)) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e content\n        .\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003econtentItem\u003c/span\u003e =\u003e\u003c/span\u003e contentItem.\u003cspan class=\"hljs-property\"\u003etype\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e'text'\u003c/span\u003e)\n        .\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003econtentItem\u003c/span\u003e =\u003e\u003c/span\u003e contentItem.\u003cspan class=\"hljs-property\"\u003etext\u003c/span\u003e);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [];\n    }\n  })\n  .\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e' '\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e utterance = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSpeechSynthesisUtterance\u003c/span\u003e(text);\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e voicesArray = speechSynthesis.\u003cspan class=\"hljs-title function_\"\u003egetVoices\u003c/span\u003e();\n  utterance.\u003cspan class=\"hljs-property\"\u003evoice\u003c/span\u003e = voicesArray[\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e];\n  speechSynthesis.\u003cspan class=\"hljs-title function_\"\u003espeak\u003c/span\u003e(utterance);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 함수는 문서에서 콘텐츠를 가져와서 콘텐츠가 텍스트 유형인 경우 에디터 내용을 말합니다. 간단하죠. 이제 '말하기' 버튼을 화면에 표시하세요:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-jsx\"\u003e\u0026#x3C;button onClick={speak}\u003e\u003cspan class=\"hljs-title class_\"\u003eSpeak\u003c/span\u003e\u0026#x3C;/button\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e더 깊이 파고들기\u003c/h1\u003e\n\u003cp\u003e만약 음성 합성의 피치, 속도, 볼륨을 변경하여 사용자 정의하고 싶다면 어떻게 할까요? 잘하셨어요! 이제 이에 대해 알아볼게요. 이 뒤에 광고가 나와야죠! 농담이죠: 여기는 유튜브가 아니에요.\u003c/p\u003e\n\u003cp\u003e피치 변경하기\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e음 높이를 조절하려면 이 줄을 추가하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eutterance.\u003cspan class=\"hljs-property\"\u003epitch\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 원하는 값으로 숫자를 변경하세요\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e속도 변경하기\u003c/p\u003e\n\u003cp\u003e속도를 조절하려면 이 줄을 추가하세요:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eutterance.\u003cspan class=\"hljs-property\"\u003erate\u003c/span\u003e= \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 원하는 값으로 숫자를 변경해주세요\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e볼륨 조절하기\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eutterance.\u003cspan class=\"hljs-property\"\u003evolume\u003c/span\u003e= \u003cspan class=\"hljs-number\"\u003e0.4\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 원하는 값으로 소수를 변경해주세요\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e지금까지 코드에 텍스트 음성 변환 기능을 구현하는 단 기사를 마무리 지어보았습니다. 만약 이 기사가 도움이 되었다면 박수를 보내주세요, 팔로우를 눌러주세요, 또는 응답을 달아주세요.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e행복한 코딩하세요!\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-14-ImplementingText-To-SpeechFunctionalityForBlockNoteInNextJs"},"buildId":"KUC9M_yIlA1Ugo01xmkHL","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>