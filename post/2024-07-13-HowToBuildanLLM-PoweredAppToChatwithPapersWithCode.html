<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>PapersWithCodeì™€ ì±„íŒ…í•  ìˆ˜ ìˆëŠ” LLM-Powered ì•± ë§Œë“œëŠ” ë°©ë²• | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="PapersWithCodeì™€ ì±„íŒ…í•  ìˆ˜ ìˆëŠ” LLM-Powered ì•± ë§Œë“œëŠ” ë°©ë²• | TIL" data-gatsby-head="true"/><meta property="og:title" content="PapersWithCodeì™€ ì±„íŒ…í•  ìˆ˜ ìˆëŠ” LLM-Powered ì•± ë§Œë“œëŠ” ë°©ë²• | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode" data-gatsby-head="true"/><meta name="twitter:title" content="PapersWithCodeì™€ ì±„íŒ…í•  ìˆ˜ ìˆëŠ” LLM-Powered ì•± ë§Œë“œëŠ” ë°©ë²• | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-13 20:10" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/TIL/_next/static/chunks/463-925361deb4cec4b1.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-9d7ebbd29b9e08ce.js" defer=""></script><script src="/TIL/_next/static/QAkYP0lvl03W-5CKD69kb/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/QAkYP0lvl03W-5CKD69kb/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">PapersWithCodeì™€ ì±„íŒ…í•  ìˆ˜ ìˆëŠ” LLM-Powered ì•± ë§Œë“œëŠ” ë°©ë²•</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="PapersWithCodeì™€ ì±„íŒ…í•  ìˆ˜ ìˆëŠ” LLM-Powered ì•± ë§Œë“œëŠ” ë°©ë²•" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 13, 2024</span><span class="posts_reading_time__f7YPP">18<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>ìµœì‹  ê¸°ê³„ í•™ìŠµ ì—°êµ¬ ì†Œì‹ì„ ë”°ë¼ê°€ê¸° ì–´ë ¤ìš°ì‹ ê°€ìš”? LLMs, ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” RAGsì— ê´€í•œ ë…¼ë¬¸ ì–‘ì— ì••ë„ë‹¹í•˜ì…¨ë‚˜ìš”?</p>
<p>ë°±ì—”ë“œ ìª½ì—ì„œëŠ”, ì´ ì–´ì‹œìŠ¤í„´íŠ¸ëŠ” RAG(Retrieval Augmented Generation) í”„ë ˆì„ì›Œí¬ë¡œ êµ¬ë™ë  ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ì„œë²„ë¦¬ìŠ¤ ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤, VertexAIì˜ ì„ë² ë”© ëª¨ë¸, ê·¸ë¦¬ê³  OpenAIì˜ LLMì„ í™œìš©í•©ë‹ˆë‹¤.</p>
<p>í”„ë¡ íŠ¸ì—”ë“œ ìª½ì—ì„œëŠ” ì´ ì–´ì‹œìŠ¤í„´íŠ¸ê°€ Streamlitìœ¼ë¡œ ì œì‘ëœ ì¸í„°ë™í‹°ë¸Œí•˜ê³  ì‰½ê²Œ ë°°í¬ ê°€ëŠ¥í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©ë  ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì´ í”„ë¡œì„¸ìŠ¤ì˜ ëª¨ë“  ë‹¨ê³„ëŠ” ì•„ë˜ì—ì„œ ìì„¸íˆ ì„¤ëª…ë˜ë©°, ì¬ì‚¬ìš©í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë™ë°˜ë˜ëŠ” ì†ŒìŠ¤ ì½”ë“œê°€ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤ğŸ‘‡.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì¤€ë¹„ë˜ì…¨ë‚˜ìš”? í•¨ê»˜ ì•Œì•„ë´ìš” ğŸ”.</p>
<p>ë…ì ë¶„ë“¤ê»˜ì„œ ë…í•´ë¥¼ ì‹œì‘í•˜ê¸° ì „ì—, ì—¬ê¸° Githubì—ì„œ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.</p>
<h1>1 â€” Papers With Codeë¡œë¶€í„° ë°ì´í„° ìˆ˜ì§‘</h1>
<p>Papers With Code(ì¼ëª… PWC)ëŠ” ì—°êµ¬ì›ê³¼ ì‹¤ë¬´ìë“¤ì„ ìœ„í•œ ë¬´ë£Œ ì›¹ì‚¬ì´íŠ¸ë¡œ, ìµœì‹ ì˜ ìµœì²¨ë‹¨ ë¨¸ì‹ ëŸ¬ë‹ ë…¼ë¬¸, ì†ŒìŠ¤ ì½”ë“œ, ë°ì´í„° ì„¸íŠ¸ë¥¼ ì°¾ê³  ë”°ë¥´ëŠ” ê³³ì´ì—ìš”.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_0.png">
<p>ë‹¤í–‰íˆë„, PWCì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ì—°êµ¬ ë…¼ë¬¸ì„ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ Swagger UIë¥¼ ì‚´í´ë³´ë©´ ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ê³  ì‹œë„í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • í‚¤ì›Œë“œë¡œ ë…¼ë¬¸ì„ ê²€ìƒ‰í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì´ë ‡ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: papers/ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ì•„ ì¿¼ë¦¬( q ) ì¸ìë¥¼ ì±„ì›ë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>í‘œ íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë°”ê¾¸ì„¸ìš”.</p>
<p>ê·¸ë¦¬ê³  ì‹¤í–‰ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>
<p>ë™ë“±í•˜ê²Œ, ì´ ë™ì¼í•œ ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë‹¤ìŒ URLì„ í´ë¦­í•˜ë©´ ë©ë‹ˆë‹¤.</p>
<p>ì¶œë ¥ ì‘ë‹µì€ ê²°ê³¼ì˜ ì²« í˜ì´ì§€ë§Œì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë‹¤ìŒ í˜ì´ì§€ëŠ” "next" í‚¤ì— ì ‘ê·¼í•˜ì—¬ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ êµ¬ì¡°ë¥¼ ì´ìš©í•˜ë©´ "ëŒ€í˜• ì–¸ì–´ ëª¨ë¸"ì— ì¼ì¹˜í•˜ëŠ” 7200ê°œì˜ ë…¼ë¬¸ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. URLì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•´ ë£¨í”„ë¥¼ ëŒë¦¼ìœ¼ë¡œì¨ ê°„ë‹¨íˆ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> urllib.parse
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm

<span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_papers</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    query = urllib.parse.quote(query)
    url = <span class="hljs-string">f"https://paperswithcode.com/api/v1/papers/?q=<span class="hljs-subst">{query}</span>"</span>
    response = requests.get(url)
    response = response.json()
    count = response[<span class="hljs-string">"count"</span>]
    results = []
    results += response[<span class="hljs-string">"results"</span>]

    num_pages = count // <span class="hljs-number">50</span>
    <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> tqdm(<span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, num_pages)):
        url = <span class="hljs-string">f"https://paperswithcode.com/api/v1/papers/?page=<span class="hljs-subst">{page}</span>&#x26;q=<span class="hljs-subst">{query}</span>"</span>
        response = requests.get(url)
        response = response.json()
        results += response[<span class="hljs-string">"results"</span>]
    <span class="hljs-keyword">return</span> results

query = <span class="hljs-string">"Large Language Models"</span>

results = extract_papers(query)

<span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(results))
<span class="hljs-comment"># 7200</span>
</code></pre>
<p>ê²°ê³¼ë¥¼ ì¶”ì¶œí•˜ë©´ í•´ë‹¹ ê²°ê³¼ë¥¼ ê¸°ë°˜ì´ë¡œ LangChain ë¬¸ì„œë¡œ ë³€í™˜í•˜ì—¬ ë‹¨ìˆœíˆ ì²­í¬í™”í•˜ê³  ìƒ‰ì¸í™”í•©ë‹ˆë‹¤.</p>
<p>ë¬¸ì„œ ê°ì²´ì—ëŠ” ë‘ ê°œì˜ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤:</p>
<ul>
<li>page_content (str): ë…¼ë¬¸ ì´ˆë¡ì˜ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜</li>
<li>metadata (dict): ì¶”ê°€ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜. ìš°ë¦¬ì˜ ì‚¬ìš© ì‚¬ë¡€ì—ì„œëŠ” id, arxiv_id, url_pdf, íƒ€ì´í‹€, ì €ì, ë°œí‘œì¼ì„ ìœ ì§€í•  ê²ƒì…ë‹ˆë‹¤</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> langchain.docstore.document <span class="hljs-keyword">import</span> Document

documents = [
    Document(
        page_content=result[<span class="hljs-string">"abstract"</span>],
        metadata={
            <span class="hljs-string">"id"</span>: result[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">if</span> result[<span class="hljs-string">"id"</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>,
            <span class="hljs-string">"arxiv_id"</span>: result[<span class="hljs-string">"arxiv_id"</span>] <span class="hljs-keyword">if</span> result[<span class="hljs-string">"arxiv_id"</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>,
            <span class="hljs-string">"url_pdf"</span>: result[<span class="hljs-string">"url_pdf"</span>] <span class="hljs-keyword">if</span> result[<span class="hljs-string">"url_pdf"</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>,
            <span class="hljs-string">"title"</span>: result[<span class="hljs-string">"title"</span>] <span class="hljs-keyword">if</span> result[<span class="hljs-string">"title"</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>,
            <span class="hljs-string">"authors"</span>: result[<span class="hljs-string">"authors"</span>] <span class="hljs-keyword">if</span> result[<span class="hljs-string">"authors"</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>,
            <span class="hljs-string">"published"</span>: result[<span class="hljs-string">"published"</span>] <span class="hljs-keyword">if</span> result[<span class="hljs-string">"published"</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>,
        },
    )
    <span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results
]
</code></pre>
<p>ë¬¸ì„œë¥¼ ì„ë² ë“œí•˜ê¸° ì „ì— ì‘ì€ ì¡°ê°ë“¤ë¡œ ë‚˜ëˆ ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ LLMsì˜ ì…ë ¥ í† í° ê´€ë ¨ ì œí•œì„ ê·¹ë³µí•  ìˆ˜ ìˆê³  ê° ì¡°ê°ë§ˆë‹¤ ì„¸ë¶€ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ìš°ë¦¬ëŠ” ê¸¸ì´ê°€ 1200 ìì´ë©° chunk_overlapê°€ 200 ì¸ Chunkingì„ í†µí•´ ë¬¸ì„œë¥¼ ë‚˜ëˆ„ì—ˆë”ë‹ˆ 11,000ê°œê°€ ë„˜ëŠ” ì¡°ê°ë“¤ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<pre><code class="hljs language-python">text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=<span class="hljs-number">1200</span>,
    chunk_overlap=<span class="hljs-number">200</span>,
    separators=[<span class="hljs-string">"."</span>],
)
splits = text_splitter.split_documents(documents)

<span class="hljs-built_in">len</span>(splits)
<span class="hljs-comment"># 11308</span>
</code></pre>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>2 â€” ì—…ìŠ¤íƒœì‹œì—ì„œ ì¸ë±ìŠ¤ ìƒì„±í•˜ê¸°</h1>
<p>ë¬¸ì„œ ì„ë² ë”©(ë° ë©”íƒ€ë°ì´í„°)ì„ ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ì„œë²„ë¦¬ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ì¸ ì—…ìŠ¤íƒœì‹œë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.</p>
<p>ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ì—¬ê¸°ì— ë¡œê·¸ì¸í•˜ê³  ëª‡ ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì…ë ¥í•˜ëŠ” ì§€ì¹¨ì„ ë”°ë¥´ë©´ ë©ë‹ˆë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>ì§€ì—­: ê·¼ì²˜ì— ìœ„ì¹˜í•œ ì§€ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</li>
<li>ì°¨ì› = 768ë¡œ ì„¤ì •í•˜ì„¸ìš”(VertexAIì˜ ì„ë² ë”© ì°¨ì›)</li>
<li>ê±°ë¦¬ ë©”íŠ¸ë¦­ = ì½”ì‚¬ì¸ìœ¼ë¡œ ì„¤ì •í•˜ì„¸ìš”.</li>
</ul>
<p>ì¸ë±ìŠ¤ë¥¼ ë§Œë“  í›„ì—ëŠ” upstash-vectorë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-js">pip install upstash-vector
</code></pre>
<p>ì´ë¥¼ í†µí•´ ì¸ë±ìŠ¤ì— ì—°ê²°ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> upstash_vector <span class="hljs-keyword">import</span> Index

index = Index(
    url=<span class="hljs-string">"&#x3C;UPSTASH_URL>"</span>, 
    token=<span class="hljs-string">"&#x3C;UPSTASH_TOKEN>"</span>
)
</code></pre>
<h1>3 â€” Embed the chunks and index them into Upstash</h1>
<p>To embed the chunks and index them into the vector db, weâ€™ll create a simple class that imitates LangChain Vectorstore implementation.</p>
<p>This class will be named UpstashVectorStore and will have the following methods:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>Upstash Vector Store í´ë˜ìŠ¤ì˜ <strong>init</strong> ìƒì„±ìëŠ” Upstash Indexì™€ Embeddings ê°ì²´ë¥¼ ì˜ˆìƒí•©ë‹ˆë‹¤.</li>
<li>ë¬¸ì„œë¥¼ ì„ë² ë”©í•˜ê³  ì¼ê´„ì ìœ¼ë¡œ ìƒ‰ì¸ì— ì¶”ê°€í•˜ë ¤ë©´ add_documents ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
<li>similarity_search_with_score ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ë±ìŠ¤ë¥¼ ì¿¼ë¦¬í•˜ê³  ìƒìœ„ kê°œì˜ ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ ë¬¸ì„œ ë° í•´ë‹¹ ì ìˆ˜ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.</li>
</ul>
<p>ë‹¤ìŒì€ ì „ì²´ êµ¬í˜„ì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-title class_">List</span>, <span class="hljs-title class_">Optional</span>, <span class="hljs-title class_">Tuple</span>, <span class="hljs-title class_">Union</span>
<span class="hljs-keyword">from</span> uuid <span class="hljs-keyword">import</span> uuid4
<span class="hljs-keyword">from</span> langchain.<span class="hljs-property">docstore</span>.<span class="hljs-property">document</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">Document</span>
<span class="hljs-keyword">from</span> langchain.<span class="hljs-property">embeddings</span>.<span class="hljs-property">base</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">Embeddings</span>
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm
<span class="hljs-keyword">from</span> upstash_vector <span class="hljs-keyword">import</span> <span class="hljs-title class_">Index</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">UpstashVectorStore</span>:
    def <span class="hljs-title function_">__init__</span>(self, <span class="hljs-attr">index</span>: <span class="hljs-title class_">Index</span>, <span class="hljs-attr">embeddings</span>: <span class="hljs-title class_">Embeddings</span>):
        self.<span class="hljs-property">index</span> = index
        self.<span class="hljs-property">embeddings</span> = embeddings

    def <span class="hljs-title function_">delete_vectors</span>(
        self,
        <span class="hljs-attr">ids</span>: <span class="hljs-title class_">Union</span>[str, <span class="hljs-title class_">List</span>[str]] = <span class="hljs-title class_">None</span>,
        <span class="hljs-attr">delete_all</span>: bool = <span class="hljs-title class_">None</span>,
    ):
        <span class="hljs-keyword">if</span> <span class="hljs-attr">delete_all</span>:
            self.<span class="hljs-property">index</span>.<span class="hljs-title function_">reset</span>()
        <span class="hljs-attr">else</span>:
            self.<span class="hljs-property">index</span>.<span class="hljs-title function_">delete</span>(ids)

    def <span class="hljs-title function_">add_documents</span>(
        self,
        <span class="hljs-attr">documents</span>: <span class="hljs-title class_">List</span>[<span class="hljs-title class_">Document</span>],
        <span class="hljs-attr">ids</span>: <span class="hljs-title class_">Optional</span>[<span class="hljs-title class_">List</span>[str]] = <span class="hljs-title class_">None</span>,
        <span class="hljs-attr">batch_size</span>: int = <span class="hljs-number">32</span>,
    ):
        texts = []
        metadatas = []
        all_ids = []

        <span class="hljs-keyword">for</span> <span class="hljs-variable language_">document</span> <span class="hljs-keyword">in</span> <span class="hljs-title function_">tqdm</span>(documents):
            text = <span class="hljs-variable language_">document</span>.<span class="hljs-property">page_content</span>
            metadata = <span class="hljs-variable language_">document</span>.<span class="hljs-property">metadata</span>
            metadata = {<span class="hljs-string">"context"</span>: text, **metadata}
            texts.<span class="hljs-title function_">append</span>(text)
            metadatas.<span class="hljs-title function_">append</span>(metadata)

            <span class="hljs-keyword">if</span> <span class="hljs-title function_">len</span>(texts) >= <span class="hljs-attr">batch_size</span>:
                ids = [<span class="hljs-title function_">str</span>(<span class="hljs-title function_">uuid4</span>()) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-title function_">range</span>(<span class="hljs-title function_">len</span>(texts))]
                all_ids += ids
                embeddings = self.<span class="hljs-property">embeddings</span>.<span class="hljs-title function_">embed_documents</span>(texts, batch_size=<span class="hljs-number">250</span>)
                self.<span class="hljs-property">index</span>.<span class="hljs-title function_">upsert</span>(
                    vectors=<span class="hljs-title function_">zip</span>(ids, embeddings, metadatas),
                )
                texts = []
                metadatas = []

        <span class="hljs-keyword">if</span> <span class="hljs-title function_">len</span>(texts) > <span class="hljs-number">0</span>:
            ids = [<span class="hljs-title function_">str</span>(<span class="hljs-title function_">uuid4</span>()) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-title function_">range</span>(<span class="hljs-title function_">len</span>(texts))]
            all_ids += ids
            embeddings = self.<span class="hljs-property">embeddings</span>.<span class="hljs-title function_">embed_documents</span>(texts)
            self.<span class="hljs-property">index</span>.<span class="hljs-title function_">upsert</span>(
                vectors=<span class="hljs-title function_">zip</span>(ids, embeddings, metadatas),
            )

        n = <span class="hljs-title function_">len</span>(all_ids)
        <span class="hljs-title function_">print</span>(f<span class="hljs-string">"Successfully indexed {n} dense vectors to Upstash."</span>)
        <span class="hljs-title function_">print</span>(self.<span class="hljs-property">index</span>.<span class="hljs-title function_">stats</span>())
        <span class="hljs-keyword">return</span> all_ids

    def <span class="hljs-title function_">similarity_search_with_score</span>(
        self,
        <span class="hljs-attr">query</span>: str,
        <span class="hljs-attr">k</span>: int = <span class="hljs-number">4</span>,
    ) -> <span class="hljs-title class_">List</span>[<span class="hljs-title class_">Tuple</span>[<span class="hljs-title class_">Document</span>, float]]:
        query_embedding = self.<span class="hljs-property">embeddings</span>.<span class="hljs-title function_">embed_query</span>(query)
        query_results = self.<span class="hljs-property">index</span>.<span class="hljs-title function_">query</span>(
            query_embedding,
            top_k=k,
            include_metadata=<span class="hljs-title class_">True</span>,
        )
        output = []
        <span class="hljs-keyword">for</span> query_result <span class="hljs-keyword">in</span> <span class="hljs-attr">query_results</span>:
            score = query_result.<span class="hljs-property">score</span>
            metadata = query_result.<span class="hljs-property">metadata</span>
            context = metadata.<span class="hljs-title function_">pop</span>(<span class="hljs-string">"context"</span>)
            doc = <span class="hljs-title class_">Document</span>(
                page_content=context,
                metadata=metadata,
            )
            output.<span class="hljs-title function_">append</span>((doc, score))
        <span class="hljs-keyword">return</span> output
</code></pre>
<p>ì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²­í¬ë¥¼ ìƒ‰ì¸í™”í•´ ë´…ì‹œë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> langchain.embeddings <span class="hljs-keyword">import</span> VertexAIEmbeddings
<span class="hljs-keyword">from</span> upstash_vector <span class="hljs-keyword">import</span> Index

index = Index(
    url=<span class="hljs-string">"&#x3C;UPSTASH_URL>"</span>,
    token=<span class="hljs-string">"&#x3C;UPSTASH_TOKEN>"</span>,
)
embeddings = VertexAIEmbeddings(model_name=<span class="hljs-string">"textembedding-gecko@003"</span>)

upstash_vector_store = UpstashVectorStore(index, embeddings)
ids = upstash_vector_store.add_documents(splits, batch_size=<span class="hljs-number">25</span>)
</code></pre>
<p>ì´ ê³¼ì •ì€ ë¶„í•  ìˆ˜, ì—°ê²° ì†ë„ ë° ì„ íƒí•œ ë°°ì¹˜ í¬ê¸°ì— ë”°ë¼ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ìƒ‰ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ë©´ UIì—ì„œ ë²¡í„° ë° í•´ë‹¹ ë©”íƒ€ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: ì´ëŠ” ë ˆì½”ë“œì˜ ë¹ ë¥¸ ê²€ì‚¬ì™€ ì‰¬ìš´ ê´€ë¦¬(ì˜ˆ: ì‚­ì œ)ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
<h1>4 â€” ìƒ‰ì¸ ëœ ë…¼ë¬¸ì— ëŒ€í•œ ì§ˆë¬¸í•˜ê¸°</h1>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì¶”ìƒì´ ì˜¬ë°”ë¥´ê²Œ Upstashì— ìƒ‰ì¸ëœ ìƒíƒœë¡œ, ì´ì œ ìì—°ì–´ë¡œ ìƒí˜¸ì‘ìš©í•˜ë©° ML ì£¼ì œì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì§ˆë¬¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ê²Œ ìƒê°ë³´ë‹¤ í›¨ì”¬ ì‰½ìŠµë‹ˆë‹¤.</p>
<p>ì´ë¥¼ ìœ„í•´ ë¨¼ì €, ì§ˆë¬¸ì„ ë°›ì•„ ê´€ë ¨ ë¬¸ì„œë¥¼ ë²¡í„° ì €ì¥ì†Œì—ì„œ ê²€ìƒ‰í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•©ì‹œë‹¤.</p>
<pre><code class="hljs language-js">def <span class="hljs-title function_">get_context</span>(query, vector_store):
    results = vector_store.<span class="hljs-title function_">similarity_search_with_score</span>(query)
    context = <span class="hljs-string">""</span>

    <span class="hljs-keyword">for</span> doc, score <span class="hljs-keyword">in</span> <span class="hljs-attr">results</span>:
        context += doc.<span class="hljs-property">page_content</span> + <span class="hljs-string">"\n===\n"</span>
    <span class="hljs-keyword">return</span> context

def <span class="hljs-title function_">get_prompt</span>(question, context):
    template = <span class="hljs-string">""</span><span class="hljs-string">"
    ì£¼ì–´ì§„ ë¬¸ë§¥ì„ ì‚¬ìš©í•˜ì—¬ ì§ˆë¬¸ì— ë‹µí•˜ëŠ” ê²ƒì´ ì—¬ëŸ¬ë¶„ì˜ ì‘ì—…ì…ë‹ˆë‹¤.

    ë¬¸ë§¥ ì™¸ì˜ ê²ƒì„ ê¾¸ë©°ë‚´ì§€ ë§ˆì„¸ìš”.
    ì ì–´ë„ 350ì ì´ìƒìœ¼ë¡œ ëŒ€ë‹µí•´ ì£¼ì„¸ìš”.

    %CONTEXT%
    {context}

    %Question%
    {question}

    Hint: ë¬¸ë§¥ì„ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì§€ ë§ˆì„¸ìš”. ì—¬ëŸ¬ë¶„ë§Œì˜ ë§ë¡œ í‘œí˜„í•´ ì£¼ì„¸ìš”.
    
    ëŒ€ë‹µ:
    "</span><span class="hljs-string">""</span>
    prompt = template.<span class="hljs-title function_">format</span>(question=question, context=context)
    <span class="hljs-keyword">return</span> prompt
</code></pre>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì˜ê°ì´ ë–¨ì–´ì§ˆ ë•Œê°€ ìˆì£ ? ì‹œì‘í•˜ëŠ” ë° ë„ì›€ì´ ë  ì§ˆë¬¸ì´ì—ìš”:</p>
<pre><code class="hljs language-js">query = (
    <span class="hljs-string">"Retrieval Augmented Generation (RAG) í”„ë ˆì„ì›Œí¬ ë’¤ì˜ ë¬¸ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?"</span>
)

context = <span class="hljs-title function_">get_context</span>(query, upstash_vector_store)
prompt = <span class="hljs-title function_">get_prompt</span>(query, context)
</code></pre>
<p>ë‹¤ìŒì€ ë¬¸ë§¥ì„ ë°›ì€ í›„ì˜ í”„ë¡¬í”„íŠ¸ ëª¨ìŠµì…ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">ì£¼ì–´ì§„ ë¬¸ë§¥ì„ í™œìš©í•´ ì§ˆë¬¸ì— ë‹µí•´ ë³´ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ê³¼ì œì…ë‹ˆë‹¤.

ë¬¸ë§¥ ë°–ì˜ ê²ƒì€ ê´‘ì¥ì„ ë§Œë“¤ì§€ ë§ˆì„¸ìš”.
ì ì–´ë„ <span class="hljs-number">350</span>ì ì´ìƒìœ¼ë¡œ ë‹µí•˜ì„¸ìš”.

%<span class="hljs-variable constant_">CONTEXT</span>%

<span class="hljs-title class_">Retrieval</span>-<span class="hljs-title class_">Augmented</span> <span class="hljs-title class_">Generation</span> (<span class="hljs-variable constant_">RAG</span>)ì€ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ í™˜ê°ì„ ì™„í™”í•˜ê¸° ìœ„í•œ 
ìœ ë§í•œ ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê¸°ì¡´ ì—°êµ¬ëŠ” ì„œë¡œ ë‹¤ë¥¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— ëŒ€í•œ 
ê²€ìƒ‰ ì¦ê°• ìƒì„±ì˜ ì˜í–¥ì— ëŒ€í•œ ì² ì €í•œ í‰ê°€ê°€ ë¶€ì¡±í•˜ì—¬, ì„œë¡œ ë‹¤ë¥¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— 
ëŒ€í•œ <span class="hljs-variable constant_">RAG</span>ì˜ ëŠ¥ë ¥ì— ëŒ€í•œ ì ì¬ì  ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ëŠ” ê²ƒì´ ì–´ë ¤ìš´ ìƒí™©ì…ë‹ˆë‹¤. 
ìš°ë¦¬ëŠ” ì´ ë…¼ë¬¸ì—ì„œ <span class="hljs-title class_">Retrieval</span>-<span class="hljs-title class_">Augmented</span> <span class="hljs-title class_">Generation</span>ì´ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ 
ì²´ê³„ì ìœ¼ë¡œ ì¡°ì‚¬í•©ë‹ˆë‹¤. <span class="hljs-variable constant_">RAG</span>ê°€ ìš”êµ¬í•˜ëŠ” <span class="hljs-number">4</span>ê°€ì§€ ê¸°ë³¸ ëŠ¥ë ¥ì¸ ë…¸ì´ì¦ˆ ê°•ê±´ì„±, ë¶€ì • ê±°ë¶€, 
ì •ë³´ í†µí•© ë° ë°˜ì‚¬ì  ê°•ê±´ì„±ì— ëŒ€í•œ ë‹¤ì–‘í•œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ë¶„ì„í•©ë‹ˆë‹¤. 
ì´ë¥¼ ìœ„í•´ <span class="hljs-variable constant_">RAG</span> í‰ê°€ë¥¼ ìœ„í•œ ìƒˆë¡œìš´ ë§ë­‰ì¹˜ì¸ <span class="hljs-title class_">Retrieval</span>-<span class="hljs-title class_">Augmented</span> <span class="hljs-title class_">Generation</span> 
<span class="hljs-title class_">Benchmark</span> (<span class="hljs-variable constant_">RGB</span>)ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì´ <span class="hljs-variable constant_">RGB</span>ëŠ” ì˜ì–´ì™€ ì¤‘êµ­ì–´ ëª¨ë‘ì—ì„œ <span class="hljs-variable constant_">RAG</span> í‰ê°€ì— ì‚¬ìš©ë˜ëŠ” 
ìƒˆë¡œìš´ ë§ë­‰ì¹˜ë¡œ, í•´ë‹¹ ë§ë­‰ì¹˜ ë‚´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜ë¯¸ ìˆëŠ” ëŠ¥ë ¥ì— ë”°ë¼ <span class="hljs-number">4</span>ê°œì˜ ë³„ë„ì˜ 
í…ŒìŠ¤íŠ¸ë² ë“œë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ <span class="hljs-variable constant_">RGB</span>ì—ì„œ <span class="hljs-number">6</span>ê°œì˜ ëŒ€í‘œì ì¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì„ 
í‰ê°€í•˜ì—¬ <span class="hljs-variable constant_">RAG</span>ë¥¼ ì ìš©í•  ë•Œ í˜„ì¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ ë„ì „ì— ëŒ€í•´ ì§„ë‹¨í•©ë‹ˆë‹¤.
===
ëŒ€ë‹¨í•œ ëŠ¥ë ¥ì„ ê°–ê³  ìˆì§€ë§Œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(<span class="hljs-variable constant_">LM</span>)ì€ ì¢…ì ìœ¼ë¡œ ì•Œë ¤ì§„ ì •ë³´ì—ë§Œ ì˜ì¡´í•˜ì—¬ 
ì‚¬ì‹¤ì ì¸ ì •í™•ì„±ì„ ê°€ì§€ì§€ ì•ŠëŠ” ì‘ë‹µì„ ì¢…ì¢… ìƒì„±í•©ë‹ˆë‹¤. <span class="hljs-title class_">Retrieval</span>-<span class="hljs-title class_">Augmented</span> <span class="hljs-title class_">Generation</span> 
(<span class="hljs-variable constant_">RAG</span>)ì€ <span class="hljs-variable constant_">LM</span>ì„ ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰ìœ¼ë¡œ ë³´ì™„í•˜ëŠ” ë¬´ì‘ìœ„ ì ‘ê·¼ë²•ìœ¼ë¡œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì¤„ì…ë‹ˆë‹¤. 
ê·¸ëŸ¬ë‚˜ ê²€ìƒ‰ì´ í•„ìš”í•œì§€, ë˜ëŠ” ì§€ì‹ì´ ê´€ë ¨ì„±ì´ ìˆëŠ”ì§€ ì—¬ë¶€ì— ìƒê´€ì—†ì´ ì¼ì • ìˆ˜ì˜ ê²€ìƒ‰ 
ë‚´ìš©ì„ ë¬´ì‘ìœ„ë¡œ ê°€ì ¸ì™€ í¬í•¨í•œë‹¤ë©´, <span class="hljs-variable constant_">LM</span>ì˜ ë‹¤ì–‘ì„±ì´ ê°ì†Œí•˜ê±°ë‚˜ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” 
ì‘ë‹µ ìƒì„±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” <span class="hljs-title class_">Self</span>-<span class="hljs-title class_">Reflective</span> <span class="hljs-title class_">Retrieval</span>-<span class="hljs-title class_">Augmented</span> 
<span class="hljs-title class_">Generation</span>(<span class="hljs-title class_">Self</span>-<span class="hljs-variable constant_">RAG</span>)ì´ë¼ëŠ” ìƒˆë¡œìš´ í”„ë ˆì„ì›Œí¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤. ì´ í”„ë ˆì„ì›Œí¬ëŠ” ê²€ìƒ‰ ë° 
ìê¸° ë°˜ì„±ì„ í†µí•´ <span class="hljs-variable constant_">LM</span>ì˜ í’ˆì§ˆê³¼ ì •í™•ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. ìš°ë¦¬ì˜ í”„ë ˆì„ì›Œí¬ëŠ” í•„ìš” ì‹œ 
ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê°€ì ¸ì™€ ë™ì ìœ¼ë¡œ ë³€í™”ì‹œí‚¤ë©°, íŠ¹ìˆ˜ í† í°ì¸ ë°˜ì„± í† í°ì„ ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰ ê²°ê³¼ì™€ 
<span class="hljs-variable constant_">LM</span>ì˜ ìƒì„±ë¬¼ì„ ìƒì„±í•˜ê³  ë°˜ì„±í•©ë‹ˆë‹¤. ë°˜ì„± í† í°ì„ ìƒì„±í•˜ë©´ <span class="hljs-variable constant_">LM</span>ì´ ì¶”ë¡  ë‹¨ê³„ì—ì„œ ì¡°ì ˆ ê°€ëŠ¥í•´ì ¸ 
ë‹¤ì–‘í•œ ì‘ì—… ìš”êµ¬ì— ë§ê²Œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
...
</code></pre>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ì œ LLMì—ê²Œ ëŒ€ë‹µ ìƒì„±ì„ ìš”ì²­í•´ë³´ì„¸ìš”.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">from</span> langchain.<span class="hljs-property">chat_models</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">AzureChatOpenAI</span>

llm = <span class="hljs-title class_">AzureChatOpenAI</span>(
    azure_deployment=<span class="hljs-string">"&#x3C;AZURE_DEPLOYMENT>"</span>,
    model=<span class="hljs-string">"&#x3C;MODEL_NAME>"</span>,
)

answer = llm.<span class="hljs-title function_">predict</span>(prompt)
</code></pre>
<p>ì™”ìª„ìš”! ğŸ¥</p>
<pre><code class="hljs language-js">ê²€ìƒ‰ ì¦ê°• ìƒì„± (<span class="hljs-variable constant_">RAG</span>) í”„ë ˆì„ì›Œí¬ëŠ” í•ì„ í”¼í•  ìˆ˜ ì—†ëŠ” ê²€ìƒ‰ ë° í•„ìš”í•˜ì§€ ì•Šê±°ë‚˜ ê´€ë ¨ì„± ì—†ëŠ” ë‹¨ë½ì„ í¬í•¨í•˜ì—¬ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ì‘ë‹µ ìƒì„±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ë¬¸ì œì™€ ê°™ì€ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ê¸°ì¡´ ì—°êµ¬ëŠ” <span class="hljs-variable constant_">RAG</span>ê°€ ë‹¤ì–‘í•œ ëŒ€í˜• ì–¸ì–´ ëª¨ë¸ (<span class="hljs-variable constant_">LLM</span>)ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì² ì €íˆ í‰ê°€í•˜ì§€ ì•Šì•„ <span class="hljs-variable constant_">RAG</span>ì˜ ë‹¤ì–‘í•œ <span class="hljs-variable constant_">LLM</span>ì— ëŒ€í•œ ê¸°ëŠ¥ ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ê¸° ì–´ë µê²Œ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ì—°êµ¬ìë“¤ì€ ìê¸° ë°˜ì„± ê²€ìƒ‰ ì¦ê°• ìƒì„±(<span class="hljs-title class_">Self</span>-<span class="hljs-variable constant_">RAG</span>) í”„ë ˆì„ì›Œí¬ë¥¼ ì œì•ˆí–ˆìœ¼ë©°, ì´ í”„ë ˆì„ì›Œí¬ëŠ” ê²€ìƒ‰ ë° ìê¸° ë°˜ì„±ì„ í†µí•´ <span class="hljs-variable constant_">LM</span>ì˜ í’ˆì§ˆê³¼ ì‚¬ì‹¤ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. <span class="hljs-variable constant_">LLM</span>ì˜ ë‹¤ë¥¸ ë¬¸ì œì  ì¤‘ í•˜ë‚˜ëŠ” ê·¸ë“¤ì˜ ìŠê¸°ì£½ì„ì…ë‹ˆë‹¤. ê·¸ë“¤ì€ ì‹œê°„ì´ íë¥¼ìˆ˜ë¡ ê°œì„ ë˜ì§€ ì•Šê±°ë‚˜ ì¸ê°„ì²˜ëŸ¼ ìƒˆë¡œìš´ ì§€ì‹ì„ ìŠµë“í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ì—°êµ¬ìë“¤ì€ <span class="hljs-variable constant_">RAG</span>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œ í•´ê²° ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ë²•ì„ íƒêµ¬í•˜ê³ , <span class="hljs-variable constant_">ARM</span>-<span class="hljs-variable constant_">RAG</span> ì‹œìŠ¤í…œì„ ì œì•ˆí–ˆìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë†’ì€ í›ˆë ¨ ë¹„ìš©ì´ í•„ìš” ì—†ì´ ì„±ê³µì„ í†µí•´ í•™ìŠµí•©ë‹ˆë‹¤.
</code></pre>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ê½¤ ê´œì°®ì§€ ì•Šì•„ìš”?</p>
<h2>ì´ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ìš”ì•½í•´ ë³¼ê²Œìš”.</h2>
<h1>5â€” Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•˜ê¸°</h1>
<p>UIì—ì„œ RAGì™€ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•´ Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•  ìˆ˜ ìˆì–´ìš”.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë‹¤ìŒì€ Markdown í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•œ ê²ƒì…ë‹ˆë‹¤:</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*zFIzwP4z8xmmvXSZFdnM8w.gif" alt="image"></p>
<p>í˜¹ì‹œ ì•±ì„ ë¡œì»¬ì—ì„œ ì‹œë„í•´ë³´ê³  ì½”ë“œë¥¼ ë§Œì ¸ë³´ê³  ì‹¶ìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ í™˜ì˜í•©ë‹ˆë‹¤.</p>
<h1>ëª‡ ê°€ì§€ í•µì‹¬ í¬ì¸íŠ¸</h1>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë§ì€ ë¶„ë“¤ì´ ì´ë¯¸ ìë£Œì™€ ëŒ€í™”í•˜ëŠ” RAGsë¥¼ êµ¬ì¶•í•˜ì…¨ìŠµë‹ˆë‹¤.</p>
<p>ì œê°€ ì‹¤ì œë¡œ ê·¸ëŸ¬í•œ í”„ë¡œì íŠ¸ì˜ ì‹¤ìš©ì„±ì— ëŒ€í•´ ì†”ì§í•œ í”¼ë“œë°±ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì œ ëª©í‘œëŠ” ì—¬ëŸ¬ë¶„ì´ RAGsë¥¼ ë§Œë“¤ì§€ ì•Šë„ë¡ ë°©í•´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ëŸ¬í•œ ì†”ë£¨ì…˜ì— ëŒ€í•œ ê³¼ëŒ€ê´‘ê³ ë¥¼ ì™„í™”ì‹œí‚¤ê¸° ìœ„í•´ ì„¸ì‹¬í•œ ì˜ê²¬ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<p>ìš°ì„  ì´ì ì—ì„œ ì‹œì‘í•´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<ul>
<li>RAGsë¥¼ í†µí•´ ì™¸ë¶€ ìë£Œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì €í¬ê°€ ê°œë°œí•œ ì•±ì€ Mistralì´ë‚˜ LLama2ì™€ ê°™ì€ ìµœê·¼ ì˜¤í”ˆ ì†ŒìŠ¤ LLMì— ëŒ€í•œ ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.
ChatGPTì— ì´ëŸ¬í•œ ëª¨ë¸ì— ëŒ€í•´ ì§ˆë¬¸ì„ í•˜ë©´ ì–»ì„ ìˆ˜ ìˆëŠ” ê²ƒë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”.</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_1.png" alt="RAGs ì‚¬ìš© ì˜ˆì‹œ"></p>
<ul>
<li>RAGë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ëœ ì‘ë‹µì„ ì§€íƒ±í•˜ëŠ” ì†ŒìŠ¤ ë¬¸ì„œë¥¼ ì¸ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì‹ ë¢°ë¥¼ ë†’ì´ê³  ë””ë²„ê¹… ë° í•´ì„ ê°€ëŠ¥ì„±ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.</li>
<li>RAGëŠ” ë‹µë³€ì„ ì§€íƒ±í•˜ê¸° ìœ„í•´ ì™¸ë¶€ ë°ì´í„°ë§Œ í™œìš©í•˜ë¯€ë¡œ LLMì˜ í™˜í˜• ê²½í–¥ì„ ì œí•œí•©ë‹ˆë‹¤.</li>
<li>RAGëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì‰½ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë¸ì„ í›ˆë ¨í•˜ê±°ë‚˜ ì„¸ë¶€ ì¡°ì •í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¹„ì‹¼ ì»´í“¨íŒ… ìì›ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
</ul>
<p>ê·¸ëŸ¬ë‚˜ RAGëŠ” ë§ˆë²•ê°™ì´ ì¦‰ì‹œ í•´ê²°ë˜ëŠ” í•´ê²°ì±…ì€ ì•„ë‹™ë‹ˆë‹¤. "ê¸°ì—…" ì„¸ê³„ì—ì„œ ì´ë¥¼ ì‚°ì—…í™”í•˜ë ¤ë©´ ê³ ë ¤í•´ì•¼ í•  ì¤‘ìš”í•œ ì¸¡ë©´ì´ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>ê·¸ë“¤ì˜ ì˜í–¥ë ¥ì€ ì œê³µëœ ë°ì´í„°ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì˜ˆì‹œ ì•±ì—ì„œ ìš°ë¦¬ëŠ” ë…¼ë¬¸ ì´ˆë¡ë§Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì¼ë°˜ì ì¸ ì§ˆë¬¸ì— ë‹µë³€í•˜ëŠ” ë° ì¢‹ì€ ì‹œì‘ì ì„ ì œê³µí•˜ì§€ë§Œ ì¿¼ë¦¬ê°€ ë„ˆë¬´ ë³µì¡í•˜ê³  ì „ì²´ í…ìŠ¤íŠ¸ì— ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ë„ì›€ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
<li>ì™¸ë¶€ êµ¬í˜„ëœ RAGëŠ” ì˜ ì‘ë™í•˜ëŠ” ê²½ìš°ê°€ ë“œë­…ë‹ˆë‹¤. ë°ëª¨ ëª©ì ìœ¼ë¡œëŠ” ì¢‹ì§€ë§Œ ë‹µë³€ì„ ì‹¬ì¸µì ìœ¼ë¡œ ì¡°ì‚¬í•˜ê¸° ì‹œì‘í•˜ë©´ í’ˆì§ˆì´ ì‹¤ë§ìŠ¤ëŸ¬ì›€ì„ ë¹¨ë¦¬ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì² ì €í•œ ì¡°ì •, í‰ê°€ ì§€í‘œ ë° ì¸ê°„ì˜ ê°œì…ì´ í•„ìš”í•©ë‹ˆë‹¤.</li>
<li>RAGëŠ” ëª¨ë“  ê²ƒì— ëŒ€í•œ í•´ê²°ì±…ì´ ì•„ë‹™ë‹ˆë‹¤. ìŠ¤íƒ€ì¼ ë³µì‚¬ì™€ ê°™ì€ ì¼ë¶€ ì‘ìš© í”„ë¡œê·¸ë¨ì€ ëª¨ë¸ ì„¸ë¶€ ì¡°ì •ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ë³´ì…ë‹ˆë‹¤.</li>
<li>RAGëŠ” LLMì˜ ì»¨í…ìŠ¤íŠ¸ í¬ê¸°ì— ì˜í•´ ì œí•œë©ë‹ˆë‹¤. LLMì˜ ì»¨í…ìŠ¤íŠ¸ í¬ê¸°ê°€ 1ë°±ë§Œ í† í°ì´ ë˜ë”ë¼ë„ í•´ë‹¹ ë°ì´í„° ì–‘ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ì•„ì´ë””ì–´ëŠ” ì•„ë‹™ë‹ˆë‹¤.</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>ê²°ë¡ </h1>
<p>ì§€ê¸ˆê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>
<p>ë§Œì•½ ì´ ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ í–¥ìƒì‹œí‚¤ê³  ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°€ê¸¸ ì›í•œë‹¤ë©´, ì•„ë˜ ì•„ì´ë””ì–´ë¥¼ íƒìƒ‰í•˜ê±°ë‚˜ êµ¬í˜„í•´ ë³´ì„¸ìš”.</p>
<ul>
<li>ìš”ì•½ì´ ì•„ë‹Œ ì „ì²´ í…ìŠ¤íŠ¸ ì‚¬ìš©</li>
<li>ë©”íƒ€ë°ì´í„° í•„í„°ë§ê³¼ ë²¡í„° ê²€ìƒ‰ ë³´ì™„</li>
<li>ë°€ë„ ê²€ìƒ‰ì´ ì•„ë‹Œ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œë„í•˜ê¸°: í‚¤ì›Œë“œ ê²€ìƒ‰ì´ ì˜ì™œ ê²€ìƒ‰ì„ ë†€ëê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</li>
<li>ê²€ìƒ‰ í›„ ë¬¸ì„œ ì¬ë­í¬: ì´ë¥¼ í†µí•´ ë³´ë‹¤ ë§ì€ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ê³  ì¤‘ìš”í•œ ê²ƒë“¤ì„ ìì„¸íˆ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ì‚¬ìš©ì ì¿¼ë¦¬ í™•ì¥</li>
<li>ì„ë² ë”© ì„¸ë°€ ì¡°ì •</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ì „ì— ì‘ì„±í•œ ê°œì„ ëœ ê²€ìƒ‰ ê¸°ìˆ ì— ê´€í•œ ê¸€ì´ì—ìš”.</p>
<p>ì—¬ê¸° ğŸ‘‡ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”.</p>
<p>ì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ“–.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"PapersWithCodeì™€ ì±„íŒ…í•  ìˆ˜ ìˆëŠ” LLM-Powered ì•± ë§Œë“œëŠ” ë°©ë²•","description":"","date":"2024-07-13 20:10","slug":"2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode","content":"\n\nìµœì‹  ê¸°ê³„ í•™ìŠµ ì—°êµ¬ ì†Œì‹ì„ ë”°ë¼ê°€ê¸° ì–´ë ¤ìš°ì‹ ê°€ìš”? LLMs, ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” RAGsì— ê´€í•œ ë…¼ë¬¸ ì–‘ì— ì••ë„ë‹¹í•˜ì…¨ë‚˜ìš”?\n\në°±ì—”ë“œ ìª½ì—ì„œëŠ”, ì´ ì–´ì‹œìŠ¤í„´íŠ¸ëŠ” RAG(Retrieval Augmented Generation) í”„ë ˆì„ì›Œí¬ë¡œ êµ¬ë™ë  ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ì„œë²„ë¦¬ìŠ¤ ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤, VertexAIì˜ ì„ë² ë”© ëª¨ë¸, ê·¸ë¦¬ê³  OpenAIì˜ LLMì„ í™œìš©í•©ë‹ˆë‹¤.\n\ní”„ë¡ íŠ¸ì—”ë“œ ìª½ì—ì„œëŠ” ì´ ì–´ì‹œìŠ¤í„´íŠ¸ê°€ Streamlitìœ¼ë¡œ ì œì‘ëœ ì¸í„°ë™í‹°ë¸Œí•˜ê³  ì‰½ê²Œ ë°°í¬ ê°€ëŠ¥í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©ë  ê²ƒì…ë‹ˆë‹¤.\n\nì´ í”„ë¡œì„¸ìŠ¤ì˜ ëª¨ë“  ë‹¨ê³„ëŠ” ì•„ë˜ì—ì„œ ìì„¸íˆ ì„¤ëª…ë˜ë©°, ì¬ì‚¬ìš©í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë™ë°˜ë˜ëŠ” ì†ŒìŠ¤ ì½”ë“œê°€ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤ğŸ‘‡.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¤€ë¹„ë˜ì…¨ë‚˜ìš”? í•¨ê»˜ ì•Œì•„ë´ìš” ğŸ”.\n\në…ì ë¶„ë“¤ê»˜ì„œ ë…í•´ë¥¼ ì‹œì‘í•˜ê¸° ì „ì—, ì—¬ê¸° Githubì—ì„œ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.\n\n# 1 â€” Papers With Codeë¡œë¶€í„° ë°ì´í„° ìˆ˜ì§‘\n\nPapers With Code(ì¼ëª… PWC)ëŠ” ì—°êµ¬ì›ê³¼ ì‹¤ë¬´ìë“¤ì„ ìœ„í•œ ë¬´ë£Œ ì›¹ì‚¬ì´íŠ¸ë¡œ, ìµœì‹ ì˜ ìµœì²¨ë‹¨ ë¨¸ì‹ ëŸ¬ë‹ ë…¼ë¬¸, ì†ŒìŠ¤ ì½”ë“œ, ë°ì´í„° ì„¸íŠ¸ë¥¼ ì°¾ê³  ë”°ë¥´ëŠ” ê³³ì´ì—ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n\u003cimg src=\"/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_0.png\" /\u003e\n\në‹¤í–‰íˆë„, PWCì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ì—°êµ¬ ë…¼ë¬¸ì„ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ Swagger UIë¥¼ ì‚´í´ë³´ë©´ ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ê³  ì‹œë„í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • í‚¤ì›Œë“œë¡œ ë…¼ë¬¸ì„ ê²€ìƒ‰í•´ ë³´ê² ìŠµë‹ˆë‹¤.\n\nì¸í„°í˜ì´ìŠ¤ì—ì„œ ì´ë ‡ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: papers/ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ì•„ ì¿¼ë¦¬( q ) ì¸ìë¥¼ ì±„ì›ë‹ˆë‹¤.\n\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\ní‘œ íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë°”ê¾¸ì„¸ìš”.\n\nê·¸ë¦¬ê³  ì‹¤í–‰ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.\n\në™ë“±í•˜ê²Œ, ì´ ë™ì¼í•œ ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë‹¤ìŒ URLì„ í´ë¦­í•˜ë©´ ë©ë‹ˆë‹¤.\n\nì¶œë ¥ ì‘ë‹µì€ ê²°ê³¼ì˜ ì²« í˜ì´ì§€ë§Œì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë‹¤ìŒ í˜ì´ì§€ëŠ” \"next\" í‚¤ì— ì ‘ê·¼í•˜ì—¬ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ êµ¬ì¡°ë¥¼ ì´ìš©í•˜ë©´ \"ëŒ€í˜• ì–¸ì–´ ëª¨ë¸\"ì— ì¼ì¹˜í•˜ëŠ” 7200ê°œì˜ ë…¼ë¬¸ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. URLì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•´ ë£¨í”„ë¥¼ ëŒë¦¼ìœ¼ë¡œì¨ ê°„ë‹¨íˆ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\nimport requests\nimport urllib.parse\nfrom tqdm import tqdm\n\ndef extract_papers(query: str):\n    query = urllib.parse.quote(query)\n    url = f\"https://paperswithcode.com/api/v1/papers/?q={query}\"\n    response = requests.get(url)\n    response = response.json()\n    count = response[\"count\"]\n    results = []\n    results += response[\"results\"]\n\n    num_pages = count // 50\n    for page in tqdm(range(2, num_pages)):\n        url = f\"https://paperswithcode.com/api/v1/papers/?page={page}\u0026q={query}\"\n        response = requests.get(url)\n        response = response.json()\n        results += response[\"results\"]\n    return results\n\nquery = \"Large Language Models\"\n\nresults = extract_papers(query)\n\nprint(len(results))\n# 7200\n```\n\nê²°ê³¼ë¥¼ ì¶”ì¶œí•˜ë©´ í•´ë‹¹ ê²°ê³¼ë¥¼ ê¸°ë°˜ì´ë¡œ LangChain ë¬¸ì„œë¡œ ë³€í™˜í•˜ì—¬ ë‹¨ìˆœíˆ ì²­í¬í™”í•˜ê³  ìƒ‰ì¸í™”í•©ë‹ˆë‹¤.\n\në¬¸ì„œ ê°ì²´ì—ëŠ” ë‘ ê°œì˜ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤:\n\n- page_content (str): ë…¼ë¬¸ ì´ˆë¡ì˜ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜\n- metadata (dict): ì¶”ê°€ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜. ìš°ë¦¬ì˜ ì‚¬ìš© ì‚¬ë¡€ì—ì„œëŠ” id, arxiv_id, url_pdf, íƒ€ì´í‹€, ì €ì, ë°œí‘œì¼ì„ ìœ ì§€í•  ê²ƒì…ë‹ˆë‹¤\n\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\nfrom langchain.docstore.document import Document\n\ndocuments = [\n    Document(\n        page_content=result[\"abstract\"],\n        metadata={\n            \"id\": result[\"id\"] if result[\"id\"] else \"\",\n            \"arxiv_id\": result[\"arxiv_id\"] if result[\"arxiv_id\"] else \"\",\n            \"url_pdf\": result[\"url_pdf\"] if result[\"url_pdf\"] else \"\",\n            \"title\": result[\"title\"] if result[\"title\"] else \"\",\n            \"authors\": result[\"authors\"] if result[\"authors\"] else \"\",\n            \"published\": result[\"published\"] if result[\"published\"] else \"\",\n        },\n    )\n    for result in results\n]\n```\n\në¬¸ì„œë¥¼ ì„ë² ë“œí•˜ê¸° ì „ì— ì‘ì€ ì¡°ê°ë“¤ë¡œ ë‚˜ëˆ ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ LLMsì˜ ì…ë ¥ í† í° ê´€ë ¨ ì œí•œì„ ê·¹ë³µí•  ìˆ˜ ìˆê³  ê° ì¡°ê°ë§ˆë‹¤ ì„¸ë¶€ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìš°ë¦¬ëŠ” ê¸¸ì´ê°€ 1200 ìì´ë©° chunk_overlapê°€ 200 ì¸ Chunkingì„ í†µí•´ ë¬¸ì„œë¥¼ ë‚˜ëˆ„ì—ˆë”ë‹ˆ 11,000ê°œê°€ ë„˜ëŠ” ì¡°ê°ë“¤ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n```python\ntext_splitter = RecursiveCharacterTextSplitter(\n    chunk_size=1200,\n    chunk_overlap=200,\n    separators=[\".\"],\n)\nsplits = text_splitter.split_documents(documents)\n\nlen(splits)\n# 11308\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 2 â€” ì—…ìŠ¤íƒœì‹œì—ì„œ ì¸ë±ìŠ¤ ìƒì„±í•˜ê¸°\n\në¬¸ì„œ ì„ë² ë”©(ë° ë©”íƒ€ë°ì´í„°)ì„ ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ì„œë²„ë¦¬ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ì¸ ì—…ìŠ¤íƒœì‹œë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\n\nì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ì—¬ê¸°ì— ë¡œê·¸ì¸í•˜ê³  ëª‡ ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì…ë ¥í•˜ëŠ” ì§€ì¹¨ì„ ë”°ë¥´ë©´ ë©ë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì§€ì—­: ê·¼ì²˜ì— ìœ„ì¹˜í•œ ì§€ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”.\n- ì°¨ì› = 768ë¡œ ì„¤ì •í•˜ì„¸ìš”(VertexAIì˜ ì„ë² ë”© ì°¨ì›)\n- ê±°ë¦¬ ë©”íŠ¸ë¦­ = ì½”ì‚¬ì¸ìœ¼ë¡œ ì„¤ì •í•˜ì„¸ìš”.\n\nì¸ë±ìŠ¤ë¥¼ ë§Œë“  í›„ì—ëŠ” upstash-vectorë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\n\n```js\npip install upstash-vector\n```\n\nì´ë¥¼ í†µí•´ ì¸ë±ìŠ¤ì— ì—°ê²°ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\nfrom upstash_vector import Index\n\nindex = Index(\n    url=\"\u003cUPSTASH_URL\u003e\", \n    token=\"\u003cUPSTASH_TOKEN\u003e\"\n)\n```\n\n# 3 â€” Embed the chunks and index them into Upstash\n\nTo embed the chunks and index them into the vector db, weâ€™ll create a simple class that imitates LangChain Vectorstore implementation.\n\nThis class will be named UpstashVectorStore and will have the following methods:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- Upstash Vector Store í´ë˜ìŠ¤ì˜ __init__ ìƒì„±ìëŠ” Upstash Indexì™€ Embeddings ê°ì²´ë¥¼ ì˜ˆìƒí•©ë‹ˆë‹¤.\n- ë¬¸ì„œë¥¼ ì„ë² ë”©í•˜ê³  ì¼ê´„ì ìœ¼ë¡œ ìƒ‰ì¸ì— ì¶”ê°€í•˜ë ¤ë©´ add_documents ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n- similarity_search_with_score ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ë±ìŠ¤ë¥¼ ì¿¼ë¦¬í•˜ê³  ìƒìœ„ kê°œì˜ ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ ë¬¸ì„œ ë° í•´ë‹¹ ì ìˆ˜ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.\n\në‹¤ìŒì€ ì „ì²´ êµ¬í˜„ì…ë‹ˆë‹¤:\n\n```js\nfrom typing import List, Optional, Tuple, Union\nfrom uuid import uuid4\nfrom langchain.docstore.document import Document\nfrom langchain.embeddings.base import Embeddings\nfrom tqdm import tqdm\nfrom upstash_vector import Index\n\n\nclass UpstashVectorStore:\n    def __init__(self, index: Index, embeddings: Embeddings):\n        self.index = index\n        self.embeddings = embeddings\n\n    def delete_vectors(\n        self,\n        ids: Union[str, List[str]] = None,\n        delete_all: bool = None,\n    ):\n        if delete_all:\n            self.index.reset()\n        else:\n            self.index.delete(ids)\n\n    def add_documents(\n        self,\n        documents: List[Document],\n        ids: Optional[List[str]] = None,\n        batch_size: int = 32,\n    ):\n        texts = []\n        metadatas = []\n        all_ids = []\n\n        for document in tqdm(documents):\n            text = document.page_content\n            metadata = document.metadata\n            metadata = {\"context\": text, **metadata}\n            texts.append(text)\n            metadatas.append(metadata)\n\n            if len(texts) \u003e= batch_size:\n                ids = [str(uuid4()) for _ in range(len(texts))]\n                all_ids += ids\n                embeddings = self.embeddings.embed_documents(texts, batch_size=250)\n                self.index.upsert(\n                    vectors=zip(ids, embeddings, metadatas),\n                )\n                texts = []\n                metadatas = []\n\n        if len(texts) \u003e 0:\n            ids = [str(uuid4()) for _ in range(len(texts))]\n            all_ids += ids\n            embeddings = self.embeddings.embed_documents(texts)\n            self.index.upsert(\n                vectors=zip(ids, embeddings, metadatas),\n            )\n\n        n = len(all_ids)\n        print(f\"Successfully indexed {n} dense vectors to Upstash.\")\n        print(self.index.stats())\n        return all_ids\n\n    def similarity_search_with_score(\n        self,\n        query: str,\n        k: int = 4,\n    ) -\u003e List[Tuple[Document, float]]:\n        query_embedding = self.embeddings.embed_query(query)\n        query_results = self.index.query(\n            query_embedding,\n            top_k=k,\n            include_metadata=True,\n        )\n        output = []\n        for query_result in query_results:\n            score = query_result.score\n            metadata = query_result.metadata\n            context = metadata.pop(\"context\")\n            doc = Document(\n                page_content=context,\n                metadata=metadata,\n            )\n            output.append((doc, score))\n        return output\n```\n\nì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²­í¬ë¥¼ ìƒ‰ì¸í™”í•´ ë´…ì‹œë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```python\nfrom langchain.embeddings import VertexAIEmbeddings\nfrom upstash_vector import Index\n\nindex = Index(\n    url=\"\u003cUPSTASH_URL\u003e\",\n    token=\"\u003cUPSTASH_TOKEN\u003e\",\n)\nembeddings = VertexAIEmbeddings(model_name=\"textembedding-gecko@003\")\n\nupstash_vector_store = UpstashVectorStore(index, embeddings)\nids = upstash_vector_store.add_documents(splits, batch_size=25)\n```\n\nì´ ê³¼ì •ì€ ë¶„í•  ìˆ˜, ì—°ê²° ì†ë„ ë° ì„ íƒí•œ ë°°ì¹˜ í¬ê¸°ì— ë”°ë¼ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìƒ‰ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ë©´ UIì—ì„œ ë²¡í„° ë° í•´ë‹¹ ë©”íƒ€ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: ì´ëŠ” ë ˆì½”ë“œì˜ ë¹ ë¥¸ ê²€ì‚¬ì™€ ì‰¬ìš´ ê´€ë¦¬(ì˜ˆ: ì‚­ì œ)ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.\n\n# 4 â€” ìƒ‰ì¸ ëœ ë…¼ë¬¸ì— ëŒ€í•œ ì§ˆë¬¸í•˜ê¸°\n\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì¶”ìƒì´ ì˜¬ë°”ë¥´ê²Œ Upstashì— ìƒ‰ì¸ëœ ìƒíƒœë¡œ, ì´ì œ ìì—°ì–´ë¡œ ìƒí˜¸ì‘ìš©í•˜ë©° ML ì£¼ì œì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì§ˆë¬¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ê²Œ ìƒê°ë³´ë‹¤ í›¨ì”¬ ì‰½ìŠµë‹ˆë‹¤.\n\nì´ë¥¼ ìœ„í•´ ë¨¼ì €, ì§ˆë¬¸ì„ ë°›ì•„ ê´€ë ¨ ë¬¸ì„œë¥¼ ë²¡í„° ì €ì¥ì†Œì—ì„œ ê²€ìƒ‰í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•©ì‹œë‹¤.\n\n```js\ndef get_context(query, vector_store):\n    results = vector_store.similarity_search_with_score(query)\n    context = \"\"\n\n    for doc, score in results:\n        context += doc.page_content + \"\\n===\\n\"\n    return context\n\ndef get_prompt(question, context):\n    template = \"\"\"\n    ì£¼ì–´ì§„ ë¬¸ë§¥ì„ ì‚¬ìš©í•˜ì—¬ ì§ˆë¬¸ì— ë‹µí•˜ëŠ” ê²ƒì´ ì—¬ëŸ¬ë¶„ì˜ ì‘ì—…ì…ë‹ˆë‹¤.\n\n    ë¬¸ë§¥ ì™¸ì˜ ê²ƒì„ ê¾¸ë©°ë‚´ì§€ ë§ˆì„¸ìš”.\n    ì ì–´ë„ 350ì ì´ìƒìœ¼ë¡œ ëŒ€ë‹µí•´ ì£¼ì„¸ìš”.\n\n    %CONTEXT%\n    {context}\n\n    %Question%\n    {question}\n\n    Hint: ë¬¸ë§¥ì„ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì§€ ë§ˆì„¸ìš”. ì—¬ëŸ¬ë¶„ë§Œì˜ ë§ë¡œ í‘œí˜„í•´ ì£¼ì„¸ìš”.\n    \n    ëŒ€ë‹µ:\n    \"\"\"\n    prompt = template.format(question=question, context=context)\n    return prompt\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì˜ê°ì´ ë–¨ì–´ì§ˆ ë•Œê°€ ìˆì£ ? ì‹œì‘í•˜ëŠ” ë° ë„ì›€ì´ ë  ì§ˆë¬¸ì´ì—ìš”:\n\n```js\nquery = (\n    \"Retrieval Augmented Generation (RAG) í”„ë ˆì„ì›Œí¬ ë’¤ì˜ ë¬¸ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?\"\n)\n\ncontext = get_context(query, upstash_vector_store)\nprompt = get_prompt(query, context)\n```\n\në‹¤ìŒì€ ë¬¸ë§¥ì„ ë°›ì€ í›„ì˜ í”„ë¡¬í”„íŠ¸ ëª¨ìŠµì…ë‹ˆë‹¤:\n\n```js\nì£¼ì–´ì§„ ë¬¸ë§¥ì„ í™œìš©í•´ ì§ˆë¬¸ì— ë‹µí•´ ë³´ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ê³¼ì œì…ë‹ˆë‹¤.\n\në¬¸ë§¥ ë°–ì˜ ê²ƒì€ ê´‘ì¥ì„ ë§Œë“¤ì§€ ë§ˆì„¸ìš”.\nì ì–´ë„ 350ì ì´ìƒìœ¼ë¡œ ë‹µí•˜ì„¸ìš”.\n\n%CONTEXT%\n\nRetrieval-Augmented Generation (RAG)ì€ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ í™˜ê°ì„ ì™„í™”í•˜ê¸° ìœ„í•œ \nìœ ë§í•œ ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê¸°ì¡´ ì—°êµ¬ëŠ” ì„œë¡œ ë‹¤ë¥¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— ëŒ€í•œ \nê²€ìƒ‰ ì¦ê°• ìƒì„±ì˜ ì˜í–¥ì— ëŒ€í•œ ì² ì €í•œ í‰ê°€ê°€ ë¶€ì¡±í•˜ì—¬, ì„œë¡œ ë‹¤ë¥¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— \nëŒ€í•œ RAGì˜ ëŠ¥ë ¥ì— ëŒ€í•œ ì ì¬ì  ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ëŠ” ê²ƒì´ ì–´ë ¤ìš´ ìƒí™©ì…ë‹ˆë‹¤. \nìš°ë¦¬ëŠ” ì´ ë…¼ë¬¸ì—ì„œ Retrieval-Augmented Generationì´ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ \nì²´ê³„ì ìœ¼ë¡œ ì¡°ì‚¬í•©ë‹ˆë‹¤. RAGê°€ ìš”êµ¬í•˜ëŠ” 4ê°€ì§€ ê¸°ë³¸ ëŠ¥ë ¥ì¸ ë…¸ì´ì¦ˆ ê°•ê±´ì„±, ë¶€ì • ê±°ë¶€, \nì •ë³´ í†µí•© ë° ë°˜ì‚¬ì  ê°•ê±´ì„±ì— ëŒ€í•œ ë‹¤ì–‘í•œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ë¶„ì„í•©ë‹ˆë‹¤. \nì´ë¥¼ ìœ„í•´ RAG í‰ê°€ë¥¼ ìœ„í•œ ìƒˆë¡œìš´ ë§ë­‰ì¹˜ì¸ Retrieval-Augmented Generation \nBenchmark (RGB)ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì´ RGBëŠ” ì˜ì–´ì™€ ì¤‘êµ­ì–´ ëª¨ë‘ì—ì„œ RAG í‰ê°€ì— ì‚¬ìš©ë˜ëŠ” \nìƒˆë¡œìš´ ë§ë­‰ì¹˜ë¡œ, í•´ë‹¹ ë§ë­‰ì¹˜ ë‚´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜ë¯¸ ìˆëŠ” ëŠ¥ë ¥ì— ë”°ë¼ 4ê°œì˜ ë³„ë„ì˜ \ní…ŒìŠ¤íŠ¸ë² ë“œë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ RGBì—ì„œ 6ê°œì˜ ëŒ€í‘œì ì¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì„ \ní‰ê°€í•˜ì—¬ RAGë¥¼ ì ìš©í•  ë•Œ í˜„ì¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ ë„ì „ì— ëŒ€í•´ ì§„ë‹¨í•©ë‹ˆë‹¤.\n===\nëŒ€ë‹¨í•œ ëŠ¥ë ¥ì„ ê°–ê³  ìˆì§€ë§Œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(LM)ì€ ì¢…ì ìœ¼ë¡œ ì•Œë ¤ì§„ ì •ë³´ì—ë§Œ ì˜ì¡´í•˜ì—¬ \nì‚¬ì‹¤ì ì¸ ì •í™•ì„±ì„ ê°€ì§€ì§€ ì•ŠëŠ” ì‘ë‹µì„ ì¢…ì¢… ìƒì„±í•©ë‹ˆë‹¤. Retrieval-Augmented Generation \n(RAG)ì€ LMì„ ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰ìœ¼ë¡œ ë³´ì™„í•˜ëŠ” ë¬´ì‘ìœ„ ì ‘ê·¼ë²•ìœ¼ë¡œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì¤„ì…ë‹ˆë‹¤. \nê·¸ëŸ¬ë‚˜ ê²€ìƒ‰ì´ í•„ìš”í•œì§€, ë˜ëŠ” ì§€ì‹ì´ ê´€ë ¨ì„±ì´ ìˆëŠ”ì§€ ì—¬ë¶€ì— ìƒê´€ì—†ì´ ì¼ì • ìˆ˜ì˜ ê²€ìƒ‰ \në‚´ìš©ì„ ë¬´ì‘ìœ„ë¡œ ê°€ì ¸ì™€ í¬í•¨í•œë‹¤ë©´, LMì˜ ë‹¤ì–‘ì„±ì´ ê°ì†Œí•˜ê±°ë‚˜ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” \nì‘ë‹µ ìƒì„±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” Self-Reflective Retrieval-Augmented \nGeneration(Self-RAG)ì´ë¼ëŠ” ìƒˆë¡œìš´ í”„ë ˆì„ì›Œí¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤. ì´ í”„ë ˆì„ì›Œí¬ëŠ” ê²€ìƒ‰ ë° \nìê¸° ë°˜ì„±ì„ í†µí•´ LMì˜ í’ˆì§ˆê³¼ ì •í™•ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. ìš°ë¦¬ì˜ í”„ë ˆì„ì›Œí¬ëŠ” í•„ìš” ì‹œ \nê²€ìƒ‰ ê²°ê³¼ë¥¼ ê°€ì ¸ì™€ ë™ì ìœ¼ë¡œ ë³€í™”ì‹œí‚¤ë©°, íŠ¹ìˆ˜ í† í°ì¸ ë°˜ì„± í† í°ì„ ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰ ê²°ê³¼ì™€ \nLMì˜ ìƒì„±ë¬¼ì„ ìƒì„±í•˜ê³  ë°˜ì„±í•©ë‹ˆë‹¤. ë°˜ì„± í† í°ì„ ìƒì„±í•˜ë©´ LMì´ ì¶”ë¡  ë‹¨ê³„ì—ì„œ ì¡°ì ˆ ê°€ëŠ¥í•´ì ¸ \në‹¤ì–‘í•œ ì‘ì—… ìš”êµ¬ì— ë§ê²Œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n...\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ì œ LLMì—ê²Œ ëŒ€ë‹µ ìƒì„±ì„ ìš”ì²­í•´ë³´ì„¸ìš”.\n\n```js\nfrom langchain.chat_models import AzureChatOpenAI\n\nllm = AzureChatOpenAI(\n    azure_deployment=\"\u003cAZURE_DEPLOYMENT\u003e\",\n    model=\"\u003cMODEL_NAME\u003e\",\n)\n\nanswer = llm.predict(prompt)\n```\n\nì™”ìª„ìš”! ğŸ¥\n\n```js\nê²€ìƒ‰ ì¦ê°• ìƒì„± (RAG) í”„ë ˆì„ì›Œí¬ëŠ” í•ì„ í”¼í•  ìˆ˜ ì—†ëŠ” ê²€ìƒ‰ ë° í•„ìš”í•˜ì§€ ì•Šê±°ë‚˜ ê´€ë ¨ì„± ì—†ëŠ” ë‹¨ë½ì„ í¬í•¨í•˜ì—¬ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ì‘ë‹µ ìƒì„±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ë¬¸ì œì™€ ê°™ì€ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ê¸°ì¡´ ì—°êµ¬ëŠ” RAGê°€ ë‹¤ì–‘í•œ ëŒ€í˜• ì–¸ì–´ ëª¨ë¸ (LLM)ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì² ì €íˆ í‰ê°€í•˜ì§€ ì•Šì•„ RAGì˜ ë‹¤ì–‘í•œ LLMì— ëŒ€í•œ ê¸°ëŠ¥ ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ê¸° ì–´ë µê²Œ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ì—°êµ¬ìë“¤ì€ ìê¸° ë°˜ì„± ê²€ìƒ‰ ì¦ê°• ìƒì„±(Self-RAG) í”„ë ˆì„ì›Œí¬ë¥¼ ì œì•ˆí–ˆìœ¼ë©°, ì´ í”„ë ˆì„ì›Œí¬ëŠ” ê²€ìƒ‰ ë° ìê¸° ë°˜ì„±ì„ í†µí•´ LMì˜ í’ˆì§ˆê³¼ ì‚¬ì‹¤ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. LLMì˜ ë‹¤ë¥¸ ë¬¸ì œì  ì¤‘ í•˜ë‚˜ëŠ” ê·¸ë“¤ì˜ ìŠê¸°ì£½ì„ì…ë‹ˆë‹¤. ê·¸ë“¤ì€ ì‹œê°„ì´ íë¥¼ìˆ˜ë¡ ê°œì„ ë˜ì§€ ì•Šê±°ë‚˜ ì¸ê°„ì²˜ëŸ¼ ìƒˆë¡œìš´ ì§€ì‹ì„ ìŠµë“í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ì—°êµ¬ìë“¤ì€ RAGë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œ í•´ê²° ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ë²•ì„ íƒêµ¬í•˜ê³ , ARM-RAG ì‹œìŠ¤í…œì„ ì œì•ˆí–ˆìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë†’ì€ í›ˆë ¨ ë¹„ìš©ì´ í•„ìš” ì—†ì´ ì„±ê³µì„ í†µí•´ í•™ìŠµí•©ë‹ˆë‹¤.\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê½¤ ê´œì°®ì§€ ì•Šì•„ìš”?\n\n## ì´ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ìš”ì•½í•´ ë³¼ê²Œìš”.\n\n# 5â€” Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•˜ê¸°\n\nUIì—ì„œ RAGì™€ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•´ Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•  ìˆ˜ ìˆì–´ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ìŒì€ Markdown í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•œ ê²ƒì…ë‹ˆë‹¤:\n\n![image](https://miro.medium.com/v2/resize:fit:1400/1*zFIzwP4z8xmmvXSZFdnM8w.gif)\n\ní˜¹ì‹œ ì•±ì„ ë¡œì»¬ì—ì„œ ì‹œë„í•´ë³´ê³  ì½”ë“œë¥¼ ë§Œì ¸ë³´ê³  ì‹¶ìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ í™˜ì˜í•©ë‹ˆë‹¤.\n\n# ëª‡ ê°€ì§€ í•µì‹¬ í¬ì¸íŠ¸\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në§ì€ ë¶„ë“¤ì´ ì´ë¯¸ ìë£Œì™€ ëŒ€í™”í•˜ëŠ” RAGsë¥¼ êµ¬ì¶•í•˜ì…¨ìŠµë‹ˆë‹¤.\n\nì œê°€ ì‹¤ì œë¡œ ê·¸ëŸ¬í•œ í”„ë¡œì íŠ¸ì˜ ì‹¤ìš©ì„±ì— ëŒ€í•´ ì†”ì§í•œ í”¼ë“œë°±ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì œ ëª©í‘œëŠ” ì—¬ëŸ¬ë¶„ì´ RAGsë¥¼ ë§Œë“¤ì§€ ì•Šë„ë¡ ë°©í•´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ëŸ¬í•œ ì†”ë£¨ì…˜ì— ëŒ€í•œ ê³¼ëŒ€ê´‘ê³ ë¥¼ ì™„í™”ì‹œí‚¤ê¸° ìœ„í•´ ì„¸ì‹¬í•œ ì˜ê²¬ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n\nìš°ì„  ì´ì ì—ì„œ ì‹œì‘í•´ë³´ê² ìŠµë‹ˆë‹¤:\n\n- RAGsë¥¼ í†µí•´ ì™¸ë¶€ ìë£Œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì €í¬ê°€ ê°œë°œí•œ ì•±ì€ Mistralì´ë‚˜ LLama2ì™€ ê°™ì€ ìµœê·¼ ì˜¤í”ˆ ì†ŒìŠ¤ LLMì— ëŒ€í•œ ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.\nChatGPTì— ì´ëŸ¬í•œ ëª¨ë¸ì— ëŒ€í•´ ì§ˆë¬¸ì„ í•˜ë©´ ì–»ì„ ìˆ˜ ìˆëŠ” ê²ƒë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n\n![RAGs ì‚¬ìš© ì˜ˆì‹œ](/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_1.png)\n\n- RAGë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ëœ ì‘ë‹µì„ ì§€íƒ±í•˜ëŠ” ì†ŒìŠ¤ ë¬¸ì„œë¥¼ ì¸ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì‹ ë¢°ë¥¼ ë†’ì´ê³  ë””ë²„ê¹… ë° í•´ì„ ê°€ëŠ¥ì„±ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.\n- RAGëŠ” ë‹µë³€ì„ ì§€íƒ±í•˜ê¸° ìœ„í•´ ì™¸ë¶€ ë°ì´í„°ë§Œ í™œìš©í•˜ë¯€ë¡œ LLMì˜ í™˜í˜• ê²½í–¥ì„ ì œí•œí•©ë‹ˆë‹¤.\n- RAGëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì‰½ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë¸ì„ í›ˆë ¨í•˜ê±°ë‚˜ ì„¸ë¶€ ì¡°ì •í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¹„ì‹¼ ì»´í“¨íŒ… ìì›ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\nê·¸ëŸ¬ë‚˜ RAGëŠ” ë§ˆë²•ê°™ì´ ì¦‰ì‹œ í•´ê²°ë˜ëŠ” í•´ê²°ì±…ì€ ì•„ë‹™ë‹ˆë‹¤. \"ê¸°ì—…\" ì„¸ê³„ì—ì„œ ì´ë¥¼ ì‚°ì—…í™”í•˜ë ¤ë©´ ê³ ë ¤í•´ì•¼ í•  ì¤‘ìš”í•œ ì¸¡ë©´ì´ ìˆìŠµë‹ˆë‹¤.\n\n- ê·¸ë“¤ì˜ ì˜í–¥ë ¥ì€ ì œê³µëœ ë°ì´í„°ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì˜ˆì‹œ ì•±ì—ì„œ ìš°ë¦¬ëŠ” ë…¼ë¬¸ ì´ˆë¡ë§Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì¼ë°˜ì ì¸ ì§ˆë¬¸ì— ë‹µë³€í•˜ëŠ” ë° ì¢‹ì€ ì‹œì‘ì ì„ ì œê³µí•˜ì§€ë§Œ ì¿¼ë¦¬ê°€ ë„ˆë¬´ ë³µì¡í•˜ê³  ì „ì²´ í…ìŠ¤íŠ¸ì— ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ë„ì›€ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n- ì™¸ë¶€ êµ¬í˜„ëœ RAGëŠ” ì˜ ì‘ë™í•˜ëŠ” ê²½ìš°ê°€ ë“œë­…ë‹ˆë‹¤. ë°ëª¨ ëª©ì ìœ¼ë¡œëŠ” ì¢‹ì§€ë§Œ ë‹µë³€ì„ ì‹¬ì¸µì ìœ¼ë¡œ ì¡°ì‚¬í•˜ê¸° ì‹œì‘í•˜ë©´ í’ˆì§ˆì´ ì‹¤ë§ìŠ¤ëŸ¬ì›€ì„ ë¹¨ë¦¬ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì² ì €í•œ ì¡°ì •, í‰ê°€ ì§€í‘œ ë° ì¸ê°„ì˜ ê°œì…ì´ í•„ìš”í•©ë‹ˆë‹¤.\n- RAGëŠ” ëª¨ë“  ê²ƒì— ëŒ€í•œ í•´ê²°ì±…ì´ ì•„ë‹™ë‹ˆë‹¤. ìŠ¤íƒ€ì¼ ë³µì‚¬ì™€ ê°™ì€ ì¼ë¶€ ì‘ìš© í”„ë¡œê·¸ë¨ì€ ëª¨ë¸ ì„¸ë¶€ ì¡°ì •ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ë³´ì…ë‹ˆë‹¤.\n- RAGëŠ” LLMì˜ ì»¨í…ìŠ¤íŠ¸ í¬ê¸°ì— ì˜í•´ ì œí•œë©ë‹ˆë‹¤. LLMì˜ ì»¨í…ìŠ¤íŠ¸ í¬ê¸°ê°€ 1ë°±ë§Œ í† í°ì´ ë˜ë”ë¼ë„ í•´ë‹¹ ë°ì´í„° ì–‘ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ì•„ì´ë””ì–´ëŠ” ì•„ë‹™ë‹ˆë‹¤.\n\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ê²°ë¡ \n\nì§€ê¸ˆê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.\n\në§Œì•½ ì´ ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ í–¥ìƒì‹œí‚¤ê³  ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°€ê¸¸ ì›í•œë‹¤ë©´, ì•„ë˜ ì•„ì´ë””ì–´ë¥¼ íƒìƒ‰í•˜ê±°ë‚˜ êµ¬í˜„í•´ ë³´ì„¸ìš”.\n\n- ìš”ì•½ì´ ì•„ë‹Œ ì „ì²´ í…ìŠ¤íŠ¸ ì‚¬ìš©\n- ë©”íƒ€ë°ì´í„° í•„í„°ë§ê³¼ ë²¡í„° ê²€ìƒ‰ ë³´ì™„\n- ë°€ë„ ê²€ìƒ‰ì´ ì•„ë‹Œ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œë„í•˜ê¸°: í‚¤ì›Œë“œ ê²€ìƒ‰ì´ ì˜ì™œ ê²€ìƒ‰ì„ ë†€ëê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\n- ê²€ìƒ‰ í›„ ë¬¸ì„œ ì¬ë­í¬: ì´ë¥¼ í†µí•´ ë³´ë‹¤ ë§ì€ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ê³  ì¤‘ìš”í•œ ê²ƒë“¤ì„ ìì„¸íˆ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n- ì‚¬ìš©ì ì¿¼ë¦¬ í™•ì¥\n- ì„ë² ë”© ì„¸ë°€ ì¡°ì •\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ì „ì— ì‘ì„±í•œ ê°œì„ ëœ ê²€ìƒ‰ ê¸°ìˆ ì— ê´€í•œ ê¸€ì´ì—ìš”.\n\nì—¬ê¸° ğŸ‘‡ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”.\n\nì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ“–.","ogImage":{"url":"/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_0.png"},"coverImage":"/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_0.png","tag":["Tech"],"readingTime":18},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003eìµœì‹  ê¸°ê³„ í•™ìŠµ ì—°êµ¬ ì†Œì‹ì„ ë”°ë¼ê°€ê¸° ì–´ë ¤ìš°ì‹ ê°€ìš”? LLMs, ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” RAGsì— ê´€í•œ ë…¼ë¬¸ ì–‘ì— ì••ë„ë‹¹í•˜ì…¨ë‚˜ìš”?\u003c/p\u003e\n\u003cp\u003eë°±ì—”ë“œ ìª½ì—ì„œëŠ”, ì´ ì–´ì‹œìŠ¤í„´íŠ¸ëŠ” RAG(Retrieval Augmented Generation) í”„ë ˆì„ì›Œí¬ë¡œ êµ¬ë™ë  ê²ƒì…ë‹ˆë‹¤. ì´ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ì„œë²„ë¦¬ìŠ¤ ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤, VertexAIì˜ ì„ë² ë”© ëª¨ë¸, ê·¸ë¦¬ê³  OpenAIì˜ LLMì„ í™œìš©í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eí”„ë¡ íŠ¸ì—”ë“œ ìª½ì—ì„œëŠ” ì´ ì–´ì‹œìŠ¤í„´íŠ¸ê°€ Streamlitìœ¼ë¡œ ì œì‘ëœ ì¸í„°ë™í‹°ë¸Œí•˜ê³  ì‰½ê²Œ ë°°í¬ ê°€ëŠ¥í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©ë  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ í”„ë¡œì„¸ìŠ¤ì˜ ëª¨ë“  ë‹¨ê³„ëŠ” ì•„ë˜ì—ì„œ ìì„¸íˆ ì„¤ëª…ë˜ë©°, ì¬ì‚¬ìš©í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë™ë°˜ë˜ëŠ” ì†ŒìŠ¤ ì½”ë“œê°€ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤ğŸ‘‡.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì¤€ë¹„ë˜ì…¨ë‚˜ìš”? í•¨ê»˜ ì•Œì•„ë´ìš” ğŸ”.\u003c/p\u003e\n\u003cp\u003eë…ì ë¶„ë“¤ê»˜ì„œ ë…í•´ë¥¼ ì‹œì‘í•˜ê¸° ì „ì—, ì—¬ê¸° Githubì—ì„œ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.\u003c/p\u003e\n\u003ch1\u003e1 â€” Papers With Codeë¡œë¶€í„° ë°ì´í„° ìˆ˜ì§‘\u003c/h1\u003e\n\u003cp\u003ePapers With Code(ì¼ëª… PWC)ëŠ” ì—°êµ¬ì›ê³¼ ì‹¤ë¬´ìë“¤ì„ ìœ„í•œ ë¬´ë£Œ ì›¹ì‚¬ì´íŠ¸ë¡œ, ìµœì‹ ì˜ ìµœì²¨ë‹¨ ë¨¸ì‹ ëŸ¬ë‹ ë…¼ë¬¸, ì†ŒìŠ¤ ì½”ë“œ, ë°ì´í„° ì„¸íŠ¸ë¥¼ ì°¾ê³  ë”°ë¥´ëŠ” ê³³ì´ì—ìš”.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_0.png\"\u003e\n\u003cp\u003eë‹¤í–‰íˆë„, PWCì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ì—°êµ¬ ë…¼ë¬¸ì„ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ Swagger UIë¥¼ ì‚´í´ë³´ë©´ ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ê³  ì‹œë„í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • í‚¤ì›Œë“œë¡œ ë…¼ë¬¸ì„ ê²€ìƒ‰í•´ ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì¸í„°í˜ì´ìŠ¤ì—ì„œ ì´ë ‡ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: papers/ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ì•„ ì¿¼ë¦¬( q ) ì¸ìë¥¼ ì±„ì›ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eí‘œ íƒœê·¸ë¥¼ Markdown í˜•ì‹ìœ¼ë¡œ ë°”ê¾¸ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eê·¸ë¦¬ê³  ì‹¤í–‰ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eë™ë“±í•˜ê²Œ, ì´ ë™ì¼í•œ ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë‹¤ìŒ URLì„ í´ë¦­í•˜ë©´ ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì¶œë ¥ ì‘ë‹µì€ ê²°ê³¼ì˜ ì²« í˜ì´ì§€ë§Œì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë‹¤ìŒ í˜ì´ì§€ëŠ” \"next\" í‚¤ì— ì ‘ê·¼í•˜ì—¬ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ êµ¬ì¡°ë¥¼ ì´ìš©í•˜ë©´ \"ëŒ€í˜• ì–¸ì–´ ëª¨ë¸\"ì— ì¼ì¹˜í•˜ëŠ” 7200ê°œì˜ ë…¼ë¬¸ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. URLì„ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•´ ë£¨í”„ë¥¼ ëŒë¦¼ìœ¼ë¡œì¨ ê°„ë‹¨íˆ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e requests\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e urllib.parse\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e tqdm \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e tqdm\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eextract_papers\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003equery: \u003cspan class=\"hljs-built_in\"\u003estr\u003c/span\u003e\u003c/span\u003e):\n    query = urllib.parse.quote(query)\n    url = \u003cspan class=\"hljs-string\"\u003ef\"https://paperswithcode.com/api/v1/papers/?q=\u003cspan class=\"hljs-subst\"\u003e{query}\u003c/span\u003e\"\u003c/span\u003e\n    response = requests.get(url)\n    response = response.json()\n    count = response[\u003cspan class=\"hljs-string\"\u003e\"count\"\u003c/span\u003e]\n    results = []\n    results += response[\u003cspan class=\"hljs-string\"\u003e\"results\"\u003c/span\u003e]\n\n    num_pages = count // \u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e page \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e tqdm(\u003cspan class=\"hljs-built_in\"\u003erange\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, num_pages)):\n        url = \u003cspan class=\"hljs-string\"\u003ef\"https://paperswithcode.com/api/v1/papers/?page=\u003cspan class=\"hljs-subst\"\u003e{page}\u003c/span\u003e\u0026#x26;q=\u003cspan class=\"hljs-subst\"\u003e{query}\u003c/span\u003e\"\u003c/span\u003e\n        response = requests.get(url)\n        response = response.json()\n        results += response[\u003cspan class=\"hljs-string\"\u003e\"results\"\u003c/span\u003e]\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e results\n\nquery = \u003cspan class=\"hljs-string\"\u003e\"Large Language Models\"\u003c/span\u003e\n\nresults = extract_papers(query)\n\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-built_in\"\u003elen\u003c/span\u003e(results))\n\u003cspan class=\"hljs-comment\"\u003e# 7200\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê²°ê³¼ë¥¼ ì¶”ì¶œí•˜ë©´ í•´ë‹¹ ê²°ê³¼ë¥¼ ê¸°ë°˜ì´ë¡œ LangChain ë¬¸ì„œë¡œ ë³€í™˜í•˜ì—¬ ë‹¨ìˆœíˆ ì²­í¬í™”í•˜ê³  ìƒ‰ì¸í™”í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë¬¸ì„œ ê°ì²´ì—ëŠ” ë‘ ê°œì˜ ë§¤ê°œë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003epage_content (str): ë…¼ë¬¸ ì´ˆë¡ì˜ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜\u003c/li\u003e\n\u003cli\u003emetadata (dict): ì¶”ê°€ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë§¤ê°œë³€ìˆ˜. ìš°ë¦¬ì˜ ì‚¬ìš© ì‚¬ë¡€ì—ì„œëŠ” id, arxiv_id, url_pdf, íƒ€ì´í‹€, ì €ì, ë°œí‘œì¼ì„ ìœ ì§€í•  ê²ƒì…ë‹ˆë‹¤\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e langchain.docstore.document \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document\n\ndocuments = [\n    Document(\n        page_content=result[\u003cspan class=\"hljs-string\"\u003e\"abstract\"\u003c/span\u003e],\n        metadata={\n            \u003cspan class=\"hljs-string\"\u003e\"id\"\u003c/span\u003e: result[\u003cspan class=\"hljs-string\"\u003e\"id\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e result[\u003cspan class=\"hljs-string\"\u003e\"id\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"arxiv_id\"\u003c/span\u003e: result[\u003cspan class=\"hljs-string\"\u003e\"arxiv_id\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e result[\u003cspan class=\"hljs-string\"\u003e\"arxiv_id\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"url_pdf\"\u003c/span\u003e: result[\u003cspan class=\"hljs-string\"\u003e\"url_pdf\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e result[\u003cspan class=\"hljs-string\"\u003e\"url_pdf\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"title\"\u003c/span\u003e: result[\u003cspan class=\"hljs-string\"\u003e\"title\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e result[\u003cspan class=\"hljs-string\"\u003e\"title\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"authors\"\u003c/span\u003e: result[\u003cspan class=\"hljs-string\"\u003e\"authors\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e result[\u003cspan class=\"hljs-string\"\u003e\"authors\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"published\"\u003c/span\u003e: result[\u003cspan class=\"hljs-string\"\u003e\"published\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e result[\u003cspan class=\"hljs-string\"\u003e\"published\"\u003c/span\u003e] \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e,\n        },\n    )\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e result \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e results\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë¬¸ì„œë¥¼ ì„ë² ë“œí•˜ê¸° ì „ì— ì‘ì€ ì¡°ê°ë“¤ë¡œ ë‚˜ëˆ ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ LLMsì˜ ì…ë ¥ í† í° ê´€ë ¨ ì œí•œì„ ê·¹ë³µí•  ìˆ˜ ìˆê³  ê° ì¡°ê°ë§ˆë‹¤ ì„¸ë¶€ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eìš°ë¦¬ëŠ” ê¸¸ì´ê°€ 1200 ìì´ë©° chunk_overlapê°€ 200 ì¸ Chunkingì„ í†µí•´ ë¬¸ì„œë¥¼ ë‚˜ëˆ„ì—ˆë”ë‹ˆ 11,000ê°œê°€ ë„˜ëŠ” ì¡°ê°ë“¤ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003etext_splitter = RecursiveCharacterTextSplitter(\n    chunk_size=\u003cspan class=\"hljs-number\"\u003e1200\u003c/span\u003e,\n    chunk_overlap=\u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e,\n    separators=[\u003cspan class=\"hljs-string\"\u003e\".\"\u003c/span\u003e],\n)\nsplits = text_splitter.split_documents(documents)\n\n\u003cspan class=\"hljs-built_in\"\u003elen\u003c/span\u003e(splits)\n\u003cspan class=\"hljs-comment\"\u003e# 11308\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e2 â€” ì—…ìŠ¤íƒœì‹œì—ì„œ ì¸ë±ìŠ¤ ìƒì„±í•˜ê¸°\u003c/h1\u003e\n\u003cp\u003eë¬¸ì„œ ì„ë² ë”©(ë° ë©”íƒ€ë°ì´í„°)ì„ ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ì„œë²„ë¦¬ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ì¸ ì—…ìŠ¤íƒœì‹œë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ì—¬ê¸°ì— ë¡œê·¸ì¸í•˜ê³  ëª‡ ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì…ë ¥í•˜ëŠ” ì§€ì¹¨ì„ ë”°ë¥´ë©´ ë©ë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eì§€ì—­: ê·¼ì²˜ì— ìœ„ì¹˜í•œ ì§€ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”.\u003c/li\u003e\n\u003cli\u003eì°¨ì› = 768ë¡œ ì„¤ì •í•˜ì„¸ìš”(VertexAIì˜ ì„ë² ë”© ì°¨ì›)\u003c/li\u003e\n\u003cli\u003eê±°ë¦¬ ë©”íŠ¸ë¦­ = ì½”ì‚¬ì¸ìœ¼ë¡œ ì„¤ì •í•˜ì„¸ìš”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì¸ë±ìŠ¤ë¥¼ ë§Œë“  í›„ì—ëŠ” upstash-vectorë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003epip install upstash-vector\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ë¥¼ í†µí•´ ì¸ë±ìŠ¤ì— ì—°ê²°ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e upstash_vector \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Index\n\nindex = Index(\n    url=\u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;UPSTASH_URL\u003e\"\u003c/span\u003e, \n    token=\u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;UPSTASH_TOKEN\u003e\"\u003c/span\u003e\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e3 â€” Embed the chunks and index them into Upstash\u003c/h1\u003e\n\u003cp\u003eTo embed the chunks and index them into the vector db, weâ€™ll create a simple class that imitates LangChain Vectorstore implementation.\u003c/p\u003e\n\u003cp\u003eThis class will be named UpstashVectorStore and will have the following methods:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eUpstash Vector Store í´ë˜ìŠ¤ì˜ \u003cstrong\u003einit\u003c/strong\u003e ìƒì„±ìëŠ” Upstash Indexì™€ Embeddings ê°ì²´ë¥¼ ì˜ˆìƒí•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eë¬¸ì„œë¥¼ ì„ë² ë”©í•˜ê³  ì¼ê´„ì ìœ¼ë¡œ ìƒ‰ì¸ì— ì¶”ê°€í•˜ë ¤ë©´ add_documents ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003esimilarity_search_with_score ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ë±ìŠ¤ë¥¼ ì¿¼ë¦¬í•˜ê³  ìƒìœ„ kê°œì˜ ê°€ì¥ ê´€ë ¨ì„± ë†’ì€ ë¬¸ì„œ ë° í•´ë‹¹ ì ìˆ˜ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eë‹¤ìŒì€ ì „ì²´ êµ¬í˜„ì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e typing \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eList\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eOptional\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eTuple\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eUnion\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e uuid \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e uuid4\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e langchain.\u003cspan class=\"hljs-property\"\u003edocstore\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edocument\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDocument\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e langchain.\u003cspan class=\"hljs-property\"\u003eembeddings\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebase\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eEmbeddings\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e tqdm \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e tqdm\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e upstash_vector \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eUpstashVectorStore\u003c/span\u003e:\n    def \u003cspan class=\"hljs-title function_\"\u003e__init__\u003c/span\u003e(self, \u003cspan class=\"hljs-attr\"\u003eindex\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eIndex\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003eembeddings\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eEmbeddings\u003c/span\u003e):\n        self.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e = index\n        self.\u003cspan class=\"hljs-property\"\u003eembeddings\u003c/span\u003e = embeddings\n\n    def \u003cspan class=\"hljs-title function_\"\u003edelete_vectors\u003c/span\u003e(\n        self,\n        \u003cspan class=\"hljs-attr\"\u003eids\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eUnion\u003c/span\u003e[str, \u003cspan class=\"hljs-title class_\"\u003eList\u003c/span\u003e[str]] = \u003cspan class=\"hljs-title class_\"\u003eNone\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003edelete_all\u003c/span\u003e: bool = \u003cspan class=\"hljs-title class_\"\u003eNone\u003c/span\u003e,\n    ):\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003edelete_all\u003c/span\u003e:\n            self.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereset\u003c/span\u003e()\n        \u003cspan class=\"hljs-attr\"\u003eelse\u003c/span\u003e:\n            self.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003edelete\u003c/span\u003e(ids)\n\n    def \u003cspan class=\"hljs-title function_\"\u003eadd_documents\u003c/span\u003e(\n        self,\n        \u003cspan class=\"hljs-attr\"\u003edocuments\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eList\u003c/span\u003e[\u003cspan class=\"hljs-title class_\"\u003eDocument\u003c/span\u003e],\n        \u003cspan class=\"hljs-attr\"\u003eids\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eOptional\u003c/span\u003e[\u003cspan class=\"hljs-title class_\"\u003eList\u003c/span\u003e[str]] = \u003cspan class=\"hljs-title class_\"\u003eNone\u003c/span\u003e,\n        \u003cspan class=\"hljs-attr\"\u003ebatch_size\u003c/span\u003e: int = \u003cspan class=\"hljs-number\"\u003e32\u003c/span\u003e,\n    ):\n        texts = []\n        metadatas = []\n        all_ids = []\n\n        \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etqdm\u003c/span\u003e(documents):\n            text = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003epage_content\u003c/span\u003e\n            metadata = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003emetadata\u003c/span\u003e\n            metadata = {\u003cspan class=\"hljs-string\"\u003e\"context\"\u003c/span\u003e: text, **metadata}\n            texts.\u003cspan class=\"hljs-title function_\"\u003eappend\u003c/span\u003e(text)\n            metadatas.\u003cspan class=\"hljs-title function_\"\u003eappend\u003c/span\u003e(metadata)\n\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003elen\u003c/span\u003e(texts) \u003e= \u003cspan class=\"hljs-attr\"\u003ebatch_size\u003c/span\u003e:\n                ids = [\u003cspan class=\"hljs-title function_\"\u003estr\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003euuid4\u003c/span\u003e()) \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e _ \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erange\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003elen\u003c/span\u003e(texts))]\n                all_ids += ids\n                embeddings = self.\u003cspan class=\"hljs-property\"\u003eembeddings\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eembed_documents\u003c/span\u003e(texts, batch_size=\u003cspan class=\"hljs-number\"\u003e250\u003c/span\u003e)\n                self.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eupsert\u003c/span\u003e(\n                    vectors=\u003cspan class=\"hljs-title function_\"\u003ezip\u003c/span\u003e(ids, embeddings, metadatas),\n                )\n                texts = []\n                metadatas = []\n\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003elen\u003c/span\u003e(texts) \u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e:\n            ids = [\u003cspan class=\"hljs-title function_\"\u003estr\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003euuid4\u003c/span\u003e()) \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e _ \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erange\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003elen\u003c/span\u003e(texts))]\n            all_ids += ids\n            embeddings = self.\u003cspan class=\"hljs-property\"\u003eembeddings\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eembed_documents\u003c/span\u003e(texts)\n            self.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eupsert\u003c/span\u003e(\n                vectors=\u003cspan class=\"hljs-title function_\"\u003ezip\u003c/span\u003e(ids, embeddings, metadatas),\n            )\n\n        n = \u003cspan class=\"hljs-title function_\"\u003elen\u003c/span\u003e(all_ids)\n        \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(f\u003cspan class=\"hljs-string\"\u003e\"Successfully indexed {n} dense vectors to Upstash.\"\u003c/span\u003e)\n        \u003cspan class=\"hljs-title function_\"\u003eprint\u003c/span\u003e(self.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estats\u003c/span\u003e())\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e all_ids\n\n    def \u003cspan class=\"hljs-title function_\"\u003esimilarity_search_with_score\u003c/span\u003e(\n        self,\n        \u003cspan class=\"hljs-attr\"\u003equery\u003c/span\u003e: str,\n        \u003cspan class=\"hljs-attr\"\u003ek\u003c/span\u003e: int = \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,\n    ) -\u003e \u003cspan class=\"hljs-title class_\"\u003eList\u003c/span\u003e[\u003cspan class=\"hljs-title class_\"\u003eTuple\u003c/span\u003e[\u003cspan class=\"hljs-title class_\"\u003eDocument\u003c/span\u003e, float]]:\n        query_embedding = self.\u003cspan class=\"hljs-property\"\u003eembeddings\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eembed_query\u003c/span\u003e(query)\n        query_results = self.\u003cspan class=\"hljs-property\"\u003eindex\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003equery\u003c/span\u003e(\n            query_embedding,\n            top_k=k,\n            include_metadata=\u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e,\n        )\n        output = []\n        \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e query_result \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003equery_results\u003c/span\u003e:\n            score = query_result.\u003cspan class=\"hljs-property\"\u003escore\u003c/span\u003e\n            metadata = query_result.\u003cspan class=\"hljs-property\"\u003emetadata\u003c/span\u003e\n            context = metadata.\u003cspan class=\"hljs-title function_\"\u003epop\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"context\"\u003c/span\u003e)\n            doc = \u003cspan class=\"hljs-title class_\"\u003eDocument\u003c/span\u003e(\n                page_content=context,\n                metadata=metadata,\n            )\n            output.\u003cspan class=\"hljs-title function_\"\u003eappend\u003c/span\u003e((doc, score))\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e output\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì²­í¬ë¥¼ ìƒ‰ì¸í™”í•´ ë´…ì‹œë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e langchain.embeddings \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e VertexAIEmbeddings\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e upstash_vector \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Index\n\nindex = Index(\n    url=\u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;UPSTASH_URL\u003e\"\u003c/span\u003e,\n    token=\u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;UPSTASH_TOKEN\u003e\"\u003c/span\u003e,\n)\nembeddings = VertexAIEmbeddings(model_name=\u003cspan class=\"hljs-string\"\u003e\"textembedding-gecko@003\"\u003c/span\u003e)\n\nupstash_vector_store = UpstashVectorStore(index, embeddings)\nids = upstash_vector_store.add_documents(splits, batch_size=\u003cspan class=\"hljs-number\"\u003e25\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ ê³¼ì •ì€ ë¶„í•  ìˆ˜, ì—°ê²° ì†ë„ ë° ì„ íƒí•œ ë°°ì¹˜ í¬ê¸°ì— ë”°ë¼ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eìƒ‰ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ë©´ UIì—ì„œ ë²¡í„° ë° í•´ë‹¹ ë©”íƒ€ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: ì´ëŠ” ë ˆì½”ë“œì˜ ë¹ ë¥¸ ê²€ì‚¬ì™€ ì‰¬ìš´ ê´€ë¦¬(ì˜ˆ: ì‚­ì œ)ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003e4 â€” ìƒ‰ì¸ ëœ ë…¼ë¬¸ì— ëŒ€í•œ ì§ˆë¬¸í•˜ê¸°\u003c/h1\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì¶”ìƒì´ ì˜¬ë°”ë¥´ê²Œ Upstashì— ìƒ‰ì¸ëœ ìƒíƒœë¡œ, ì´ì œ ìì—°ì–´ë¡œ ìƒí˜¸ì‘ìš©í•˜ë©° ML ì£¼ì œì— ëŒ€í•œ êµ¬ì²´ì ì¸ ì§ˆë¬¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ê²Œ ìƒê°ë³´ë‹¤ í›¨ì”¬ ì‰½ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ë¥¼ ìœ„í•´ ë¨¼ì €, ì§ˆë¬¸ì„ ë°›ì•„ ê´€ë ¨ ë¬¸ì„œë¥¼ ë²¡í„° ì €ì¥ì†Œì—ì„œ ê²€ìƒ‰í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•©ì‹œë‹¤.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003edef \u003cspan class=\"hljs-title function_\"\u003eget_context\u003c/span\u003e(query, vector_store):\n    results = vector_store.\u003cspan class=\"hljs-title function_\"\u003esimilarity_search_with_score\u003c/span\u003e(query)\n    context = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\n\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e doc, score \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eresults\u003c/span\u003e:\n        context += doc.\u003cspan class=\"hljs-property\"\u003epage_content\u003c/span\u003e + \u003cspan class=\"hljs-string\"\u003e\"\\n===\\n\"\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e context\n\ndef \u003cspan class=\"hljs-title function_\"\u003eget_prompt\u003c/span\u003e(question, context):\n    template = \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\n    ì£¼ì–´ì§„ ë¬¸ë§¥ì„ ì‚¬ìš©í•˜ì—¬ ì§ˆë¬¸ì— ë‹µí•˜ëŠ” ê²ƒì´ ì—¬ëŸ¬ë¶„ì˜ ì‘ì—…ì…ë‹ˆë‹¤.\n\n    ë¬¸ë§¥ ì™¸ì˜ ê²ƒì„ ê¾¸ë©°ë‚´ì§€ ë§ˆì„¸ìš”.\n    ì ì–´ë„ 350ì ì´ìƒìœ¼ë¡œ ëŒ€ë‹µí•´ ì£¼ì„¸ìš”.\n\n    %CONTEXT%\n    {context}\n\n    %Question%\n    {question}\n\n    Hint: ë¬¸ë§¥ì„ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì§€ ë§ˆì„¸ìš”. ì—¬ëŸ¬ë¶„ë§Œì˜ ë§ë¡œ í‘œí˜„í•´ ì£¼ì„¸ìš”.\n    \n    ëŒ€ë‹µ:\n    \"\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\n    prompt = template.\u003cspan class=\"hljs-title function_\"\u003eformat\u003c/span\u003e(question=question, context=context)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e prompt\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì˜ê°ì´ ë–¨ì–´ì§ˆ ë•Œê°€ ìˆì£ ? ì‹œì‘í•˜ëŠ” ë° ë„ì›€ì´ ë  ì§ˆë¬¸ì´ì—ìš”:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003equery = (\n    \u003cspan class=\"hljs-string\"\u003e\"Retrieval Augmented Generation (RAG) í”„ë ˆì„ì›Œí¬ ë’¤ì˜ ë¬¸ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?\"\u003c/span\u003e\n)\n\ncontext = \u003cspan class=\"hljs-title function_\"\u003eget_context\u003c/span\u003e(query, upstash_vector_store)\nprompt = \u003cspan class=\"hljs-title function_\"\u003eget_prompt\u003c/span\u003e(query, context)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë‹¤ìŒì€ ë¬¸ë§¥ì„ ë°›ì€ í›„ì˜ í”„ë¡¬í”„íŠ¸ ëª¨ìŠµì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eì£¼ì–´ì§„ ë¬¸ë§¥ì„ í™œìš©í•´ ì§ˆë¬¸ì— ë‹µí•´ ë³´ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ê³¼ì œì…ë‹ˆë‹¤.\n\në¬¸ë§¥ ë°–ì˜ ê²ƒì€ ê´‘ì¥ì„ ë§Œë“¤ì§€ ë§ˆì„¸ìš”.\nì ì–´ë„ \u003cspan class=\"hljs-number\"\u003e350\u003c/span\u003eì ì´ìƒìœ¼ë¡œ ë‹µí•˜ì„¸ìš”.\n\n%\u003cspan class=\"hljs-variable constant_\"\u003eCONTEXT\u003c/span\u003e%\n\n\u003cspan class=\"hljs-title class_\"\u003eRetrieval\u003c/span\u003e-\u003cspan class=\"hljs-title class_\"\u003eAugmented\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGeneration\u003c/span\u003e (\u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e)ì€ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ í™˜ê°ì„ ì™„í™”í•˜ê¸° ìœ„í•œ \nìœ ë§í•œ ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê¸°ì¡´ ì—°êµ¬ëŠ” ì„œë¡œ ë‹¤ë¥¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— ëŒ€í•œ \nê²€ìƒ‰ ì¦ê°• ìƒì„±ì˜ ì˜í–¥ì— ëŒ€í•œ ì² ì €í•œ í‰ê°€ê°€ ë¶€ì¡±í•˜ì—¬, ì„œë¡œ ë‹¤ë¥¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— \nëŒ€í•œ \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003eì˜ ëŠ¥ë ¥ì— ëŒ€í•œ ì ì¬ì  ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ëŠ” ê²ƒì´ ì–´ë ¤ìš´ ìƒí™©ì…ë‹ˆë‹¤. \nìš°ë¦¬ëŠ” ì´ ë…¼ë¬¸ì—ì„œ \u003cspan class=\"hljs-title class_\"\u003eRetrieval\u003c/span\u003e-\u003cspan class=\"hljs-title class_\"\u003eAugmented\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGeneration\u003c/span\u003eì´ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ \nì²´ê³„ì ìœ¼ë¡œ ì¡°ì‚¬í•©ë‹ˆë‹¤. \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003eê°€ ìš”êµ¬í•˜ëŠ” \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003eê°€ì§€ ê¸°ë³¸ ëŠ¥ë ¥ì¸ ë…¸ì´ì¦ˆ ê°•ê±´ì„±, ë¶€ì • ê±°ë¶€, \nì •ë³´ í†µí•© ë° ë°˜ì‚¬ì  ê°•ê±´ì„±ì— ëŒ€í•œ ë‹¤ì–‘í•œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ë¶„ì„í•©ë‹ˆë‹¤. \nì´ë¥¼ ìœ„í•´ \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e í‰ê°€ë¥¼ ìœ„í•œ ìƒˆë¡œìš´ ë§ë­‰ì¹˜ì¸ \u003cspan class=\"hljs-title class_\"\u003eRetrieval\u003c/span\u003e-\u003cspan class=\"hljs-title class_\"\u003eAugmented\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGeneration\u003c/span\u003e \n\u003cspan class=\"hljs-title class_\"\u003eBenchmark\u003c/span\u003e (\u003cspan class=\"hljs-variable constant_\"\u003eRGB\u003c/span\u003e)ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì´ \u003cspan class=\"hljs-variable constant_\"\u003eRGB\u003c/span\u003eëŠ” ì˜ì–´ì™€ ì¤‘êµ­ì–´ ëª¨ë‘ì—ì„œ \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e í‰ê°€ì— ì‚¬ìš©ë˜ëŠ” \nìƒˆë¡œìš´ ë§ë­‰ì¹˜ë¡œ, í•´ë‹¹ ë§ë­‰ì¹˜ ë‚´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜ë¯¸ ìˆëŠ” ëŠ¥ë ¥ì— ë”°ë¼ \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003eê°œì˜ ë³„ë„ì˜ \ní…ŒìŠ¤íŠ¸ë² ë“œë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ \u003cspan class=\"hljs-variable constant_\"\u003eRGB\u003c/span\u003eì—ì„œ \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003eê°œì˜ ëŒ€í‘œì ì¸ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì„ \ní‰ê°€í•˜ì—¬ \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003eë¥¼ ì ìš©í•  ë•Œ í˜„ì¬ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ ë„ì „ì— ëŒ€í•´ ì§„ë‹¨í•©ë‹ˆë‹¤.\n===\nëŒ€ë‹¨í•œ ëŠ¥ë ¥ì„ ê°–ê³  ìˆì§€ë§Œ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(\u003cspan class=\"hljs-variable constant_\"\u003eLM\u003c/span\u003e)ì€ ì¢…ì ìœ¼ë¡œ ì•Œë ¤ì§„ ì •ë³´ì—ë§Œ ì˜ì¡´í•˜ì—¬ \nì‚¬ì‹¤ì ì¸ ì •í™•ì„±ì„ ê°€ì§€ì§€ ì•ŠëŠ” ì‘ë‹µì„ ì¢…ì¢… ìƒì„±í•©ë‹ˆë‹¤. \u003cspan class=\"hljs-title class_\"\u003eRetrieval\u003c/span\u003e-\u003cspan class=\"hljs-title class_\"\u003eAugmented\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eGeneration\u003c/span\u003e \n(\u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e)ì€ \u003cspan class=\"hljs-variable constant_\"\u003eLM\u003c/span\u003eì„ ê´€ë ¨ ì§€ì‹ ê²€ìƒ‰ìœ¼ë¡œ ë³´ì™„í•˜ëŠ” ë¬´ì‘ìœ„ ì ‘ê·¼ë²•ìœ¼ë¡œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì¤„ì…ë‹ˆë‹¤. \nê·¸ëŸ¬ë‚˜ ê²€ìƒ‰ì´ í•„ìš”í•œì§€, ë˜ëŠ” ì§€ì‹ì´ ê´€ë ¨ì„±ì´ ìˆëŠ”ì§€ ì—¬ë¶€ì— ìƒê´€ì—†ì´ ì¼ì • ìˆ˜ì˜ ê²€ìƒ‰ \në‚´ìš©ì„ ë¬´ì‘ìœ„ë¡œ ê°€ì ¸ì™€ í¬í•¨í•œë‹¤ë©´, \u003cspan class=\"hljs-variable constant_\"\u003eLM\u003c/span\u003eì˜ ë‹¤ì–‘ì„±ì´ ê°ì†Œí•˜ê±°ë‚˜ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” \nì‘ë‹µ ìƒì„±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” \u003cspan class=\"hljs-title class_\"\u003eSelf\u003c/span\u003e-\u003cspan class=\"hljs-title class_\"\u003eReflective\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRetrieval\u003c/span\u003e-\u003cspan class=\"hljs-title class_\"\u003eAugmented\u003c/span\u003e \n\u003cspan class=\"hljs-title class_\"\u003eGeneration\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eSelf\u003c/span\u003e-\u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e)ì´ë¼ëŠ” ìƒˆë¡œìš´ í”„ë ˆì„ì›Œí¬ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤. ì´ í”„ë ˆì„ì›Œí¬ëŠ” ê²€ìƒ‰ ë° \nìê¸° ë°˜ì„±ì„ í†µí•´ \u003cspan class=\"hljs-variable constant_\"\u003eLM\u003c/span\u003eì˜ í’ˆì§ˆê³¼ ì •í™•ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. ìš°ë¦¬ì˜ í”„ë ˆì„ì›Œí¬ëŠ” í•„ìš” ì‹œ \nê²€ìƒ‰ ê²°ê³¼ë¥¼ ê°€ì ¸ì™€ ë™ì ìœ¼ë¡œ ë³€í™”ì‹œí‚¤ë©°, íŠ¹ìˆ˜ í† í°ì¸ ë°˜ì„± í† í°ì„ ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰ ê²°ê³¼ì™€ \n\u003cspan class=\"hljs-variable constant_\"\u003eLM\u003c/span\u003eì˜ ìƒì„±ë¬¼ì„ ìƒì„±í•˜ê³  ë°˜ì„±í•©ë‹ˆë‹¤. ë°˜ì„± í† í°ì„ ìƒì„±í•˜ë©´ \u003cspan class=\"hljs-variable constant_\"\u003eLM\u003c/span\u003eì´ ì¶”ë¡  ë‹¨ê³„ì—ì„œ ì¡°ì ˆ ê°€ëŠ¥í•´ì ¸ \në‹¤ì–‘í•œ ì‘ì—… ìš”êµ¬ì— ë§ê²Œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n...\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ì œ LLMì—ê²Œ ëŒ€ë‹µ ìƒì„±ì„ ìš”ì²­í•´ë³´ì„¸ìš”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e langchain.\u003cspan class=\"hljs-property\"\u003echat_models\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAzureChatOpenAI\u003c/span\u003e\n\nllm = \u003cspan class=\"hljs-title class_\"\u003eAzureChatOpenAI\u003c/span\u003e(\n    azure_deployment=\u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;AZURE_DEPLOYMENT\u003e\"\u003c/span\u003e,\n    model=\u003cspan class=\"hljs-string\"\u003e\"\u0026#x3C;MODEL_NAME\u003e\"\u003c/span\u003e,\n)\n\nanswer = llm.\u003cspan class=\"hljs-title function_\"\u003epredict\u003c/span\u003e(prompt)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì™”ìª„ìš”! ğŸ¥\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eê²€ìƒ‰ ì¦ê°• ìƒì„± (\u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e) í”„ë ˆì„ì›Œí¬ëŠ” í•ì„ í”¼í•  ìˆ˜ ì—†ëŠ” ê²€ìƒ‰ ë° í•„ìš”í•˜ì§€ ì•Šê±°ë‚˜ ê´€ë ¨ì„± ì—†ëŠ” ë‹¨ë½ì„ í¬í•¨í•˜ì—¬ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ì‘ë‹µ ìƒì„±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ë¬¸ì œì™€ ê°™ì€ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ê¸°ì¡´ ì—°êµ¬ëŠ” \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003eê°€ ë‹¤ì–‘í•œ ëŒ€í˜• ì–¸ì–´ ëª¨ë¸ (\u003cspan class=\"hljs-variable constant_\"\u003eLLM\u003c/span\u003e)ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì² ì €íˆ í‰ê°€í•˜ì§€ ì•Šì•„ \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003eì˜ ë‹¤ì–‘í•œ \u003cspan class=\"hljs-variable constant_\"\u003eLLM\u003c/span\u003eì— ëŒ€í•œ ê¸°ëŠ¥ ë³‘ëª© í˜„ìƒì„ ì‹ë³„í•˜ê¸° ì–´ë µê²Œ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ì—°êµ¬ìë“¤ì€ ìê¸° ë°˜ì„± ê²€ìƒ‰ ì¦ê°• ìƒì„±(\u003cspan class=\"hljs-title class_\"\u003eSelf\u003c/span\u003e-\u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e) í”„ë ˆì„ì›Œí¬ë¥¼ ì œì•ˆí–ˆìœ¼ë©°, ì´ í”„ë ˆì„ì›Œí¬ëŠ” ê²€ìƒ‰ ë° ìê¸° ë°˜ì„±ì„ í†µí•´ \u003cspan class=\"hljs-variable constant_\"\u003eLM\u003c/span\u003eì˜ í’ˆì§ˆê³¼ ì‚¬ì‹¤ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. \u003cspan class=\"hljs-variable constant_\"\u003eLLM\u003c/span\u003eì˜ ë‹¤ë¥¸ ë¬¸ì œì  ì¤‘ í•˜ë‚˜ëŠ” ê·¸ë“¤ì˜ ìŠê¸°ì£½ì„ì…ë‹ˆë‹¤. ê·¸ë“¤ì€ ì‹œê°„ì´ íë¥¼ìˆ˜ë¡ ê°œì„ ë˜ì§€ ì•Šê±°ë‚˜ ì¸ê°„ì²˜ëŸ¼ ìƒˆë¡œìš´ ì§€ì‹ì„ ìŠµë“í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ì—°êµ¬ìë“¤ì€ \u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003eë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œ í•´ê²° ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ë²•ì„ íƒêµ¬í•˜ê³ , \u003cspan class=\"hljs-variable constant_\"\u003eARM\u003c/span\u003e-\u003cspan class=\"hljs-variable constant_\"\u003eRAG\u003c/span\u003e ì‹œìŠ¤í…œì„ ì œì•ˆí–ˆìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ ë†’ì€ í›ˆë ¨ ë¹„ìš©ì´ í•„ìš” ì—†ì´ ì„±ê³µì„ í†µí•´ í•™ìŠµí•©ë‹ˆë‹¤.\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eê½¤ ê´œì°®ì§€ ì•Šì•„ìš”?\u003c/p\u003e\n\u003ch2\u003eì´ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ìš”ì•½í•´ ë³¼ê²Œìš”.\u003c/h2\u003e\n\u003ch1\u003e5â€” Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•˜ê¸°\u003c/h1\u003e\n\u003cp\u003eUIì—ì„œ RAGì™€ ìƒí˜¸ ì‘ìš©í•˜ê¸° ìœ„í•´ Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•  ìˆ˜ ìˆì–´ìš”.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë‹¤ìŒì€ Markdown í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•œ ê²ƒì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*zFIzwP4z8xmmvXSZFdnM8w.gif\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003eí˜¹ì‹œ ì•±ì„ ë¡œì»¬ì—ì„œ ì‹œë„í•´ë³´ê³  ì½”ë“œë¥¼ ë§Œì ¸ë³´ê³  ì‹¶ìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ í™˜ì˜í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eëª‡ ê°€ì§€ í•µì‹¬ í¬ì¸íŠ¸\u003c/h1\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë§ì€ ë¶„ë“¤ì´ ì´ë¯¸ ìë£Œì™€ ëŒ€í™”í•˜ëŠ” RAGsë¥¼ êµ¬ì¶•í•˜ì…¨ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì œê°€ ì‹¤ì œë¡œ ê·¸ëŸ¬í•œ í”„ë¡œì íŠ¸ì˜ ì‹¤ìš©ì„±ì— ëŒ€í•´ ì†”ì§í•œ í”¼ë“œë°±ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì œ ëª©í‘œëŠ” ì—¬ëŸ¬ë¶„ì´ RAGsë¥¼ ë§Œë“¤ì§€ ì•Šë„ë¡ ë°©í•´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ëŸ¬í•œ ì†”ë£¨ì…˜ì— ëŒ€í•œ ê³¼ëŒ€ê´‘ê³ ë¥¼ ì™„í™”ì‹œí‚¤ê¸° ìœ„í•´ ì„¸ì‹¬í•œ ì˜ê²¬ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eìš°ì„  ì´ì ì—ì„œ ì‹œì‘í•´ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRAGsë¥¼ í†µí•´ ì™¸ë¶€ ìë£Œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì €í¬ê°€ ê°œë°œí•œ ì•±ì€ Mistralì´ë‚˜ LLama2ì™€ ê°™ì€ ìµœê·¼ ì˜¤í”ˆ ì†ŒìŠ¤ LLMì— ëŒ€í•œ ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.\nChatGPTì— ì´ëŸ¬í•œ ëª¨ë¸ì— ëŒ€í•´ ì§ˆë¬¸ì„ í•˜ë©´ ì–»ì„ ìˆ˜ ìˆëŠ” ê²ƒë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode_1.png\" alt=\"RAGs ì‚¬ìš© ì˜ˆì‹œ\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRAGë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ëœ ì‘ë‹µì„ ì§€íƒ±í•˜ëŠ” ì†ŒìŠ¤ ë¬¸ì„œë¥¼ ì¸ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì‚¬ìš©ì ì‹ ë¢°ë¥¼ ë†’ì´ê³  ë””ë²„ê¹… ë° í•´ì„ ê°€ëŠ¥ì„±ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eRAGëŠ” ë‹µë³€ì„ ì§€íƒ±í•˜ê¸° ìœ„í•´ ì™¸ë¶€ ë°ì´í„°ë§Œ í™œìš©í•˜ë¯€ë¡œ LLMì˜ í™˜í˜• ê²½í–¥ì„ ì œí•œí•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eRAGëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì‰½ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë¸ì„ í›ˆë ¨í•˜ê±°ë‚˜ ì„¸ë¶€ ì¡°ì •í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¹„ì‹¼ ì»´í“¨íŒ… ìì›ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eê·¸ëŸ¬ë‚˜ RAGëŠ” ë§ˆë²•ê°™ì´ ì¦‰ì‹œ í•´ê²°ë˜ëŠ” í•´ê²°ì±…ì€ ì•„ë‹™ë‹ˆë‹¤. \"ê¸°ì—…\" ì„¸ê³„ì—ì„œ ì´ë¥¼ ì‚°ì—…í™”í•˜ë ¤ë©´ ê³ ë ¤í•´ì•¼ í•  ì¤‘ìš”í•œ ì¸¡ë©´ì´ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eê·¸ë“¤ì˜ ì˜í–¥ë ¥ì€ ì œê³µëœ ë°ì´í„°ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì˜ˆì‹œ ì•±ì—ì„œ ìš°ë¦¬ëŠ” ë…¼ë¬¸ ì´ˆë¡ë§Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì¼ë°˜ì ì¸ ì§ˆë¬¸ì— ë‹µë³€í•˜ëŠ” ë° ì¢‹ì€ ì‹œì‘ì ì„ ì œê³µí•˜ì§€ë§Œ ì¿¼ë¦¬ê°€ ë„ˆë¬´ ë³µì¡í•˜ê³  ì „ì²´ í…ìŠ¤íŠ¸ì— ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ë„ì›€ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì™¸ë¶€ êµ¬í˜„ëœ RAGëŠ” ì˜ ì‘ë™í•˜ëŠ” ê²½ìš°ê°€ ë“œë­…ë‹ˆë‹¤. ë°ëª¨ ëª©ì ìœ¼ë¡œëŠ” ì¢‹ì§€ë§Œ ë‹µë³€ì„ ì‹¬ì¸µì ìœ¼ë¡œ ì¡°ì‚¬í•˜ê¸° ì‹œì‘í•˜ë©´ í’ˆì§ˆì´ ì‹¤ë§ìŠ¤ëŸ¬ì›€ì„ ë¹¨ë¦¬ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì² ì €í•œ ì¡°ì •, í‰ê°€ ì§€í‘œ ë° ì¸ê°„ì˜ ê°œì…ì´ í•„ìš”í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eRAGëŠ” ëª¨ë“  ê²ƒì— ëŒ€í•œ í•´ê²°ì±…ì´ ì•„ë‹™ë‹ˆë‹¤. ìŠ¤íƒ€ì¼ ë³µì‚¬ì™€ ê°™ì€ ì¼ë¶€ ì‘ìš© í”„ë¡œê·¸ë¨ì€ ëª¨ë¸ ì„¸ë¶€ ì¡°ì •ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ë³´ì…ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eRAGëŠ” LLMì˜ ì»¨í…ìŠ¤íŠ¸ í¬ê¸°ì— ì˜í•´ ì œí•œë©ë‹ˆë‹¤. LLMì˜ ì»¨í…ìŠ¤íŠ¸ í¬ê¸°ê°€ 1ë°±ë§Œ í† í°ì´ ë˜ë”ë¼ë„ í•´ë‹¹ ë°ì´í„° ì–‘ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ì•„ì´ë””ì–´ëŠ” ì•„ë‹™ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003eê²°ë¡ \u003c/h1\u003e\n\u003cp\u003eì§€ê¸ˆê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë§Œì•½ ì´ ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ í–¥ìƒì‹œí‚¤ê³  ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°€ê¸¸ ì›í•œë‹¤ë©´, ì•„ë˜ ì•„ì´ë””ì–´ë¥¼ íƒìƒ‰í•˜ê±°ë‚˜ êµ¬í˜„í•´ ë³´ì„¸ìš”.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eìš”ì•½ì´ ì•„ë‹Œ ì „ì²´ í…ìŠ¤íŠ¸ ì‚¬ìš©\u003c/li\u003e\n\u003cli\u003eë©”íƒ€ë°ì´í„° í•„í„°ë§ê³¼ ë²¡í„° ê²€ìƒ‰ ë³´ì™„\u003c/li\u003e\n\u003cli\u003eë°€ë„ ê²€ìƒ‰ì´ ì•„ë‹Œ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œë„í•˜ê¸°: í‚¤ì›Œë“œ ê²€ìƒ‰ì´ ì˜ì™œ ê²€ìƒ‰ì„ ë†€ëê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eê²€ìƒ‰ í›„ ë¬¸ì„œ ì¬ë­í¬: ì´ë¥¼ í†µí•´ ë³´ë‹¤ ë§ì€ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ê³  ì¤‘ìš”í•œ ê²ƒë“¤ì„ ìì„¸íˆ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì‚¬ìš©ì ì¿¼ë¦¬ í™•ì¥\u003c/li\u003e\n\u003cli\u003eì„ë² ë”© ì„¸ë°€ ì¡°ì •\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ì „ì— ì‘ì„±í•œ ê°œì„ ëœ ê²€ìƒ‰ ê¸°ìˆ ì— ê´€í•œ ê¸€ì´ì—ìš”.\u003c/p\u003e\n\u003cp\u003eì—¬ê¸° ğŸ‘‡ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”.\u003c/p\u003e\n\u003cp\u003eì½ì–´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ“–.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-13-HowToBuildanLLM-PoweredAppToChatwithPapersWithCode"},"buildId":"QAkYP0lvl03W-5CKD69kb","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>