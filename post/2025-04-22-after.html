<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Next.js 15ì—ì„œ after ë©”ì„œë“œ í™œìš©í•˜ëŠ” ìµœì‹  ë°©ë²• 2025 | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2025-04-22-after" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Next.js 15ì—ì„œ after ë©”ì„œë“œ í™œìš©í•˜ëŠ” ìµœì‹  ë°©ë²• 2025 | TIL" data-gatsby-head="true"/><meta property="og:title" content="Next.js 15ì—ì„œ after ë©”ì„œë“œ í™œìš©í•˜ëŠ” ìµœì‹  ë°©ë²• 2025 | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/TIL/assets/img/nextjs.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2025-04-22-after" data-gatsby-head="true"/><meta name="twitter:title" content="Next.js 15ì—ì„œ after ë©”ì„œë“œ í™œìš©í•˜ëŠ” ìµœì‹  ë°©ë²• 2025 | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/assets/img/nextjs.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2025-04-22 02:56" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/0eef537492fed77a.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/0eef537492fed77a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-8ded8b979ba73586.js" defer=""></script><script src="/TIL/_next/static/olPs1cVezSGTqD7OaewDI/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/olPs1cVezSGTqD7OaewDI/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Next.js 15ì—ì„œ after ë©”ì„œë“œ í™œìš©í•˜ëŠ” ìµœì‹  ë°©ë²• 2025</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Next.js 15ì—ì„œ after ë©”ì„œë“œ í™œìš©í•˜ëŠ” ìµœì‹  ë°©ë²• 2025" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Apr 22, 2025</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<h1>after</h1>
<p><code>after</code>ëŠ” ì‘ë‹µ(response)ì´ë‚˜ í”„ë¦¬ë Œë”(prerender)ê°€ ì™„ë£Œëœ í›„ì— ì‘ì—…ì„ ì˜ˆì•½í•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´, ì‚¬ìš©ìì—ê²Œ ì‘ë‹µì„ ë³´ë‚´ëŠ” ë° ë°©í•´ê°€ ë˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ” ì‘ì—…ë“¤â€”ì˜ˆë¥¼ ë“¤ì–´ ë¡œê·¸ ê¸°ë¡, ë¶„ì„ ë°ì´í„° ìˆ˜ì§‘ ê°™ì€ ë¶€ìˆ˜ íš¨ê³¼ë“¤â€”ì„ ë’¤ë¡œ ë¯¸ë£° ë•Œ ìœ ìš©í•´ìš”.</p>
<p>ì´ ê¸°ëŠ¥ì€ Server Components (ì˜ˆ: <code>generateMetadata</code> í¬í•¨), Server Actions, Route Handlers, ê·¸ë¦¬ê³  Middlewareì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì‚¬ìš©ë²•ì€ ê°„ë‹¨í•´ìš”. <code>after</code> í•¨ìˆ˜ì— ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë©´, ì‘ë‹µì´ ëë‚œ ë’¤ì— ê·¸ ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì‘ë‹µ ì†ë„ë¥¼ ëŠ¦ì¶”ì§€ ì•Šê³ ë„ í•„ìš”í•œ ì‘ì—…ì„ ë’¤ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆì£ .</p>
<hr>
<h3>ì¶”ê°€ íŒ!</h3>
<ul>
<li>ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìì˜ ë°©ë¬¸ ê¸°ë¡ì„ DBì— ì €ì¥í•˜ëŠ” ë¡œì§ì„ <code>after</code>ë¡œ ì‹¤í–‰í•˜ë©´, ë°©ë¬¸ì ì…ì¥ì—ì„  í˜ì´ì§€ê°€ ë¹ ë¥´ê²Œ ë¡œë“œë˜ê³ , ë°±ì—”ë“œì—ì„œëŠ” ê¸°ë¡ ì‘ì—…ì´ ì¡°ìš©íˆ ì´ë£¨ì–´ì ¸ ì¢‹ì€ UXë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.</li>
<li>í•˜ì§€ë§Œ ë„ˆë¬´ ë¬´ê±°ìš´ ì‘ì—…ì„ <code>after</code>ì— ë„£ìœ¼ë©´ ì„œë²„ ìì›ì„ ë¶ˆí•„ìš”í•˜ê²Œ ì¡ì•„ë¨¹ì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ì ì ˆí•œ ìš©ë„ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</li>
<li>ë§Œì•½ ì²˜ë¦¬ ì¤‘ ì—ëŸ¬ê°€ ë‚˜ë„ ì‘ë‹µì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. ì—ëŸ¬ í•¸ë“¤ë§ë„ ë”°ë¡œ ì±™ê²¨ì£¼ë©´ ì¢‹ì•„ìš”.</li>
</ul>
<hr>
<p>í•„ìš”í•˜ë©´ ì˜ˆì œ ì½”ë“œë„ ê³µìœ í•´ ë“œë¦´ê²Œìš”â€”í•¨ê»˜ ê³µë¶€í•´ë´…ì‹œë‹¤!</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ Next.jsì˜ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ <code>after</code> í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ê°„ë‹¨í•˜ê²Œ ì•Œë ¤ë“œë¦´ê²Œìš”.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { after } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>
<span class="hljs-comment">// ì»¤ìŠ¤í…€ ë¡œê¹… í•¨ìˆ˜</span>
<span class="hljs-keyword">import</span> { log } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/app/utils'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Layout</span>(<span class="hljs-params">{ children }: { children: React.ReactNode }</span>) {
  <span class="hljs-title function_">after</span>(<span class="hljs-function">() =></span> {
    <span class="hljs-comment">// ë ˆì´ì•„ì›ƒì´ ë Œë”ë§ë˜ê³  ì‚¬ìš©ìì—ê²Œ ì „ì†¡ëœ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.</span>
    <span class="hljs-title function_">log</span>()
  })
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&#x3C;></span>{children}<span class="hljs-tag">&#x3C;/></span></span>
}
</code></pre>
<h3>í•µì‹¬ í¬ì¸íŠ¸!</h3>
<p><code>after</code> í•¨ìˆ˜ëŠ” ë Œë”ë§ì´ ëë‚œ ë‹¤ìŒ, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µì„ ë³´ë‚¸ í›„ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ì—­í• ì„ í•´ìš”. ì˜ˆë¥¼ ë“¤ë©´, ë¡œê·¸ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ë°ì´í„°ë¥¼ íŠ¸ë˜í‚¹í•  ë•Œ ìœ ìš©í•˜ê² ì£ .</p>
<blockquote>
<p><strong>ì°¸ê³ :</strong> <code>after</code>ëŠ” ë™ì  APIê°€ ì•„ë‹ˆì—ìš”. ê·¸ëŸ¬ë‹ˆê¹Œ ì´ê±¸ í˜¸ì¶œí•œë‹¤ê³  í•´ì„œ í˜ì´ì§€ê°€ ìë™ìœ¼ë¡œ ë™ì  ë¼ìš°íŠ¸(dynamic route)ê°€ ë˜ëŠ” ê±´ ì•„ë‹™ë‹ˆë‹¤.<br>
ë§Œì•½ static page ë‚´ì—ì„œ ì‚¬ìš©í•˜ë©´, ì´ ì½œë°± í•¨ìˆ˜ëŠ” ë¹Œë“œ íƒ€ì„ì´ë‚˜ í˜ì´ì§€ê°€ ë‹¤ì‹œ ê²€ì¦(revalidate) ë  ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
</blockquote>
<hr>
<h2><code>after</code> í•¨ìˆ˜ ì£¼ìš” íŠ¹ì§• ì •ë¦¬!</h2>













<table><thead><tr><th>íŒŒë¼ë¯¸í„°</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>ì½œë°± í•¨ìˆ˜</td><td>ë Œë”ë§ ì§í›„ ì‹¤í–‰í•  í•¨ìˆ˜. ë¹„ë™ê¸° ì½œë°±ë„ ì§€ì›í•˜ì§€ë§Œ, ì‘ë‹µì„ ë§‰ì§€ëŠ” ì•ŠìŒ</td></tr></tbody></table>
<hr>
<h3>ë” ì•Œì•„ë‘ë©´ ì¢‹ì€ ì </h3>
<ul>
<li>ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ì„œë²„ ì •ë³´ë„ ìˆ˜ì§‘í•˜ê¸° í¸í•©ë‹ˆë‹¤.</li>
<li>ë¡œê·¸ ì™¸ì—ë„ ê¼­ í•„ìš”í•œ í›„ì²˜ë¦¬ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ ì¢‹ìŠµë‹ˆë‹¤.</li>
<li><code>after</code>ì˜ ì½œë°±ì€ ì‚¬ìš©ìì—ê²Œ í˜ì´ì§€ê°€ ì „ë‹¬ëœ í›„ ì‹¤í–‰ë˜ë‹ˆ ë Œë”ë§ ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³ , ë¶€ë‹´ ì—†ì´ í›„ì²˜ë¦¬ë¥¼ ë§¡ê¸¸ ìˆ˜ ìˆì–´ìš”.</li>
</ul>
<hr>
<p>Next.jsë¡œ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ ë‹¤ë£° ë•Œ ì´ëŸ° í›„ì²˜ë¦¬ ë°©ë²•ì„ ì•Œê³  ìˆìœ¼ë©´ ì„±ëŠ¥ íŠœë‹ì´ë‚˜ ë””ë²„ê¹…ì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜¤ëŠ˜ë„ ì¢‹ì€ ê°œë°œí•˜ì‹œê¸¸ ë°”ë¼ìš”! ğŸ˜Š</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>ì‘ë‹µ(ë˜ëŠ” í”„ë¦¬ë Œë”ë§)ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤.</li>
</ul>
<h3>ì‹¤í–‰ ì‹œê°„(Duration)</h3>
<p><code>after</code> í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í”Œë«í¼ì—ì„œ ì„¤ì •ëœ ìµœëŒ€ ì‹¤í–‰ ì‹œê°„(ë˜ëŠ” ë¼ìš°íŠ¸ë³„ë¡œ ì„¤ì •ëœ ìµœëŒ€ ì§€ì† ì‹œê°„) ë™ì•ˆ ì‹¤í–‰ë©ë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©í•˜ëŠ” í”Œë«í¼ì´ ì§€ì›í•œë‹¤ë©´, ë¼ìš°íŠ¸ì˜ <code>maxDuration</code> ì„¤ì •ì„ í†µí•´ íƒ€ì„ì•„ì›ƒ ì œí•œì„ ì¡°ì ˆí•  ìˆ˜ ìˆì–´ìš”.</p>
<h2>ì°¸ê³ í•˜ë©´ ì¢‹ì€ ì </h2>
<ul>
<li>ì½œë°± í•¨ìˆ˜ê°€ ë„ˆë¬´ ì˜¤ë˜ ì‹¤í–‰ë˜ë©´ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ, ì‘ì—…ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° ìµœëŒ€ ì‹¤í–‰ ì‹œê°„ì„ ì ì ˆíˆ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</li>
<li>ì´ ê¸°ëŠ¥ì€ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì´ë‚˜ í”„ë¦¬ë Œë”ë§ ì‘ì—…ì—ì„œ íŠ¹íˆ ìœ ìš©í•´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê°€ì ¸ì˜¤ê±°ë‚˜ ë¡œê¹… ì‘ì—…ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œ í™œìš©í•  ìˆ˜ ìˆë‹µë‹ˆë‹¤.</li>
<li><code>maxDuration</code> ì„¤ì •ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” í”Œë«í¼ ê¸°ë³¸ê°’ì´ ì ìš©ë˜ë‹ˆ, ê¼­ í™•ì¸í•´ ë³´ì„¸ìš”!</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>afterëŠ” ì‘ë‹µì´ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ì§€ ì•Šì•„ë„ ì‹¤í–‰ì´ ë©ë‹ˆë‹¤. ì—ëŸ¬ê°€ ë°œìƒí•˜ê±°ë‚˜ notFound ë˜ëŠ” redirectê°€ í˜¸ì¶œëœ ê²½ìš°ì—ë„ ë§ˆì°¬ê°€ì§€ì—ìš”.</li>
<li>React ìºì‹œë¥¼ í™œìš©í•´ì„œ after ë‚´ë¶€ì—ì„œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë“¤ì˜ ì¤‘ë³µ ì‹¤í–‰ì„ ë°©ì§€í•  ìˆ˜ ìˆì–´ìš”.</li>
<li>afterëŠ” ì¤‘ì²©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, after í˜¸ì¶œì„ ê°ì‹¸ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì¶”ê°€ ê¸°ëŠ¥ì„ ë§ë¶™ì¼ ìˆ˜ë„ ìˆì£ .</li>
</ul>
<h2>ëŒ€ì•ˆë“¤</h2>
<p>afterì˜ ì£¼ëœ ìš©ë„ëŠ” ì£¼ ì‘ë‹µì„ ë§‰ì§€ ì•Šê³  ë¶€ìˆ˜ì ì¸ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ê±°ì˜ˆìš”. ì´ ì ì—ì„œ í”Œë«í¼ì˜ waitUntil()ì´ë‚˜ í”„ë¡œë¯¸ìŠ¤ì—ì„œ awaitì„ ë¹¼ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ì¤‘ìš”í•œ ì°¨ì´ì ì´ ìˆì–´ìš”:</p>





















<table><thead><tr><th>êµ¬ë¶„</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>waitUntil()</td><td>í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°›ì•„ì„œ ìš”ì²­ ìˆ˜ëª…ì£¼ê¸° ë™ì•ˆ ì‹¤í–‰í•  ì‘ì—…ì„ ì˜ˆì•½í•´ìš”.</td></tr><tr><td>after</td><td>ì‘ë‹µì´ ì™„ì „íˆ ëë‚œ í›„ì— ì‹¤í–‰í•  ì½œë°±ì„ ë°›ì•„ìš”.</td></tr><tr><td>await ì œê±°</td><td>ì‘ë‹µ ì¤‘ì— ì‹¤í–‰ì„ ì‹œì‘í•´ ë¦¬ì†ŒìŠ¤ë¥¼ ì´ìš©í•´ìš”. ë˜í•œ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œëŠ” ì‘ë‹µ í›„ í•¨ìˆ˜ ì‹¤í–‰ì„ ë°”ë¡œ ë©ˆì¶”ê¸° ë•Œë¬¸ì— ì‘ì—…ì´ ì¤‘ë‹¨ë  ìœ„í—˜ì´ ìˆì–´ìš”.</td></tr></tbody></table>
<p>ì‰½ê²Œ ë§í•´ì„œ waitUntil()ì€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìš”ì²­ê³¼ í•¨ê»˜ ì‘ì—…ì„ ì²˜ë¦¬í•˜ì§€ë§Œ afterëŠ” ì‘ë‹µì´ ëë‚œ í›„ì— ì‘ì—…ì„ ì²˜ë¦¬í•´ìš”. awaitì„ ì“°ì§€ ì•ŠëŠ” ê±´ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ì™€ ì•ˆì •ì„± ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìœ¼ë‹ˆ ìƒí™©ì— ë§ê²Œ ì„ íƒí•˜ëŠ” ê²Œ ì¤‘ìš”í•´ìš”.</p>
<p>ì°¸ê³ ë¡œ, ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œëŠ” íŠ¹íˆ ì´ëŸ° ë¹„ë™ê¸° ì‘ì—…ì´ ì‘ë‹µ ì§í›„ì— ì¤‘ë‹¨ë  ìœ„í—˜ì´ í¬ê¸° ë•Œë¬¸ì— afterë‚˜ waitUntil() ê°™ì€ ëª…í™•í•œ ì²˜ë¦¬ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”. ê·¸ë¦¬ê³  React ìºì‹œë¥¼ ì ê·¹ í™œìš©í•˜ë©´ í•¨ìˆ˜ í˜¸ì¶œ ì¤‘ë³µë„ ì¤„ì´ê³  ì„±ëŠ¥ë„ ë†’ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ í™œìš©í•´ë³´ì„¸ìš”!</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Next.jsì—ì„œëŠ” 'after'ë¥¼ ì‚¬ìš©í•˜ëŠ” ê±¸ ì¶”ì²œí•´ìš”. ì´ìœ ëŠ” 'after'ê°€ Next.jsì˜ ë‹¤ë¥¸ APIë‚˜ ì»¨í…ìŠ¤íŠ¸ë“¤ì„ ì˜ ê³ ë ¤í•´ì„œ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì´ì£ . ì¦‰, ë” ì•ˆì •ì ì´ê³  ì¼ê´€ì„± ìˆê²Œ ë™ì‘í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ì—ìš”.</p>
<h2>ì˜ˆì œ</h2>
<h3>ìš”ì²­(Request) APIì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°</h3>
<p>ì„œë²„ ì•¡ì…˜(Server Actions)ì´ë‚˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬(Route Handlers) ë‚´ì—ì„œ 'after' ë¸”ë¡ ì•ˆì— ì¿ í‚¤(cookies)ë‚˜ í—¤ë”(headers) ê°™ì€ ìš”ì²­ ê´€ë ¨ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ì–´ë–¤ ë°ì´í„° ë³€ê²½(mutation) ì‘ì—… í›„ì— í™œë™ ê¸°ë¡ì„ ë¡œê·¸ë¡œ ë‚¨ê¸°ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•˜ë‹µë‹ˆë‹¤.</p>
<p>ì‹¤ì œë¡œ ì´ê±¸ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì‚´ì§ ë³´ì—¬ë“œë¦´ê²Œìš”. ê°„ë‹¨í•œ ì˜ˆì œë¡œ, ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ë³€ê²½í•œ ë’¤ì— ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë³¼ ìˆ˜ ìˆì£ .</p>
<p>(ì—¬ê¸°ì— ê°„ë‹¨í•œ ì½”ë“œ ì˜ˆì œê°€ ë“¤ì–´ê°€ë©´ ë” ì´í•´ê°€ ì™ì™ ë  í…ë°, í˜¹ì‹œ í•„ìš”í•˜ë©´ ì•Œë ¤ì£¼ì„¸ìš”! ì œê°€ ë°”ë¡œ ì¤€ë¹„í•´ë“œë¦´ê²Œìš”.)</p>
<hr>
<p>ì°¸ê³ ë¡œ, Next.jsì—ì„œ ì´ë ‡ê²Œ 'after'ë¥¼ í™œìš©í•˜ë©´ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ì²˜ë¦¬ í›„ì— í›„ì²˜ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í•  ìˆ˜ ìˆì–´ì„œ, ì½”ë“œê°€ ê¹”ë”í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ë„ ì‰¬ì›Œì§„ë‹µë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ë„ í”„ë¡œì íŠ¸ì— ì ìš©í•´ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”!</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Next.jsì˜ <code>after</code> í›…ì„ í™œìš©í•´ì„œ ì„œë²„ ì•¡ì…˜ í›„ì— ë¡œê¹… ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ì˜ˆì œë¥¼ ë³´ì—¬ë“œë ¸ëŠ”ë°ìš”, ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì´ ìˆì–´ìš”.</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { after } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>
<span class="hljs-keyword">import</span> { logUserAction } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/app/utils'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">POST</span>(<span class="hljs-params">request: Request</span>) {
  <span class="hljs-comment">// Perform mutation</span>
  <span class="hljs-title function_">after</span>(<span class="hljs-keyword">async</span> () => {
    <span class="hljs-keyword">const</span> userAgent = (<span class="hljs-keyword">await</span> <span class="hljs-title function_">headers</span>().<span class="hljs-title function_">get</span>(<span class="hljs-string">'user-agent'</span>)) || <span class="hljs-string">'unknown'</span>
    <span class="hljs-keyword">const</span> sessionCookie =
      (<span class="hljs-keyword">await</span> <span class="hljs-title function_">cookies</span>().<span class="hljs-title function_">get</span>(<span class="hljs-string">'session-id'</span>))?.<span class="hljs-property">value</span> || <span class="hljs-string">'anonymous'</span>

    <span class="hljs-title function_">logUserAction</span>({ sessionCookie, userAgent })
  })

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">status</span>: <span class="hljs-string">'success'</span> }), {
    <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
  })
}
</code></pre>
<p>ë¬¸ì œëŠ” <code>after</code>ì—ì„œ <code>headers()</code>ë‚˜ <code>cookies()</code> ê°™ì€ request APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ì—ìš”. ì™œëƒí•˜ë©´ Next.jsëŠ” Partial Prerendering(ë¶€ë¶„ í”„ë¦¬ë Œë”ë§)ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ìš”ì²­ APIë¥¼ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ì•¼ í•˜ëŠ”ë°, <code>after</code> í›…ì€ React ë Œë”ë§ ë¼ì´í”„ì‚¬ì´í´ ì´í›„ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ê·¸ ì œì•½ì— ê±¸ë ¤ë²„ë¦½ë‹ˆë‹¤.</p>
<p>ì¦‰, <code>after</code> ë‚´ë¶€ì—ì„œëŠ” ìš”ì²­ ê´€ë ¨ APIë¥¼ í˜¸ì¶œí•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ ë‹¤ë¥¸ ê³³ì—ì„œ ìš”ì²­ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³ , <code>after</code>ì—ëŠ” ìˆœìˆ˜íˆ í›„ì²˜ë¦¬ ë¡œì§ë§Œ ë„£ì–´ì£¼ëŠ” ê²Œ ì•ˆì „í•´ìš”.</p>
<p>ì•„ë˜ëŠ” ê°„ë‹¨íˆ Next.js ë²„ì „ë³„ <code>after</code> í›… ê´€ë ¨ íˆìŠ¤í† ë¦¬ë¥¼ ì •ë¦¬í•œ í‘œì…ë‹ˆë‹¤.</p>

















<table><thead><tr><th>Version History</th><th>Description</th></tr></thead><tbody><tr><td><code>v15.1.0</code></td><td><code>after</code>ê°€ ì•ˆì •í™”ë¨ (stable)</td></tr><tr><td><code>v15.0.0-rc</code></td><td><code>unstable_after</code>ê°€ ë„ì…ë¨</td></tr></tbody></table>
<p>ì´ ë‚´ìš© ì°¸ê³ í•˜ì…”ì„œ, <code>after</code> í›…ì„ í™œìš©í•  ë•ŒëŠ” request API ì ‘ê·¼ ì œí•œì„ ëª…ì‹¬í•˜ê³ , ì½”ë“œë¥¼ ì„¤ê³„í•´ë³´ì„¸ìš”. í˜¹ì‹œ <code>after</code>ì—ì„œ request ì •ë³´ë¥¼ ê¼­ ì‚¬ìš©í•´ì•¼ í•  ê²½ìš°ì—”, ìš”ì²­ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë°›ê³  ì „ë‹¬í•˜ëŠ” êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì•¼ ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹µë‹ˆë‹¤.</p>
<p>ë”ë¶ˆì–´, ì´ëŸ° êµ¬ì¡°ì  ì œí•œì€ Next.jsê°€ ìµœì í™”ë¥¼ ìœ„í•´ ë„ì…í•œ ë¶€ë¶„ì´ë¼, Partial Prerendering ë•ë¶„ì— í˜ì´ì§€ ë¡œë”© ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ëŠ” ì¥ì ë„ ìˆìœ¼ë‹ˆ ì´í•´í•˜ê³  í™œìš©í•˜ë©´ ìœ ìš©í•´ìš”!</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Next.js 15ì—ì„œ after ë©”ì„œë“œ í™œìš©í•˜ëŠ” ìµœì‹  ë°©ë²• 2025","description":"","date":"2025-04-22 02:56","slug":"2025-04-22-after","content":"\n\n# after\n\n`after`ëŠ” ì‘ë‹µ(response)ì´ë‚˜ í”„ë¦¬ë Œë”(prerender)ê°€ ì™„ë£Œëœ í›„ì— ì‘ì—…ì„ ì˜ˆì•½í•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´, ì‚¬ìš©ìì—ê²Œ ì‘ë‹µì„ ë³´ë‚´ëŠ” ë° ë°©í•´ê°€ ë˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ” ì‘ì—…ë“¤â€”ì˜ˆë¥¼ ë“¤ì–´ ë¡œê·¸ ê¸°ë¡, ë¶„ì„ ë°ì´í„° ìˆ˜ì§‘ ê°™ì€ ë¶€ìˆ˜ íš¨ê³¼ë“¤â€”ì„ ë’¤ë¡œ ë¯¸ë£° ë•Œ ìœ ìš©í•´ìš”.\n\nì´ ê¸°ëŠ¥ì€ Server Components (ì˜ˆ: `generateMetadata` í¬í•¨), Server Actions, Route Handlers, ê·¸ë¦¬ê³  Middlewareì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì‚¬ìš©ë²•ì€ ê°„ë‹¨í•´ìš”. `after` í•¨ìˆ˜ì— ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë©´, ì‘ë‹µì´ ëë‚œ ë’¤ì— ê·¸ ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì‘ë‹µ ì†ë„ë¥¼ ëŠ¦ì¶”ì§€ ì•Šê³ ë„ í•„ìš”í•œ ì‘ì—…ì„ ë’¤ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆì£ .\n\n---\n\n### ì¶”ê°€ íŒ!\n- ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìì˜ ë°©ë¬¸ ê¸°ë¡ì„ DBì— ì €ì¥í•˜ëŠ” ë¡œì§ì„ `after`ë¡œ ì‹¤í–‰í•˜ë©´, ë°©ë¬¸ì ì…ì¥ì—ì„  í˜ì´ì§€ê°€ ë¹ ë¥´ê²Œ ë¡œë“œë˜ê³ , ë°±ì—”ë“œì—ì„œëŠ” ê¸°ë¡ ì‘ì—…ì´ ì¡°ìš©íˆ ì´ë£¨ì–´ì ¸ ì¢‹ì€ UXë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.\n- í•˜ì§€ë§Œ ë„ˆë¬´ ë¬´ê±°ìš´ ì‘ì—…ì„ `after`ì— ë„£ìœ¼ë©´ ì„œë²„ ìì›ì„ ë¶ˆí•„ìš”í•˜ê²Œ ì¡ì•„ë¨¹ì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ì ì ˆí•œ ìš©ë„ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\n- ë§Œì•½ ì²˜ë¦¬ ì¤‘ ì—ëŸ¬ê°€ ë‚˜ë„ ì‘ë‹µì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. ì—ëŸ¬ í•¸ë“¤ë§ë„ ë”°ë¡œ ì±™ê²¨ì£¼ë©´ ì¢‹ì•„ìš”.\n\n---\n\ní•„ìš”í•˜ë©´ ì˜ˆì œ ì½”ë“œë„ ê³µìœ í•´ ë“œë¦´ê²Œìš”â€”í•¨ê»˜ ê³µë¶€í•´ë´…ì‹œë‹¤!\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ Next.jsì˜ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ `after` í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ê°„ë‹¨í•˜ê²Œ ì•Œë ¤ë“œë¦´ê²Œìš”.\n\n```js\nimport { after } from 'next/server'\n// ì»¤ìŠ¤í…€ ë¡œê¹… í•¨ìˆ˜\nimport { log } from '@/app/utils'\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  after(() =\u003e {\n    // ë ˆì´ì•„ì›ƒì´ ë Œë”ë§ë˜ê³  ì‚¬ìš©ìì—ê²Œ ì „ì†¡ëœ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.\n    log()\n  })\n  return \u003c\u003e{children}\u003c/\u003e\n}\n```\n\n### í•µì‹¬ í¬ì¸íŠ¸!  \n`after` í•¨ìˆ˜ëŠ” ë Œë”ë§ì´ ëë‚œ ë‹¤ìŒ, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µì„ ë³´ë‚¸ í›„ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ì—­í• ì„ í•´ìš”. ì˜ˆë¥¼ ë“¤ë©´, ë¡œê·¸ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ë°ì´í„°ë¥¼ íŠ¸ë˜í‚¹í•  ë•Œ ìœ ìš©í•˜ê² ì£ .\n\n\u003e **ì°¸ê³ :** `after`ëŠ” ë™ì  APIê°€ ì•„ë‹ˆì—ìš”. ê·¸ëŸ¬ë‹ˆê¹Œ ì´ê±¸ í˜¸ì¶œí•œë‹¤ê³  í•´ì„œ í˜ì´ì§€ê°€ ìë™ìœ¼ë¡œ ë™ì  ë¼ìš°íŠ¸(dynamic route)ê°€ ë˜ëŠ” ê±´ ì•„ë‹™ë‹ˆë‹¤.  \n\u003e ë§Œì•½ static page ë‚´ì—ì„œ ì‚¬ìš©í•˜ë©´, ì´ ì½œë°± í•¨ìˆ˜ëŠ” ë¹Œë“œ íƒ€ì„ì´ë‚˜ í˜ì´ì§€ê°€ ë‹¤ì‹œ ê²€ì¦(revalidate) ë  ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.\n\n---\n\n## `after` í•¨ìˆ˜ ì£¼ìš” íŠ¹ì§• ì •ë¦¬!\n\n| íŒŒë¼ë¯¸í„° | ì„¤ëª… |\n|---------|------|\n| ì½œë°± í•¨ìˆ˜ | ë Œë”ë§ ì§í›„ ì‹¤í–‰í•  í•¨ìˆ˜. ë¹„ë™ê¸° ì½œë°±ë„ ì§€ì›í•˜ì§€ë§Œ, ì‘ë‹µì„ ë§‰ì§€ëŠ” ì•ŠìŒ |\n\n---\n\n### ë” ì•Œì•„ë‘ë©´ ì¢‹ì€ ì   \n- ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ì„œë²„ ì •ë³´ë„ ìˆ˜ì§‘í•˜ê¸° í¸í•©ë‹ˆë‹¤.  \n- ë¡œê·¸ ì™¸ì—ë„ ê¼­ í•„ìš”í•œ í›„ì²˜ë¦¬ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ ì¢‹ìŠµë‹ˆë‹¤.  \n- `after`ì˜ ì½œë°±ì€ ì‚¬ìš©ìì—ê²Œ í˜ì´ì§€ê°€ ì „ë‹¬ëœ í›„ ì‹¤í–‰ë˜ë‹ˆ ë Œë”ë§ ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³ , ë¶€ë‹´ ì—†ì´ í›„ì²˜ë¦¬ë¥¼ ë§¡ê¸¸ ìˆ˜ ìˆì–´ìš”.\n\n---\n\nNext.jsë¡œ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ ë‹¤ë£° ë•Œ ì´ëŸ° í›„ì²˜ë¦¬ ë°©ë²•ì„ ì•Œê³  ìˆìœ¼ë©´ ì„±ëŠ¥ íŠœë‹ì´ë‚˜ ë””ë²„ê¹…ì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜¤ëŠ˜ë„ ì¢‹ì€ ê°œë°œí•˜ì‹œê¸¸ ë°”ë¼ìš”! ğŸ˜Š\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- ì‘ë‹µ(ë˜ëŠ” í”„ë¦¬ë Œë”ë§)ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤.\n\n### ì‹¤í–‰ ì‹œê°„(Duration)\n\n`after` í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í”Œë«í¼ì—ì„œ ì„¤ì •ëœ ìµœëŒ€ ì‹¤í–‰ ì‹œê°„(ë˜ëŠ” ë¼ìš°íŠ¸ë³„ë¡œ ì„¤ì •ëœ ìµœëŒ€ ì§€ì† ì‹œê°„) ë™ì•ˆ ì‹¤í–‰ë©ë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©í•˜ëŠ” í”Œë«í¼ì´ ì§€ì›í•œë‹¤ë©´, ë¼ìš°íŠ¸ì˜ `maxDuration` ì„¤ì •ì„ í†µí•´ íƒ€ì„ì•„ì›ƒ ì œí•œì„ ì¡°ì ˆí•  ìˆ˜ ìˆì–´ìš”.\n\n## ì°¸ê³ í•˜ë©´ ì¢‹ì€ ì \n\n- ì½œë°± í•¨ìˆ˜ê°€ ë„ˆë¬´ ì˜¤ë˜ ì‹¤í–‰ë˜ë©´ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ, ì‘ì—…ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° ìµœëŒ€ ì‹¤í–‰ ì‹œê°„ì„ ì ì ˆíˆ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\n- ì´ ê¸°ëŠ¥ì€ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì´ë‚˜ í”„ë¦¬ë Œë”ë§ ì‘ì—…ì—ì„œ íŠ¹íˆ ìœ ìš©í•´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê°€ì ¸ì˜¤ê±°ë‚˜ ë¡œê¹… ì‘ì—…ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œ í™œìš©í•  ìˆ˜ ìˆë‹µë‹ˆë‹¤.\n- `maxDuration` ì„¤ì •ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” í”Œë«í¼ ê¸°ë³¸ê°’ì´ ì ìš©ë˜ë‹ˆ, ê¼­ í™•ì¸í•´ ë³´ì„¸ìš”!\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- afterëŠ” ì‘ë‹µì´ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ì§€ ì•Šì•„ë„ ì‹¤í–‰ì´ ë©ë‹ˆë‹¤. ì—ëŸ¬ê°€ ë°œìƒí•˜ê±°ë‚˜ notFound ë˜ëŠ” redirectê°€ í˜¸ì¶œëœ ê²½ìš°ì—ë„ ë§ˆì°¬ê°€ì§€ì—ìš”.\n- React ìºì‹œë¥¼ í™œìš©í•´ì„œ after ë‚´ë¶€ì—ì„œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë“¤ì˜ ì¤‘ë³µ ì‹¤í–‰ì„ ë°©ì§€í•  ìˆ˜ ìˆì–´ìš”.\n- afterëŠ” ì¤‘ì²©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, after í˜¸ì¶œì„ ê°ì‹¸ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì¶”ê°€ ê¸°ëŠ¥ì„ ë§ë¶™ì¼ ìˆ˜ë„ ìˆì£ .\n\n## ëŒ€ì•ˆë“¤\n\nafterì˜ ì£¼ëœ ìš©ë„ëŠ” ì£¼ ì‘ë‹µì„ ë§‰ì§€ ì•Šê³  ë¶€ìˆ˜ì ì¸ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ê±°ì˜ˆìš”. ì´ ì ì—ì„œ í”Œë«í¼ì˜ waitUntil()ì´ë‚˜ í”„ë¡œë¯¸ìŠ¤ì—ì„œ awaitì„ ë¹¼ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ì¤‘ìš”í•œ ì°¨ì´ì ì´ ìˆì–´ìš”:\n\n| êµ¬ë¶„           | ì„¤ëª…                                                                                                                                              |\n|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------|\n| waitUntil()    | í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°›ì•„ì„œ ìš”ì²­ ìˆ˜ëª…ì£¼ê¸° ë™ì•ˆ ì‹¤í–‰í•  ì‘ì—…ì„ ì˜ˆì•½í•´ìš”.                                                                                         |\n| after          | ì‘ë‹µì´ ì™„ì „íˆ ëë‚œ í›„ì— ì‹¤í–‰í•  ì½œë°±ì„ ë°›ì•„ìš”.                                                                                                      |\n| await ì œê±°     | ì‘ë‹µ ì¤‘ì— ì‹¤í–‰ì„ ì‹œì‘í•´ ë¦¬ì†ŒìŠ¤ë¥¼ ì´ìš©í•´ìš”. ë˜í•œ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œëŠ” ì‘ë‹µ í›„ í•¨ìˆ˜ ì‹¤í–‰ì„ ë°”ë¡œ ë©ˆì¶”ê¸° ë•Œë¬¸ì— ì‘ì—…ì´ ì¤‘ë‹¨ë  ìœ„í—˜ì´ ìˆì–´ìš”.               |\n\nì‰½ê²Œ ë§í•´ì„œ waitUntil()ì€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìš”ì²­ê³¼ í•¨ê»˜ ì‘ì—…ì„ ì²˜ë¦¬í•˜ì§€ë§Œ afterëŠ” ì‘ë‹µì´ ëë‚œ í›„ì— ì‘ì—…ì„ ì²˜ë¦¬í•´ìš”. awaitì„ ì“°ì§€ ì•ŠëŠ” ê±´ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ì™€ ì•ˆì •ì„± ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìœ¼ë‹ˆ ìƒí™©ì— ë§ê²Œ ì„ íƒí•˜ëŠ” ê²Œ ì¤‘ìš”í•´ìš”.\n\nì°¸ê³ ë¡œ, ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œëŠ” íŠ¹íˆ ì´ëŸ° ë¹„ë™ê¸° ì‘ì—…ì´ ì‘ë‹µ ì§í›„ì— ì¤‘ë‹¨ë  ìœ„í—˜ì´ í¬ê¸° ë•Œë¬¸ì— afterë‚˜ waitUntil() ê°™ì€ ëª…í™•í•œ ì²˜ë¦¬ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”. ê·¸ë¦¬ê³  React ìºì‹œë¥¼ ì ê·¹ í™œìš©í•˜ë©´ í•¨ìˆ˜ í˜¸ì¶œ ì¤‘ë³µë„ ì¤„ì´ê³  ì„±ëŠ¥ë„ ë†’ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ í™œìš©í•´ë³´ì„¸ìš”!\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.jsì—ì„œëŠ” 'after'ë¥¼ ì‚¬ìš©í•˜ëŠ” ê±¸ ì¶”ì²œí•´ìš”. ì´ìœ ëŠ” 'after'ê°€ Next.jsì˜ ë‹¤ë¥¸ APIë‚˜ ì»¨í…ìŠ¤íŠ¸ë“¤ì„ ì˜ ê³ ë ¤í•´ì„œ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì´ì£ . ì¦‰, ë” ì•ˆì •ì ì´ê³  ì¼ê´€ì„± ìˆê²Œ ë™ì‘í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ì—ìš”.\n\n## ì˜ˆì œ\n\n### ìš”ì²­(Request) APIì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°\n\nì„œë²„ ì•¡ì…˜(Server Actions)ì´ë‚˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬(Route Handlers) ë‚´ì—ì„œ 'after' ë¸”ë¡ ì•ˆì— ì¿ í‚¤(cookies)ë‚˜ í—¤ë”(headers) ê°™ì€ ìš”ì²­ ê´€ë ¨ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ì–´ë–¤ ë°ì´í„° ë³€ê²½(mutation) ì‘ì—… í›„ì— í™œë™ ê¸°ë¡ì„ ë¡œê·¸ë¡œ ë‚¨ê¸°ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•˜ë‹µë‹ˆë‹¤.\n\nì‹¤ì œë¡œ ì´ê±¸ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì‚´ì§ ë³´ì—¬ë“œë¦´ê²Œìš”. ê°„ë‹¨í•œ ì˜ˆì œë¡œ, ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ë³€ê²½í•œ ë’¤ì— ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë³¼ ìˆ˜ ìˆì£ .\n\n(ì—¬ê¸°ì— ê°„ë‹¨í•œ ì½”ë“œ ì˜ˆì œê°€ ë“¤ì–´ê°€ë©´ ë” ì´í•´ê°€ ì™ì™ ë  í…ë°, í˜¹ì‹œ í•„ìš”í•˜ë©´ ì•Œë ¤ì£¼ì„¸ìš”! ì œê°€ ë°”ë¡œ ì¤€ë¹„í•´ë“œë¦´ê²Œìš”.)\n\n---\n\nì°¸ê³ ë¡œ, Next.jsì—ì„œ ì´ë ‡ê²Œ 'after'ë¥¼ í™œìš©í•˜ë©´ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ì²˜ë¦¬ í›„ì— í›„ì²˜ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í•  ìˆ˜ ìˆì–´ì„œ, ì½”ë“œê°€ ê¹”ë”í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ë„ ì‰¬ì›Œì§„ë‹µë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ë„ í”„ë¡œì íŠ¸ì— ì ìš©í•´ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”!\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nNext.jsì˜ `after` í›…ì„ í™œìš©í•´ì„œ ì„œë²„ ì•¡ì…˜ í›„ì— ë¡œê¹… ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ì˜ˆì œë¥¼ ë³´ì—¬ë“œë ¸ëŠ”ë°ìš”, ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì´ ìˆì–´ìš”.\n\n```js\nimport { after } from 'next/server'\nimport { logUserAction } from '@/app/utils'\n\nexport async function POST(request: Request) {\n  // Perform mutation\n  after(async () =\u003e {\n    const userAgent = (await headers().get('user-agent')) || 'unknown'\n    const sessionCookie =\n      (await cookies().get('session-id'))?.value || 'anonymous'\n\n    logUserAction({ sessionCookie, userAgent })\n  })\n\n  return new Response(JSON.stringify({ status: 'success' }), {\n    status: 200,\n    headers: { 'Content-Type': 'application/json' },\n  })\n}\n```\n\në¬¸ì œëŠ” `after`ì—ì„œ `headers()`ë‚˜ `cookies()` ê°™ì€ request APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ì—ìš”. ì™œëƒí•˜ë©´ Next.jsëŠ” Partial Prerendering(ë¶€ë¶„ í”„ë¦¬ë Œë”ë§)ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ìš”ì²­ APIë¥¼ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ì•¼ í•˜ëŠ”ë°, `after` í›…ì€ React ë Œë”ë§ ë¼ì´í”„ì‚¬ì´í´ ì´í›„ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ê·¸ ì œì•½ì— ê±¸ë ¤ë²„ë¦½ë‹ˆë‹¤.\n\nì¦‰, `after` ë‚´ë¶€ì—ì„œëŠ” ìš”ì²­ ê´€ë ¨ APIë¥¼ í˜¸ì¶œí•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ ë‹¤ë¥¸ ê³³ì—ì„œ ìš”ì²­ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³ , `after`ì—ëŠ” ìˆœìˆ˜íˆ í›„ì²˜ë¦¬ ë¡œì§ë§Œ ë„£ì–´ì£¼ëŠ” ê²Œ ì•ˆì „í•´ìš”.\n\nì•„ë˜ëŠ” ê°„ë‹¨íˆ Next.js ë²„ì „ë³„ `after` í›… ê´€ë ¨ íˆìŠ¤í† ë¦¬ë¥¼ ì •ë¦¬í•œ í‘œì…ë‹ˆë‹¤.\n\n| Version History | Description                      |\n|-----------------|---------------------------------|\n| `v15.1.0`       | `after`ê°€ ì•ˆì •í™”ë¨ (stable)      |\n| `v15.0.0-rc`    | `unstable_after`ê°€ ë„ì…ë¨        |\n\nì´ ë‚´ìš© ì°¸ê³ í•˜ì…”ì„œ, `after` í›…ì„ í™œìš©í•  ë•ŒëŠ” request API ì ‘ê·¼ ì œí•œì„ ëª…ì‹¬í•˜ê³ , ì½”ë“œë¥¼ ì„¤ê³„í•´ë³´ì„¸ìš”. í˜¹ì‹œ `after`ì—ì„œ request ì •ë³´ë¥¼ ê¼­ ì‚¬ìš©í•´ì•¼ í•  ê²½ìš°ì—”, ìš”ì²­ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë°›ê³  ì „ë‹¬í•˜ëŠ” êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì•¼ ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹µë‹ˆë‹¤.\n\në”ë¶ˆì–´, ì´ëŸ° êµ¬ì¡°ì  ì œí•œì€ Next.jsê°€ ìµœì í™”ë¥¼ ìœ„í•´ ë„ì…í•œ ë¶€ë¶„ì´ë¼, Partial Prerendering ë•ë¶„ì— í˜ì´ì§€ ë¡œë”© ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ëŠ” ì¥ì ë„ ìˆìœ¼ë‹ˆ ì´í•´í•˜ê³  í™œìš©í•˜ë©´ ìœ ìš©í•´ìš”!","ogImage":{"url":"/TIL/assets/img/nextjs.png"},"coverImage":"/TIL/assets/img/nextjs.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch1\u003eafter\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003eafter\u003c/code\u003eëŠ” ì‘ë‹µ(response)ì´ë‚˜ í”„ë¦¬ë Œë”(prerender)ê°€ ì™„ë£Œëœ í›„ì— ì‘ì—…ì„ ì˜ˆì•½í•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì‰½ê²Œ ë§í•´, ì‚¬ìš©ìì—ê²Œ ì‘ë‹µì„ ë³´ë‚´ëŠ” ë° ë°©í•´ê°€ ë˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ” ì‘ì—…ë“¤â€”ì˜ˆë¥¼ ë“¤ì–´ ë¡œê·¸ ê¸°ë¡, ë¶„ì„ ë°ì´í„° ìˆ˜ì§‘ ê°™ì€ ë¶€ìˆ˜ íš¨ê³¼ë“¤â€”ì„ ë’¤ë¡œ ë¯¸ë£° ë•Œ ìœ ìš©í•´ìš”.\u003c/p\u003e\n\u003cp\u003eì´ ê¸°ëŠ¥ì€ Server Components (ì˜ˆ: \u003ccode\u003egenerateMetadata\u003c/code\u003e í¬í•¨), Server Actions, Route Handlers, ê·¸ë¦¬ê³  Middlewareì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì‚¬ìš©ë²•ì€ ê°„ë‹¨í•´ìš”. \u003ccode\u003eafter\u003c/code\u003e í•¨ìˆ˜ì— ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë©´, ì‘ë‹µì´ ëë‚œ ë’¤ì— ê·¸ ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì‘ë‹µ ì†ë„ë¥¼ ëŠ¦ì¶”ì§€ ì•Šê³ ë„ í•„ìš”í•œ ì‘ì—…ì„ ë’¤ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆì£ .\u003c/p\u003e\n\u003chr\u003e\n\u003ch3\u003eì¶”ê°€ íŒ!\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìì˜ ë°©ë¬¸ ê¸°ë¡ì„ DBì— ì €ì¥í•˜ëŠ” ë¡œì§ì„ \u003ccode\u003eafter\u003c/code\u003eë¡œ ì‹¤í–‰í•˜ë©´, ë°©ë¬¸ì ì…ì¥ì—ì„  í˜ì´ì§€ê°€ ë¹ ë¥´ê²Œ ë¡œë“œë˜ê³ , ë°±ì—”ë“œì—ì„œëŠ” ê¸°ë¡ ì‘ì—…ì´ ì¡°ìš©íˆ ì´ë£¨ì–´ì ¸ ì¢‹ì€ UXë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.\u003c/li\u003e\n\u003cli\u003eí•˜ì§€ë§Œ ë„ˆë¬´ ë¬´ê±°ìš´ ì‘ì—…ì„ \u003ccode\u003eafter\u003c/code\u003eì— ë„£ìœ¼ë©´ ì„œë²„ ìì›ì„ ë¶ˆí•„ìš”í•˜ê²Œ ì¡ì•„ë¨¹ì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ì ì ˆí•œ ìš©ë„ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eë§Œì•½ ì²˜ë¦¬ ì¤‘ ì—ëŸ¬ê°€ ë‚˜ë„ ì‘ë‹µì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. ì—ëŸ¬ í•¸ë“¤ë§ë„ ë”°ë¡œ ì±™ê²¨ì£¼ë©´ ì¢‹ì•„ìš”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003eí•„ìš”í•˜ë©´ ì˜ˆì œ ì½”ë“œë„ ê³µìœ í•´ ë“œë¦´ê²Œìš”â€”í•¨ê»˜ ê³µë¶€í•´ë´…ì‹œë‹¤!\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ì€ Next.jsì˜ ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ \u003ccode\u003eafter\u003c/code\u003e í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ê°„ë‹¨í•˜ê²Œ ì•Œë ¤ë“œë¦´ê²Œìš”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { after } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/server'\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// ì»¤ìŠ¤í…€ ë¡œê¹… í•¨ìˆ˜\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { log } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@/app/utils'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eLayout\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e{ children }: { children: React.ReactNode }\u003c/span\u003e) {\n  \u003cspan class=\"hljs-title function_\"\u003eafter\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// ë ˆì´ì•„ì›ƒì´ ë Œë”ë§ë˜ê³  ì‚¬ìš©ìì—ê²Œ ì „ì†¡ëœ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.\u003c/span\u003e\n    \u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e()\n  })\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003e\u003c/span\u003e{children}\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003e\u003c/span\u003e\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eí•µì‹¬ í¬ì¸íŠ¸!\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eafter\u003c/code\u003e í•¨ìˆ˜ëŠ” ë Œë”ë§ì´ ëë‚œ ë‹¤ìŒ, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µì„ ë³´ë‚¸ í›„ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ì—­í• ì„ í•´ìš”. ì˜ˆë¥¼ ë“¤ë©´, ë¡œê·¸ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ë°ì´í„°ë¥¼ íŠ¸ë˜í‚¹í•  ë•Œ ìœ ìš©í•˜ê² ì£ .\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eì°¸ê³ :\u003c/strong\u003e \u003ccode\u003eafter\u003c/code\u003eëŠ” ë™ì  APIê°€ ì•„ë‹ˆì—ìš”. ê·¸ëŸ¬ë‹ˆê¹Œ ì´ê±¸ í˜¸ì¶œí•œë‹¤ê³  í•´ì„œ í˜ì´ì§€ê°€ ìë™ìœ¼ë¡œ ë™ì  ë¼ìš°íŠ¸(dynamic route)ê°€ ë˜ëŠ” ê±´ ì•„ë‹™ë‹ˆë‹¤.\u003cbr\u003e\në§Œì•½ static page ë‚´ì—ì„œ ì‚¬ìš©í•˜ë©´, ì´ ì½œë°± í•¨ìˆ˜ëŠ” ë¹Œë“œ íƒ€ì„ì´ë‚˜ í˜ì´ì§€ê°€ ë‹¤ì‹œ ê²€ì¦(revalidate) ë  ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2\u003e\u003ccode\u003eafter\u003c/code\u003e í•¨ìˆ˜ ì£¼ìš” íŠ¹ì§• ì •ë¦¬!\u003c/h2\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eíŒŒë¼ë¯¸í„°\u003c/th\u003e\u003cth\u003eì„¤ëª…\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003eì½œë°± í•¨ìˆ˜\u003c/td\u003e\u003ctd\u003eë Œë”ë§ ì§í›„ ì‹¤í–‰í•  í•¨ìˆ˜. ë¹„ë™ê¸° ì½œë°±ë„ ì§€ì›í•˜ì§€ë§Œ, ì‘ë‹µì„ ë§‰ì§€ëŠ” ì•ŠìŒ\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\u003chr\u003e\n\u003ch3\u003eë” ì•Œì•„ë‘ë©´ ì¢‹ì€ ì \u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì„œë²„ ì»´í¬ë„ŒíŠ¸ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ì„œë²„ ì •ë³´ë„ ìˆ˜ì§‘í•˜ê¸° í¸í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eë¡œê·¸ ì™¸ì—ë„ ê¼­ í•„ìš”í•œ í›„ì²˜ë¦¬ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ ì¢‹ìŠµë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eafter\u003c/code\u003eì˜ ì½œë°±ì€ ì‚¬ìš©ìì—ê²Œ í˜ì´ì§€ê°€ ì „ë‹¬ëœ í›„ ì‹¤í–‰ë˜ë‹ˆ ë Œë”ë§ ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³ , ë¶€ë‹´ ì—†ì´ í›„ì²˜ë¦¬ë¥¼ ë§¡ê¸¸ ìˆ˜ ìˆì–´ìš”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003eNext.jsë¡œ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ì„ ë‹¤ë£° ë•Œ ì´ëŸ° í›„ì²˜ë¦¬ ë°©ë²•ì„ ì•Œê³  ìˆìœ¼ë©´ ì„±ëŠ¥ íŠœë‹ì´ë‚˜ ë””ë²„ê¹…ì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì˜¤ëŠ˜ë„ ì¢‹ì€ ê°œë°œí•˜ì‹œê¸¸ ë°”ë¼ìš”! ğŸ˜Š\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eì‘ë‹µ(ë˜ëŠ” í”„ë¦¬ë Œë”ë§)ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eì‹¤í–‰ ì‹œê°„(Duration)\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eafter\u003c/code\u003e í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í”Œë«í¼ì—ì„œ ì„¤ì •ëœ ìµœëŒ€ ì‹¤í–‰ ì‹œê°„(ë˜ëŠ” ë¼ìš°íŠ¸ë³„ë¡œ ì„¤ì •ëœ ìµœëŒ€ ì§€ì† ì‹œê°„) ë™ì•ˆ ì‹¤í–‰ë©ë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©í•˜ëŠ” í”Œë«í¼ì´ ì§€ì›í•œë‹¤ë©´, ë¼ìš°íŠ¸ì˜ \u003ccode\u003emaxDuration\u003c/code\u003e ì„¤ì •ì„ í†µí•´ íƒ€ì„ì•„ì›ƒ ì œí•œì„ ì¡°ì ˆí•  ìˆ˜ ìˆì–´ìš”.\u003c/p\u003e\n\u003ch2\u003eì°¸ê³ í•˜ë©´ ì¢‹ì€ ì \u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eì½œë°± í•¨ìˆ˜ê°€ ë„ˆë¬´ ì˜¤ë˜ ì‹¤í–‰ë˜ë©´ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ, ì‘ì—…ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° ìµœëŒ€ ì‹¤í–‰ ì‹œê°„ì„ ì ì ˆíˆ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì´ ê¸°ëŠ¥ì€ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì´ë‚˜ í”„ë¦¬ë Œë”ë§ ì‘ì—…ì—ì„œ íŠ¹íˆ ìœ ìš©í•´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê°€ì ¸ì˜¤ê±°ë‚˜ ë¡œê¹… ì‘ì—…ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œ í™œìš©í•  ìˆ˜ ìˆë‹µë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003emaxDuration\u003c/code\u003e ì„¤ì •ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” í”Œë«í¼ ê¸°ë³¸ê°’ì´ ì ìš©ë˜ë‹ˆ, ê¼­ í™•ì¸í•´ ë³´ì„¸ìš”!\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003eafterëŠ” ì‘ë‹µì´ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ì§€ ì•Šì•„ë„ ì‹¤í–‰ì´ ë©ë‹ˆë‹¤. ì—ëŸ¬ê°€ ë°œìƒí•˜ê±°ë‚˜ notFound ë˜ëŠ” redirectê°€ í˜¸ì¶œëœ ê²½ìš°ì—ë„ ë§ˆì°¬ê°€ì§€ì—ìš”.\u003c/li\u003e\n\u003cli\u003eReact ìºì‹œë¥¼ í™œìš©í•´ì„œ after ë‚´ë¶€ì—ì„œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë“¤ì˜ ì¤‘ë³µ ì‹¤í–‰ì„ ë°©ì§€í•  ìˆ˜ ìˆì–´ìš”.\u003c/li\u003e\n\u003cli\u003eafterëŠ” ì¤‘ì²©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, after í˜¸ì¶œì„ ê°ì‹¸ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì¶”ê°€ ê¸°ëŠ¥ì„ ë§ë¶™ì¼ ìˆ˜ë„ ìˆì£ .\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eëŒ€ì•ˆë“¤\u003c/h2\u003e\n\u003cp\u003eafterì˜ ì£¼ëœ ìš©ë„ëŠ” ì£¼ ì‘ë‹µì„ ë§‰ì§€ ì•Šê³  ë¶€ìˆ˜ì ì¸ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ê±°ì˜ˆìš”. ì´ ì ì—ì„œ í”Œë«í¼ì˜ waitUntil()ì´ë‚˜ í”„ë¡œë¯¸ìŠ¤ì—ì„œ awaitì„ ë¹¼ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ì¤‘ìš”í•œ ì°¨ì´ì ì´ ìˆì–´ìš”:\u003c/p\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eêµ¬ë¶„\u003c/th\u003e\u003cth\u003eì„¤ëª…\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003ewaitUntil()\u003c/td\u003e\u003ctd\u003eí”„ë¡œë¯¸ìŠ¤ë¥¼ ë°›ì•„ì„œ ìš”ì²­ ìˆ˜ëª…ì£¼ê¸° ë™ì•ˆ ì‹¤í–‰í•  ì‘ì—…ì„ ì˜ˆì•½í•´ìš”.\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eafter\u003c/td\u003e\u003ctd\u003eì‘ë‹µì´ ì™„ì „íˆ ëë‚œ í›„ì— ì‹¤í–‰í•  ì½œë°±ì„ ë°›ì•„ìš”.\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eawait ì œê±°\u003c/td\u003e\u003ctd\u003eì‘ë‹µ ì¤‘ì— ì‹¤í–‰ì„ ì‹œì‘í•´ ë¦¬ì†ŒìŠ¤ë¥¼ ì´ìš©í•´ìš”. ë˜í•œ ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œëŠ” ì‘ë‹µ í›„ í•¨ìˆ˜ ì‹¤í–‰ì„ ë°”ë¡œ ë©ˆì¶”ê¸° ë•Œë¬¸ì— ì‘ì—…ì´ ì¤‘ë‹¨ë  ìœ„í—˜ì´ ìˆì–´ìš”.\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eì‰½ê²Œ ë§í•´ì„œ waitUntil()ì€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìš”ì²­ê³¼ í•¨ê»˜ ì‘ì—…ì„ ì²˜ë¦¬í•˜ì§€ë§Œ afterëŠ” ì‘ë‹µì´ ëë‚œ í›„ì— ì‘ì—…ì„ ì²˜ë¦¬í•´ìš”. awaitì„ ì“°ì§€ ì•ŠëŠ” ê±´ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ì™€ ì•ˆì •ì„± ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìœ¼ë‹ˆ ìƒí™©ì— ë§ê²Œ ì„ íƒí•˜ëŠ” ê²Œ ì¤‘ìš”í•´ìš”.\u003c/p\u003e\n\u003cp\u003eì°¸ê³ ë¡œ, ì„œë²„ë¦¬ìŠ¤ í™˜ê²½ì—ì„œëŠ” íŠ¹íˆ ì´ëŸ° ë¹„ë™ê¸° ì‘ì—…ì´ ì‘ë‹µ ì§í›„ì— ì¤‘ë‹¨ë  ìœ„í—˜ì´ í¬ê¸° ë•Œë¬¸ì— afterë‚˜ waitUntil() ê°™ì€ ëª…í™•í•œ ì²˜ë¦¬ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”. ê·¸ë¦¬ê³  React ìºì‹œë¥¼ ì ê·¹ í™œìš©í•˜ë©´ í•¨ìˆ˜ í˜¸ì¶œ ì¤‘ë³µë„ ì¤„ì´ê³  ì„±ëŠ¥ë„ ë†’ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ í™œìš©í•´ë³´ì„¸ìš”!\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eNext.jsì—ì„œëŠ” 'after'ë¥¼ ì‚¬ìš©í•˜ëŠ” ê±¸ ì¶”ì²œí•´ìš”. ì´ìœ ëŠ” 'after'ê°€ Next.jsì˜ ë‹¤ë¥¸ APIë‚˜ ì»¨í…ìŠ¤íŠ¸ë“¤ì„ ì˜ ê³ ë ¤í•´ì„œ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì´ì£ . ì¦‰, ë” ì•ˆì •ì ì´ê³  ì¼ê´€ì„± ìˆê²Œ ë™ì‘í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ì—ìš”.\u003c/p\u003e\n\u003ch2\u003eì˜ˆì œ\u003c/h2\u003e\n\u003ch3\u003eìš”ì²­(Request) APIì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸°\u003c/h3\u003e\n\u003cp\u003eì„œë²„ ì•¡ì…˜(Server Actions)ì´ë‚˜ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬(Route Handlers) ë‚´ì—ì„œ 'after' ë¸”ë¡ ì•ˆì— ì¿ í‚¤(cookies)ë‚˜ í—¤ë”(headers) ê°™ì€ ìš”ì²­ ê´€ë ¨ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ì–´, ì–´ë–¤ ë°ì´í„° ë³€ê²½(mutation) ì‘ì—… í›„ì— í™œë™ ê¸°ë¡ì„ ë¡œê·¸ë¡œ ë‚¨ê¸°ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•˜ë‹µë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì‹¤ì œë¡œ ì´ê±¸ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì‚´ì§ ë³´ì—¬ë“œë¦´ê²Œìš”. ê°„ë‹¨í•œ ì˜ˆì œë¡œ, ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ë³€ê²½í•œ ë’¤ì— ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë³¼ ìˆ˜ ìˆì£ .\u003c/p\u003e\n\u003cp\u003e(ì—¬ê¸°ì— ê°„ë‹¨í•œ ì½”ë“œ ì˜ˆì œê°€ ë“¤ì–´ê°€ë©´ ë” ì´í•´ê°€ ì™ì™ ë  í…ë°, í˜¹ì‹œ í•„ìš”í•˜ë©´ ì•Œë ¤ì£¼ì„¸ìš”! ì œê°€ ë°”ë¡œ ì¤€ë¹„í•´ë“œë¦´ê²Œìš”.)\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eì°¸ê³ ë¡œ, Next.jsì—ì„œ ì´ë ‡ê²Œ 'after'ë¥¼ í™œìš©í•˜ë©´ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ì²˜ë¦¬ í›„ì— í›„ì²˜ë¦¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í•  ìˆ˜ ìˆì–´ì„œ, ì½”ë“œê°€ ê¹”ë”í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ë„ ì‰¬ì›Œì§„ë‹µë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ë„ í”„ë¡œì íŠ¸ì— ì ìš©í•´ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”!\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eNext.jsì˜ \u003ccode\u003eafter\u003c/code\u003e í›…ì„ í™œìš©í•´ì„œ ì„œë²„ ì•¡ì…˜ í›„ì— ë¡œê¹… ì‘ì—…ì„ ì§„í–‰í•˜ëŠ” ì˜ˆì œë¥¼ ë³´ì—¬ë“œë ¸ëŠ”ë°ìš”, ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì´ ìˆì–´ìš”.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { after } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/server'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { logUserAction } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@/app/utils'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ePOST\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003erequest: Request\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// Perform mutation\u003c/span\u003e\n  \u003cspan class=\"hljs-title function_\"\u003eafter\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e () =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e userAgent = (\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eheaders\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'user-agent'\u003c/span\u003e)) || \u003cspan class=\"hljs-string\"\u003e'unknown'\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e sessionCookie =\n      (\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecookies\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'session-id'\u003c/span\u003e))?.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e || \u003cspan class=\"hljs-string\"\u003e'anonymous'\u003c/span\u003e\n\n    \u003cspan class=\"hljs-title function_\"\u003elogUserAction\u003c/span\u003e({ sessionCookie, userAgent })\n  })\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eResponse\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'success'\u003c/span\u003e }), {\n    \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eheaders\u003c/span\u003e: { \u003cspan class=\"hljs-string\"\u003e'Content-Type'\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'application/json'\u003c/span\u003e },\n  })\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eë¬¸ì œëŠ” \u003ccode\u003eafter\u003c/code\u003eì—ì„œ \u003ccode\u003eheaders()\u003c/code\u003eë‚˜ \u003ccode\u003ecookies()\u003c/code\u003e ê°™ì€ request APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ì—ìš”. ì™œëƒí•˜ë©´ Next.jsëŠ” Partial Prerendering(ë¶€ë¶„ í”„ë¦¬ë Œë”ë§)ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ìš”ì²­ APIë¥¼ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ì•¼ í•˜ëŠ”ë°, \u003ccode\u003eafter\u003c/code\u003e í›…ì€ React ë Œë”ë§ ë¼ì´í”„ì‚¬ì´í´ ì´í›„ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ê·¸ ì œì•½ì— ê±¸ë ¤ë²„ë¦½ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì¦‰, \u003ccode\u003eafter\u003c/code\u003e ë‚´ë¶€ì—ì„œëŠ” ìš”ì²­ ê´€ë ¨ APIë¥¼ í˜¸ì¶œí•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ ê¼­ ë‹¤ë¥¸ ê³³ì—ì„œ ìš”ì²­ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³ , \u003ccode\u003eafter\u003c/code\u003eì—ëŠ” ìˆœìˆ˜íˆ í›„ì²˜ë¦¬ ë¡œì§ë§Œ ë„£ì–´ì£¼ëŠ” ê²Œ ì•ˆì „í•´ìš”.\u003c/p\u003e\n\u003cp\u003eì•„ë˜ëŠ” ê°„ë‹¨íˆ Next.js ë²„ì „ë³„ \u003ccode\u003eafter\u003c/code\u003e í›… ê´€ë ¨ íˆìŠ¤í† ë¦¬ë¥¼ ì •ë¦¬í•œ í‘œì…ë‹ˆë‹¤.\u003c/p\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eVersion History\u003c/th\u003e\u003cth\u003eDescription\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003ev15.1.0\u003c/code\u003e\u003c/td\u003e\u003ctd\u003e\u003ccode\u003eafter\u003c/code\u003eê°€ ì•ˆì •í™”ë¨ (stable)\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003ev15.0.0-rc\u003c/code\u003e\u003c/td\u003e\u003ctd\u003e\u003ccode\u003eunstable_after\u003c/code\u003eê°€ ë„ì…ë¨\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\u003cp\u003eì´ ë‚´ìš© ì°¸ê³ í•˜ì…”ì„œ, \u003ccode\u003eafter\u003c/code\u003e í›…ì„ í™œìš©í•  ë•ŒëŠ” request API ì ‘ê·¼ ì œí•œì„ ëª…ì‹¬í•˜ê³ , ì½”ë“œë¥¼ ì„¤ê³„í•´ë³´ì„¸ìš”. í˜¹ì‹œ \u003ccode\u003eafter\u003c/code\u003eì—ì„œ request ì •ë³´ë¥¼ ê¼­ ì‚¬ìš©í•´ì•¼ í•  ê²½ìš°ì—”, ìš”ì²­ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë°›ê³  ì „ë‹¬í•˜ëŠ” êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì•¼ ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹µë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë”ë¶ˆì–´, ì´ëŸ° êµ¬ì¡°ì  ì œí•œì€ Next.jsê°€ ìµœì í™”ë¥¼ ìœ„í•´ ë„ì…í•œ ë¶€ë¶„ì´ë¼, Partial Prerendering ë•ë¶„ì— í˜ì´ì§€ ë¡œë”© ì„±ëŠ¥ì´ ì¢‹ì•„ì§€ëŠ” ì¥ì ë„ ìˆìœ¼ë‹ˆ ì´í•´í•˜ê³  í™œìš©í•˜ë©´ ìœ ìš©í•´ìš”!\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2025-04-22-after"},"buildId":"olPs1cVezSGTqD7OaewDI","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>