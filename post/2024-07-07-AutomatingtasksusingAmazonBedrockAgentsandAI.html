<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>Amazon Bedrock Agents ë° AIë¡œ ì‘ì—… ìë™í™”í•˜ëŠ” ë°©ë²• | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Amazon Bedrock Agents ë° AIë¡œ ì‘ì—… ìë™í™”í•˜ëŠ” ë°©ë²• | TIL" data-gatsby-head="true"/><meta property="og:title" content="Amazon Bedrock Agents ë° AIë¡œ ì‘ì—… ìë™í™”í•˜ëŠ” ë°©ë²• | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI" data-gatsby-head="true"/><meta name="twitter:title" content="Amazon Bedrock Agents ë° AIë¡œ ì‘ì—… ìë™í™”í•˜ëŠ” ë°©ë²• | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-07 13:00" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-5ecfd58aae5a7e3d.js" defer=""></script><script src="/TIL/_next/static/B2TETmJptwqhd4vJNGZoH/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/B2TETmJptwqhd4vJNGZoH/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">Amazon Bedrock Agents ë° AIë¡œ ì‘ì—… ìë™í™”í•˜ëŠ” ë°©ë²•</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="Amazon Bedrock Agents ë° AIë¡œ ì‘ì—… ìë™í™”í•˜ëŠ” ë°©ë²•" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 7, 2024</span><span class="posts_reading_time__f7YPP">26<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_0.png">
<h2>ì„œë¬¸</h2>
<p>ğŸ‘ Amazon Bedrock Agentsê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³¼ ê±°ì—ìš”.
ğŸ‘ AWS ì•„í‚¤í…ì²˜ë¥¼ ìì„¸íˆ ì‚´í´ë³¼ ê±°ì—ìš”.
ğŸ‘ TypeScript ë° AWS CDK ì½”ë“œë¥¼ ì‚´í´ë³¼ ê±°ì—ìš”.
ğŸ‘ ì‘ë™ ë°©ì‹ì„ ë³´ê¸° ìœ„í•´ ëª‡ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ ë³¼ ê±°ì—ìš”.</p>
<h1>ì†Œê°œ ğŸ‘‹ğŸ½</h1>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Amazon Bedrock Agentsì€ ë‹¹ì‹ ì´ íšŒì‚¬ ë‚´ì—ì„œ ìŠ¤ìŠ¤ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ììœ¨ ì—ì´ì „íŠ¸ë¥¼ êµ¬ì¶•í•˜ê³  ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ì—ì´ì „íŠ¸ëŠ” ê¸°ê´€ ë°ì´í„°ì™€ ì‚¬ìš©ì ì…ë ¥ì„ í™œìš©í•˜ì—¬ ëŒ€í™”í˜• ì±„íŒ…ê³¼ AIë¥¼ ì´ìš©í•´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ìµœì¢… ì‚¬ìš©ìê°€ ì‘ì—…ì„ ì™„ë£Œí•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.</p>
<p>ì´ë“¤ì€ ê¸°ë³¸ ëª¨ë¸, ë°ì´í„° ì†ŒìŠ¤, ì§€ì‹ë² ì´ìŠ¤, ì†Œí”„íŠ¸ì›¨ì–´ ì‘ìš© í”„ë¡œê·¸ë¨ ë° ì‚¬ìš©ì ëŒ€í™” ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ ê´€ë¦¬í•˜ëŠ” ì¡°ì •ì ì—­í• ì„ í•©ë‹ˆë‹¤. ì¶”ê°€ë¡œ, ì´ë“¤ì€ API í˜¸ì¶œì„ ìë™í™”í•˜ì—¬ ì¡°ì¹˜ë¥¼ ìˆ˜í–‰í•˜ê³  ì´ëŸ¬í•œ ì¡°ì¹˜ì™€ ê´€ë ¨ëœ ì •ë³´ë¥¼ í’ë¶€í•˜ê²Œ í•˜ëŠ” ì§€ì‹ ë² ì´ìŠ¤ì— ì ‘ê·¼í•©ë‹ˆë‹¤.</p>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_1.png" alt="Automating tasks using Amazon Bedrock Agents and AI"></p>
<p>ë³¸ ë¬¸ì„œì—ì„œëŠ” ê°€ìƒì˜ í˜¸í…” ë° ìŠ¤íŒŒ íšŒì‚¬ì¸ LJ Resortsë¥¼ ë‹¤ë£¨ì–´ AWS êµ¬ì¡°ì™€ ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ê³ ê°ì€ ë‹¹ì‚¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í˜¸í…” ìˆ™ë°•, ê³¨í”„ ì„¸ì…˜ ë° ìŠ¤íŒŒ ì¹˜ë£Œë¥¼ í•œêº¼ë²ˆì— ì˜ˆì•½í•˜ê±°ë‚˜ ì´ìš© ê°€ëŠ¥í•œ ì¹˜ë£Œ ë° í• ì¸, ì˜ì—… ì‹œê°„ê³¼ ê°™ì€ íšŒì‚¬ ì •ë³´ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_2.png" alt="Image 1"></p>
<p>The full code repository can be found here:</p>
<p>ğŸ‘‡ Before we go any further â€” please connect with me on LinkedIn for future blog posts and Serverless news <a href="https://www.linkedin.com/in/lee-james-gilmore/" rel="nofollow" target="_blank">Lee James Gilmore</a></p>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_3.png" alt="Image 2"></p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>ì•„ë§ˆì¡´ ë² ë“œë½ ì—ì´ì „íŠ¸ë€ ë¬´ì—‡ì¸ê°€ìš”? ğŸ¤–</h1>
<p>ì´ì œ ì•„ë§ˆì¡´ ë² ë“œë½ ì—ì´ì „íŠ¸ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³´ê² ìŠµë‹ˆë‹¤. ì–´ë–¤ ì¼ì„ í•˜ëŠ”ì§€ ì•Œì•„ë³´ë©´ì„œ ì‹œì‘í•´ë´…ì‹œë‹¤. ë¨¼ì € ì¤‘ìš”í•œ ì•½ì–´ ëª‡ ê°€ì§€ë¥¼ ì´í•´í•´ ë´…ì‹œë‹¤.</p>
<h2>ì•½ì–´</h2>
<p>ì‹œì‘í•˜ê¸° ì „ì— ì•½ì–´ ëª‡ ê°€ì§€ì™€ ê·¸ ì˜ë¯¸ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>âœ”ï¸ FM - ê¸°ë³¸ ëª¨ë¸</p>
<p>âœ”ï¸ ì•¡ì…˜ ê·¸ë£¹</p>
<p>âœ”ï¸ ì§€ì¹¨</p>
<p>ğŸ¤– "ê³ ê°ì´ í˜¸í…” ê°ì‹¤, ìŠ¤íŒŒ ì„¸ì…˜, ê·¸ë¦¬ê³  ê³¨í”„ ì˜ˆì•½ì„ ë„ì™€ì£¼ì‹œê³ , í•´ë‹¹í•˜ëŠ” ë‚ ì§œì™€ ì˜ˆì•½ ìœ í˜•ì— ë”°ë¼ íŠ¹ë³„ í˜œíƒì„ ì œê³µí•´ ì£¼ì„¸ìš”. ì˜ˆì•½ì„ ì™„ë£Œí•˜ê¸° ì „ì— ì˜¤í”„ë‹ íƒ€ì„ì´ë‚˜ ê°€ê²©ì— ëŒ€í•´ ê³ ê°ì—ê²Œ ì•ˆë‚´í•˜ê³ , í˜¸í…” ì •ì±…ì„ ê³ ë ¤í•´ ì£¼ì„¸ìš”."</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_4.png" alt="Automating tasks using Amazon Bedrock Agents and AI"></p>
<h2>Amazon Bedrock ì—ì´ì „íŠ¸ëŠ” ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”? ğŸ¤–</h2>
<p>ì•„ë˜ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ëŠ” ê³ ê°ì˜ ì…ë ¥ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤. ì´ ì…ë ¥ì€ í”„ë¡¬í”„íŠ¸ ìŠ¤í† ì–´ë¡œ ì¦ê°€ë˜ì–´ ì„¸ì…˜ ìŠ¤í† ì–´ì—ì„œ ê°€ì ¸ì˜¨ ì´ì „ ëŒ€í™” ë‚´ìš©ê³¼ í•¨ê»˜ ë°”íƒ• ëª¨ë¸ì„ í˜¸ì¶œí•˜ì—¬ ë³´ê°•ë©ë‹ˆë‹¤.</p>
<p>ë‹¤ìŒìœ¼ë¡œ Orchestration promptëŠ” ì‘ë‹µì„ êµ¬ë¬¸ ë¶„ì„í•˜ê³  ìš°ë¦¬ì˜ OpenAPI ì‚¬ì–‘ ë¬¸ì„œì— ì •ì˜ëœ ì‘ì—…ì— ë”°ë¼ ì•¡ì…˜ ê·¸ë£¹ ëŒë‹¤ë¥¼ í˜¸ì¶œí•˜ë©° Bedrock Knowledge Baseì—ì„œ í•„ìš”í•œ ì¶”ê°€ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. Orchestrationì´ ì™„ë£Œë˜ë©´ ê²°ê³¼ê°€ ê³ ê°ì—ê²Œ ë°˜í™˜ë©ë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_5.png" alt="ì´ë¯¸ì§€"></p>
<p>ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ë³¸ë¬¸ì—ì„œ ë¬´ì—‡ì„ êµ¬ì¶• ì¤‘ì¸ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì½”ë“œë¥¼ ì‚´í´ë³´ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë°°í¬í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h1>ë¬´ì—‡ì„ ë§Œë“¤ê³  ìˆì„ê¹Œìš”? ğŸ› ï¸</h1>
<p>ê·¸ë˜, ì´ì œ Amazon Bedrockì™€ í•¨ê»˜ ì—ì´ì „íŠ¸ì— ëŒ€í•´ ê¹Šì´ íŒŒê³ ë“¤ì—ˆìœ¼ë©° ì´ë¡ ì ìœ¼ë¡œ ì‘ë™ ë°©ì‹ì„ ì´í•´í–ˆìœ¼ë‹ˆ, ì´ì œ ì´ ê¸€ì—ì„œ ë¬´ì—‡ì„ ë§Œë“¤ê³  ìˆëŠ”ì§€ ì‚´í´ë´…ì‹œë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_6.png">
<p>ì €í¬ëŠ” ì´ì „ ê¸€ì—ì„œ Amazon Bedrock Knowledge Basesì— ëŒ€í•´ ë‹¤ë¤˜ì—ˆëŠ”ë°, í•´ë‹¹ ê¸€ì€ ì—¬ê¸°ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”:</p>
<p>ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”:</p>
<ul>
<li>ê³ ê°ì´ ìì‹ ì˜ í”„ë¡¬í”„íŠ¸ë¡œ Lambda í•¨ìˆ˜ URLì„ íƒ­í•©ë‹ˆë‹¤.</li>
<li>ì´ëŠ” ì¿¼ë¦¬ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©°, ì´ í•¨ìˆ˜ëŠ” ë‹¤ì‹œ Amazon Bedrock ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.</li>
<li>ì—ì´ì „íŠ¸ëŠ” íŠ¹ì • íšŒì‚¬ ë°ì´í„°ë¥¼ ì‚¬ìš©í•œ ë°°í¬ëœ Knowledge Baseì™€ S3 ë²„í‚·ì— ìˆëŠ” OpenAPI ì‚¬ì–µì„ ê¸°ë°˜ìœ¼ë¡œ í•œ Lambda í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³ ê°ì˜ ì‘ì—…ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ë‚´ë¶€ ì‹œìŠ¤í…œì— ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤ (ì—¬ëŸ¬ í˜¸ì¶œì„ ìš°ë¦¬ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì¡°ì •í•  ê²ƒì…ë‹ˆë‹¤).</li>
</ul>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì´ì œ ê³ ìˆ˜ì¤€ ì•„í‚¤í…ì²˜ë¥¼ ë…¼ì˜í–ˆìœ¼ë‹ˆ, ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì˜ˆì‹œ ìƒí˜¸ì‘ìš©ì„ ì‚´í´ë´…ì‹œë‹¤.</p>
<h1>ìƒí˜¸ì‘ìš©ì´ ì–´ë–»ê²Œ ë³´ì¼ê¹Œìš”? â›³</h1>
<p>ì•„ë˜ ì˜ˆì‹œ ìƒí˜¸ì‘ìš©ì„ ì‚´í´ë³´ë©´ ê³ ê°ì´ ì—ì´ì „íŠ¸ì™€ ì±„íŒ…í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤, ì´ëŠ” ì‹¤ì œ í”„ë¡¬í”„íŠ¸ì™€ ì¶œë ¥ê°’ì„ ì‚¬ìš©í•˜ì—¬ ìš°ë¦¬ì˜ ì˜ˆì‹œ ì†”ë£¨ì…˜ì„ í†µí•´ ì‹¤í–‰ëœ ê²ƒì…ë‹ˆë‹¤:</p>
<p>Customer: â€œHi, what special deals do you have on at the moment for hotels?â€</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì—ì´ì „íŠ¸: "í˜„ì¬ ì´ìš© ê°€ëŠ¥í•œ í˜¸í…” íŠ¹ë³„ í• ì¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: - ì›”ìš”ì¼ ìŠ¤í…Œì´ì¼€ì´ì…˜ íŠ¹ê°€: ê°ì‹¤ ìš”ê¸ˆ 20% í• ì¸ (ì›”ìš”ì¼ë§Œ) - ê¸‰í–‰ íˆ¬ìˆ™ íŠ¹ê°€: ë‹¹ì¼ ì˜ˆì•½ ì‹œ 15% í• ì¸ (í™”ìš”ì¼ë§Œ) - ì—°ë°• í• ì¸: 3ë°• ìˆ™ë°• 20% í• ì¸ (ìˆ˜ìš”ì¼ë§Œ) - ìŠ¤ìœ„íŠ¸ ì—…ê·¸ë ˆì´ë“œ: ìµìŠ¤íí‹°ë¸Œ ìŠ¤ìœ„íŠ¸ ë¬´ë£Œ ì—…ê·¸ë ˆì´ë“œ (ëª©ìš”ì¼ë§Œ) - ì£¼ë§ ì—¬í–‰ íŒ¨í‚¤ì§€: 2ë°• ìˆ™ë°• 10% í• ì¸ (ê¸ˆìš”ì¼ë§Œ)"</p>
<p>ê³ ê°: "2024ë…„ 02ì›” 25ì¼ì— í˜¸í…” ê°ì‹¤ì„ ì˜ˆì•½í•˜ê³  ì‹¶ì–´ìš”, í˜„ì¬ ë¬´ì—‡ì´ ê°€ëŠ¥í•œê°€ìš”?"</p>
<p>ì—ì´ì „íŠ¸: "2024ë…„ 02ì›” 25ì¼ ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: - 101í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $100): í€¸ ì‚¬ì´ì¦ˆ ì¹¨ëŒ€ê°€ ìˆëŠ” ì•„ëŠ‘í•œ í‘œì¤€ ê°ì‹¤ - 102í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $100): ë‘ ê°œì˜ ë”ë¸” ì¹¨ëŒ€ê°€ ìˆëŠ” ë„“ì€ í‘œì¤€ ê°ì‹¤ - 103í˜¸ ê°ì‹¤(ë””ëŸ­ìŠ¤, $150): í‚¹ ì‚¬ì´ì¦ˆ ì¹¨ëŒ€ì™€ ì „ë§ì´ ìˆëŠ” í˜¸í™”ë¡œìš´ ë””ëŸ­ìŠ¤ ê°ì‹¤ - 104í˜¸ ê°ì‹¤(ìŠ¤ìœ„íŠ¸, $200): ë³„ë„ì˜ ê±°ì‹¤ ê³µê°„ê³¼ ì¹¨ì‹¤ì´ ìˆëŠ” ìš°ì•„í•œ ìŠ¤ìœ„íŠ¸ - 105í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $90): ..ìƒëµ.."</p>
<p>ê³ ê°: "2024ë…„ 02ì›” 25ì¼ì— ë””ëŸ­ìŠ¤ ê°ì‹¤ì„ $160ì— ì˜ˆì•½í•  ìˆ˜ ìˆë‚˜ìš”?"</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì—ì´ì „íŠ¸: "2024ë…„ 2ì›” 25ì¼ì— 109í˜¸ ê°ì‹¤ì„ ì˜ˆì•½í•´ë“œë ¸ìŠµë‹ˆë‹¤. ì´ ê°ì‹¤ì€ ëª…í’ˆ ìš•ì‹¤ì´ ìˆëŠ” ë””ëŸ­ìŠ¤ ê°ì‹¤ì´ë©°, 160ë‹¬ëŸ¬ì…ë‹ˆë‹¤. í•„ìš”í•œ ê²ƒì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì•Œë ¤ì£¼ì„¸ìš”!"</p>
<p>ê³ ê°: "ì–´ë–¤ ìŠ¤íŒŒ ì‹œìˆ ì´ ê°€ëŠ¥í•œê°€ìš”?"</p>
<p>ì—ì´ì „íŠ¸: "ì˜¤ëŠ˜ ê°€ëŠ¥í•œ ìŠ¤íŒŒ ì‹œìˆ  ëª©ë¡ì…ë‹ˆë‹¤: â€” ìŠ¤ì›¨ë””ì‹œ ë§ˆì‚¬ì§€: ê¸´ì¥ì„ ì™„í™”í•˜ê³  ì´ì™„ì„ ì´‰ì§„í•˜ëŠ” ì „ì‹  ë§ˆì‚¬ì§€. ê°€ê²©: 80ë‹¬ëŸ¬ â€” í˜ì´ì…œ: í”¼ë¶€ë¥¼ ì¬ìƒí•˜ê³  í™œê¸°ë¥¼ ë˜ì°¾ëŠ” ê¹Šì€ í´ë Œì§• í˜ì´ì…œ. ê°€ê²©: 70ë‹¬ëŸ¬ â€” í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€: ê°€ì—´ëœ ëŒì„ ì‚¬ìš©í•œ ì¹˜ë£Œì ì¸ ë§ˆì‚¬ì§€ë¡œ ê·¼ìœ¡ì„ ì§„ì •ì‹œí‚¤ê³  í˜ˆë¥˜ë¥¼ í–¥ìƒì‹œí‚µë‹ˆë‹¤. ê°€ê²©: 90ë‹¬ëŸ¬ â€” ì•„ë¡œë§ˆí…Œë¼í”¼: ì•„ë¡œë§ˆ í–¥ê¸°ë¡œ í¸ì•ˆí•¨ê³¼ ì›°ë¹™ì„ ë†’ì´ëŠ” ì„¬ì„¸í•œ ë§ˆì‚¬ì§€. ê°€ê²©: 85ë‹¬ëŸ¬ â€” â€¦.'ê°„ëµíˆ í•˜ê¸° ìœ„í•´ ë‚˜ë¨¸ì§€ ì œê±°ë¨'"</p>
<p>ê³ ê°: "í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ ì˜ˆì•½í•  ìˆ˜ ìˆë‚˜ìš”?"</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>Agent: "ë„¤, ì˜¤ëŠ˜ ë‹¹ì‹ ì„ ìœ„í•´ í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ ì˜ˆì•½í–ˆì–´ìš”. ì´ ì¹˜ë£Œ ë§ˆì‚¬ì§€ëŠ” ê°€ì—´ëœ ëŒì„ ì‚¬ìš©í•˜ì—¬ ê·¼ìœ¡ì„ ì§„ì •ì‹œí‚¤ê³  í˜ˆì•¡ ìˆœí™˜ì´ í–¥ìƒë©ë‹ˆë‹¤. ë¹„ìš©ì€ $90ì´ì—ìš”. ë” í•„ìš”í•œ ê²Œ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ë§í•´ì£¼ì„¸ìš”!"</p>
<p>Customer: "ê³¨í”„ì˜ ì˜ì—… ì‹œê°„ì€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?"</p>
<p>Agent: "LJ ë¦¬ì¡°íŠ¸ì˜ ê³¨í”„ ì˜ì—… ì‹œê°„ì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”: ì›”ìš”ì¼ë¶€í„° ê¸ˆìš”ì¼ê¹Œì§€: ì˜¤ì „ 9ì‹œ â€” ì˜¤í›„ 6ì‹œ í† ìš”ì¼ ë° ì¼ìš”ì¼: ì˜¤ì „ 7ì‹œ â€” ì˜¤í›„ 7ì‹œ"</p>
<p>Customer: "í•´ë‹¹ ë‚ ì—ë„ ì•„ì¹¨ì—ëŠ” ê³¨í”„ ì„¸ì…˜ë„ ìˆë‚˜ìš”?"</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì—ì´ì „íŠ¸: "ì˜¤ëŠ˜ ê°€ëŠ¥í•œ ê³¨í”„ ì„¸ì…˜ì„ í™•ì¸í•´ë³´ë‹ˆ ì•„ì¹¨ ì„¸ì…˜ í•˜ë‚˜ê°€ ìˆë„¤ìš”: ì•„ì¹¨ í‹° íƒ€ì„: ì•„ì¹¨ì— ë©‹ì§„ ì „ë§ê³¼ í•¨ê»˜ ê³¨í”„ë¥¼ ì¦ê¸°ì„¸ìš”. ë¹„ìš©: $80 ì´ ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ ì˜ˆì•½í•´ ë“œë¦´ê¹Œìš”?"</p>
<p>ê³ ê°: "ì œê°€ $80ì— ê·¸ ë‚  ê³¨í”„ ì„¸ì…˜ì„ ì˜ˆì•½í•  ìˆ˜ ìˆì„ê¹Œìš”?"</p>
<p>ì—ì´ì „íŠ¸: "ë„¤, $80ì— ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ ì˜¤ëŠ˜ ì˜ˆì•½í•´ ë“œë ¸ìŠµë‹ˆë‹¤. ì´ ì„¸ì…˜ì—ì„œëŠ” ì•„ì¹¨ì— ë©‹ì§„ ê²½ì¹˜ë¥¼ ê°ìƒí•˜ë©° ê³¨í”„ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”. ë” í•„ìš”í•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ë§í•´ ì£¼ì„¸ìš”!"</p>
<p>ê³ ê°: "ì œ ì˜ˆì•½ì˜ ì´ ë¹„ìš©ì´ ì–¼ë§ˆì¸ê°€ìš”?"</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì—ì´ì „íŠ¸: "ëŒ€í™” ê¸°ë¡ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©´, í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ 90ë‹¬ëŸ¬ì— ì˜ˆì•½í•˜ì…¨ê³ , ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ 80ë‹¬ëŸ¬ì— ì˜ˆì•½í•˜ì…¨ìŠµë‹ˆë‹¤. ì˜ˆì•½ ì´ ë¹„ìš©ì€ 90ë‹¬ëŸ¬ + 80ë‹¬ëŸ¬ = 170ë‹¬ëŸ¬ì…ë‹ˆë‹¤."</p>
<p>ì´ê²ƒì€ ë² ë“œë½ ì—ì´ì „íŠ¸ê°€ ì–¼ë§ˆë‚˜ ê°•ë ¥í•œì§€ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ê²ƒì€ ì‚¬ëŒì´ ì—¬ëŸ¬ ì‹œìŠ¤í…œì— ì•¡ì„¸ìŠ¤í•´ ê³ ê°ê³¼ ì§ì ‘ ëŒ€ë©´í•´ì•¼ í•˜ëŠ” ì‘ì—…ì„ ëŒ€ì²´í•œ ê²ƒì…ë‹ˆë‹¤. ì¸ê³µì§€ëŠ¥ì´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì´ì œ ê³ ê°ê³¼ ì—ì´ì „íŠ¸ ê°„ì— ë°œìƒí•  ìˆ˜ìˆëŠ” ìƒí˜¸ ì‘ìš©ì„ ì‚´í´ ë³´ì•˜ìœ¼ë‹ˆ, ì£¼ìš” ì½”ë“œë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h1>ì£¼ìš” ì½”ë“œ ì„¤ëª…í•˜ê¸° ğŸ‘¨â€ğŸ’»</h1>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì•Œê² ì–´ìš”, ìš°ë¦¬ëŠ” ì´ ê¸°ë³¸ ì˜ˆì œë¥¼ ì‹¤ì œë¡œ ë³¸ ê²ƒì´ê³ , ì´ì œ TypeScript ë° CDK ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì „ì²´ ì†”ë£¨ì…˜ì€ ì—¬ê¸°ì—ì„œ ì°¾ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h2>Stateful Stack</h2>
<p>ë¨¼ì € ìƒíƒœ ìœ ì§€ ìŠ¤íƒë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤. ì—¬ê¸°ì„œ ë¨¼ì € ì—ì´ì „íŠ¸ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// create the lambda for the agent - this is the lambda that determines</span>
<span class="hljs-comment">// what the prompt looks like with regards to mapping to the schema</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">actionGroupAgentLambda</span>: nodeLambda.<span class="hljs-property">NodejsFunction</span> = <span class="hljs-keyword">new</span> nodeLambda.<span class="hljs-title class_">NodejsFunction</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">"AgentLambda"</span>, {
  <span class="hljs-attr">functionName</span>: <span class="hljs-string">"action-group-executor"</span>,
  <span class="hljs-attr">runtime</span>: lambda.<span class="hljs-property">Runtime</span>.<span class="hljs-property">NODEJS_20_X</span>,
  <span class="hljs-attr">entry</span>: path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">"./src/adapters/primary/action-group-executor/action-group-executor.adapter.ts"</span>),
  <span class="hljs-attr">memorySize</span>: <span class="hljs-number">1024</span>,
  <span class="hljs-attr">handler</span>: <span class="hljs-string">"handler"</span>,
  <span class="hljs-attr">timeout</span>: cdk.<span class="hljs-property">Duration</span>.<span class="hljs-title function_">minutes</span>(<span class="hljs-number">5</span>),
  <span class="hljs-attr">description</span>: <span class="hljs-string">"action group lambda function"</span>,
  <span class="hljs-attr">architecture</span>: lambda.<span class="hljs-property">Architecture</span>.<span class="hljs-property">ARM_64</span>,
  <span class="hljs-attr">tracing</span>: lambda.<span class="hljs-property">Tracing</span>.<span class="hljs-property">ACTIVE</span>,
  <span class="hljs-attr">bundling</span>: {
    <span class="hljs-attr">minify</span>: <span class="hljs-literal">true</span>,
  },
  <span class="hljs-attr">environment</span>: {
    ...lambdaConfig,
  },
});
</code></pre>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë‹¤ìŒì€ ì•„ë˜ì— í‘œì‹œëœëŒ€ë¡œ ìš°ë¦¬ì˜ Amazon Bedrock ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// bedrock ì—ì´ì „íŠ¸ ìƒì„±</span>
<span class="hljs-keyword">const</span> agent = <span class="hljs-keyword">new</span> bedrock.<span class="hljs-title class_">Agent</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">"BedrockAgent"</span>, {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"ì—ì´ì „íŠ¸"</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">"í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ì„ ìœ„í•œ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤."</span>,
  <span class="hljs-attr">foundationModel</span>: bedrock.<span class="hljs-property">BedrockFoundationModel</span>.<span class="hljs-property">ANTHROPIC_CLAUDE_V2</span>,
  <span class="hljs-attr">instruction</span>:
    <span class="hljs-string">"ê³ ê°ì´ í˜¸í…” ê°ì‹¤, ìŠ¤íŒŒ ì„¸ì…˜ ë° ê³¨í”„ ì˜ˆì•½ì„ ë„ì™€ì£¼ì…”ì„œ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ê·¸ë“¤ì—ê²Œ ìš”ì¼ ë° ì˜ˆì•½ ìœ í˜•ì— ë”°ë¼ íŠ¹ë³„ ì œê³µìƒí’ˆì— ëŒ€í•´ ì•Œë ¤ì£¼ì‹œê³ , ì˜ˆì•½ì„ ì™„ë£Œí•˜ê¸° ì „ì— ì˜¤í”ˆ ì‹œê°„ì´ë‚˜ ê°€ê²©ì„ ì•ˆë‚´í•´ì£¼ì‹œê³ , ë˜í•œ í˜¸í…” ì •ì±…ì„ ê³ ë ¤í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤."</span>,
  <span class="hljs-attr">idleSessionTTL</span>: cdk.<span class="hljs-property">Duration</span>.<span class="hljs-title function_">minutes</span>(<span class="hljs-number">10</span>),
  <span class="hljs-attr">knowledgeBases</span>: [kb],
  <span class="hljs-attr">shouldPrepareAgent</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">aliasName</span>: <span class="hljs-string">"ì—ì´ì „íŠ¸"</span>,
});
</code></pre>
<p>ìœ„ì˜ ì½”ë“œì—ì„œ ë³´ë“¯ì´, ì—ì´ì „íŠ¸ì—ê²Œ ì„¸ì…˜ ì§€ì† ì‹œê°„, Amazon Bedrock ì§€ì‹ ë² ì´ìŠ¤ì— ëŒ€í•œ ë§í¬, FM ìœ í˜•(Claud V2) ë° ì´ ì—ì´ì „íŠ¸ê°€ ìˆ˜í–‰í•´ì•¼ í•  ì‘ì—…ì— ëŒ€í•œ ì§€ì‹œ ì‚¬í•­ê³¼ ê°™ì€ ì£¼ìš” ì†ì„±ë“¤ì„ ì§€ì •í•©ë‹ˆë‹¤.</p>
<p>ë‹¤ìŒìœ¼ë¡œ, ì•„ë˜ì™€ ê°™ì´ Action ê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-comment">// ì˜ˆì•½ì„ ìœ„í•œ ë™ì‘ ê·¸ë£¹ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</span>
<span class="hljs-keyword">new</span> bedrock.<span class="hljs-title class_">AgentActionGroup</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">"AgentActionGroup"</span>, {
  <span class="hljs-attr">actionGroupName</span>: <span class="hljs-string">"agent-action-group"</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">"ì˜ˆì•½ì„ ìœ„í•œ ë™ì‘ ê·¸ë£¹"</span>,
  <span class="hljs-attr">agent</span>: agent,
  <span class="hljs-attr">apiSchema</span>: bedrock.<span class="hljs-property">S3ApiSchema</span>.<span class="hljs-title function_">fromAsset</span>(path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">"./schema/api-schema.json"</span>)),
  <span class="hljs-attr">actionGroupState</span>: <span class="hljs-string">"ENABLED"</span>,
  <span class="hljs-attr">actionGroupExecutor</span>: actionGroupAgentLambda,
  <span class="hljs-attr">shouldPrepareAgent</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<p>ìš°ë¦¬ëŠ” ì—ì´ì „íŠ¸ê°€ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ìƒì„¸íˆ ì„¤ëª…í•˜ëŠ” Open API ìŠ¤í‚¤ë§ˆì™€ ë™ì‘ì— ëŒ€í•œ í”„ë¡ì‹œë¡œ í˜¸ì¶œë˜ëŠ” ëŒë‹¤ í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ Open API ì‚¬ì–‘ì´ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"openapi"</span>: <span class="hljs-string">"3.0.0"</span>,
  <span class="hljs-string">"info"</span>: {
    <span class="hljs-string">"title"</span>: <span class="hljs-string">"LJ ë¦¬ì¡°íŠ¸ë¥¼ ìœ„í•œ í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ API"</span>,
    <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê³ ê°ì˜ í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ APIì…ë‹ˆë‹¤."</span>
  },
  <span class="hljs-string">"paths"</span>: {
    <span class="hljs-string">"/rooms"</span>: {
      <span class="hljs-string">"get"</span>: {
        <span class="hljs-string">"summary"</span>: <span class="hljs-string">"ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤"</span>,
        <span class="hljs-string">"description"</span>: <span class="hljs-string">"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤"</span>,
        <span class="hljs-string">"operationId"</span>: <span class="hljs-string">"getAllAvailableRooms"</span>,
        <span class="hljs-string">"responses"</span>: {
          <span class="hljs-string">"200"</span>: {
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤"</span>,
            <span class="hljs-string">"content"</span>: {
              <span class="hljs-string">"application/json"</span>: {
                <span class="hljs-string">"schema"</span>: {
                  <span class="hljs-string">"type"</span>: <span class="hljs-string">"array"</span>,
                  <span class="hljs-string">"items"</span>: {
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
                    <span class="hljs-string">"properties"</span>: {
                      <span class="hljs-string">"roomId"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê°ì‹¤ì˜ ê³ ìœ  IDì…ë‹ˆë‹¤."</span>
                      },
                      <span class="hljs-string">"roomType"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê°ì‹¤ ìœ í˜•ì…ë‹ˆë‹¤."</span>
                      },
                      <span class="hljs-string">"roomDescription"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê°ì‹¤ ì„¤ëª…ì…ë‹ˆë‹¤."</span>
                      },
                      <span class="hljs-string">"date"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê°ì‹¤ ì˜ˆì•½ ê°€ëŠ¥í•œ ë‚ ì§œì…ë‹ˆë‹¤."</span>
                      },
                      <span class="hljs-string">"cost"</span>: {
                        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                        <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê°ì‹¤ ë¹„ìš©(1ë°•ë‹¹)ì…ë‹ˆë‹¤."</span>
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      <span class="hljs-string">"post"</span>: {
        <span class="hljs-string">"summary"</span>: <span class="hljs-string">"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ì„ ì˜ˆì•½í•©ë‹ˆë‹¤"</span>,
        <span class="hljs-string">"description"</span>: <span class="hljs-string">"íŠ¹ì • ë‚ ì§œì— ê°ì‹¤ì„ ì˜ˆì•½í•©ë‹ˆë‹¤"</span>,
        <span class="hljs-string">"operationId"</span>: <span class="hljs-string">"bookRoom"</span>,
        <span class="hljs-string">"requestBody"</span>: {
          <span class="hljs-string">"required"</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-string">"content"</span>: {
            <span class="hljs-string">"application/json"</span>: {
              <span class="hljs-string">"schema"</span>: {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
                <span class="hljs-string">"properties"</span>: {
                  <span class="hljs-string">"roomId"</span>: {
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                    <span class="hljs-string">"description"</span>: <span class="hljs-string">"ì˜ˆì•½í•  ê°ì‹¤ì˜ IDì…ë‹ˆë‹¤"</span>
                  },
                  <span class="hljs-string">"date"</span>: {
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
                    <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê°ì‹¤ ì˜ˆì•½ ë‚ ì§œì…ë‹ˆë‹¤"</span>
                  }
                },
                <span class="hljs-string">"required"</span>: [<span class="hljs-string">"roomId"</span>, <span class="hljs-string">"date"</span>]
              }
            }
          }
        },
        <span class="hljs-string">"responses"</span>: {
          <span class="hljs-string">"200"</span>: {
            <span class="hljs-string">"description"</span>: <span class="hljs-string">"ê°ì‹¤ ì˜ˆì•½ ì„±ê³µ"</span>
          }
        }
      }
    },
    <span class="hljs-string">"/spa-sessions"</span>: {
      ...
    },
    <span class="hljs-string">"/golf-sessions"</span>: {
      ...
    }
  }
}
</code></pre>
<p>ëª¨ë¸ì´ ìˆ˜í–‰í•´ì•¼ í•  ì‘ì—…ì„ ê²°ì •í•˜ëŠ” ì¤‘ìš”í•œ ë¶€ë¶„ì€ ì„¤ëª…, ê²½ë¡œ, ë©”ì„œë“œ ë° ì‘ì—… IDì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëª¨ë“  í˜¸í…” ê°ì‹¤ì„ ë‚˜ì—´í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><strong>Description</strong> - "íŠ¹ì • ë‚ ì§œì— ëŒ€í•œ ëª¨ë“  ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤".
<strong>OperationId</strong> - "getAllAvailableRooms".
<strong>Path</strong> - â€˜/roomsâ€™.
<strong>Method</strong> - â€˜GETâ€™.</p>
<p>ìš°ë¦¬ì˜ ëŒë‹¤ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ í•´ë‹¹ ì„¸ë¶€ ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ í˜¸ì¶œí•´ì•¼ í•˜ëŠ” ë‹¤ë¥¸ ì‹œìŠ¤í…œì„ ê²°ì •í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MetricUnits</span>, <span class="hljs-title class_">Metrics</span>, logMetrics } <span class="hljs-keyword">from</span> <span class="hljs-string">"@aws-lambda-powertools/metrics"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Tracer</span>, captureLambdaHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">"@aws-lambda-powertools/tracer"</span>;
<span class="hljs-keyword">import</span> { golfSessions, rooms, spaTreatments } <span class="hljs-keyword">from</span> <span class="hljs-string">"stateful/src/data"</span>;

<span class="hljs-keyword">import</span> { injectLambdaContext } <span class="hljs-keyword">from</span> <span class="hljs-string">"@aws-lambda-powertools/logger"</span>;
<span class="hljs-keyword">import</span> middy <span class="hljs-keyword">from</span> <span class="hljs-string">"@middy/core"</span>;
<span class="hljs-keyword">import</span> { logger } <span class="hljs-keyword">from</span> <span class="hljs-string">"@shared/index"</span>;

<span class="hljs-keyword">const</span> tracer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tracer</span>();
<span class="hljs-keyword">const</span> metrics = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Metrics</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> adapter = <span class="hljs-keyword">async</span> ({
  inputText,
  apiPath,
  httpMethod,
  actionGroup,
  messageVersion,
  requestBody,
  sessionAttributes,
  promptSessionAttributes,
}: <span class="hljs-title class_">Event</span>): <span class="hljs-title class_">Promise</span>&#x3C;<span class="hljs-title class_">Response</span>> => {
  <span class="hljs-keyword">let</span> body;
  <span class="hljs-keyword">let</span> httpStatusCode = <span class="hljs-number">200</span>;

  <span class="hljs-keyword">try</span> {
    logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`inputText: <span class="hljs-subst">${inputText}</span>, apiPath: <span class="hljs-subst">${apiPath}</span>, httpMethod: <span class="hljs-subst">${httpMethod}</span>`</span>);

    <span class="hljs-comment">// ì°¸ê³ : ì‹¤ì œë¡œëŠ” ëŒë‹¤ FURLS ë˜ëŠ” ë‹¤ë¥¸ DB ë˜ëŠ” API/ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•  ê²ƒì´ì§€ë§Œ,</span>
    <span class="hljs-comment">// ì‘ë™ ë°©ì‹ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ê¸°ì‚¬ìš© ê°€ì§œ ìŠ¤í… ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</span>
    <span class="hljs-keyword">switch</span> (apiPath) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">"/rooms"</span>:
        <span class="hljs-keyword">if</span> (httpMethod === <span class="hljs-string">"GET"</span>) {
          body = rooms;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (httpMethod === <span class="hljs-string">"POST"</span>) {
          body = rooms.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">room</span>) =></span> room.<span class="hljs-property">roomId</span> === <span class="hljs-string">"109"</span>);
        }
        <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">case</span> <span class="hljs-string">"/spa-sessions"</span>:
        <span class="hljs-keyword">if</span> (httpMethod === <span class="hljs-string">"GET"</span>) {
          body = spaTreatments;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (httpMethod === <span class="hljs-string">"POST"</span>) {
          body = spaTreatments.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">treatment</span>) =></span> treatment.<span class="hljs-property">treatmentId</span> === <span class="hljs-string">"3"</span>);
        }
        <span class="hljs-keyword">break</span>;

      <span class="hljs-keyword">case</span> <span class="hljs-string">"/golf-sessions"</span>:
        <span class="hljs-keyword">if</span> (httpMethod === <span class="hljs-string">"GET"</span>) {
          body = golfSessions;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (httpMethod === <span class="hljs-string">"POST"</span>) {
          body = golfSessions.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">session</span>) =></span> session.<span class="hljs-property">sessionId</span> === <span class="hljs-string">"1"</span>);
        }
        <span class="hljs-keyword">break</span>;

      <span class="hljs-attr">default</span>:
        httpStatusCode = <span class="hljs-number">500</span>;
        body = <span class="hljs-string">"Sorry, I am unable to help you with that. Please try asking the question in a different way perhaps."</span>;
        <span class="hljs-keyword">break</span>;
    }

    metrics.<span class="hljs-title function_">addMetric</span>(<span class="hljs-string">"SuccessfulActionGroupQuery"</span>, <span class="hljs-title class_">MetricUnits</span>.<span class="hljs-property">Count</span>, <span class="hljs-number">1</span>);

    <span class="hljs-keyword">return</span> {
      messageVersion,
      <span class="hljs-attr">response</span>: {
        apiPath,
        actionGroup,
        httpMethod,
        httpStatusCode,
        sessionAttributes,
        promptSessionAttributes,
        <span class="hljs-attr">responseBody</span>: {
          <span class="hljs-string">"application-json"</span>: {
            <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(body),
          },
        },
      },
    };
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">let</span> errorMessage = <span class="hljs-string">"Unknown error"</span>;
    <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span>) errorMessage = error.<span class="hljs-property">message</span>;
    logger.<span class="hljs-title function_">error</span>(errorMessage);

    metrics.<span class="hljs-title function_">addMetric</span>(<span class="hljs-string">"ActionGroupQueryError"</span>, <span class="hljs-title class_">MetricUnits</span>.<span class="hljs-property">Count</span>, <span class="hljs-number">1</span>);

    <span class="hljs-keyword">throw</span> error;
  }
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> handler = <span class="hljs-title function_">middy</span>(adapter)
  .<span class="hljs-title function_">use</span>(<span class="hljs-title function_">injectLambdaContext</span>(logger))
  .<span class="hljs-title function_">use</span>(<span class="hljs-title function_">captureLambdaHandler</span>(tracer))
  .<span class="hljs-title function_">use</span>(<span class="hljs-title function_">logMetrics</span>(metrics));
</code></pre>
<p>ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” ë‹¤ë¥¸ ì‹œìŠ¤í…œì„ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  ë°˜í™˜ëœ ë°ì´í„°ë¥¼ ê°„ë‹¨íˆ í•˜ë“œì½”ë”©í–ˆìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_7.png" alt="ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒ"></p>
<p>ì´ì œ ìš°ë¦¬ ì—ì´ì „íŠ¸ë¥¼ ì¿¼ë¦¬í•˜ëŠ” ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h2>ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒ</h2>
<p>ë¨¼ì € ìŠ¤íŠ¸ë¦¬ë°ì´ ì„¤ì •ëœ ì¿¼ë¦¬ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-comment">// ì—ì´ì „íŠ¸ ì¿¼ë¦¬ë¥¼ ìœ„í•œ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">queryModelLambda</span>: nodeLambda.<span class="hljs-property">NodejsFunction</span> = <span class="hljs-keyword">new</span> nodeLambda.<span class="hljs-title class_">NodejsFunction</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-string">"QueryModelLambda"</span>, {
  <span class="hljs-attr">functionName</span>: <span class="hljs-string">"query-model-lambda"</span>,
  <span class="hljs-attr">runtime</span>: lambda.<span class="hljs-property">Runtime</span>.<span class="hljs-property">NODEJS_20_X</span>,
  <span class="hljs-attr">entry</span>: path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">"./src/adapters/primary/query-model/query-model.adapter.ts"</span>),
  <span class="hljs-attr">memorySize</span>: <span class="hljs-number">1024</span>,
  <span class="hljs-attr">handler</span>: <span class="hljs-string">"handler"</span>,
  <span class="hljs-attr">timeout</span>: cdk.<span class="hljs-property">Duration</span>.<span class="hljs-title function_">minutes</span>(<span class="hljs-number">3</span>),
  <span class="hljs-attr">description</span>: <span class="hljs-string">"ì¿¼ë¦¬ ëª¨ë¸ ëŒë‹¤ í•¨ìˆ˜"</span>,
  <span class="hljs-attr">architecture</span>: lambda.<span class="hljs-property">Architecture</span>.<span class="hljs-property">ARM_64</span>,
  <span class="hljs-attr">tracing</span>: lambda.<span class="hljs-property">Tracing</span>.<span class="hljs-property">ACTIVE</span>,
  <span class="hljs-attr">bundling</span>: {
    <span class="hljs-attr">minify</span>: <span class="hljs-literal">true</span>,
  },
  <span class="hljs-attr">environment</span>: {
    <span class="hljs-attr">AGENT_ID</span>: agentId,
    <span class="hljs-attr">AGENT_ALIAS_ID</span>: agentAliasId,
    ...lambdaConfig,
  },
});

<span class="hljs-comment">// ì¿¼ë¦¬ ëŒë‹¤ì— ëŒ€í•œ í•¨ìˆ˜ URLì„ ìŠ¤íŠ¸ë¦¼ ì‘ë‹µìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.</span>
<span class="hljs-keyword">const</span> queryModelLambdaUrl = queryModelLambda.<span class="hljs-title function_">addFunctionUrl</span>({
  <span class="hljs-attr">authType</span>: lambda.<span class="hljs-property">FunctionUrlAuthType</span>.<span class="hljs-property">NONE</span>,
  <span class="hljs-attr">invokeMode</span>: lambda.<span class="hljs-property">InvokeMode</span>.<span class="hljs-property">RESPONSE_STREAM</span>,
  <span class="hljs-attr">cors</span>: {
    <span class="hljs-attr">allowedOrigins</span>: [<span class="hljs-string">"*"</span>],
  },
});
</code></pre>
<p>ê·¸ëŸ° ë‹¤ìŒ, ì•„ë˜ì™€ ê°™ì´ ì—ì´ì „íŠ¸ í˜¸ì¶œ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// ì¿¼ë¦¬ ëŒë‹¤ í•¨ìˆ˜ê°€ ëª¨ë¸/KB/ì—ì´ì „íŠ¸ë¥¼ ì¿¼ë¦¬í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.</span>
queryModelLambda.<span class="hljs-title function_">addToRolePolicy</span>(
  <span class="hljs-keyword">new</span> iam.<span class="hljs-title class_">PolicyStatement</span>({
    <span class="hljs-attr">actions</span>: [<span class="hljs-string">"bedrock:RetrieveAndGenerate"</span>, <span class="hljs-string">"bedrock:Retrieve"</span>, <span class="hljs-string">"bedrock:InvokeModel"</span>, <span class="hljs-string">"bedrock:InvokeAgent"</span>],
    <span class="hljs-attr">resources</span>: [<span class="hljs-string">"*"</span>],
  })
);
</code></pre>
<p>ì´ì œ ì‚¬ìš©ìê°€ í•¨ìˆ˜ URLì„ í†µí•´ í”„ë¡¬í”„íŠ¸ë¥¼ ì œê³µí•˜ê³  ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ëŠ” Query Lambda í•¨ìˆ˜ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MetricUnits</span>, <span class="hljs-title class_">Metrics</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@aws-lambda-powertools/metrics"</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">BedrockAgentRuntimeClient</span>,
  <span class="hljs-title class_">InvokeAgentCommand</span>,
  <span class="hljs-title class_">InvokeAgentRequest</span>,
  <span class="hljs-title class_">InvokeAgentResponse</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@aws-sdk/client-bedrock-agent-runtime"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ResponseStream</span>, streamifyResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">"lambda-stream"</span>;

<span class="hljs-keyword">import</span> { config } <span class="hljs-keyword">from</span> <span class="hljs-string">"@config"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ValidationError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@errors/validation-error"</span>;
<span class="hljs-keyword">import</span> { logger } <span class="hljs-keyword">from</span> <span class="hljs-string">"@shared/index"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">APIGatewayProxyEventV</span>2 } <span class="hljs-keyword">from</span> <span class="hljs-string">"aws-lambda"</span>;

<span class="hljs-keyword">const</span> metrics = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Metrics</span>();
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BedrockAgentRuntimeClient</span>();

<span class="hljs-keyword">const</span> agentId = config.<span class="hljs-title function_">get</span>(<span class="hljs-string">"agentId"</span>);
<span class="hljs-keyword">const</span> agentAliasId = config.<span class="hljs-title function_">get</span>(<span class="hljs-string">"agentAliasId"</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">parseBase64</span>(<span class="hljs-params">message: <span class="hljs-built_in">Uint8Array</span></span>): string {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(message).<span class="hljs-title function_">toString</span>(<span class="hljs-string">"utf-8"</span>);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> queryModelAdapter = <span class="hljs-keyword">async</span> (
  { body }: <span class="hljs-title class_">APIGatewayProxyEventV</span>2,
  <span class="hljs-attr">responseStream</span>: <span class="hljs-title class_">ResponseStream</span>
): <span class="hljs-title class_">Promise</span>&#x3C;<span class="hljs-keyword">void</span>> => {
  <span class="hljs-keyword">try</span> {
    responseStream.<span class="hljs-title function_">setContentType</span>(<span class="hljs-string">"application/json"</span>);

    <span class="hljs-keyword">if</span> (!body) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ValidationError</span>(<span class="hljs-string">"no payload body"</span>);
    <span class="hljs-keyword">const</span> request = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body);

    <span class="hljs-keyword">const</span> { sessionAttributes, promptSessionAttributes, sessionId, prompt } = request;

    <span class="hljs-keyword">const</span> <span class="hljs-attr">input</span>: <span class="hljs-title class_">InvokeAgentRequest</span> = {
      <span class="hljs-attr">sessionState</span>: {
        sessionAttributes,
        promptSessionAttributes,
      },
      agentId,
      agentAliasId,
      sessionId,
      <span class="hljs-attr">inputText</span>: prompt,
    };

    <span class="hljs-keyword">const</span> <span class="hljs-attr">command</span>: <span class="hljs-title class_">InvokeAgentCommand</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvokeAgentCommand</span>(input);
    <span class="hljs-keyword">const</span> <span class="hljs-attr">response</span>: <span class="hljs-title class_">InvokeAgentResponse</span> = <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">send</span>(command);

    <span class="hljs-keyword">const</span> chunks = [];
    <span class="hljs-keyword">const</span> completion = response.<span class="hljs-property">completion</span> || [];

    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> completion) {
      <span class="hljs-keyword">if</span> (chunk.<span class="hljs-property">chunk</span> &#x26;&#x26; chunk.<span class="hljs-property">chunk</span>.<span class="hljs-property">bytes</span>) {
        <span class="hljs-keyword">const</span> parsed = <span class="hljs-title function_">parseBase64</span>(chunk.<span class="hljs-property">chunk</span>.<span class="hljs-property">bytes</span>);

        chunks.<span class="hljs-title function_">push</span>(parsed);
      }
    }

    <span class="hljs-keyword">const</span> returnMessage = {
      <span class="hljs-attr">sessionId</span>: response.<span class="hljs-property">sessionId</span>,
      <span class="hljs-attr">contentType</span>: response.<span class="hljs-property">contentType</span>,
      <span class="hljs-attr">message</span>: chunks.<span class="hljs-title function_">join</span>(<span class="hljs-string">" "</span>),
    };

    metrics.<span class="hljs-title function_">addMetric</span>(<span class="hljs-string">"SuccessfulQueryModel"</span>, <span class="hljs-title class_">MetricUnits</span>.<span class="hljs-property">Count</span>, <span class="hljs-number">1</span>);

    <span class="hljs-comment">// Note: In the example we are not streaming, we are using the FURL request timeout feature</span>
    <span class="hljs-comment">// but we could easily write the stream during the for loop if we wanted to</span>
    responseStream.<span class="hljs-title function_">write</span>(returnMessage);
    responseStream.<span class="hljs-title function_">end</span>();
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">let</span> errorMessage = <span class="hljs-string">"Unknown error"</span>;
    <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span>) errorMessage = error.<span class="hljs-property">message</span>;
    logger.<span class="hljs-title function_">error</span>(errorMessage);

    metrics.<span class="hljs-title function_">addMetric</span>(<span class="hljs-string">"QueryModelError"</span>, <span class="hljs-title class_">MetricUnits</span>.<span class="hljs-property">Count</span>, <span class="hljs-number">1</span>);

    responseStream.<span class="hljs-title function_">end</span>();
    <span class="hljs-keyword">throw</span> error;
  }
  responseStream.<span class="hljs-title function_">end</span>();
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> handler = <span class="hljs-title function_">streamifyResponse</span>(queryModelAdapter);
</code></pre>
<p>ìœ„ì˜ ì½”ë“œì—ì„œëŠ” ì—ì´ì „íŠ¸ë¡œë¶€í„° ë°˜í™˜ëœ ì‘ë‹µì„ 'chunks'ë¡œ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ì†¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì˜ˆì œì—ì„œëŠ” ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ì§€ ì•Šê³  ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ JSON ê°ì²´ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì´ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ê² ìŠµë‹ˆë‹¤!</p>
<h1>ì–´í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸ ğŸ§ª</h1>
<h2>Postmanì„ í†µí•œ í…ŒìŠ¤íŠ¸í•˜ê¸°</h2>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë‹¹ì‹ ì€ postman/Bedrock Agents.postman_collection.json íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ìì‹ ì˜ Lambda í•¨ìˆ˜ URL ì •ë³´ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ë‹¤ìŒê³¼ ê°™ì€ ì˜ˆì‹œ JSON í˜ì´ë¡œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-js">{
  <span class="hljs-string">"agentId"</span>: <span class="hljs-string">"agentId"</span>,
  <span class="hljs-string">"agentAliasId"</span>: <span class="hljs-string">"agentAliasId"</span>,
  <span class="hljs-string">"sessionId"</span>: <span class="hljs-string">"1f6aa00e-e585-49aa-aa2d-16adb64857c6"</span>,
  <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"Can I please book a morning golf session on 2024-02-25"</span>
}
</code></pre>
<p>ê·¸ë¦¬ê³  ìš°ë¦¬ì˜ ì—ì´ì „íŠ¸ê°€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ë‹µí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ìš°ë¦¬ ì—ì´ì „íŠ¸ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì‘ì—…ì„ ì¡°ì •í–ˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ë¡œ ê·¸ë‚  ì´ìš©í•  ìˆ˜ ìˆëŠ” ê³¨í”„ ì„¸ì…˜ì„ í™•ì¸í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì—ì´ì „íŠ¸ëŠ” ë¨¼ì € '/golf-sessions/'ì— 'GET'ì„ ì‹¤í–‰í•´ì•¼ í•œë‹¤ê³  ê²°ì •í–ˆëŠ”ë°, ì´ë ‡ê²Œ í•˜ë©´ ê·¸ ë‚  ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê³¨í”„ ì„¸ì…˜ì´ ë°˜í™˜ë©ë‹ˆë‹¤.</p>
<p>ê·¸ëŸ° ë‹¤ìŒ ì˜ˆì•½ì„ í•˜ê¸° ìœ„í•´ '/golf-sessions/'ì— ë‘ ë²ˆì§¸ ì‘ì—… 'POST'ë¥¼ ì—°ì´ì–´ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.</p>
<p>ì—¬ê¸°ì„œ ëŒ€í™”í˜• AIì˜ í˜ê³¼ ììœ¨ ì—ì´ì „íŠ¸ì˜ ì—­í• ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³ ê°ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê°€ì§€ ì‘ì—…ì„ ì¡°í•©í–ˆìŠµë‹ˆë‹¤.</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_8.png" alt="ì´ë¯¸ì§€"></p>
<p>ì§€ê¸ˆì€ ë‹¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œë„ ì´ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ë©´ ê±°ë˜ í™•ì¸, ìŠ¤íŒŒ ì„¸ì…˜ ì˜ˆì•½ ë“±ë“±! ëŒ“ê¸€ì—ì„œ ì†”ë£¨ì…˜ì„ ì–´ë–»ê²Œ ì°¾ì•˜ëŠ”ì§€ ì•Œë ¤ì£¼ì„¸ìš”!</p>
<h1>ë§ˆë¬´ë¦¬ ì¸ì‚¬ ğŸ‘‹ğŸ½</h1>
<p>ì´ ê¸€ì„ ì¦ê²¨ ì½ì–´ì£¼ì…¨ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ë§Œì•½ ì¦ê²ê²Œ ì½ì—ˆë‹¤ë©´ ê³µìœ í•˜ê³  í”¼ë“œë°± ì£¼ì„¸ìš”!</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ë¹„ìŠ·í•œ ì½˜í…ì¸ ë¥¼ ìœ„í•´ ë‚´ YouTube ì±„ë„ì„ êµ¬ë…í•´ì£¼ì„¸ìš”!</p>
<p><img src="/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_9.png" alt="Automating tasks using Amazon Bedrock Agents and AI"></p>
<p>ì•„ë˜ì˜ ë§í¬ë¥¼ í†µí•´ ì—°ë½í•˜ê³  ì‹¶ì–´ìš”:</p>
<p><a href="https://www.linkedin.com/in/lee-james-gilmore/" rel="nofollow" target="_blank">LinkedIn - Lee James Gilmore</a>
<a href="https://twitter.com/LeeJamesGilmore" rel="nofollow" target="_blank">Twitter - Lee James Gilmore</a></p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ê²Œì‹œë¬¼ì„ ì¦ê²ê²Œ ë³´ì…¨ë‹¤ë©´ ë” ë§ì€ ê²Œì‹œë¬¼/ì‹œë¦¬ì¦ˆë¥¼ ë³´ë ¤ë©´ ë‚´ í”„ë¡œí•„ Lee James Gilmoreë¥¼ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”! ë˜í•œ ì¸ì‚¬ë¥¼ ê±´ë„¤ê³  Hië¥¼ ë§í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš” ğŸ‘‹</p>
<p>ê²Œì‹œë¬¼ í•˜ë‹¨ì˜ 'ë°•ìˆ˜' ê¸°ëŠ¥ë„ ì‚¬ìš©í•´ë³´ì„¸ìš”. ë§Œì•½ ê²Œì‹œë¬¼ì„ ì¦ê²¼ë‹¤ë©´ 'ë°•ìˆ˜'ë¥¼ ë˜ í´ë¦­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!!</p>
<h1>ìê¸°ì†Œê°œ</h1>
<p>"ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ì˜êµ­ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”, ë¸”ë¡œê±°, AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸ì´ì ê¸°ìˆ  ë° ì•„í‚¤í…ì²˜ ë¶€ë¬¸ ê¸€ë¡œë²Œ íŒ€ì¥ Leeì…ë‹ˆë‹¤. í˜„ì¬ëŠ” City Electrical Factors(UK) &#x26; City Electric Supply(US)ì—ì„œ ê·¼ë¬´ ì¤‘ì´ë©°, ì§€ë‚œ 6ë…„ ë™ì•ˆ ì£¼ë¡œ AWS ìƒì—ì„œ full-stack JavaScriptë¡œ ì‘ì—…í•´ ì™”ìŠµë‹ˆë‹¤."</p>
<!-- TIL ìˆ˜í‰ -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>ì €ëŠ” AWSë¥¼ ì‚¬ë‘í•˜ëŠ” ì„œë²„ë¦¬ìŠ¤ ì„ êµ¬ìë¼ê³  ìƒê°í•´ìš”. í˜ì‹ , ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜, ê·¸ë¦¬ê³  ê¸°ìˆ ì— ëŒ€í•œ ëª¨ë“  ê²ƒì„ ì¢‹ì•„í•´ìš”.</p>
<p>** ì œê³µëœ ì •ë³´ëŠ” ì œ ê°œì¸ì ì¸ ê²¬í•´ì´ë©°, í•´ë‹¹ ì •ë³´ ì‚¬ìš©ì— ëŒ€í•œ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. **</p>
<p>ì•„ë˜ ë‚´ìš©ë„ ì°¸ê³ í•´ë³´ì„¸ìš”:</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Amazon Bedrock Agents ë° AIë¡œ ì‘ì—… ìë™í™”í•˜ëŠ” ë°©ë²•","description":"","date":"2024-07-07 13:00","slug":"2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI","content":"\n\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_0.png\" /\u003e\n\n## ì„œë¬¸\n\nğŸ‘ Amazon Bedrock Agentsê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³¼ ê±°ì—ìš”.\nğŸ‘ AWS ì•„í‚¤í…ì²˜ë¥¼ ìì„¸íˆ ì‚´í´ë³¼ ê±°ì—ìš”.\nğŸ‘ TypeScript ë° AWS CDK ì½”ë“œë¥¼ ì‚´í´ë³¼ ê±°ì—ìš”.\nğŸ‘ ì‘ë™ ë°©ì‹ì„ ë³´ê¸° ìœ„í•´ ëª‡ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ ë³¼ ê±°ì—ìš”.\n\n# ì†Œê°œ ğŸ‘‹ğŸ½\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nAmazon Bedrock Agentsì€ ë‹¹ì‹ ì´ íšŒì‚¬ ë‚´ì—ì„œ ìŠ¤ìŠ¤ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ììœ¨ ì—ì´ì „íŠ¸ë¥¼ êµ¬ì¶•í•˜ê³  ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ì—ì´ì „íŠ¸ëŠ” ê¸°ê´€ ë°ì´í„°ì™€ ì‚¬ìš©ì ì…ë ¥ì„ í™œìš©í•˜ì—¬ ëŒ€í™”í˜• ì±„íŒ…ê³¼ AIë¥¼ ì´ìš©í•´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ìµœì¢… ì‚¬ìš©ìê°€ ì‘ì—…ì„ ì™„ë£Œí•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.\n\nì´ë“¤ì€ ê¸°ë³¸ ëª¨ë¸, ë°ì´í„° ì†ŒìŠ¤, ì§€ì‹ë² ì´ìŠ¤, ì†Œí”„íŠ¸ì›¨ì–´ ì‘ìš© í”„ë¡œê·¸ë¨ ë° ì‚¬ìš©ì ëŒ€í™” ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ ê´€ë¦¬í•˜ëŠ” ì¡°ì •ì ì—­í• ì„ í•©ë‹ˆë‹¤. ì¶”ê°€ë¡œ, ì´ë“¤ì€ API í˜¸ì¶œì„ ìë™í™”í•˜ì—¬ ì¡°ì¹˜ë¥¼ ìˆ˜í–‰í•˜ê³  ì´ëŸ¬í•œ ì¡°ì¹˜ì™€ ê´€ë ¨ëœ ì •ë³´ë¥¼ í’ë¶€í•˜ê²Œ í•˜ëŠ” ì§€ì‹ ë² ì´ìŠ¤ì— ì ‘ê·¼í•©ë‹ˆë‹¤.\n\n![Automating tasks using Amazon Bedrock Agents and AI](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_1.png)\n\në³¸ ë¬¸ì„œì—ì„œëŠ” ê°€ìƒì˜ í˜¸í…” ë° ìŠ¤íŒŒ íšŒì‚¬ì¸ LJ Resortsë¥¼ ë‹¤ë£¨ì–´ AWS êµ¬ì¡°ì™€ ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ê³ ê°ì€ ë‹¹ì‚¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í˜¸í…” ìˆ™ë°•, ê³¨í”„ ì„¸ì…˜ ë° ìŠ¤íŒŒ ì¹˜ë£Œë¥¼ í•œêº¼ë²ˆì— ì˜ˆì•½í•˜ê±°ë‚˜ ì´ìš© ê°€ëŠ¥í•œ ì¹˜ë£Œ ë° í• ì¸, ì˜ì—… ì‹œê°„ê³¼ ê°™ì€ íšŒì‚¬ ì •ë³´ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![Image 1](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_2.png)\n\nThe full code repository can be found here:\n\nğŸ‘‡ Before we go any further â€” please connect with me on LinkedIn for future blog posts and Serverless news [Lee James Gilmore](https://www.linkedin.com/in/lee-james-gilmore/)\n\n![Image 2](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_3.png)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# ì•„ë§ˆì¡´ ë² ë“œë½ ì—ì´ì „íŠ¸ë€ ë¬´ì—‡ì¸ê°€ìš”? ğŸ¤–\n\nì´ì œ ì•„ë§ˆì¡´ ë² ë“œë½ ì—ì´ì „íŠ¸ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³´ê² ìŠµë‹ˆë‹¤. ì–´ë–¤ ì¼ì„ í•˜ëŠ”ì§€ ì•Œì•„ë³´ë©´ì„œ ì‹œì‘í•´ë´…ì‹œë‹¤. ë¨¼ì € ì¤‘ìš”í•œ ì•½ì–´ ëª‡ ê°€ì§€ë¥¼ ì´í•´í•´ ë´…ì‹œë‹¤.\n\n## ì•½ì–´\n\nì‹œì‘í•˜ê¸° ì „ì— ì•½ì–´ ëª‡ ê°€ì§€ì™€ ê·¸ ì˜ë¯¸ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nâœ”ï¸ FM - ê¸°ë³¸ ëª¨ë¸\n\nâœ”ï¸ ì•¡ì…˜ ê·¸ë£¹\n\nâœ”ï¸ ì§€ì¹¨\n\nğŸ¤– \"ê³ ê°ì´ í˜¸í…” ê°ì‹¤, ìŠ¤íŒŒ ì„¸ì…˜, ê·¸ë¦¬ê³  ê³¨í”„ ì˜ˆì•½ì„ ë„ì™€ì£¼ì‹œê³ , í•´ë‹¹í•˜ëŠ” ë‚ ì§œì™€ ì˜ˆì•½ ìœ í˜•ì— ë”°ë¼ íŠ¹ë³„ í˜œíƒì„ ì œê³µí•´ ì£¼ì„¸ìš”. ì˜ˆì•½ì„ ì™„ë£Œí•˜ê¸° ì „ì— ì˜¤í”„ë‹ íƒ€ì„ì´ë‚˜ ê°€ê²©ì— ëŒ€í•´ ê³ ê°ì—ê²Œ ì•ˆë‚´í•˜ê³ , í˜¸í…” ì •ì±…ì„ ê³ ë ¤í•´ ì£¼ì„¸ìš”.\"\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![Automating tasks using Amazon Bedrock Agents and AI](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_4.png)\n\n## Amazon Bedrock ì—ì´ì „íŠ¸ëŠ” ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”? ğŸ¤–\n\nì•„ë˜ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ëŠ” ê³ ê°ì˜ ì…ë ¥ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤. ì´ ì…ë ¥ì€ í”„ë¡¬í”„íŠ¸ ìŠ¤í† ì–´ë¡œ ì¦ê°€ë˜ì–´ ì„¸ì…˜ ìŠ¤í† ì–´ì—ì„œ ê°€ì ¸ì˜¨ ì´ì „ ëŒ€í™” ë‚´ìš©ê³¼ í•¨ê»˜ ë°”íƒ• ëª¨ë¸ì„ í˜¸ì¶œí•˜ì—¬ ë³´ê°•ë©ë‹ˆë‹¤.\n\në‹¤ìŒìœ¼ë¡œ Orchestration promptëŠ” ì‘ë‹µì„ êµ¬ë¬¸ ë¶„ì„í•˜ê³  ìš°ë¦¬ì˜ OpenAPI ì‚¬ì–‘ ë¬¸ì„œì— ì •ì˜ëœ ì‘ì—…ì— ë”°ë¼ ì•¡ì…˜ ê·¸ë£¹ ëŒë‹¤ë¥¼ í˜¸ì¶œí•˜ë©° Bedrock Knowledge Baseì—ì„œ í•„ìš”í•œ ì¶”ê°€ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. Orchestrationì´ ì™„ë£Œë˜ë©´ ê²°ê³¼ê°€ ê³ ê°ì—ê²Œ ë°˜í™˜ë©ë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_5.png)\n\në‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ë³¸ë¬¸ì—ì„œ ë¬´ì—‡ì„ êµ¬ì¶• ì¤‘ì¸ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì½”ë“œë¥¼ ì‚´í´ë³´ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë°°í¬í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n# ë¬´ì—‡ì„ ë§Œë“¤ê³  ìˆì„ê¹Œìš”? ğŸ› ï¸\n\nê·¸ë˜, ì´ì œ Amazon Bedrockì™€ í•¨ê»˜ ì—ì´ì „íŠ¸ì— ëŒ€í•´ ê¹Šì´ íŒŒê³ ë“¤ì—ˆìœ¼ë©° ì´ë¡ ì ìœ¼ë¡œ ì‘ë™ ë°©ì‹ì„ ì´í•´í–ˆìœ¼ë‹ˆ, ì´ì œ ì´ ê¸€ì—ì„œ ë¬´ì—‡ì„ ë§Œë“¤ê³  ìˆëŠ”ì§€ ì‚´í´ë´…ì‹œë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_6.png\" /\u003e\n\nì €í¬ëŠ” ì´ì „ ê¸€ì—ì„œ Amazon Bedrock Knowledge Basesì— ëŒ€í•´ ë‹¤ë¤˜ì—ˆëŠ”ë°, í•´ë‹¹ ê¸€ì€ ì—¬ê¸°ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”:\n\nìœ„ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”:\n\n- ê³ ê°ì´ ìì‹ ì˜ í”„ë¡¬í”„íŠ¸ë¡œ Lambda í•¨ìˆ˜ URLì„ íƒ­í•©ë‹ˆë‹¤.\n- ì´ëŠ” ì¿¼ë¦¬ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©°, ì´ í•¨ìˆ˜ëŠ” ë‹¤ì‹œ Amazon Bedrock ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.\n- ì—ì´ì „íŠ¸ëŠ” íŠ¹ì • íšŒì‚¬ ë°ì´í„°ë¥¼ ì‚¬ìš©í•œ ë°°í¬ëœ Knowledge Baseì™€ S3 ë²„í‚·ì— ìˆëŠ” OpenAPI ì‚¬ì–µì„ ê¸°ë°˜ìœ¼ë¡œ í•œ Lambda í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³ ê°ì˜ ì‘ì—…ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ë‚´ë¶€ ì‹œìŠ¤í…œì— ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤ (ì—¬ëŸ¬ í˜¸ì¶œì„ ìš°ë¦¬ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì¡°ì •í•  ê²ƒì…ë‹ˆë‹¤).\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì´ì œ ê³ ìˆ˜ì¤€ ì•„í‚¤í…ì²˜ë¥¼ ë…¼ì˜í–ˆìœ¼ë‹ˆ, ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì˜ˆì‹œ ìƒí˜¸ì‘ìš©ì„ ì‚´í´ë´…ì‹œë‹¤.\n\n# ìƒí˜¸ì‘ìš©ì´ ì–´ë–»ê²Œ ë³´ì¼ê¹Œìš”? â›³\n\nì•„ë˜ ì˜ˆì‹œ ìƒí˜¸ì‘ìš©ì„ ì‚´í´ë³´ë©´ ê³ ê°ì´ ì—ì´ì „íŠ¸ì™€ ì±„íŒ…í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤, ì´ëŠ” ì‹¤ì œ í”„ë¡¬í”„íŠ¸ì™€ ì¶œë ¥ê°’ì„ ì‚¬ìš©í•˜ì—¬ ìš°ë¦¬ì˜ ì˜ˆì‹œ ì†”ë£¨ì…˜ì„ í†µí•´ ì‹¤í–‰ëœ ê²ƒì…ë‹ˆë‹¤:\n\nCustomer: â€œHi, what special deals do you have on at the moment for hotels?â€\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—ì´ì „íŠ¸: \"í˜„ì¬ ì´ìš© ê°€ëŠ¥í•œ í˜¸í…” íŠ¹ë³„ í• ì¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: - ì›”ìš”ì¼ ìŠ¤í…Œì´ì¼€ì´ì…˜ íŠ¹ê°€: ê°ì‹¤ ìš”ê¸ˆ 20% í• ì¸ (ì›”ìš”ì¼ë§Œ) - ê¸‰í–‰ íˆ¬ìˆ™ íŠ¹ê°€: ë‹¹ì¼ ì˜ˆì•½ ì‹œ 15% í• ì¸ (í™”ìš”ì¼ë§Œ) - ì—°ë°• í• ì¸: 3ë°• ìˆ™ë°• 20% í• ì¸ (ìˆ˜ìš”ì¼ë§Œ) - ìŠ¤ìœ„íŠ¸ ì—…ê·¸ë ˆì´ë“œ: ìµìŠ¤íí‹°ë¸Œ ìŠ¤ìœ„íŠ¸ ë¬´ë£Œ ì—…ê·¸ë ˆì´ë“œ (ëª©ìš”ì¼ë§Œ) - ì£¼ë§ ì—¬í–‰ íŒ¨í‚¤ì§€: 2ë°• ìˆ™ë°• 10% í• ì¸ (ê¸ˆìš”ì¼ë§Œ)\"\n\nê³ ê°: \"2024ë…„ 02ì›” 25ì¼ì— í˜¸í…” ê°ì‹¤ì„ ì˜ˆì•½í•˜ê³  ì‹¶ì–´ìš”, í˜„ì¬ ë¬´ì—‡ì´ ê°€ëŠ¥í•œê°€ìš”?\"\n\nì—ì´ì „íŠ¸: \"2024ë…„ 02ì›” 25ì¼ ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: - 101í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $100): í€¸ ì‚¬ì´ì¦ˆ ì¹¨ëŒ€ê°€ ìˆëŠ” ì•„ëŠ‘í•œ í‘œì¤€ ê°ì‹¤ - 102í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $100): ë‘ ê°œì˜ ë”ë¸” ì¹¨ëŒ€ê°€ ìˆëŠ” ë„“ì€ í‘œì¤€ ê°ì‹¤ - 103í˜¸ ê°ì‹¤(ë””ëŸ­ìŠ¤, $150): í‚¹ ì‚¬ì´ì¦ˆ ì¹¨ëŒ€ì™€ ì „ë§ì´ ìˆëŠ” í˜¸í™”ë¡œìš´ ë””ëŸ­ìŠ¤ ê°ì‹¤ - 104í˜¸ ê°ì‹¤(ìŠ¤ìœ„íŠ¸, $200): ë³„ë„ì˜ ê±°ì‹¤ ê³µê°„ê³¼ ì¹¨ì‹¤ì´ ìˆëŠ” ìš°ì•„í•œ ìŠ¤ìœ„íŠ¸ - 105í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $90): ..ìƒëµ..\"\n\nê³ ê°: \"2024ë…„ 02ì›” 25ì¼ì— ë””ëŸ­ìŠ¤ ê°ì‹¤ì„ $160ì— ì˜ˆì•½í•  ìˆ˜ ìˆë‚˜ìš”?\"\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—ì´ì „íŠ¸: \"2024ë…„ 2ì›” 25ì¼ì— 109í˜¸ ê°ì‹¤ì„ ì˜ˆì•½í•´ë“œë ¸ìŠµë‹ˆë‹¤. ì´ ê°ì‹¤ì€ ëª…í’ˆ ìš•ì‹¤ì´ ìˆëŠ” ë””ëŸ­ìŠ¤ ê°ì‹¤ì´ë©°, 160ë‹¬ëŸ¬ì…ë‹ˆë‹¤. í•„ìš”í•œ ê²ƒì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì•Œë ¤ì£¼ì„¸ìš”!\"\n\nê³ ê°: \"ì–´ë–¤ ìŠ¤íŒŒ ì‹œìˆ ì´ ê°€ëŠ¥í•œê°€ìš”?\"\n\nì—ì´ì „íŠ¸: \"ì˜¤ëŠ˜ ê°€ëŠ¥í•œ ìŠ¤íŒŒ ì‹œìˆ  ëª©ë¡ì…ë‹ˆë‹¤: â€” ìŠ¤ì›¨ë””ì‹œ ë§ˆì‚¬ì§€: ê¸´ì¥ì„ ì™„í™”í•˜ê³  ì´ì™„ì„ ì´‰ì§„í•˜ëŠ” ì „ì‹  ë§ˆì‚¬ì§€. ê°€ê²©: 80ë‹¬ëŸ¬ â€” í˜ì´ì…œ: í”¼ë¶€ë¥¼ ì¬ìƒí•˜ê³  í™œê¸°ë¥¼ ë˜ì°¾ëŠ” ê¹Šì€ í´ë Œì§• í˜ì´ì…œ. ê°€ê²©: 70ë‹¬ëŸ¬ â€” í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€: ê°€ì—´ëœ ëŒì„ ì‚¬ìš©í•œ ì¹˜ë£Œì ì¸ ë§ˆì‚¬ì§€ë¡œ ê·¼ìœ¡ì„ ì§„ì •ì‹œí‚¤ê³  í˜ˆë¥˜ë¥¼ í–¥ìƒì‹œí‚µë‹ˆë‹¤. ê°€ê²©: 90ë‹¬ëŸ¬ â€” ì•„ë¡œë§ˆí…Œë¼í”¼: ì•„ë¡œë§ˆ í–¥ê¸°ë¡œ í¸ì•ˆí•¨ê³¼ ì›°ë¹™ì„ ë†’ì´ëŠ” ì„¬ì„¸í•œ ë§ˆì‚¬ì§€. ê°€ê²©: 85ë‹¬ëŸ¬ â€” â€¦.'ê°„ëµíˆ í•˜ê¸° ìœ„í•´ ë‚˜ë¨¸ì§€ ì œê±°ë¨'\"\n\nê³ ê°: \"í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ ì˜ˆì•½í•  ìˆ˜ ìˆë‚˜ìš”?\"\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nAgent: \"ë„¤, ì˜¤ëŠ˜ ë‹¹ì‹ ì„ ìœ„í•´ í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ ì˜ˆì•½í–ˆì–´ìš”. ì´ ì¹˜ë£Œ ë§ˆì‚¬ì§€ëŠ” ê°€ì—´ëœ ëŒì„ ì‚¬ìš©í•˜ì—¬ ê·¼ìœ¡ì„ ì§„ì •ì‹œí‚¤ê³  í˜ˆì•¡ ìˆœí™˜ì´ í–¥ìƒë©ë‹ˆë‹¤. ë¹„ìš©ì€ $90ì´ì—ìš”. ë” í•„ìš”í•œ ê²Œ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ë§í•´ì£¼ì„¸ìš”!\"\n\nCustomer: \"ê³¨í”„ì˜ ì˜ì—… ì‹œê°„ì€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?\"\n\nAgent: \"LJ ë¦¬ì¡°íŠ¸ì˜ ê³¨í”„ ì˜ì—… ì‹œê°„ì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”: ì›”ìš”ì¼ë¶€í„° ê¸ˆìš”ì¼ê¹Œì§€: ì˜¤ì „ 9ì‹œ â€” ì˜¤í›„ 6ì‹œ í† ìš”ì¼ ë° ì¼ìš”ì¼: ì˜¤ì „ 7ì‹œ â€” ì˜¤í›„ 7ì‹œ\"\n\nCustomer: \"í•´ë‹¹ ë‚ ì—ë„ ì•„ì¹¨ì—ëŠ” ê³¨í”„ ì„¸ì…˜ë„ ìˆë‚˜ìš”?\"\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—ì´ì „íŠ¸: \"ì˜¤ëŠ˜ ê°€ëŠ¥í•œ ê³¨í”„ ì„¸ì…˜ì„ í™•ì¸í•´ë³´ë‹ˆ ì•„ì¹¨ ì„¸ì…˜ í•˜ë‚˜ê°€ ìˆë„¤ìš”: ì•„ì¹¨ í‹° íƒ€ì„: ì•„ì¹¨ì— ë©‹ì§„ ì „ë§ê³¼ í•¨ê»˜ ê³¨í”„ë¥¼ ì¦ê¸°ì„¸ìš”. ë¹„ìš©: $80 ì´ ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ ì˜ˆì•½í•´ ë“œë¦´ê¹Œìš”?\"\n\nê³ ê°: \"ì œê°€ $80ì— ê·¸ ë‚  ê³¨í”„ ì„¸ì…˜ì„ ì˜ˆì•½í•  ìˆ˜ ìˆì„ê¹Œìš”?\"\n\nì—ì´ì „íŠ¸: \"ë„¤, $80ì— ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ ì˜¤ëŠ˜ ì˜ˆì•½í•´ ë“œë ¸ìŠµë‹ˆë‹¤. ì´ ì„¸ì…˜ì—ì„œëŠ” ì•„ì¹¨ì— ë©‹ì§„ ê²½ì¹˜ë¥¼ ê°ìƒí•˜ë©° ê³¨í”„ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”. ë” í•„ìš”í•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ë§í•´ ì£¼ì„¸ìš”!\"\n\nê³ ê°: \"ì œ ì˜ˆì•½ì˜ ì´ ë¹„ìš©ì´ ì–¼ë§ˆì¸ê°€ìš”?\"\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì—ì´ì „íŠ¸: \"ëŒ€í™” ê¸°ë¡ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©´, í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ 90ë‹¬ëŸ¬ì— ì˜ˆì•½í•˜ì…¨ê³ , ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ 80ë‹¬ëŸ¬ì— ì˜ˆì•½í•˜ì…¨ìŠµë‹ˆë‹¤. ì˜ˆì•½ ì´ ë¹„ìš©ì€ 90ë‹¬ëŸ¬ + 80ë‹¬ëŸ¬ = 170ë‹¬ëŸ¬ì…ë‹ˆë‹¤.\"\n\nì´ê²ƒì€ ë² ë“œë½ ì—ì´ì „íŠ¸ê°€ ì–¼ë§ˆë‚˜ ê°•ë ¥í•œì§€ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ê²ƒì€ ì‚¬ëŒì´ ì—¬ëŸ¬ ì‹œìŠ¤í…œì— ì•¡ì„¸ìŠ¤í•´ ê³ ê°ê³¼ ì§ì ‘ ëŒ€ë©´í•´ì•¼ í•˜ëŠ” ì‘ì—…ì„ ëŒ€ì²´í•œ ê²ƒì…ë‹ˆë‹¤. ì¸ê³µì§€ëŠ¥ì´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì´ì œ ê³ ê°ê³¼ ì—ì´ì „íŠ¸ ê°„ì— ë°œìƒí•  ìˆ˜ìˆëŠ” ìƒí˜¸ ì‘ìš©ì„ ì‚´í´ ë³´ì•˜ìœ¼ë‹ˆ, ì£¼ìš” ì½”ë“œë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.\n\n# ì£¼ìš” ì½”ë“œ ì„¤ëª…í•˜ê¸° ğŸ‘¨â€ğŸ’»\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì•Œê² ì–´ìš”, ìš°ë¦¬ëŠ” ì´ ê¸°ë³¸ ì˜ˆì œë¥¼ ì‹¤ì œë¡œ ë³¸ ê²ƒì´ê³ , ì´ì œ TypeScript ë° CDK ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì „ì²´ ì†”ë£¨ì…˜ì€ ì—¬ê¸°ì—ì„œ ì°¾ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n## Stateful Stack\n\në¨¼ì € ìƒíƒœ ìœ ì§€ ìŠ¤íƒë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤. ì—¬ê¸°ì„œ ë¨¼ì € ì—ì´ì „íŠ¸ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\n\n```js\n// create the lambda for the agent - this is the lambda that determines\n// what the prompt looks like with regards to mapping to the schema\nconst actionGroupAgentLambda: nodeLambda.NodejsFunction = new nodeLambda.NodejsFunction(this, \"AgentLambda\", {\n  functionName: \"action-group-executor\",\n  runtime: lambda.Runtime.NODEJS_20_X,\n  entry: path.join(__dirname, \"./src/adapters/primary/action-group-executor/action-group-executor.adapter.ts\"),\n  memorySize: 1024,\n  handler: \"handler\",\n  timeout: cdk.Duration.minutes(5),\n  description: \"action group lambda function\",\n  architecture: lambda.Architecture.ARM_64,\n  tracing: lambda.Tracing.ACTIVE,\n  bundling: {\n    minify: true,\n  },\n  environment: {\n    ...lambdaConfig,\n  },\n});\n```\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¤ìŒì€ ì•„ë˜ì— í‘œì‹œëœëŒ€ë¡œ ìš°ë¦¬ì˜ Amazon Bedrock ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\n\n```js\n// bedrock ì—ì´ì „íŠ¸ ìƒì„±\nconst agent = new bedrock.Agent(this, \"BedrockAgent\", {\n  name: \"ì—ì´ì „íŠ¸\",\n  description: \"í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ì„ ìœ„í•œ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.\",\n  foundationModel: bedrock.BedrockFoundationModel.ANTHROPIC_CLAUDE_V2,\n  instruction:\n    \"ê³ ê°ì´ í˜¸í…” ê°ì‹¤, ìŠ¤íŒŒ ì„¸ì…˜ ë° ê³¨í”„ ì˜ˆì•½ì„ ë„ì™€ì£¼ì…”ì„œ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ê·¸ë“¤ì—ê²Œ ìš”ì¼ ë° ì˜ˆì•½ ìœ í˜•ì— ë”°ë¼ íŠ¹ë³„ ì œê³µìƒí’ˆì— ëŒ€í•´ ì•Œë ¤ì£¼ì‹œê³ , ì˜ˆì•½ì„ ì™„ë£Œí•˜ê¸° ì „ì— ì˜¤í”ˆ ì‹œê°„ì´ë‚˜ ê°€ê²©ì„ ì•ˆë‚´í•´ì£¼ì‹œê³ , ë˜í•œ í˜¸í…” ì •ì±…ì„ ê³ ë ¤í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\",\n  idleSessionTTL: cdk.Duration.minutes(10),\n  knowledgeBases: [kb],\n  shouldPrepareAgent: true,\n  aliasName: \"ì—ì´ì „íŠ¸\",\n});\n```\n\nìœ„ì˜ ì½”ë“œì—ì„œ ë³´ë“¯ì´, ì—ì´ì „íŠ¸ì—ê²Œ ì„¸ì…˜ ì§€ì† ì‹œê°„, Amazon Bedrock ì§€ì‹ ë² ì´ìŠ¤ì— ëŒ€í•œ ë§í¬, FM ìœ í˜•(Claud V2) ë° ì´ ì—ì´ì „íŠ¸ê°€ ìˆ˜í–‰í•´ì•¼ í•  ì‘ì—…ì— ëŒ€í•œ ì§€ì‹œ ì‚¬í•­ê³¼ ê°™ì€ ì£¼ìš” ì†ì„±ë“¤ì„ ì§€ì •í•©ë‹ˆë‹¤.\n\në‹¤ìŒìœ¼ë¡œ, ì•„ë˜ì™€ ê°™ì´ Action ê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n// ì˜ˆì•½ì„ ìœ„í•œ ë™ì‘ ê·¸ë£¹ì„ ì¶”ê°€í•©ë‹ˆë‹¤.\nnew bedrock.AgentActionGroup(this, \"AgentActionGroup\", {\n  actionGroupName: \"agent-action-group\",\n  description: \"ì˜ˆì•½ì„ ìœ„í•œ ë™ì‘ ê·¸ë£¹\",\n  agent: agent,\n  apiSchema: bedrock.S3ApiSchema.fromAsset(path.join(__dirname, \"./schema/api-schema.json\")),\n  actionGroupState: \"ENABLED\",\n  actionGroupExecutor: actionGroupAgentLambda,\n  shouldPrepareAgent: true,\n});\n```\n\nìš°ë¦¬ëŠ” ì—ì´ì „íŠ¸ê°€ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ìƒì„¸íˆ ì„¤ëª…í•˜ëŠ” Open API ìŠ¤í‚¤ë§ˆì™€ ë™ì‘ì— ëŒ€í•œ í”„ë¡ì‹œë¡œ í˜¸ì¶œë˜ëŠ” ëŒë‹¤ í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ Open API ì‚¬ì–‘ì´ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n```js\n{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"title\": \"LJ ë¦¬ì¡°íŠ¸ë¥¼ ìœ„í•œ í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ API\",\n    \"version\": \"1.0.0\",\n    \"description\": \"ê³ ê°ì˜ í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ APIì…ë‹ˆë‹¤.\"\n  },\n  \"paths\": {\n    \"/rooms\": {\n      \"get\": {\n        \"summary\": \"ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\",\n        \"description\": \"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\",\n        \"operationId\": \"getAllAvailableRooms\",\n        \"responses\": {\n          \"200\": {\n            \"description\": \"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"roomId\": {\n                        \"type\": \"string\",\n                        \"description\": \"ê°ì‹¤ì˜ ê³ ìœ  IDì…ë‹ˆë‹¤.\"\n                      },\n                      \"roomType\": {\n                        \"type\": \"string\",\n                        \"description\": \"ê°ì‹¤ ìœ í˜•ì…ë‹ˆë‹¤.\"\n                      },\n                      \"roomDescription\": {\n                        \"type\": \"string\",\n                        \"description\": \"ê°ì‹¤ ì„¤ëª…ì…ë‹ˆë‹¤.\"\n                      },\n                      \"date\": {\n                        \"type\": \"string\",\n                        \"description\": \"ê°ì‹¤ ì˜ˆì•½ ê°€ëŠ¥í•œ ë‚ ì§œì…ë‹ˆë‹¤.\"\n                      },\n                      \"cost\": {\n                        \"type\": \"string\",\n                        \"description\": \"ê°ì‹¤ ë¹„ìš©(1ë°•ë‹¹)ì…ë‹ˆë‹¤.\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      \"post\": {\n        \"summary\": \"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ì„ ì˜ˆì•½í•©ë‹ˆë‹¤\",\n        \"description\": \"íŠ¹ì • ë‚ ì§œì— ê°ì‹¤ì„ ì˜ˆì•½í•©ë‹ˆë‹¤\",\n        \"operationId\": \"bookRoom\",\n        \"requestBody\": {\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"roomId\": {\n                    \"type\": \"string\",\n                    \"description\": \"ì˜ˆì•½í•  ê°ì‹¤ì˜ IDì…ë‹ˆë‹¤\"\n                  },\n                  \"date\": {\n                    \"type\": \"string\",\n                    \"description\": \"ê°ì‹¤ ì˜ˆì•½ ë‚ ì§œì…ë‹ˆë‹¤\"\n                  }\n                },\n                \"required\": [\"roomId\", \"date\"]\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"ê°ì‹¤ ì˜ˆì•½ ì„±ê³µ\"\n          }\n        }\n      }\n    },\n    \"/spa-sessions\": {\n      ...\n    },\n    \"/golf-sessions\": {\n      ...\n    }\n  }\n}\n```\n\nëª¨ë¸ì´ ìˆ˜í–‰í•´ì•¼ í•  ì‘ì—…ì„ ê²°ì •í•˜ëŠ” ì¤‘ìš”í•œ ë¶€ë¶„ì€ ì„¤ëª…, ê²½ë¡œ, ë©”ì„œë“œ ë° ì‘ì—… IDì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëª¨ë“  í˜¸í…” ê°ì‹¤ì„ ë‚˜ì—´í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n**Description** - \"íŠ¹ì • ë‚ ì§œì— ëŒ€í•œ ëª¨ë“  ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\".\n**OperationId** - \"getAllAvailableRooms\".\n**Path** - â€˜/roomsâ€™.\n**Method** - â€˜GETâ€™.\n\nìš°ë¦¬ì˜ ëŒë‹¤ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ í•´ë‹¹ ì„¸ë¶€ ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ í˜¸ì¶œí•´ì•¼ í•˜ëŠ” ë‹¤ë¥¸ ì‹œìŠ¤í…œì„ ê²°ì •í•©ë‹ˆë‹¤:\n\n```js\nimport { MetricUnits, Metrics, logMetrics } from \"@aws-lambda-powertools/metrics\";\nimport { Tracer, captureLambdaHandler } from \"@aws-lambda-powertools/tracer\";\nimport { golfSessions, rooms, spaTreatments } from \"stateful/src/data\";\n\nimport { injectLambdaContext } from \"@aws-lambda-powertools/logger\";\nimport middy from \"@middy/core\";\nimport { logger } from \"@shared/index\";\n\nconst tracer = new Tracer();\nconst metrics = new Metrics();\n\nexport const adapter = async ({\n  inputText,\n  apiPath,\n  httpMethod,\n  actionGroup,\n  messageVersion,\n  requestBody,\n  sessionAttributes,\n  promptSessionAttributes,\n}: Event): Promise\u003cResponse\u003e =\u003e {\n  let body;\n  let httpStatusCode = 200;\n\n  try {\n    logger.info(`inputText: ${inputText}, apiPath: ${apiPath}, httpMethod: ${httpMethod}`);\n\n    // ì°¸ê³ : ì‹¤ì œë¡œëŠ” ëŒë‹¤ FURLS ë˜ëŠ” ë‹¤ë¥¸ DB ë˜ëŠ” API/ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•  ê²ƒì´ì§€ë§Œ,\n    // ì‘ë™ ë°©ì‹ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ê¸°ì‚¬ìš© ê°€ì§œ ìŠ¤í… ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n    switch (apiPath) {\n      case \"/rooms\":\n        if (httpMethod === \"GET\") {\n          body = rooms;\n        } else if (httpMethod === \"POST\") {\n          body = rooms.find((room) =\u003e room.roomId === \"109\");\n        }\n        break;\n\n      case \"/spa-sessions\":\n        if (httpMethod === \"GET\") {\n          body = spaTreatments;\n        } else if (httpMethod === \"POST\") {\n          body = spaTreatments.find((treatment) =\u003e treatment.treatmentId === \"3\");\n        }\n        break;\n\n      case \"/golf-sessions\":\n        if (httpMethod === \"GET\") {\n          body = golfSessions;\n        } else if (httpMethod === \"POST\") {\n          body = golfSessions.find((session) =\u003e session.sessionId === \"1\");\n        }\n        break;\n\n      default:\n        httpStatusCode = 500;\n        body = \"Sorry, I am unable to help you with that. Please try asking the question in a different way perhaps.\";\n        break;\n    }\n\n    metrics.addMetric(\"SuccessfulActionGroupQuery\", MetricUnits.Count, 1);\n\n    return {\n      messageVersion,\n      response: {\n        apiPath,\n        actionGroup,\n        httpMethod,\n        httpStatusCode,\n        sessionAttributes,\n        promptSessionAttributes,\n        responseBody: {\n          \"application-json\": {\n            body: JSON.stringify(body),\n          },\n        },\n      },\n    };\n  } catch (error) {\n    let errorMessage = \"Unknown error\";\n    if (error instanceof Error) errorMessage = error.message;\n    logger.error(errorMessage);\n\n    metrics.addMetric(\"ActionGroupQueryError\", MetricUnits.Count, 1);\n\n    throw error;\n  }\n};\n\nexport const handler = middy(adapter)\n  .use(injectLambdaContext(logger))\n  .use(captureLambdaHandler(tracer))\n  .use(logMetrics(metrics));\n```\n\nìœ„ì˜ ì˜ˆì œì—ì„œëŠ” ë‹¤ë¥¸ ì‹œìŠ¤í…œì„ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  ë°˜í™˜ëœ ë°ì´í„°ë¥¼ ê°„ë‹¨íˆ í•˜ë“œì½”ë”©í–ˆìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒ](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_7.png)\n\nì´ì œ ìš°ë¦¬ ì—ì´ì „íŠ¸ë¥¼ ì¿¼ë¦¬í•˜ëŠ” ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\n\n## ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒ\n\në¨¼ì € ìŠ¤íŠ¸ë¦¬ë°ì´ ì„¤ì •ëœ ì¿¼ë¦¬ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\n// ì—ì´ì „íŠ¸ ì¿¼ë¦¬ë¥¼ ìœ„í•œ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nconst queryModelLambda: nodeLambda.NodejsFunction = new nodeLambda.NodejsFunction(this, \"QueryModelLambda\", {\n  functionName: \"query-model-lambda\",\n  runtime: lambda.Runtime.NODEJS_20_X,\n  entry: path.join(__dirname, \"./src/adapters/primary/query-model/query-model.adapter.ts\"),\n  memorySize: 1024,\n  handler: \"handler\",\n  timeout: cdk.Duration.minutes(3),\n  description: \"ì¿¼ë¦¬ ëª¨ë¸ ëŒë‹¤ í•¨ìˆ˜\",\n  architecture: lambda.Architecture.ARM_64,\n  tracing: lambda.Tracing.ACTIVE,\n  bundling: {\n    minify: true,\n  },\n  environment: {\n    AGENT_ID: agentId,\n    AGENT_ALIAS_ID: agentAliasId,\n    ...lambdaConfig,\n  },\n});\n\n// ì¿¼ë¦¬ ëŒë‹¤ì— ëŒ€í•œ í•¨ìˆ˜ URLì„ ìŠ¤íŠ¸ë¦¼ ì‘ë‹µìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.\nconst queryModelLambdaUrl = queryModelLambda.addFunctionUrl({\n  authType: lambda.FunctionUrlAuthType.NONE,\n  invokeMode: lambda.InvokeMode.RESPONSE_STREAM,\n  cors: {\n    allowedOrigins: [\"*\"],\n  },\n});\n```\n\nê·¸ëŸ° ë‹¤ìŒ, ì•„ë˜ì™€ ê°™ì´ ì—ì´ì „íŠ¸ í˜¸ì¶œ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤:\n\n```js\n// ì¿¼ë¦¬ ëŒë‹¤ í•¨ìˆ˜ê°€ ëª¨ë¸/KB/ì—ì´ì „íŠ¸ë¥¼ ì¿¼ë¦¬í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.\nqueryModelLambda.addToRolePolicy(\n  new iam.PolicyStatement({\n    actions: [\"bedrock:RetrieveAndGenerate\", \"bedrock:Retrieve\", \"bedrock:InvokeModel\", \"bedrock:InvokeAgent\"],\n    resources: [\"*\"],\n  })\n);\n```\n\nì´ì œ ì‚¬ìš©ìê°€ í•¨ìˆ˜ URLì„ í†µí•´ í”„ë¡¬í”„íŠ¸ë¥¼ ì œê³µí•˜ê³  ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ëŠ” Query Lambda í•¨ìˆ˜ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nimport { MetricUnits, Metrics } from \"@aws-lambda-powertools/metrics\";\nimport {\n  BedrockAgentRuntimeClient,\n  InvokeAgentCommand,\n  InvokeAgentRequest,\n  InvokeAgentResponse,\n} from \"@aws-sdk/client-bedrock-agent-runtime\";\nimport { ResponseStream, streamifyResponse } from \"lambda-stream\";\n\nimport { config } from \"@config\";\nimport { ValidationError } from \"@errors/validation-error\";\nimport { logger } from \"@shared/index\";\nimport { APIGatewayProxyEventV2 } from \"aws-lambda\";\n\nconst metrics = new Metrics();\nconst client = new BedrockAgentRuntimeClient();\n\nconst agentId = config.get(\"agentId\");\nconst agentAliasId = config.get(\"agentAliasId\");\n\nfunction parseBase64(message: Uint8Array): string {\n  return Buffer.from(message).toString(\"utf-8\");\n}\n\nexport const queryModelAdapter = async (\n  { body }: APIGatewayProxyEventV2,\n  responseStream: ResponseStream\n): Promise\u003cvoid\u003e =\u003e {\n  try {\n    responseStream.setContentType(\"application/json\");\n\n    if (!body) throw new ValidationError(\"no payload body\");\n    const request = JSON.parse(body);\n\n    const { sessionAttributes, promptSessionAttributes, sessionId, prompt } = request;\n\n    const input: InvokeAgentRequest = {\n      sessionState: {\n        sessionAttributes,\n        promptSessionAttributes,\n      },\n      agentId,\n      agentAliasId,\n      sessionId,\n      inputText: prompt,\n    };\n\n    const command: InvokeAgentCommand = new InvokeAgentCommand(input);\n    const response: InvokeAgentResponse = await client.send(command);\n\n    const chunks = [];\n    const completion = response.completion || [];\n\n    for await (const chunk of completion) {\n      if (chunk.chunk \u0026\u0026 chunk.chunk.bytes) {\n        const parsed = parseBase64(chunk.chunk.bytes);\n\n        chunks.push(parsed);\n      }\n    }\n\n    const returnMessage = {\n      sessionId: response.sessionId,\n      contentType: response.contentType,\n      message: chunks.join(\" \"),\n    };\n\n    metrics.addMetric(\"SuccessfulQueryModel\", MetricUnits.Count, 1);\n\n    // Note: In the example we are not streaming, we are using the FURL request timeout feature\n    // but we could easily write the stream during the for loop if we wanted to\n    responseStream.write(returnMessage);\n    responseStream.end();\n  } catch (error) {\n    let errorMessage = \"Unknown error\";\n    if (error instanceof Error) errorMessage = error.message;\n    logger.error(errorMessage);\n\n    metrics.addMetric(\"QueryModelError\", MetricUnits.Count, 1);\n\n    responseStream.end();\n    throw error;\n  }\n  responseStream.end();\n};\n\nexport const handler = streamifyResponse(queryModelAdapter);\n```\n\nìœ„ì˜ ì½”ë“œì—ì„œëŠ” ì—ì´ì „íŠ¸ë¡œë¶€í„° ë°˜í™˜ëœ ì‘ë‹µì„ 'chunks'ë¡œ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ì†¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì˜ˆì œì—ì„œëŠ” ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ì§€ ì•Šê³  ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ JSON ê°ì²´ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì´ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ê² ìŠµë‹ˆë‹¤!\n\n# ì–´í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸ ğŸ§ª\n\n## Postmanì„ í†µí•œ í…ŒìŠ¤íŠ¸í•˜ê¸°\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në‹¹ì‹ ì€ postman/Bedrock Agents.postman_collection.json íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ìì‹ ì˜ Lambda í•¨ìˆ˜ URL ì •ë³´ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤ìŒê³¼ ê°™ì€ ì˜ˆì‹œ JSON í˜ì´ë¡œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n```js\n{\n  \"agentId\": \"agentId\",\n  \"agentAliasId\": \"agentAliasId\",\n  \"sessionId\": \"1f6aa00e-e585-49aa-aa2d-16adb64857c6\",\n  \"prompt\": \"Can I please book a morning golf session on 2024-02-25\"\n}\n```\n\nê·¸ë¦¬ê³  ìš°ë¦¬ì˜ ì—ì´ì „íŠ¸ê°€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ë‹µí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nìš°ë¦¬ ì—ì´ì „íŠ¸ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì‘ì—…ì„ ì¡°ì •í–ˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ë¡œ ê·¸ë‚  ì´ìš©í•  ìˆ˜ ìˆëŠ” ê³¨í”„ ì„¸ì…˜ì„ í™•ì¸í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\n\nì—ì´ì „íŠ¸ëŠ” ë¨¼ì € '/golf-sessions/'ì— 'GET'ì„ ì‹¤í–‰í•´ì•¼ í•œë‹¤ê³  ê²°ì •í–ˆëŠ”ë°, ì´ë ‡ê²Œ í•˜ë©´ ê·¸ ë‚  ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê³¨í”„ ì„¸ì…˜ì´ ë°˜í™˜ë©ë‹ˆë‹¤.\n\nê·¸ëŸ° ë‹¤ìŒ ì˜ˆì•½ì„ í•˜ê¸° ìœ„í•´ '/golf-sessions/'ì— ë‘ ë²ˆì§¸ ì‘ì—… 'POST'ë¥¼ ì—°ì´ì–´ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.\n\nì—¬ê¸°ì„œ ëŒ€í™”í˜• AIì˜ í˜ê³¼ ììœ¨ ì—ì´ì „íŠ¸ì˜ ì—­í• ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³ ê°ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê°€ì§€ ì‘ì—…ì„ ì¡°í•©í–ˆìŠµë‹ˆë‹¤.\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![ì´ë¯¸ì§€](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_8.png)\n\nì§€ê¸ˆì€ ë‹¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œë„ ì´ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ë©´ ê±°ë˜ í™•ì¸, ìŠ¤íŒŒ ì„¸ì…˜ ì˜ˆì•½ ë“±ë“±! ëŒ“ê¸€ì—ì„œ ì†”ë£¨ì…˜ì„ ì–´ë–»ê²Œ ì°¾ì•˜ëŠ”ì§€ ì•Œë ¤ì£¼ì„¸ìš”!\n\n# ë§ˆë¬´ë¦¬ ì¸ì‚¬ ğŸ‘‹ğŸ½\n\nì´ ê¸€ì„ ì¦ê²¨ ì½ì–´ì£¼ì…¨ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ë§Œì•½ ì¦ê²ê²Œ ì½ì—ˆë‹¤ë©´ ê³µìœ í•˜ê³  í”¼ë“œë°± ì£¼ì„¸ìš”!\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\në¹„ìŠ·í•œ ì½˜í…ì¸ ë¥¼ ìœ„í•´ ë‚´ YouTube ì±„ë„ì„ êµ¬ë…í•´ì£¼ì„¸ìš”!\n\n![Automating tasks using Amazon Bedrock Agents and AI](/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_9.png)\n\nì•„ë˜ì˜ ë§í¬ë¥¼ í†µí•´ ì—°ë½í•˜ê³  ì‹¶ì–´ìš”:\n\n[LinkedIn - Lee James Gilmore](https://www.linkedin.com/in/lee-james-gilmore/)\n[Twitter - Lee James Gilmore](https://twitter.com/LeeJamesGilmore)\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nê²Œì‹œë¬¼ì„ ì¦ê²ê²Œ ë³´ì…¨ë‹¤ë©´ ë” ë§ì€ ê²Œì‹œë¬¼/ì‹œë¦¬ì¦ˆë¥¼ ë³´ë ¤ë©´ ë‚´ í”„ë¡œí•„ Lee James Gilmoreë¥¼ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”! ë˜í•œ ì¸ì‚¬ë¥¼ ê±´ë„¤ê³  Hië¥¼ ë§í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš” ğŸ‘‹\n\nê²Œì‹œë¬¼ í•˜ë‹¨ì˜ 'ë°•ìˆ˜' ê¸°ëŠ¥ë„ ì‚¬ìš©í•´ë³´ì„¸ìš”. ë§Œì•½ ê²Œì‹œë¬¼ì„ ì¦ê²¼ë‹¤ë©´ 'ë°•ìˆ˜'ë¥¼ ë˜ í´ë¦­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!!\n\n# ìê¸°ì†Œê°œ\n\n\"ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ì˜êµ­ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”, ë¸”ë¡œê±°, AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸ì´ì ê¸°ìˆ  ë° ì•„í‚¤í…ì²˜ ë¶€ë¬¸ ê¸€ë¡œë²Œ íŒ€ì¥ Leeì…ë‹ˆë‹¤. í˜„ì¬ëŠ” City Electrical Factors(UK) \u0026 City Electric Supply(US)ì—ì„œ ê·¼ë¬´ ì¤‘ì´ë©°, ì§€ë‚œ 6ë…„ ë™ì•ˆ ì£¼ë¡œ AWS ìƒì—ì„œ full-stack JavaScriptë¡œ ì‘ì—…í•´ ì™”ìŠµë‹ˆë‹¤.\"\n\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\nì €ëŠ” AWSë¥¼ ì‚¬ë‘í•˜ëŠ” ì„œë²„ë¦¬ìŠ¤ ì„ êµ¬ìë¼ê³  ìƒê°í•´ìš”. í˜ì‹ , ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜, ê·¸ë¦¬ê³  ê¸°ìˆ ì— ëŒ€í•œ ëª¨ë“  ê²ƒì„ ì¢‹ì•„í•´ìš”.\n\n** ì œê³µëœ ì •ë³´ëŠ” ì œ ê°œì¸ì ì¸ ê²¬í•´ì´ë©°, í•´ë‹¹ ì •ë³´ ì‚¬ìš©ì— ëŒ€í•œ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. **\n\nì•„ë˜ ë‚´ìš©ë„ ì°¸ê³ í•´ë³´ì„¸ìš”:\n","ogImage":{"url":"/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_0.png"},"coverImage":"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_0.png","tag":["Tech"],"readingTime":26},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_0.png\"\u003e\n\u003ch2\u003eì„œë¬¸\u003c/h2\u003e\n\u003cp\u003eğŸ‘ Amazon Bedrock Agentsê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³¼ ê±°ì—ìš”.\nğŸ‘ AWS ì•„í‚¤í…ì²˜ë¥¼ ìì„¸íˆ ì‚´í´ë³¼ ê±°ì—ìš”.\nğŸ‘ TypeScript ë° AWS CDK ì½”ë“œë¥¼ ì‚´í´ë³¼ ê±°ì—ìš”.\nğŸ‘ ì‘ë™ ë°©ì‹ì„ ë³´ê¸° ìœ„í•´ ëª‡ ê°€ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ ë³¼ ê±°ì—ìš”.\u003c/p\u003e\n\u003ch1\u003eì†Œê°œ ğŸ‘‹ğŸ½\u003c/h1\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eAmazon Bedrock Agentsì€ ë‹¹ì‹ ì´ íšŒì‚¬ ë‚´ì—ì„œ ìŠ¤ìŠ¤ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ììœ¨ ì—ì´ì „íŠ¸ë¥¼ êµ¬ì¶•í•˜ê³  ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ì´ëŸ¬í•œ ì—ì´ì „íŠ¸ëŠ” ê¸°ê´€ ë°ì´í„°ì™€ ì‚¬ìš©ì ì…ë ¥ì„ í™œìš©í•˜ì—¬ ëŒ€í™”í˜• ì±„íŒ…ê³¼ AIë¥¼ ì´ìš©í•´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ìµœì¢… ì‚¬ìš©ìê°€ ì‘ì—…ì„ ì™„ë£Œí•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ë“¤ì€ ê¸°ë³¸ ëª¨ë¸, ë°ì´í„° ì†ŒìŠ¤, ì§€ì‹ë² ì´ìŠ¤, ì†Œí”„íŠ¸ì›¨ì–´ ì‘ìš© í”„ë¡œê·¸ë¨ ë° ì‚¬ìš©ì ëŒ€í™” ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ ê´€ë¦¬í•˜ëŠ” ì¡°ì •ì ì—­í• ì„ í•©ë‹ˆë‹¤. ì¶”ê°€ë¡œ, ì´ë“¤ì€ API í˜¸ì¶œì„ ìë™í™”í•˜ì—¬ ì¡°ì¹˜ë¥¼ ìˆ˜í–‰í•˜ê³  ì´ëŸ¬í•œ ì¡°ì¹˜ì™€ ê´€ë ¨ëœ ì •ë³´ë¥¼ í’ë¶€í•˜ê²Œ í•˜ëŠ” ì§€ì‹ ë² ì´ìŠ¤ì— ì ‘ê·¼í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_1.png\" alt=\"Automating tasks using Amazon Bedrock Agents and AI\"\u003e\u003c/p\u003e\n\u003cp\u003eë³¸ ë¬¸ì„œì—ì„œëŠ” ê°€ìƒì˜ í˜¸í…” ë° ìŠ¤íŒŒ íšŒì‚¬ì¸ LJ Resortsë¥¼ ë‹¤ë£¨ì–´ AWS êµ¬ì¡°ì™€ ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ìš°ë¦¬ì˜ ê³ ê°ì€ ë‹¹ì‚¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ í˜¸í…” ìˆ™ë°•, ê³¨í”„ ì„¸ì…˜ ë° ìŠ¤íŒŒ ì¹˜ë£Œë¥¼ í•œêº¼ë²ˆì— ì˜ˆì•½í•˜ê±°ë‚˜ ì´ìš© ê°€ëŠ¥í•œ ì¹˜ë£Œ ë° í• ì¸, ì˜ì—… ì‹œê°„ê³¼ ê°™ì€ íšŒì‚¬ ì •ë³´ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_2.png\" alt=\"Image 1\"\u003e\u003c/p\u003e\n\u003cp\u003eThe full code repository can be found here:\u003c/p\u003e\n\u003cp\u003eğŸ‘‡ Before we go any further â€” please connect with me on LinkedIn for future blog posts and Serverless news \u003ca href=\"https://www.linkedin.com/in/lee-james-gilmore/\" rel=\"nofollow\" target=\"_blank\"\u003eLee James Gilmore\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_3.png\" alt=\"Image 2\"\u003e\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003eì•„ë§ˆì¡´ ë² ë“œë½ ì—ì´ì „íŠ¸ë€ ë¬´ì—‡ì¸ê°€ìš”? ğŸ¤–\u003c/h1\u003e\n\u003cp\u003eì´ì œ ì•„ë§ˆì¡´ ë² ë“œë½ ì—ì´ì „íŠ¸ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³´ê² ìŠµë‹ˆë‹¤. ì–´ë–¤ ì¼ì„ í•˜ëŠ”ì§€ ì•Œì•„ë³´ë©´ì„œ ì‹œì‘í•´ë´…ì‹œë‹¤. ë¨¼ì € ì¤‘ìš”í•œ ì•½ì–´ ëª‡ ê°€ì§€ë¥¼ ì´í•´í•´ ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003ch2\u003eì•½ì–´\u003c/h2\u003e\n\u003cp\u003eì‹œì‘í•˜ê¸° ì „ì— ì•½ì–´ ëª‡ ê°€ì§€ì™€ ê·¸ ì˜ë¯¸ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eâœ”ï¸ FM - ê¸°ë³¸ ëª¨ë¸\u003c/p\u003e\n\u003cp\u003eâœ”ï¸ ì•¡ì…˜ ê·¸ë£¹\u003c/p\u003e\n\u003cp\u003eâœ”ï¸ ì§€ì¹¨\u003c/p\u003e\n\u003cp\u003eğŸ¤– \"ê³ ê°ì´ í˜¸í…” ê°ì‹¤, ìŠ¤íŒŒ ì„¸ì…˜, ê·¸ë¦¬ê³  ê³¨í”„ ì˜ˆì•½ì„ ë„ì™€ì£¼ì‹œê³ , í•´ë‹¹í•˜ëŠ” ë‚ ì§œì™€ ì˜ˆì•½ ìœ í˜•ì— ë”°ë¼ íŠ¹ë³„ í˜œíƒì„ ì œê³µí•´ ì£¼ì„¸ìš”. ì˜ˆì•½ì„ ì™„ë£Œí•˜ê¸° ì „ì— ì˜¤í”„ë‹ íƒ€ì„ì´ë‚˜ ê°€ê²©ì— ëŒ€í•´ ê³ ê°ì—ê²Œ ì•ˆë‚´í•˜ê³ , í˜¸í…” ì •ì±…ì„ ê³ ë ¤í•´ ì£¼ì„¸ìš”.\"\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_4.png\" alt=\"Automating tasks using Amazon Bedrock Agents and AI\"\u003e\u003c/p\u003e\n\u003ch2\u003eAmazon Bedrock ì—ì´ì „íŠ¸ëŠ” ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”? ğŸ¤–\u003c/h2\u003e\n\u003cp\u003eì•„ë˜ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ìš°ë¦¬ëŠ” ê³ ê°ì˜ ì…ë ¥ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤. ì´ ì…ë ¥ì€ í”„ë¡¬í”„íŠ¸ ìŠ¤í† ì–´ë¡œ ì¦ê°€ë˜ì–´ ì„¸ì…˜ ìŠ¤í† ì–´ì—ì„œ ê°€ì ¸ì˜¨ ì´ì „ ëŒ€í™” ë‚´ìš©ê³¼ í•¨ê»˜ ë°”íƒ• ëª¨ë¸ì„ í˜¸ì¶œí•˜ì—¬ ë³´ê°•ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒìœ¼ë¡œ Orchestration promptëŠ” ì‘ë‹µì„ êµ¬ë¬¸ ë¶„ì„í•˜ê³  ìš°ë¦¬ì˜ OpenAPI ì‚¬ì–‘ ë¬¸ì„œì— ì •ì˜ëœ ì‘ì—…ì— ë”°ë¼ ì•¡ì…˜ ê·¸ë£¹ ëŒë‹¤ë¥¼ í˜¸ì¶œí•˜ë©° Bedrock Knowledge Baseì—ì„œ í•„ìš”í•œ ì¶”ê°€ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. Orchestrationì´ ì™„ë£Œë˜ë©´ ê²°ê³¼ê°€ ê³ ê°ì—ê²Œ ë°˜í™˜ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_5.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ë³¸ë¬¸ì—ì„œ ë¬´ì—‡ì„ êµ¬ì¶• ì¤‘ì¸ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì½”ë“œë¥¼ ì‚´í´ë³´ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë°°í¬í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eë¬´ì—‡ì„ ë§Œë“¤ê³  ìˆì„ê¹Œìš”? ğŸ› ï¸\u003c/h1\u003e\n\u003cp\u003eê·¸ë˜, ì´ì œ Amazon Bedrockì™€ í•¨ê»˜ ì—ì´ì „íŠ¸ì— ëŒ€í•´ ê¹Šì´ íŒŒê³ ë“¤ì—ˆìœ¼ë©° ì´ë¡ ì ìœ¼ë¡œ ì‘ë™ ë°©ì‹ì„ ì´í•´í–ˆìœ¼ë‹ˆ, ì´ì œ ì´ ê¸€ì—ì„œ ë¬´ì—‡ì„ ë§Œë“¤ê³  ìˆëŠ”ì§€ ì‚´í´ë´…ì‹œë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_6.png\"\u003e\n\u003cp\u003eì €í¬ëŠ” ì´ì „ ê¸€ì—ì„œ Amazon Bedrock Knowledge Basesì— ëŒ€í•´ ë‹¤ë¤˜ì—ˆëŠ”ë°, í•´ë‹¹ ê¸€ì€ ì—¬ê¸°ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´ìš”:\u003c/p\u003e\n\u003cp\u003eìœ„ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eê³ ê°ì´ ìì‹ ì˜ í”„ë¡¬í”„íŠ¸ë¡œ Lambda í•¨ìˆ˜ URLì„ íƒ­í•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì´ëŠ” ì¿¼ë¦¬ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©°, ì´ í•¨ìˆ˜ëŠ” ë‹¤ì‹œ Amazon Bedrock ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.\u003c/li\u003e\n\u003cli\u003eì—ì´ì „íŠ¸ëŠ” íŠ¹ì • íšŒì‚¬ ë°ì´í„°ë¥¼ ì‚¬ìš©í•œ ë°°í¬ëœ Knowledge Baseì™€ S3 ë²„í‚·ì— ìˆëŠ” OpenAPI ì‚¬ì–µì„ ê¸°ë°˜ìœ¼ë¡œ í•œ Lambda í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³ ê°ì˜ ì‘ì—…ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ë‚´ë¶€ ì‹œìŠ¤í…œì— ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤ (ì—¬ëŸ¬ í˜¸ì¶œì„ ìš°ë¦¬ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì¡°ì •í•  ê²ƒì…ë‹ˆë‹¤).\u003c/li\u003e\n\u003c/ul\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì´ì œ ê³ ìˆ˜ì¤€ ì•„í‚¤í…ì²˜ë¥¼ ë…¼ì˜í–ˆìœ¼ë‹ˆ, ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì˜ˆì‹œ ìƒí˜¸ì‘ìš©ì„ ì‚´í´ë´…ì‹œë‹¤.\u003c/p\u003e\n\u003ch1\u003eìƒí˜¸ì‘ìš©ì´ ì–´ë–»ê²Œ ë³´ì¼ê¹Œìš”? â›³\u003c/h1\u003e\n\u003cp\u003eì•„ë˜ ì˜ˆì‹œ ìƒí˜¸ì‘ìš©ì„ ì‚´í´ë³´ë©´ ê³ ê°ì´ ì—ì´ì „íŠ¸ì™€ ì±„íŒ…í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤, ì´ëŠ” ì‹¤ì œ í”„ë¡¬í”„íŠ¸ì™€ ì¶œë ¥ê°’ì„ ì‚¬ìš©í•˜ì—¬ ìš°ë¦¬ì˜ ì˜ˆì‹œ ì†”ë£¨ì…˜ì„ í†µí•´ ì‹¤í–‰ëœ ê²ƒì…ë‹ˆë‹¤:\u003c/p\u003e\n\u003cp\u003eCustomer: â€œHi, what special deals do you have on at the moment for hotels?â€\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì—ì´ì „íŠ¸: \"í˜„ì¬ ì´ìš© ê°€ëŠ¥í•œ í˜¸í…” íŠ¹ë³„ í• ì¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: - ì›”ìš”ì¼ ìŠ¤í…Œì´ì¼€ì´ì…˜ íŠ¹ê°€: ê°ì‹¤ ìš”ê¸ˆ 20% í• ì¸ (ì›”ìš”ì¼ë§Œ) - ê¸‰í–‰ íˆ¬ìˆ™ íŠ¹ê°€: ë‹¹ì¼ ì˜ˆì•½ ì‹œ 15% í• ì¸ (í™”ìš”ì¼ë§Œ) - ì—°ë°• í• ì¸: 3ë°• ìˆ™ë°• 20% í• ì¸ (ìˆ˜ìš”ì¼ë§Œ) - ìŠ¤ìœ„íŠ¸ ì—…ê·¸ë ˆì´ë“œ: ìµìŠ¤íí‹°ë¸Œ ìŠ¤ìœ„íŠ¸ ë¬´ë£Œ ì—…ê·¸ë ˆì´ë“œ (ëª©ìš”ì¼ë§Œ) - ì£¼ë§ ì—¬í–‰ íŒ¨í‚¤ì§€: 2ë°• ìˆ™ë°• 10% í• ì¸ (ê¸ˆìš”ì¼ë§Œ)\"\u003c/p\u003e\n\u003cp\u003eê³ ê°: \"2024ë…„ 02ì›” 25ì¼ì— í˜¸í…” ê°ì‹¤ì„ ì˜ˆì•½í•˜ê³  ì‹¶ì–´ìš”, í˜„ì¬ ë¬´ì—‡ì´ ê°€ëŠ¥í•œê°€ìš”?\"\u003c/p\u003e\n\u003cp\u003eì—ì´ì „íŠ¸: \"2024ë…„ 02ì›” 25ì¼ ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: - 101í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $100): í€¸ ì‚¬ì´ì¦ˆ ì¹¨ëŒ€ê°€ ìˆëŠ” ì•„ëŠ‘í•œ í‘œì¤€ ê°ì‹¤ - 102í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $100): ë‘ ê°œì˜ ë”ë¸” ì¹¨ëŒ€ê°€ ìˆëŠ” ë„“ì€ í‘œì¤€ ê°ì‹¤ - 103í˜¸ ê°ì‹¤(ë””ëŸ­ìŠ¤, $150): í‚¹ ì‚¬ì´ì¦ˆ ì¹¨ëŒ€ì™€ ì „ë§ì´ ìˆëŠ” í˜¸í™”ë¡œìš´ ë””ëŸ­ìŠ¤ ê°ì‹¤ - 104í˜¸ ê°ì‹¤(ìŠ¤ìœ„íŠ¸, $200): ë³„ë„ì˜ ê±°ì‹¤ ê³µê°„ê³¼ ì¹¨ì‹¤ì´ ìˆëŠ” ìš°ì•„í•œ ìŠ¤ìœ„íŠ¸ - 105í˜¸ ê°ì‹¤(ìŠ¤íƒ ë‹¤ë“œ, $90): ..ìƒëµ..\"\u003c/p\u003e\n\u003cp\u003eê³ ê°: \"2024ë…„ 02ì›” 25ì¼ì— ë””ëŸ­ìŠ¤ ê°ì‹¤ì„ $160ì— ì˜ˆì•½í•  ìˆ˜ ìˆë‚˜ìš”?\"\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì—ì´ì „íŠ¸: \"2024ë…„ 2ì›” 25ì¼ì— 109í˜¸ ê°ì‹¤ì„ ì˜ˆì•½í•´ë“œë ¸ìŠµë‹ˆë‹¤. ì´ ê°ì‹¤ì€ ëª…í’ˆ ìš•ì‹¤ì´ ìˆëŠ” ë””ëŸ­ìŠ¤ ê°ì‹¤ì´ë©°, 160ë‹¬ëŸ¬ì…ë‹ˆë‹¤. í•„ìš”í•œ ê²ƒì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì•Œë ¤ì£¼ì„¸ìš”!\"\u003c/p\u003e\n\u003cp\u003eê³ ê°: \"ì–´ë–¤ ìŠ¤íŒŒ ì‹œìˆ ì´ ê°€ëŠ¥í•œê°€ìš”?\"\u003c/p\u003e\n\u003cp\u003eì—ì´ì „íŠ¸: \"ì˜¤ëŠ˜ ê°€ëŠ¥í•œ ìŠ¤íŒŒ ì‹œìˆ  ëª©ë¡ì…ë‹ˆë‹¤: â€” ìŠ¤ì›¨ë””ì‹œ ë§ˆì‚¬ì§€: ê¸´ì¥ì„ ì™„í™”í•˜ê³  ì´ì™„ì„ ì´‰ì§„í•˜ëŠ” ì „ì‹  ë§ˆì‚¬ì§€. ê°€ê²©: 80ë‹¬ëŸ¬ â€” í˜ì´ì…œ: í”¼ë¶€ë¥¼ ì¬ìƒí•˜ê³  í™œê¸°ë¥¼ ë˜ì°¾ëŠ” ê¹Šì€ í´ë Œì§• í˜ì´ì…œ. ê°€ê²©: 70ë‹¬ëŸ¬ â€” í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€: ê°€ì—´ëœ ëŒì„ ì‚¬ìš©í•œ ì¹˜ë£Œì ì¸ ë§ˆì‚¬ì§€ë¡œ ê·¼ìœ¡ì„ ì§„ì •ì‹œí‚¤ê³  í˜ˆë¥˜ë¥¼ í–¥ìƒì‹œí‚µë‹ˆë‹¤. ê°€ê²©: 90ë‹¬ëŸ¬ â€” ì•„ë¡œë§ˆí…Œë¼í”¼: ì•„ë¡œë§ˆ í–¥ê¸°ë¡œ í¸ì•ˆí•¨ê³¼ ì›°ë¹™ì„ ë†’ì´ëŠ” ì„¬ì„¸í•œ ë§ˆì‚¬ì§€. ê°€ê²©: 85ë‹¬ëŸ¬ â€” â€¦.'ê°„ëµíˆ í•˜ê¸° ìœ„í•´ ë‚˜ë¨¸ì§€ ì œê±°ë¨'\"\u003c/p\u003e\n\u003cp\u003eê³ ê°: \"í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ ì˜ˆì•½í•  ìˆ˜ ìˆë‚˜ìš”?\"\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eAgent: \"ë„¤, ì˜¤ëŠ˜ ë‹¹ì‹ ì„ ìœ„í•´ í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ ì˜ˆì•½í–ˆì–´ìš”. ì´ ì¹˜ë£Œ ë§ˆì‚¬ì§€ëŠ” ê°€ì—´ëœ ëŒì„ ì‚¬ìš©í•˜ì—¬ ê·¼ìœ¡ì„ ì§„ì •ì‹œí‚¤ê³  í˜ˆì•¡ ìˆœí™˜ì´ í–¥ìƒë©ë‹ˆë‹¤. ë¹„ìš©ì€ $90ì´ì—ìš”. ë” í•„ìš”í•œ ê²Œ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ë§í•´ì£¼ì„¸ìš”!\"\u003c/p\u003e\n\u003cp\u003eCustomer: \"ê³¨í”„ì˜ ì˜ì—… ì‹œê°„ì€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?\"\u003c/p\u003e\n\u003cp\u003eAgent: \"LJ ë¦¬ì¡°íŠ¸ì˜ ê³¨í”„ ì˜ì—… ì‹œê°„ì€ ë‹¤ìŒê³¼ ê°™ì•„ìš”: ì›”ìš”ì¼ë¶€í„° ê¸ˆìš”ì¼ê¹Œì§€: ì˜¤ì „ 9ì‹œ â€” ì˜¤í›„ 6ì‹œ í† ìš”ì¼ ë° ì¼ìš”ì¼: ì˜¤ì „ 7ì‹œ â€” ì˜¤í›„ 7ì‹œ\"\u003c/p\u003e\n\u003cp\u003eCustomer: \"í•´ë‹¹ ë‚ ì—ë„ ì•„ì¹¨ì—ëŠ” ê³¨í”„ ì„¸ì…˜ë„ ìˆë‚˜ìš”?\"\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì—ì´ì „íŠ¸: \"ì˜¤ëŠ˜ ê°€ëŠ¥í•œ ê³¨í”„ ì„¸ì…˜ì„ í™•ì¸í•´ë³´ë‹ˆ ì•„ì¹¨ ì„¸ì…˜ í•˜ë‚˜ê°€ ìˆë„¤ìš”: ì•„ì¹¨ í‹° íƒ€ì„: ì•„ì¹¨ì— ë©‹ì§„ ì „ë§ê³¼ í•¨ê»˜ ê³¨í”„ë¥¼ ì¦ê¸°ì„¸ìš”. ë¹„ìš©: $80 ì´ ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ ì˜ˆì•½í•´ ë“œë¦´ê¹Œìš”?\"\u003c/p\u003e\n\u003cp\u003eê³ ê°: \"ì œê°€ $80ì— ê·¸ ë‚  ê³¨í”„ ì„¸ì…˜ì„ ì˜ˆì•½í•  ìˆ˜ ìˆì„ê¹Œìš”?\"\u003c/p\u003e\n\u003cp\u003eì—ì´ì „íŠ¸: \"ë„¤, $80ì— ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ ì˜¤ëŠ˜ ì˜ˆì•½í•´ ë“œë ¸ìŠµë‹ˆë‹¤. ì´ ì„¸ì…˜ì—ì„œëŠ” ì•„ì¹¨ì— ë©‹ì§„ ê²½ì¹˜ë¥¼ ê°ìƒí•˜ë©° ê³¨í”„ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”. ë” í•„ìš”í•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ë§í•´ ì£¼ì„¸ìš”!\"\u003c/p\u003e\n\u003cp\u003eê³ ê°: \"ì œ ì˜ˆì•½ì˜ ì´ ë¹„ìš©ì´ ì–¼ë§ˆì¸ê°€ìš”?\"\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì—ì´ì „íŠ¸: \"ëŒ€í™” ê¸°ë¡ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©´, í•« ìŠ¤í†¤ ë§ˆì‚¬ì§€ë¥¼ 90ë‹¬ëŸ¬ì— ì˜ˆì•½í•˜ì…¨ê³ , ì•„ì¹¨ ê³¨í”„ ì„¸ì…˜ì„ 80ë‹¬ëŸ¬ì— ì˜ˆì•½í•˜ì…¨ìŠµë‹ˆë‹¤. ì˜ˆì•½ ì´ ë¹„ìš©ì€ 90ë‹¬ëŸ¬ + 80ë‹¬ëŸ¬ = 170ë‹¬ëŸ¬ì…ë‹ˆë‹¤.\"\u003c/p\u003e\n\u003cp\u003eì´ê²ƒì€ ë² ë“œë½ ì—ì´ì „íŠ¸ê°€ ì–¼ë§ˆë‚˜ ê°•ë ¥í•œì§€ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ê²ƒì€ ì‚¬ëŒì´ ì—¬ëŸ¬ ì‹œìŠ¤í…œì— ì•¡ì„¸ìŠ¤í•´ ê³ ê°ê³¼ ì§ì ‘ ëŒ€ë©´í•´ì•¼ í•˜ëŠ” ì‘ì—…ì„ ëŒ€ì²´í•œ ê²ƒì…ë‹ˆë‹¤. ì¸ê³µì§€ëŠ¥ì´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì´ì œ ê³ ê°ê³¼ ì—ì´ì „íŠ¸ ê°„ì— ë°œìƒí•  ìˆ˜ìˆëŠ” ìƒí˜¸ ì‘ìš©ì„ ì‚´í´ ë³´ì•˜ìœ¼ë‹ˆ, ì£¼ìš” ì½”ë“œë¥¼ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch1\u003eì£¼ìš” ì½”ë“œ ì„¤ëª…í•˜ê¸° ğŸ‘¨â€ğŸ’»\u003c/h1\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì•Œê² ì–´ìš”, ìš°ë¦¬ëŠ” ì´ ê¸°ë³¸ ì˜ˆì œë¥¼ ì‹¤ì œë¡œ ë³¸ ê²ƒì´ê³ , ì´ì œ TypeScript ë° CDK ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì „ì²´ ì†”ë£¨ì…˜ì€ ì—¬ê¸°ì—ì„œ ì°¾ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eStateful Stack\u003c/h2\u003e\n\u003cp\u003eë¨¼ì € ìƒíƒœ ìœ ì§€ ìŠ¤íƒë¶€í„° ì‹œì‘í•´ë´…ì‹œë‹¤. ì—¬ê¸°ì„œ ë¨¼ì € ì—ì´ì „íŠ¸ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// create the lambda for the agent - this is the lambda that determines\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// what the prompt looks like with regards to mapping to the schema\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eactionGroupAgentLambda\u003c/span\u003e: nodeLambda.\u003cspan class=\"hljs-property\"\u003eNodejsFunction\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e nodeLambda.\u003cspan class=\"hljs-title class_\"\u003eNodejsFunction\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"AgentLambda\"\u003c/span\u003e, {\n  \u003cspan class=\"hljs-attr\"\u003efunctionName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"action-group-executor\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eruntime\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eRuntime\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNODEJS_20_X\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eentry\u003c/span\u003e: path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e\"./src/adapters/primary/action-group-executor/action-group-executor.adapter.ts\"\u003c/span\u003e),\n  \u003cspan class=\"hljs-attr\"\u003ememorySize\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1024\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"handler\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etimeout\u003c/span\u003e: cdk.\u003cspan class=\"hljs-property\"\u003eDuration\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eminutes\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e),\n  \u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"action group lambda function\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003earchitecture\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eArchitecture\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eARM_64\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etracing\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eTracing\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eACTIVE\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ebundling\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eminify\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  },\n  \u003cspan class=\"hljs-attr\"\u003eenvironment\u003c/span\u003e: {\n    ...lambdaConfig,\n  },\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë‹¤ìŒì€ ì•„ë˜ì— í‘œì‹œëœëŒ€ë¡œ ìš°ë¦¬ì˜ Amazon Bedrock ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// bedrock ì—ì´ì „íŠ¸ ìƒì„±\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e agent = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e bedrock.\u003cspan class=\"hljs-title class_\"\u003eAgent\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"BedrockAgent\"\u003c/span\u003e, {\n  \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì—ì´ì „íŠ¸\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ì„ ìœ„í•œ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003efoundationModel\u003c/span\u003e: bedrock.\u003cspan class=\"hljs-property\"\u003eBedrockFoundationModel\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eANTHROPIC_CLAUDE_V2\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003einstruction\u003c/span\u003e:\n    \u003cspan class=\"hljs-string\"\u003e\"ê³ ê°ì´ í˜¸í…” ê°ì‹¤, ìŠ¤íŒŒ ì„¸ì…˜ ë° ê³¨í”„ ì˜ˆì•½ì„ ë„ì™€ì£¼ì…”ì„œ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ê·¸ë“¤ì—ê²Œ ìš”ì¼ ë° ì˜ˆì•½ ìœ í˜•ì— ë”°ë¼ íŠ¹ë³„ ì œê³µìƒí’ˆì— ëŒ€í•´ ì•Œë ¤ì£¼ì‹œê³ , ì˜ˆì•½ì„ ì™„ë£Œí•˜ê¸° ì „ì— ì˜¤í”ˆ ì‹œê°„ì´ë‚˜ ê°€ê²©ì„ ì•ˆë‚´í•´ì£¼ì‹œê³ , ë˜í•œ í˜¸í…” ì •ì±…ì„ ê³ ë ¤í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eidleSessionTTL\u003c/span\u003e: cdk.\u003cspan class=\"hljs-property\"\u003eDuration\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eminutes\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e),\n  \u003cspan class=\"hljs-attr\"\u003eknowledgeBases\u003c/span\u003e: [kb],\n  \u003cspan class=\"hljs-attr\"\u003eshouldPrepareAgent\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ealiasName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì—ì´ì „íŠ¸\"\u003c/span\u003e,\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì˜ ì½”ë“œì—ì„œ ë³´ë“¯ì´, ì—ì´ì „íŠ¸ì—ê²Œ ì„¸ì…˜ ì§€ì† ì‹œê°„, Amazon Bedrock ì§€ì‹ ë² ì´ìŠ¤ì— ëŒ€í•œ ë§í¬, FM ìœ í˜•(Claud V2) ë° ì´ ì—ì´ì „íŠ¸ê°€ ìˆ˜í–‰í•´ì•¼ í•  ì‘ì—…ì— ëŒ€í•œ ì§€ì‹œ ì‚¬í•­ê³¼ ê°™ì€ ì£¼ìš” ì†ì„±ë“¤ì„ ì§€ì •í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒìœ¼ë¡œ, ì•„ë˜ì™€ ê°™ì´ Action ê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// ì˜ˆì•½ì„ ìœ„í•œ ë™ì‘ ê·¸ë£¹ì„ ì¶”ê°€í•©ë‹ˆë‹¤.\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e bedrock.\u003cspan class=\"hljs-title class_\"\u003eAgentActionGroup\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"AgentActionGroup\"\u003c/span\u003e, {\n  \u003cspan class=\"hljs-attr\"\u003eactionGroupName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"agent-action-group\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì˜ˆì•½ì„ ìœ„í•œ ë™ì‘ ê·¸ë£¹\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eagent\u003c/span\u003e: agent,\n  \u003cspan class=\"hljs-attr\"\u003eapiSchema\u003c/span\u003e: bedrock.\u003cspan class=\"hljs-property\"\u003eS3ApiSchema\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efromAsset\u003c/span\u003e(path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e\"./schema/api-schema.json\"\u003c/span\u003e)),\n  \u003cspan class=\"hljs-attr\"\u003eactionGroupState\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ENABLED\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eactionGroupExecutor\u003c/span\u003e: actionGroupAgentLambda,\n  \u003cspan class=\"hljs-attr\"\u003eshouldPrepareAgent\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìš°ë¦¬ëŠ” ì—ì´ì „íŠ¸ê°€ í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ìƒì„¸íˆ ì„¤ëª…í•˜ëŠ” Open API ìŠ¤í‚¤ë§ˆì™€ ë™ì‘ì— ëŒ€í•œ í”„ë¡ì‹œë¡œ í˜¸ì¶œë˜ëŠ” ëŒë‹¤ í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ Open API ì‚¬ì–‘ì´ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"openapi\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"3.0.0\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"info\"\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"LJ ë¦¬ì¡°íŠ¸ë¥¼ ìœ„í•œ í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ API\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"version\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"1.0.0\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê³ ê°ì˜ í˜¸í…”, ìŠ¤íŒŒ ë° ê³¨í”„ ì˜ˆì•½ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ APIì…ë‹ˆë‹¤.\"\u003c/span\u003e\n  },\n  \u003cspan class=\"hljs-string\"\u003e\"paths\"\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"/rooms\"\u003c/span\u003e: {\n      \u003cspan class=\"hljs-string\"\u003e\"get\"\u003c/span\u003e: {\n        \u003cspan class=\"hljs-string\"\u003e\"summary\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"operationId\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"getAllAvailableRooms\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"responses\"\u003c/span\u003e: {\n          \u003cspan class=\"hljs-string\"\u003e\"200\"\u003c/span\u003e: {\n            \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"content\"\u003c/span\u003e: {\n              \u003cspan class=\"hljs-string\"\u003e\"application/json\"\u003c/span\u003e: {\n                \u003cspan class=\"hljs-string\"\u003e\"schema\"\u003c/span\u003e: {\n                  \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"array\"\u003c/span\u003e,\n                  \u003cspan class=\"hljs-string\"\u003e\"items\"\u003c/span\u003e: {\n                    \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"object\"\u003c/span\u003e,\n                    \u003cspan class=\"hljs-string\"\u003e\"properties\"\u003c/span\u003e: {\n                      \u003cspan class=\"hljs-string\"\u003e\"roomId\"\u003c/span\u003e: {\n                        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"string\"\u003c/span\u003e,\n                        \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê°ì‹¤ì˜ ê³ ìœ  IDì…ë‹ˆë‹¤.\"\u003c/span\u003e\n                      },\n                      \u003cspan class=\"hljs-string\"\u003e\"roomType\"\u003c/span\u003e: {\n                        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"string\"\u003c/span\u003e,\n                        \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê°ì‹¤ ìœ í˜•ì…ë‹ˆë‹¤.\"\u003c/span\u003e\n                      },\n                      \u003cspan class=\"hljs-string\"\u003e\"roomDescription\"\u003c/span\u003e: {\n                        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"string\"\u003c/span\u003e,\n                        \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê°ì‹¤ ì„¤ëª…ì…ë‹ˆë‹¤.\"\u003c/span\u003e\n                      },\n                      \u003cspan class=\"hljs-string\"\u003e\"date\"\u003c/span\u003e: {\n                        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"string\"\u003c/span\u003e,\n                        \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê°ì‹¤ ì˜ˆì•½ ê°€ëŠ¥í•œ ë‚ ì§œì…ë‹ˆë‹¤.\"\u003c/span\u003e\n                      },\n                      \u003cspan class=\"hljs-string\"\u003e\"cost\"\u003c/span\u003e: {\n                        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"string\"\u003c/span\u003e,\n                        \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê°ì‹¤ ë¹„ìš©(1ë°•ë‹¹)ì…ë‹ˆë‹¤.\"\u003c/span\u003e\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      \u003cspan class=\"hljs-string\"\u003e\"post\"\u003c/span\u003e: {\n        \u003cspan class=\"hljs-string\"\u003e\"summary\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"íŠ¹ì • ë‚ ì§œì— ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ì„ ì˜ˆì•½í•©ë‹ˆë‹¤\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"íŠ¹ì • ë‚ ì§œì— ê°ì‹¤ì„ ì˜ˆì•½í•©ë‹ˆë‹¤\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"operationId\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"bookRoom\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"requestBody\"\u003c/span\u003e: {\n          \u003cspan class=\"hljs-string\"\u003e\"required\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n          \u003cspan class=\"hljs-string\"\u003e\"content\"\u003c/span\u003e: {\n            \u003cspan class=\"hljs-string\"\u003e\"application/json\"\u003c/span\u003e: {\n              \u003cspan class=\"hljs-string\"\u003e\"schema\"\u003c/span\u003e: {\n                \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"object\"\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"properties\"\u003c/span\u003e: {\n                  \u003cspan class=\"hljs-string\"\u003e\"roomId\"\u003c/span\u003e: {\n                    \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"string\"\u003c/span\u003e,\n                    \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì˜ˆì•½í•  ê°ì‹¤ì˜ IDì…ë‹ˆë‹¤\"\u003c/span\u003e\n                  },\n                  \u003cspan class=\"hljs-string\"\u003e\"date\"\u003c/span\u003e: {\n                    \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"string\"\u003c/span\u003e,\n                    \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê°ì‹¤ ì˜ˆì•½ ë‚ ì§œì…ë‹ˆë‹¤\"\u003c/span\u003e\n                  }\n                },\n                \u003cspan class=\"hljs-string\"\u003e\"required\"\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"roomId\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"date\"\u003c/span\u003e]\n              }\n            }\n          }\n        },\n        \u003cspan class=\"hljs-string\"\u003e\"responses\"\u003c/span\u003e: {\n          \u003cspan class=\"hljs-string\"\u003e\"200\"\u003c/span\u003e: {\n            \u003cspan class=\"hljs-string\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ê°ì‹¤ ì˜ˆì•½ ì„±ê³µ\"\u003c/span\u003e\n          }\n        }\n      }\n    },\n    \u003cspan class=\"hljs-string\"\u003e\"/spa-sessions\"\u003c/span\u003e: {\n      ...\n    },\n    \u003cspan class=\"hljs-string\"\u003e\"/golf-sessions\"\u003c/span\u003e: {\n      ...\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eëª¨ë¸ì´ ìˆ˜í–‰í•´ì•¼ í•  ì‘ì—…ì„ ê²°ì •í•˜ëŠ” ì¤‘ìš”í•œ ë¶€ë¶„ì€ ì„¤ëª…, ê²½ë¡œ, ë©”ì„œë“œ ë° ì‘ì—… IDì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëª¨ë“  í˜¸í…” ê°ì‹¤ì„ ë‚˜ì—´í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cstrong\u003eDescription\u003c/strong\u003e - \"íŠ¹ì • ë‚ ì§œì— ëŒ€í•œ ëª¨ë“  ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤\".\n\u003cstrong\u003eOperationId\u003c/strong\u003e - \"getAllAvailableRooms\".\n\u003cstrong\u003ePath\u003c/strong\u003e - â€˜/roomsâ€™.\n\u003cstrong\u003eMethod\u003c/strong\u003e - â€˜GETâ€™.\u003c/p\u003e\n\u003cp\u003eìš°ë¦¬ì˜ ëŒë‹¤ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ í•´ë‹¹ ì„¸ë¶€ ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ í˜¸ì¶œí•´ì•¼ í•˜ëŠ” ë‹¤ë¥¸ ì‹œìŠ¤í…œì„ ê²°ì •í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eMetricUnits\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMetrics\u003c/span\u003e, logMetrics } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@aws-lambda-powertools/metrics\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eTracer\u003c/span\u003e, captureLambdaHandler } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@aws-lambda-powertools/tracer\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { golfSessions, rooms, spaTreatments } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"stateful/src/data\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { injectLambdaContext } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@aws-lambda-powertools/logger\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e middy \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@middy/core\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { logger } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@shared/index\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e tracer = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTracer\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e metrics = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMetrics\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e adapter = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e ({\n  inputText,\n  apiPath,\n  httpMethod,\n  actionGroup,\n  messageVersion,\n  requestBody,\n  sessionAttributes,\n  promptSessionAttributes,\n}: \u003cspan class=\"hljs-title class_\"\u003eEvent\u003c/span\u003e): \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e\u0026#x3C;\u003cspan class=\"hljs-title class_\"\u003eResponse\u003c/span\u003e\u003e =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e body;\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e httpStatusCode = \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n    logger.\u003cspan class=\"hljs-title function_\"\u003einfo\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e`inputText: \u003cspan class=\"hljs-subst\"\u003e${inputText}\u003c/span\u003e, apiPath: \u003cspan class=\"hljs-subst\"\u003e${apiPath}\u003c/span\u003e, httpMethod: \u003cspan class=\"hljs-subst\"\u003e${httpMethod}\u003c/span\u003e`\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// ì°¸ê³ : ì‹¤ì œë¡œëŠ” ëŒë‹¤ FURLS ë˜ëŠ” ë‹¤ë¥¸ DB ë˜ëŠ” API/ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•  ê²ƒì´ì§€ë§Œ,\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// ì‘ë™ ë°©ì‹ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ê¸°ì‚¬ìš© ê°€ì§œ ìŠ¤í… ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003eswitch\u003c/span\u003e (apiPath) {\n      \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"/rooms\"\u003c/span\u003e:\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (httpMethod === \u003cspan class=\"hljs-string\"\u003e\"GET\"\u003c/span\u003e) {\n          body = rooms;\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (httpMethod === \u003cspan class=\"hljs-string\"\u003e\"POST\"\u003c/span\u003e) {\n          body = rooms.\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eroom\u003c/span\u003e) =\u003e\u003c/span\u003e room.\u003cspan class=\"hljs-property\"\u003eroomId\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\"109\"\u003c/span\u003e);\n        }\n        \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n\n      \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"/spa-sessions\"\u003c/span\u003e:\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (httpMethod === \u003cspan class=\"hljs-string\"\u003e\"GET\"\u003c/span\u003e) {\n          body = spaTreatments;\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (httpMethod === \u003cspan class=\"hljs-string\"\u003e\"POST\"\u003c/span\u003e) {\n          body = spaTreatments.\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003etreatment\u003c/span\u003e) =\u003e\u003c/span\u003e treatment.\u003cspan class=\"hljs-property\"\u003etreatmentId\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\"3\"\u003c/span\u003e);\n        }\n        \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n\n      \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"/golf-sessions\"\u003c/span\u003e:\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (httpMethod === \u003cspan class=\"hljs-string\"\u003e\"GET\"\u003c/span\u003e) {\n          body = golfSessions;\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (httpMethod === \u003cspan class=\"hljs-string\"\u003e\"POST\"\u003c/span\u003e) {\n          body = golfSessions.\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003esession\u003c/span\u003e) =\u003e\u003c/span\u003e session.\u003cspan class=\"hljs-property\"\u003esessionId\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\"1\"\u003c/span\u003e);\n        }\n        \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n\n      \u003cspan class=\"hljs-attr\"\u003edefault\u003c/span\u003e:\n        httpStatusCode = \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e;\n        body = \u003cspan class=\"hljs-string\"\u003e\"Sorry, I am unable to help you with that. Please try asking the question in a different way perhaps.\"\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n    }\n\n    metrics.\u003cspan class=\"hljs-title function_\"\u003eaddMetric\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"SuccessfulActionGroupQuery\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMetricUnits\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eCount\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n      messageVersion,\n      \u003cspan class=\"hljs-attr\"\u003eresponse\u003c/span\u003e: {\n        apiPath,\n        actionGroup,\n        httpMethod,\n        httpStatusCode,\n        sessionAttributes,\n        promptSessionAttributes,\n        \u003cspan class=\"hljs-attr\"\u003eresponseBody\u003c/span\u003e: {\n          \u003cspan class=\"hljs-string\"\u003e\"application-json\"\u003c/span\u003e: {\n            \u003cspan class=\"hljs-attr\"\u003ebody\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e(body),\n          },\n        },\n      },\n    };\n  } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e errorMessage = \u003cspan class=\"hljs-string\"\u003e\"Unknown error\"\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (error \u003cspan class=\"hljs-keyword\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eError\u003c/span\u003e) errorMessage = error.\u003cspan class=\"hljs-property\"\u003emessage\u003c/span\u003e;\n    logger.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(errorMessage);\n\n    metrics.\u003cspan class=\"hljs-title function_\"\u003eaddMetric\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"ActionGroupQueryError\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMetricUnits\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eCount\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e error;\n  }\n};\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e handler = \u003cspan class=\"hljs-title function_\"\u003emiddy\u003c/span\u003e(adapter)\n  .\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003einjectLambdaContext\u003c/span\u003e(logger))\n  .\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003ecaptureLambdaHandler\u003c/span\u003e(tracer))\n  .\u003cspan class=\"hljs-title function_\"\u003euse\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003elogMetrics\u003c/span\u003e(metrics));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì˜ ì˜ˆì œì—ì„œëŠ” ë‹¤ë¥¸ ì‹œìŠ¤í…œì„ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  ë°˜í™˜ëœ ë°ì´í„°ë¥¼ ê°„ë‹¨íˆ í•˜ë“œì½”ë”©í–ˆìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_7.png\" alt=\"ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒ\"\u003e\u003c/p\u003e\n\u003cp\u003eì´ì œ ìš°ë¦¬ ì—ì´ì „íŠ¸ë¥¼ ì¿¼ë¦¬í•˜ëŠ” ìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003ch2\u003eìŠ¤í…Œì´íŠ¸ë¦¬ìŠ¤ ìŠ¤íƒ\u003c/h2\u003e\n\u003cp\u003eë¨¼ì € ìŠ¤íŠ¸ë¦¬ë°ì´ ì„¤ì •ëœ ì¿¼ë¦¬ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// ì—ì´ì „íŠ¸ ì¿¼ë¦¬ë¥¼ ìœ„í•œ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003equeryModelLambda\u003c/span\u003e: nodeLambda.\u003cspan class=\"hljs-property\"\u003eNodejsFunction\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e nodeLambda.\u003cspan class=\"hljs-title class_\"\u003eNodejsFunction\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"QueryModelLambda\"\u003c/span\u003e, {\n  \u003cspan class=\"hljs-attr\"\u003efunctionName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"query-model-lambda\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eruntime\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eRuntime\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNODEJS_20_X\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eentry\u003c/span\u003e: path.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(__dirname, \u003cspan class=\"hljs-string\"\u003e\"./src/adapters/primary/query-model/query-model.adapter.ts\"\u003c/span\u003e),\n  \u003cspan class=\"hljs-attr\"\u003ememorySize\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1024\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ehandler\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"handler\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etimeout\u003c/span\u003e: cdk.\u003cspan class=\"hljs-property\"\u003eDuration\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eminutes\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e),\n  \u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"ì¿¼ë¦¬ ëª¨ë¸ ëŒë‹¤ í•¨ìˆ˜\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003earchitecture\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eArchitecture\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eARM_64\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etracing\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eTracing\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eACTIVE\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ebundling\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eminify\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  },\n  \u003cspan class=\"hljs-attr\"\u003eenvironment\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eAGENT_ID\u003c/span\u003e: agentId,\n    \u003cspan class=\"hljs-attr\"\u003eAGENT_ALIAS_ID\u003c/span\u003e: agentAliasId,\n    ...lambdaConfig,\n  },\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// ì¿¼ë¦¬ ëŒë‹¤ì— ëŒ€í•œ í•¨ìˆ˜ URLì„ ìŠ¤íŠ¸ë¦¼ ì‘ë‹µìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e queryModelLambdaUrl = queryModelLambda.\u003cspan class=\"hljs-title function_\"\u003eaddFunctionUrl\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eauthType\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eFunctionUrlAuthType\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eNONE\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003einvokeMode\u003c/span\u003e: lambda.\u003cspan class=\"hljs-property\"\u003eInvokeMode\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eRESPONSE_STREAM\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003ecors\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eallowedOrigins\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"*\"\u003c/span\u003e],\n  },\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ëŸ° ë‹¤ìŒ, ì•„ë˜ì™€ ê°™ì´ ì—ì´ì „íŠ¸ í˜¸ì¶œ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// ì¿¼ë¦¬ ëŒë‹¤ í•¨ìˆ˜ê°€ ëª¨ë¸/KB/ì—ì´ì „íŠ¸ë¥¼ ì¿¼ë¦¬í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.\u003c/span\u003e\nqueryModelLambda.\u003cspan class=\"hljs-title function_\"\u003eaddToRolePolicy\u003c/span\u003e(\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e iam.\u003cspan class=\"hljs-title class_\"\u003ePolicyStatement\u003c/span\u003e({\n    \u003cspan class=\"hljs-attr\"\u003eactions\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"bedrock:RetrieveAndGenerate\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"bedrock:Retrieve\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"bedrock:InvokeModel\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"bedrock:InvokeAgent\"\u003c/span\u003e],\n    \u003cspan class=\"hljs-attr\"\u003eresources\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e\"*\"\u003c/span\u003e],\n  })\n);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eì´ì œ ì‚¬ìš©ìê°€ í•¨ìˆ˜ URLì„ í†µí•´ í”„ë¡¬í”„íŠ¸ë¥¼ ì œê³µí•˜ê³  ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ëŠ” Query Lambda í•¨ìˆ˜ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eMetricUnits\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMetrics\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@aws-lambda-powertools/metrics\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n  \u003cspan class=\"hljs-title class_\"\u003eBedrockAgentRuntimeClient\u003c/span\u003e,\n  \u003cspan class=\"hljs-title class_\"\u003eInvokeAgentCommand\u003c/span\u003e,\n  \u003cspan class=\"hljs-title class_\"\u003eInvokeAgentRequest\u003c/span\u003e,\n  \u003cspan class=\"hljs-title class_\"\u003eInvokeAgentResponse\u003c/span\u003e,\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@aws-sdk/client-bedrock-agent-runtime\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eResponseStream\u003c/span\u003e, streamifyResponse } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"lambda-stream\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { config } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@config\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eValidationError\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@errors/validation-error\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { logger } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"@shared/index\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eAPIGatewayProxyEventV\u003c/span\u003e2 } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"aws-lambda\"\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e metrics = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMetrics\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e client = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBedrockAgentRuntimeClient\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e agentId = config.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"agentId\"\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e agentAliasId = config.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"agentAliasId\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eparseBase64\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003emessage: \u003cspan class=\"hljs-built_in\"\u003eUint8Array\u003c/span\u003e\u003c/span\u003e): string {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBuffer\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003efrom\u003c/span\u003e(message).\u003cspan class=\"hljs-title function_\"\u003etoString\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"utf-8\"\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e queryModelAdapter = \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (\n  { body }: \u003cspan class=\"hljs-title class_\"\u003eAPIGatewayProxyEventV\u003c/span\u003e2,\n  \u003cspan class=\"hljs-attr\"\u003eresponseStream\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eResponseStream\u003c/span\u003e\n): \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e\u0026#x3C;\u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e\u003e =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n    responseStream.\u003cspan class=\"hljs-title function_\"\u003esetContentType\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"application/json\"\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!body) \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eValidationError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"no payload body\"\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e request = \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(body);\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { sessionAttributes, promptSessionAttributes, sessionId, prompt } = request;\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003einput\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eInvokeAgentRequest\u003c/span\u003e = {\n      \u003cspan class=\"hljs-attr\"\u003esessionState\u003c/span\u003e: {\n        sessionAttributes,\n        promptSessionAttributes,\n      },\n      agentId,\n      agentAliasId,\n      sessionId,\n      \u003cspan class=\"hljs-attr\"\u003einputText\u003c/span\u003e: prompt,\n    };\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ecommand\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eInvokeAgentCommand\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eInvokeAgentCommand\u003c/span\u003e(input);\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eresponse\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eInvokeAgentResponse\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e client.\u003cspan class=\"hljs-title function_\"\u003esend\u003c/span\u003e(command);\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e chunks = [];\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e completion = response.\u003cspan class=\"hljs-property\"\u003ecompletion\u003c/span\u003e || [];\n\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e chunk \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e completion) {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (chunk.\u003cspan class=\"hljs-property\"\u003echunk\u003c/span\u003e \u0026#x26;\u0026#x26; chunk.\u003cspan class=\"hljs-property\"\u003echunk\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebytes\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e parsed = \u003cspan class=\"hljs-title function_\"\u003eparseBase64\u003c/span\u003e(chunk.\u003cspan class=\"hljs-property\"\u003echunk\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebytes\u003c/span\u003e);\n\n        chunks.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e(parsed);\n      }\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e returnMessage = {\n      \u003cspan class=\"hljs-attr\"\u003esessionId\u003c/span\u003e: response.\u003cspan class=\"hljs-property\"\u003esessionId\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003econtentType\u003c/span\u003e: response.\u003cspan class=\"hljs-property\"\u003econtentType\u003c/span\u003e,\n      \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: chunks.\u003cspan class=\"hljs-title function_\"\u003ejoin\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\" \"\u003c/span\u003e),\n    };\n\n    metrics.\u003cspan class=\"hljs-title function_\"\u003eaddMetric\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"SuccessfulQueryModel\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMetricUnits\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eCount\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// Note: In the example we are not streaming, we are using the FURL request timeout feature\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// but we could easily write the stream during the for loop if we wanted to\u003c/span\u003e\n    responseStream.\u003cspan class=\"hljs-title function_\"\u003ewrite\u003c/span\u003e(returnMessage);\n    responseStream.\u003cspan class=\"hljs-title function_\"\u003eend\u003c/span\u003e();\n  } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e errorMessage = \u003cspan class=\"hljs-string\"\u003e\"Unknown error\"\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (error \u003cspan class=\"hljs-keyword\"\u003einstanceof\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eError\u003c/span\u003e) errorMessage = error.\u003cspan class=\"hljs-property\"\u003emessage\u003c/span\u003e;\n    logger.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(errorMessage);\n\n    metrics.\u003cspan class=\"hljs-title function_\"\u003eaddMetric\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"QueryModelError\"\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eMetricUnits\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eCount\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n\n    responseStream.\u003cspan class=\"hljs-title function_\"\u003eend\u003c/span\u003e();\n    \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e error;\n  }\n  responseStream.\u003cspan class=\"hljs-title function_\"\u003eend\u003c/span\u003e();\n};\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e handler = \u003cspan class=\"hljs-title function_\"\u003estreamifyResponse\u003c/span\u003e(queryModelAdapter);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eìœ„ì˜ ì½”ë“œì—ì„œëŠ” ì—ì´ì „íŠ¸ë¡œë¶€í„° ë°˜í™˜ëœ ì‘ë‹µì„ 'chunks'ë¡œ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ì†¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì˜ˆì œì—ì„œëŠ” ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•˜ì§€ ì•Šê³  ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ JSON ê°ì²´ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤. ì´ì œ ë‹¤ìŒ ì„¹ì…˜ì—ì„œ ì´ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ê² ìŠµë‹ˆë‹¤!\u003c/p\u003e\n\u003ch1\u003eì–´í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸ ğŸ§ª\u003c/h1\u003e\n\u003ch2\u003ePostmanì„ í†µí•œ í…ŒìŠ¤íŠ¸í•˜ê¸°\u003c/h2\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë‹¹ì‹ ì€ postman/Bedrock Agents.postman_collection.json íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ìì‹ ì˜ Lambda í•¨ìˆ˜ URL ì •ë³´ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eë‹¤ìŒê³¼ ê°™ì€ ì˜ˆì‹œ JSON í˜ì´ë¡œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n  \u003cspan class=\"hljs-string\"\u003e\"agentId\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"agentId\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"agentAliasId\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"agentAliasId\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"sessionId\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"1f6aa00e-e585-49aa-aa2d-16adb64857c6\"\u003c/span\u003e,\n  \u003cspan class=\"hljs-string\"\u003e\"prompt\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Can I please book a morning golf session on 2024-02-25\"\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eê·¸ë¦¬ê³  ìš°ë¦¬ì˜ ì—ì´ì „íŠ¸ê°€ ë‹¤ìŒê³¼ ê°™ì´ ì‘ë‹µí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eìš°ë¦¬ ì—ì´ì „íŠ¸ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì‘ì—…ì„ ì¡°ì •í–ˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ë¡œ ê·¸ë‚  ì´ìš©í•  ìˆ˜ ìˆëŠ” ê³¨í”„ ì„¸ì…˜ì„ í™•ì¸í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì—ì´ì „íŠ¸ëŠ” ë¨¼ì € '/golf-sessions/'ì— 'GET'ì„ ì‹¤í–‰í•´ì•¼ í•œë‹¤ê³  ê²°ì •í–ˆëŠ”ë°, ì´ë ‡ê²Œ í•˜ë©´ ê·¸ ë‚  ì´ìš© ê°€ëŠ¥í•œ ëª¨ë“  ê³¨í”„ ì„¸ì…˜ì´ ë°˜í™˜ë©ë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eê·¸ëŸ° ë‹¤ìŒ ì˜ˆì•½ì„ í•˜ê¸° ìœ„í•´ '/golf-sessions/'ì— ë‘ ë²ˆì§¸ ì‘ì—… 'POST'ë¥¼ ì—°ì´ì–´ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003cp\u003eì—¬ê¸°ì„œ ëŒ€í™”í˜• AIì˜ í˜ê³¼ ììœ¨ ì—ì´ì „íŠ¸ì˜ ì—­í• ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê³ ê°ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê°€ì§€ ì‘ì—…ì„ ì¡°í•©í–ˆìŠµë‹ˆë‹¤.\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_8.png\" alt=\"ì´ë¯¸ì§€\"\u003e\u003c/p\u003e\n\u003cp\u003eì§€ê¸ˆì€ ë‹¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œë„ ì´ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì–´ìš”. ì˜ˆë¥¼ ë“¤ë©´ ê±°ë˜ í™•ì¸, ìŠ¤íŒŒ ì„¸ì…˜ ì˜ˆì•½ ë“±ë“±! ëŒ“ê¸€ì—ì„œ ì†”ë£¨ì…˜ì„ ì–´ë–»ê²Œ ì°¾ì•˜ëŠ”ì§€ ì•Œë ¤ì£¼ì„¸ìš”!\u003c/p\u003e\n\u003ch1\u003eë§ˆë¬´ë¦¬ ì¸ì‚¬ ğŸ‘‹ğŸ½\u003c/h1\u003e\n\u003cp\u003eì´ ê¸€ì„ ì¦ê²¨ ì½ì–´ì£¼ì…¨ê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ë§Œì•½ ì¦ê²ê²Œ ì½ì—ˆë‹¤ë©´ ê³µìœ í•˜ê³  í”¼ë“œë°± ì£¼ì„¸ìš”!\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eë¹„ìŠ·í•œ ì½˜í…ì¸ ë¥¼ ìœ„í•´ ë‚´ YouTube ì±„ë„ì„ êµ¬ë…í•´ì£¼ì„¸ìš”!\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI_9.png\" alt=\"Automating tasks using Amazon Bedrock Agents and AI\"\u003e\u003c/p\u003e\n\u003cp\u003eì•„ë˜ì˜ ë§í¬ë¥¼ í†µí•´ ì—°ë½í•˜ê³  ì‹¶ì–´ìš”:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.linkedin.com/in/lee-james-gilmore/\" rel=\"nofollow\" target=\"_blank\"\u003eLinkedIn - Lee James Gilmore\u003c/a\u003e\n\u003ca href=\"https://twitter.com/LeeJamesGilmore\" rel=\"nofollow\" target=\"_blank\"\u003eTwitter - Lee James Gilmore\u003c/a\u003e\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eê²Œì‹œë¬¼ì„ ì¦ê²ê²Œ ë³´ì…¨ë‹¤ë©´ ë” ë§ì€ ê²Œì‹œë¬¼/ì‹œë¦¬ì¦ˆë¥¼ ë³´ë ¤ë©´ ë‚´ í”„ë¡œí•„ Lee James Gilmoreë¥¼ íŒ”ë¡œìš°í•´ì£¼ì„¸ìš”! ë˜í•œ ì¸ì‚¬ë¥¼ ê±´ë„¤ê³  Hië¥¼ ë§í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš” ğŸ‘‹\u003c/p\u003e\n\u003cp\u003eê²Œì‹œë¬¼ í•˜ë‹¨ì˜ 'ë°•ìˆ˜' ê¸°ëŠ¥ë„ ì‚¬ìš©í•´ë³´ì„¸ìš”. ë§Œì•½ ê²Œì‹œë¬¼ì„ ì¦ê²¼ë‹¤ë©´ 'ë°•ìˆ˜'ë¥¼ ë˜ í´ë¦­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!!\u003c/p\u003e\n\u003ch1\u003eìê¸°ì†Œê°œ\u003c/h1\u003e\n\u003cp\u003e\"ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ì˜êµ­ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” AWS ì»¤ë®¤ë‹ˆí‹° ë¹Œë”, ë¸”ë¡œê±°, AWS ì¸ì¦ í´ë¼ìš°ë“œ ì•„í‚¤í…íŠ¸ì´ì ê¸°ìˆ  ë° ì•„í‚¤í…ì²˜ ë¶€ë¬¸ ê¸€ë¡œë²Œ íŒ€ì¥ Leeì…ë‹ˆë‹¤. í˜„ì¬ëŠ” City Electrical Factors(UK) \u0026#x26; City Electric Supply(US)ì—ì„œ ê·¼ë¬´ ì¤‘ì´ë©°, ì§€ë‚œ 6ë…„ ë™ì•ˆ ì£¼ë¡œ AWS ìƒì—ì„œ full-stack JavaScriptë¡œ ì‘ì—…í•´ ì™”ìŠµë‹ˆë‹¤.\"\u003c/p\u003e\n\u003c!-- TIL ìˆ˜í‰ --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003eì €ëŠ” AWSë¥¼ ì‚¬ë‘í•˜ëŠ” ì„œë²„ë¦¬ìŠ¤ ì„ êµ¬ìë¼ê³  ìƒê°í•´ìš”. í˜ì‹ , ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜, ê·¸ë¦¬ê³  ê¸°ìˆ ì— ëŒ€í•œ ëª¨ë“  ê²ƒì„ ì¢‹ì•„í•´ìš”.\u003c/p\u003e\n\u003cp\u003e** ì œê³µëœ ì •ë³´ëŠ” ì œ ê°œì¸ì ì¸ ê²¬í•´ì´ë©°, í•´ë‹¹ ì •ë³´ ì‚¬ìš©ì— ëŒ€í•œ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. **\u003c/p\u003e\n\u003cp\u003eì•„ë˜ ë‚´ìš©ë„ ì°¸ê³ í•´ë³´ì„¸ìš”:\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-07-AutomatingtasksusingAmazonBedrockAgentsandAI"},"buildId":"B2TETmJptwqhd4vJNGZoH","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>