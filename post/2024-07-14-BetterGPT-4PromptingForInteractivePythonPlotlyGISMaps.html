<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법 | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법 | TIL" data-gatsby-head="true"/><meta property="og:title" content="상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법 | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps" data-gatsby-head="true"/><meta name="twitter:title" content="상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법 | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-14 19:41" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/0eef537492fed77a.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/0eef537492fed77a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/TIL/_next/static/chunks/348-02483b66b493dd81.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-8ded8b979ba73586.js" defer=""></script><script src="/TIL/_next/static/M7pU9hOcx8u_ZIFMf95sd/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/M7pU9hOcx8u_ZIFMf95sd/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 14, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png" alt="TIL image 0"></p>
<p>인터넷에는 역사적인 난파선 데이터를 포함한 데이터 세트에 대한 멋진 자료가 많이 있습니다.</p>
<p>사용 가능한 데이터 세트에 대한 나의 지식 확장의 일환으로 매주 업데이트를 받는 소스 중 하나로 Data is Plural이 있습니다:</p>
<p><img src="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_1.png" alt="TIL image 1"></p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이 사이트는 흥미로운 데이터 세트에 관한 주간 뉴스레터를 제공합니다.</p>
<p>가장 최근 버전 (2024년 7월 10일)에는 하버드 대학교에서 가져온 고대 바다 난파선에 관한 데이터 세트가 있습니다. 이 데이터 세트에는 기원전 1500년부터 기원후 1500년까지의 기록이 포함되어 있으며 지중해와 북유럽을 중심으로 하고 있습니다. 정말 멋져요!</p>
<p>저는 이 데이터 세트를 GPT-4에 업로드하여 각 포인트 데이터를 지도에 배치하는 Python 코드를 생성할 수 있는지 궁금했습니다.</p>
<p>답변은? 네, 가능합니다. 다만 주의해서 프롬프트를 할 필요가 있습니다. 여기서 저가 거친 단계를 안내해 드리겠습니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>제네릭 GPT-4 프롬프트로 시작하기</h1>
<p>우선, GPT-4가 데이터 세트를 의미있는 방식으로 해석할 수 있는지 확인해보고 싶었습니다. GIS 지도 코드를 생성할 수 있는지 보기 위한 일반적인 프롬프트입니다.</p>
<p>GPT-4에 대한 프롬프트: 첨부된 데이터 세트를 사용하여, 각 난파선을 지도상의 점으로 표시하는 전역 지도의 파이썬 코드를 제공해주세요.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_2.png" alt="image"></p>
<p>이거 그래프네요! 신기하게도 각 포인트들이 정확해요. 아래에 지도 레이어를 넣으면 정확하게 매칭돼요. 그런데, 이건 우리가 원하는 게 아니에요.</p>
<p>첫 번째 제네릭 프롬프가 반 성공했어요. 여기서 더 구체적으로 알아보아야 해요.</p>
<p>GPT-4에게 프롬프트를 보내면: "이건 지도가 아니에요. 각 포인트를 실제 지도에 표시하는 파이썬 코드를 생성해 주세요."</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이번에는 GPT-4가 matplotlib 및 shapely 라이브러리를 사용하여 Python 코드를 생성했습니다. 결과는 다음과 같습니다:</p>
<p><img src="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_3.png" alt="이미지"></p>
<p>이제 지도를 가지고 있지만, 이 지도는 완전히 정적입니다. 확대 및 축소가 불가능하며 상호 작용할 수 없습니다.</p>
<p>또한 각 개별 점을 해석하기가 매우 어렵습니다. 점들이 주로 유럽에 있다는 것을 알 수 있습니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>대화식 매핑을 위한 안내</h1>
<p>더 세부적으로 알아보고 GPT-4에게 상호작용 옵션을 요청해 봅시다.</p>
<p>GPT-4에게 제시할 프롬프트: 저는 상호작용이 필요해요. 지도를 확대해서 볼 수 있고 각 데이터 포인트 위에 마우스를 올려 선박 이름과 화물을 표시할 수 있기를 원합니다.</p>
<p>GPT-4는 툴팁을 사용하여 folium 지도를 만드는 파이썬 코드를 생성합니다:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p><img src="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_4.png" alt="이미지"></p>
<p>와, 여기에는 더 많은 세부 정보가 있네요. 개별 난파선을 식별하는 데이터 포인트를 더 명확하게 볼 수 있습니다. 아쉽게도, 이 지도는 HTML 파일로 생성되어 있어 이상적이지는 않습니다. 보기에는 매우 멋지지만 약간 어색한 방법입니다. GPT-4가 필요한 것은 더 엄격한 안내입니다.</p>
<p>GPT-4에게 알려줄 것: 이 방법은 좋아보이지 않아요. 이를 수행하는 데 왜 Plotly를 사용하지 않을까요?</p>
<p>GPT-4의 응답: 정말 좋은 아이디어네요! 더 나은 상호 작용을 위해 Plotly를 사용하여 코드를 다시 작성합시다:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> plotly.<span class="hljs-property">express</span> <span class="hljs-keyword">as</span> px

# 데이터셋 불러오기
file_path = <span class="hljs-string">'Geodatabase of Shipwrecks Hardard.csv'</span>
shipwreck_data = pd.<span class="hljs-title function_">read_csv</span>(file_path)
# 컬럼 헤더 수정
shipwreck_data.<span class="hljs-property">columns</span> = shipwreck_data.<span class="hljs-property">iloc</span>[<span class="hljs-number">0</span>]
shipwreck_data = shipwreck_data.<span class="hljs-title function_">drop</span>(<span class="hljs-number">0</span>)
# 유효한 좌표가 없는 행 제외
shipwreck_data = shipwreck_data.<span class="hljs-title function_">dropna</span>(subset=[<span class="hljs-string">'Latitude'</span>, <span class="hljs-string">'Longitude'</span>])
# 위도와 경도를 숫자로 변환
shipwreck_data[<span class="hljs-string">'Latitude'</span>] = pd.<span class="hljs-title function_">to_numeric</span>(shipwreck_data[<span class="hljs-string">'Latitude'</span>], errors=<span class="hljs-string">'coerce'</span>)
shipwreck_data[<span class="hljs-string">'Longitude'</span>] = pd.<span class="hljs-title function_">to_numeric</span>(shipwreck_data[<span class="hljs-string">'Longitude'</span>], errors=<span class="hljs-string">'coerce'</span>)
# 변환 후 유효하지 않은 좌표가 있는 행 제외
shipwreck_data = shipwreck_data.<span class="hljs-title function_">dropna</span>(subset=[<span class="hljs-string">'Latitude'</span>, <span class="hljs-string">'Longitude'</span>])
# <span class="hljs-title class_">Plotly</span>와 <span class="hljs-title class_">Mapbox</span>를 사용하여 인터랙티브 맵 생성
fig = px.<span class="hljs-title function_">scatter_mapbox</span>(shipwreck_data,
                        lat=<span class="hljs-string">'Latitude'</span>,
                        lon=<span class="hljs-string">'Longitude'</span>,
                        hover_name=<span class="hljs-string">'NAME'</span>,
                        hover_data={<span class="hljs-string">'Longitude'</span>: <span class="hljs-title class_">False</span>, <span class="hljs-string">'Latitude'</span>: <span class="hljs-title class_">False</span>, <span class="hljs-string">'Cargo_1'</span>: <span class="hljs-title class_">True</span>},
                        title=<span class="hljs-string">'Global Map of Shipwrecks'</span>,
                        mapbox_style=<span class="hljs-string">'carto-positron'</span>)  # <span class="hljs-title class_">Using</span> mapbox
# 더 나은 모양을 위해 레이아웃 업데이트
fig.<span class="hljs-title function_">update_traces</span>(marker=<span class="hljs-title function_">dict</span>(color=<span class="hljs-string">'red'</span>, size=<span class="hljs-number">10</span>))  # 색상 및 크기 지정
fig.<span class="hljs-title function_">update_layout</span>(
    mapbox=<span class="hljs-title function_">dict</span>(
        accesstoken=<span class="hljs-string">'your_mapbox_access_token'</span>, 
        center={<span class="hljs-string">'lat'</span>: <span class="hljs-number">44</span>, <span class="hljs-string">'lon'</span>: <span class="hljs-number">18</span>},  # 유럽 지도 중심으로 설정
        zoom=<span class="hljs-number">4</span>
    ),
    margin=<span class="hljs-title function_">dict</span>(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>),
    title_font_size=<span class="hljs-number">24</span>,
    font=<span class="hljs-title function_">dict</span>(size=<span class="hljs-number">14</span>)
)
# 인터랙티브 맵 표시
fig.<span class="hljs-title function_">show</span>()
</code></pre>
<p>그리고 이 코드는 정말 잘 작동합니다.</p>
<p>결과:</p>
<img src="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_5.png">
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>멋지네요, 이제 조금씩 진행 중이네요. 그리고 각 지점 데이터 위에 마우스를 올려서 난파선 이름과 수송품 정보(알려진 경우)를 찾을 수 있어요:</p>
<p><img src="/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_6.png" alt="image"></p>
<p>GPT-4는 실제로 지도에 GIS 지점 데이터를 표시하는 Python 코드를 효과적으로 생성하는 데 활용될 수 있어요.</p>
<p>이 예제에서 원하는 결과를 생성하도록 GPT-4에 제공해야 하는 정보는 다음과 같아요:</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ul>
<li>데이터 세트를로드하고 열 헤더를 수정하십시오.</li>
<li>유효한 좌표가없는 행을 필터링하십시오.</li>
<li>위도와 경도를 숫자 값으로 변환하십시오.</li>
<li>Plotly의 scatter_mapbox 함수를 사용하여 대화 형 지도를 만듭니다.</li>
<li>각 포인트의 색상을 빨간색으로 설정하고 크기를 5픽셀로 설정하십시오.</li>
<li>지중해로 확대 된지도를 표시하십시오.</li>
<li>Mapbox 타일에 'carto-positron' 스타일을 사용하십시오.</li>
<li>위도 34 및 경도 18을 중심으로하고 줌 레벨이 4 인 맵을 센터에 배치하십시오.</li>
<li>코드의 적절한 위치에 Mapbox 액세스 토큰을 추가하십시오.</li>
</ul>
<p>모두입니다.</p>
<h1>요약</h1>
<p>GPT-4는 Python 코드를 간단한 CSV 파일에서 GIS 포인트 데이터를지도에 표시하는데 쉽게 생성할 수 있습니다.</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>이거 조심해서 잘 만들어야 해. 이 LLM을 최적화하려면 좋은 결과를 얻을 때까지 여러 번 시도해야 할 수도 있어.</p>
<p>GPT-4를 광범위하게 활용하면서, 최적의 결과를 찾기 전에 여러 가지 방법을 고려할 수 있음을 알았어. GPT-4에게 가능한 접근법을 묻는 것이 좋을 뿐 아니라 (이런 예시처럼) 더 나은 방법을 알고 있다면, GPT-4에게 사용하도록 명확하게 요청해.</p>
<p>그리고 LLM 프롬프팅 작업을 할 때 중요한 점은, GPT-4는 결과물에 변화를 주는 방식으로 설계되었기 때문에, 당신이 프롬프트로 받는 코드가 여기서 보여주는 것과 정확히 일치하지 않을 수 있다는 거야.</p>
<p>코멘트를 남겨서 프롬프팅이 어떻게 진행되었는지 알려줘!</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>만약 이 유형의 이야기가 당신의 취향이고 저를 작가로 지원하고 싶다면, 제 Substack에 가입해주세요.</p>
<p>Substack에서는 매주 두 번 뉴스레터와 다른 플랫폼에서는 찾을 수 없는 기사들을 발행하고 있어요.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"상호작용 Python Plotly GIS 지도 제작을 위한 더 나은 GPT-4 프롬프트 작성 방법","description":"","date":"2024-07-14 19:41","slug":"2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps","content":"\n\n\n![TIL image 0](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png)\n\n인터넷에는 역사적인 난파선 데이터를 포함한 데이터 세트에 대한 멋진 자료가 많이 있습니다.\n\n사용 가능한 데이터 세트에 대한 나의 지식 확장의 일환으로 매주 업데이트를 받는 소스 중 하나로 Data is Plural이 있습니다:\n\n![TIL image 1](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_1.png)\n\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이 사이트는 흥미로운 데이터 세트에 관한 주간 뉴스레터를 제공합니다.\n\n가장 최근 버전 (2024년 7월 10일)에는 하버드 대학교에서 가져온 고대 바다 난파선에 관한 데이터 세트가 있습니다. 이 데이터 세트에는 기원전 1500년부터 기원후 1500년까지의 기록이 포함되어 있으며 지중해와 북유럽을 중심으로 하고 있습니다. 정말 멋져요!\n\n저는 이 데이터 세트를 GPT-4에 업로드하여 각 포인트 데이터를 지도에 배치하는 Python 코드를 생성할 수 있는지 궁금했습니다.\n\n답변은? 네, 가능합니다. 다만 주의해서 프롬프트를 할 필요가 있습니다. 여기서 저가 거친 단계를 안내해 드리겠습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 제네릭 GPT-4 프롬프트로 시작하기\n\n우선, GPT-4가 데이터 세트를 의미있는 방식으로 해석할 수 있는지 확인해보고 싶었습니다. GIS 지도 코드를 생성할 수 있는지 보기 위한 일반적인 프롬프트입니다.\n\nGPT-4에 대한 프롬프트: 첨부된 데이터 세트를 사용하여, 각 난파선을 지도상의 점으로 표시하는 전역 지도의 파이썬 코드를 제공해주세요.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![image](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_2.png)\n\n이거 그래프네요! 신기하게도 각 포인트들이 정확해요. 아래에 지도 레이어를 넣으면 정확하게 매칭돼요. 그런데, 이건 우리가 원하는 게 아니에요.\n\n첫 번째 제네릭 프롬프가 반 성공했어요. 여기서 더 구체적으로 알아보아야 해요.\n\nGPT-4에게 프롬프트를 보내면: \"이건 지도가 아니에요. 각 포인트를 실제 지도에 표시하는 파이썬 코드를 생성해 주세요.\"\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이번에는 GPT-4가 matplotlib 및 shapely 라이브러리를 사용하여 Python 코드를 생성했습니다. 결과는 다음과 같습니다:\n\n![이미지](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_3.png)\n\n이제 지도를 가지고 있지만, 이 지도는 완전히 정적입니다. 확대 및 축소가 불가능하며 상호 작용할 수 없습니다.\n\n또한 각 개별 점을 해석하기가 매우 어렵습니다. 점들이 주로 유럽에 있다는 것을 알 수 있습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 대화식 매핑을 위한 안내\n\n더 세부적으로 알아보고 GPT-4에게 상호작용 옵션을 요청해 봅시다.\n\nGPT-4에게 제시할 프롬프트: 저는 상호작용이 필요해요. 지도를 확대해서 볼 수 있고 각 데이터 포인트 위에 마우스를 올려 선박 이름과 화물을 표시할 수 있기를 원합니다.\n\nGPT-4는 툴팁을 사용하여 folium 지도를 만드는 파이썬 코드를 생성합니다:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n![이미지](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_4.png)\n\n와, 여기에는 더 많은 세부 정보가 있네요. 개별 난파선을 식별하는 데이터 포인트를 더 명확하게 볼 수 있습니다. 아쉽게도, 이 지도는 HTML 파일로 생성되어 있어 이상적이지는 않습니다. 보기에는 매우 멋지지만 약간 어색한 방법입니다. GPT-4가 필요한 것은 더 엄격한 안내입니다.\n\nGPT-4에게 알려줄 것: 이 방법은 좋아보이지 않아요. 이를 수행하는 데 왜 Plotly를 사용하지 않을까요?\n\nGPT-4의 응답: 정말 좋은 아이디어네요! 더 나은 상호 작용을 위해 Plotly를 사용하여 코드를 다시 작성합시다:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n```js\nimport pandas as pd\nimport plotly.express as px\n\n# 데이터셋 불러오기\nfile_path = 'Geodatabase of Shipwrecks Hardard.csv'\nshipwreck_data = pd.read_csv(file_path)\n# 컬럼 헤더 수정\nshipwreck_data.columns = shipwreck_data.iloc[0]\nshipwreck_data = shipwreck_data.drop(0)\n# 유효한 좌표가 없는 행 제외\nshipwreck_data = shipwreck_data.dropna(subset=['Latitude', 'Longitude'])\n# 위도와 경도를 숫자로 변환\nshipwreck_data['Latitude'] = pd.to_numeric(shipwreck_data['Latitude'], errors='coerce')\nshipwreck_data['Longitude'] = pd.to_numeric(shipwreck_data['Longitude'], errors='coerce')\n# 변환 후 유효하지 않은 좌표가 있는 행 제외\nshipwreck_data = shipwreck_data.dropna(subset=['Latitude', 'Longitude'])\n# Plotly와 Mapbox를 사용하여 인터랙티브 맵 생성\nfig = px.scatter_mapbox(shipwreck_data,\n                        lat='Latitude',\n                        lon='Longitude',\n                        hover_name='NAME',\n                        hover_data={'Longitude': False, 'Latitude': False, 'Cargo_1': True},\n                        title='Global Map of Shipwrecks',\n                        mapbox_style='carto-positron')  # Using mapbox\n# 더 나은 모양을 위해 레이아웃 업데이트\nfig.update_traces(marker=dict(color='red', size=10))  # 색상 및 크기 지정\nfig.update_layout(\n    mapbox=dict(\n        accesstoken='your_mapbox_access_token', \n        center={'lat': 44, 'lon': 18},  # 유럽 지도 중심으로 설정\n        zoom=4\n    ),\n    margin=dict(l=0, r=0, t=0, b=0),\n    title_font_size=24,\n    font=dict(size=14)\n)\n# 인터랙티브 맵 표시\nfig.show()\n```\n\n그리고 이 코드는 정말 잘 작동합니다.\n\n결과:\n\n\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_5.png\" /\u003e\n\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n멋지네요, 이제 조금씩 진행 중이네요. 그리고 각 지점 데이터 위에 마우스를 올려서 난파선 이름과 수송품 정보(알려진 경우)를 찾을 수 있어요:\n\n![image](/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_6.png)\n\nGPT-4는 실제로 지도에 GIS 지점 데이터를 표시하는 Python 코드를 효과적으로 생성하는 데 활용될 수 있어요.\n\n이 예제에서 원하는 결과를 생성하도록 GPT-4에 제공해야 하는 정보는 다음과 같아요:\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n- 데이터 세트를로드하고 열 헤더를 수정하십시오.\n- 유효한 좌표가없는 행을 필터링하십시오.\n- 위도와 경도를 숫자 값으로 변환하십시오.\n- Plotly의 scatter_mapbox 함수를 사용하여 대화 형 지도를 만듭니다.\n- 각 포인트의 색상을 빨간색으로 설정하고 크기를 5픽셀로 설정하십시오.\n- 지중해로 확대 된지도를 표시하십시오.\n- Mapbox 타일에 'carto-positron' 스타일을 사용하십시오.\n- 위도 34 및 경도 18을 중심으로하고 줌 레벨이 4 인 맵을 센터에 배치하십시오.\n- 코드의 적절한 위치에 Mapbox 액세스 토큰을 추가하십시오.\n\n모두입니다.\n\n# 요약\n\nGPT-4는 Python 코드를 간단한 CSV 파일에서 GIS 포인트 데이터를지도에 표시하는데 쉽게 생성할 수 있습니다.\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n이거 조심해서 잘 만들어야 해. 이 LLM을 최적화하려면 좋은 결과를 얻을 때까지 여러 번 시도해야 할 수도 있어.\n\nGPT-4를 광범위하게 활용하면서, 최적의 결과를 찾기 전에 여러 가지 방법을 고려할 수 있음을 알았어. GPT-4에게 가능한 접근법을 묻는 것이 좋을 뿐 아니라 (이런 예시처럼) 더 나은 방법을 알고 있다면, GPT-4에게 사용하도록 명확하게 요청해.\n\n그리고 LLM 프롬프팅 작업을 할 때 중요한 점은, GPT-4는 결과물에 변화를 주는 방식으로 설계되었기 때문에, 당신이 프롬프트로 받는 코드가 여기서 보여주는 것과 정확히 일치하지 않을 수 있다는 거야.\n\n코멘트를 남겨서 프롬프팅이 어떻게 진행되었는지 알려줘!\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n만약 이 유형의 이야기가 당신의 취향이고 저를 작가로 지원하고 싶다면, 제 Substack에 가입해주세요.\n\nSubstack에서는 매주 두 번 뉴스레터와 다른 플랫폼에서는 찾을 수 없는 기사들을 발행하고 있어요.","ogImage":{"url":"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png"},"coverImage":"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_0.png\" alt=\"TIL image 0\"\u003e\u003c/p\u003e\n\u003cp\u003e인터넷에는 역사적인 난파선 데이터를 포함한 데이터 세트에 대한 멋진 자료가 많이 있습니다.\u003c/p\u003e\n\u003cp\u003e사용 가능한 데이터 세트에 대한 나의 지식 확장의 일환으로 매주 업데이트를 받는 소스 중 하나로 Data is Plural이 있습니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_1.png\" alt=\"TIL image 1\"\u003e\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이 사이트는 흥미로운 데이터 세트에 관한 주간 뉴스레터를 제공합니다.\u003c/p\u003e\n\u003cp\u003e가장 최근 버전 (2024년 7월 10일)에는 하버드 대학교에서 가져온 고대 바다 난파선에 관한 데이터 세트가 있습니다. 이 데이터 세트에는 기원전 1500년부터 기원후 1500년까지의 기록이 포함되어 있으며 지중해와 북유럽을 중심으로 하고 있습니다. 정말 멋져요!\u003c/p\u003e\n\u003cp\u003e저는 이 데이터 세트를 GPT-4에 업로드하여 각 포인트 데이터를 지도에 배치하는 Python 코드를 생성할 수 있는지 궁금했습니다.\u003c/p\u003e\n\u003cp\u003e답변은? 네, 가능합니다. 다만 주의해서 프롬프트를 할 필요가 있습니다. 여기서 저가 거친 단계를 안내해 드리겠습니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e제네릭 GPT-4 프롬프트로 시작하기\u003c/h1\u003e\n\u003cp\u003e우선, GPT-4가 데이터 세트를 의미있는 방식으로 해석할 수 있는지 확인해보고 싶었습니다. GIS 지도 코드를 생성할 수 있는지 보기 위한 일반적인 프롬프트입니다.\u003c/p\u003e\n\u003cp\u003eGPT-4에 대한 프롬프트: 첨부된 데이터 세트를 사용하여, 각 난파선을 지도상의 점으로 표시하는 전역 지도의 파이썬 코드를 제공해주세요.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_2.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e이거 그래프네요! 신기하게도 각 포인트들이 정확해요. 아래에 지도 레이어를 넣으면 정확하게 매칭돼요. 그런데, 이건 우리가 원하는 게 아니에요.\u003c/p\u003e\n\u003cp\u003e첫 번째 제네릭 프롬프가 반 성공했어요. 여기서 더 구체적으로 알아보아야 해요.\u003c/p\u003e\n\u003cp\u003eGPT-4에게 프롬프트를 보내면: \"이건 지도가 아니에요. 각 포인트를 실제 지도에 표시하는 파이썬 코드를 생성해 주세요.\"\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이번에는 GPT-4가 matplotlib 및 shapely 라이브러리를 사용하여 Python 코드를 생성했습니다. 결과는 다음과 같습니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_3.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 지도를 가지고 있지만, 이 지도는 완전히 정적입니다. 확대 및 축소가 불가능하며 상호 작용할 수 없습니다.\u003c/p\u003e\n\u003cp\u003e또한 각 개별 점을 해석하기가 매우 어렵습니다. 점들이 주로 유럽에 있다는 것을 알 수 있습니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e대화식 매핑을 위한 안내\u003c/h1\u003e\n\u003cp\u003e더 세부적으로 알아보고 GPT-4에게 상호작용 옵션을 요청해 봅시다.\u003c/p\u003e\n\u003cp\u003eGPT-4에게 제시할 프롬프트: 저는 상호작용이 필요해요. 지도를 확대해서 볼 수 있고 각 데이터 포인트 위에 마우스를 올려 선박 이름과 화물을 표시할 수 있기를 원합니다.\u003c/p\u003e\n\u003cp\u003eGPT-4는 툴팁을 사용하여 folium 지도를 만드는 파이썬 코드를 생성합니다:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_4.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e와, 여기에는 더 많은 세부 정보가 있네요. 개별 난파선을 식별하는 데이터 포인트를 더 명확하게 볼 수 있습니다. 아쉽게도, 이 지도는 HTML 파일로 생성되어 있어 이상적이지는 않습니다. 보기에는 매우 멋지지만 약간 어색한 방법입니다. GPT-4가 필요한 것은 더 엄격한 안내입니다.\u003c/p\u003e\n\u003cp\u003eGPT-4에게 알려줄 것: 이 방법은 좋아보이지 않아요. 이를 수행하는 데 왜 Plotly를 사용하지 않을까요?\u003c/p\u003e\n\u003cp\u003eGPT-4의 응답: 정말 좋은 아이디어네요! 더 나은 상호 작용을 위해 Plotly를 사용하여 코드를 다시 작성합시다:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e pandas \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e pd\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e plotly.\u003cspan class=\"hljs-property\"\u003eexpress\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e px\n\n# 데이터셋 불러오기\nfile_path = \u003cspan class=\"hljs-string\"\u003e'Geodatabase of Shipwrecks Hardard.csv'\u003c/span\u003e\nshipwreck_data = pd.\u003cspan class=\"hljs-title function_\"\u003eread_csv\u003c/span\u003e(file_path)\n# 컬럼 헤더 수정\nshipwreck_data.\u003cspan class=\"hljs-property\"\u003ecolumns\u003c/span\u003e = shipwreck_data.\u003cspan class=\"hljs-property\"\u003eiloc\u003c/span\u003e[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e]\nshipwreck_data = shipwreck_data.\u003cspan class=\"hljs-title function_\"\u003edrop\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n# 유효한 좌표가 없는 행 제외\nshipwreck_data = shipwreck_data.\u003cspan class=\"hljs-title function_\"\u003edropna\u003c/span\u003e(subset=[\u003cspan class=\"hljs-string\"\u003e'Latitude'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Longitude'\u003c/span\u003e])\n# 위도와 경도를 숫자로 변환\nshipwreck_data[\u003cspan class=\"hljs-string\"\u003e'Latitude'\u003c/span\u003e] = pd.\u003cspan class=\"hljs-title function_\"\u003eto_numeric\u003c/span\u003e(shipwreck_data[\u003cspan class=\"hljs-string\"\u003e'Latitude'\u003c/span\u003e], errors=\u003cspan class=\"hljs-string\"\u003e'coerce'\u003c/span\u003e)\nshipwreck_data[\u003cspan class=\"hljs-string\"\u003e'Longitude'\u003c/span\u003e] = pd.\u003cspan class=\"hljs-title function_\"\u003eto_numeric\u003c/span\u003e(shipwreck_data[\u003cspan class=\"hljs-string\"\u003e'Longitude'\u003c/span\u003e], errors=\u003cspan class=\"hljs-string\"\u003e'coerce'\u003c/span\u003e)\n# 변환 후 유효하지 않은 좌표가 있는 행 제외\nshipwreck_data = shipwreck_data.\u003cspan class=\"hljs-title function_\"\u003edropna\u003c/span\u003e(subset=[\u003cspan class=\"hljs-string\"\u003e'Latitude'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Longitude'\u003c/span\u003e])\n# \u003cspan class=\"hljs-title class_\"\u003ePlotly\u003c/span\u003e와 \u003cspan class=\"hljs-title class_\"\u003eMapbox\u003c/span\u003e를 사용하여 인터랙티브 맵 생성\nfig = px.\u003cspan class=\"hljs-title function_\"\u003escatter_mapbox\u003c/span\u003e(shipwreck_data,\n                        lat=\u003cspan class=\"hljs-string\"\u003e'Latitude'\u003c/span\u003e,\n                        lon=\u003cspan class=\"hljs-string\"\u003e'Longitude'\u003c/span\u003e,\n                        hover_name=\u003cspan class=\"hljs-string\"\u003e'NAME'\u003c/span\u003e,\n                        hover_data={\u003cspan class=\"hljs-string\"\u003e'Longitude'\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eFalse\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Latitude'\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eFalse\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'Cargo_1'\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eTrue\u003c/span\u003e},\n                        title=\u003cspan class=\"hljs-string\"\u003e'Global Map of Shipwrecks'\u003c/span\u003e,\n                        mapbox_style=\u003cspan class=\"hljs-string\"\u003e'carto-positron'\u003c/span\u003e)  # \u003cspan class=\"hljs-title class_\"\u003eUsing\u003c/span\u003e mapbox\n# 더 나은 모양을 위해 레이아웃 업데이트\nfig.\u003cspan class=\"hljs-title function_\"\u003eupdate_traces\u003c/span\u003e(marker=\u003cspan class=\"hljs-title function_\"\u003edict\u003c/span\u003e(color=\u003cspan class=\"hljs-string\"\u003e'red'\u003c/span\u003e, size=\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e))  # 색상 및 크기 지정\nfig.\u003cspan class=\"hljs-title function_\"\u003eupdate_layout\u003c/span\u003e(\n    mapbox=\u003cspan class=\"hljs-title function_\"\u003edict\u003c/span\u003e(\n        accesstoken=\u003cspan class=\"hljs-string\"\u003e'your_mapbox_access_token'\u003c/span\u003e, \n        center={\u003cspan class=\"hljs-string\"\u003e'lat'\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e44\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'lon'\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e},  # 유럽 지도 중심으로 설정\n        zoom=\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\n    ),\n    margin=\u003cspan class=\"hljs-title function_\"\u003edict\u003c/span\u003e(l=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, r=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, t=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, b=\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e),\n    title_font_size=\u003cspan class=\"hljs-number\"\u003e24\u003c/span\u003e,\n    font=\u003cspan class=\"hljs-title function_\"\u003edict\u003c/span\u003e(size=\u003cspan class=\"hljs-number\"\u003e14\u003c/span\u003e)\n)\n# 인터랙티브 맵 표시\nfig.\u003cspan class=\"hljs-title function_\"\u003eshow\u003c/span\u003e()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e그리고 이 코드는 정말 잘 작동합니다.\u003c/p\u003e\n\u003cp\u003e결과:\u003c/p\u003e\n\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_5.png\"\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e멋지네요, 이제 조금씩 진행 중이네요. 그리고 각 지점 데이터 위에 마우스를 올려서 난파선 이름과 수송품 정보(알려진 경우)를 찾을 수 있어요:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/TIL/assets/img/2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps_6.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003eGPT-4는 실제로 지도에 GIS 지점 데이터를 표시하는 Python 코드를 효과적으로 생성하는 데 활용될 수 있어요.\u003c/p\u003e\n\u003cp\u003e이 예제에서 원하는 결과를 생성하도록 GPT-4에 제공해야 하는 정보는 다음과 같아요:\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cul\u003e\n\u003cli\u003e데이터 세트를로드하고 열 헤더를 수정하십시오.\u003c/li\u003e\n\u003cli\u003e유효한 좌표가없는 행을 필터링하십시오.\u003c/li\u003e\n\u003cli\u003e위도와 경도를 숫자 값으로 변환하십시오.\u003c/li\u003e\n\u003cli\u003ePlotly의 scatter_mapbox 함수를 사용하여 대화 형 지도를 만듭니다.\u003c/li\u003e\n\u003cli\u003e각 포인트의 색상을 빨간색으로 설정하고 크기를 5픽셀로 설정하십시오.\u003c/li\u003e\n\u003cli\u003e지중해로 확대 된지도를 표시하십시오.\u003c/li\u003e\n\u003cli\u003eMapbox 타일에 'carto-positron' 스타일을 사용하십시오.\u003c/li\u003e\n\u003cli\u003e위도 34 및 경도 18을 중심으로하고 줌 레벨이 4 인 맵을 센터에 배치하십시오.\u003c/li\u003e\n\u003cli\u003e코드의 적절한 위치에 Mapbox 액세스 토큰을 추가하십시오.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e모두입니다.\u003c/p\u003e\n\u003ch1\u003e요약\u003c/h1\u003e\n\u003cp\u003eGPT-4는 Python 코드를 간단한 CSV 파일에서 GIS 포인트 데이터를지도에 표시하는데 쉽게 생성할 수 있습니다.\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e이거 조심해서 잘 만들어야 해. 이 LLM을 최적화하려면 좋은 결과를 얻을 때까지 여러 번 시도해야 할 수도 있어.\u003c/p\u003e\n\u003cp\u003eGPT-4를 광범위하게 활용하면서, 최적의 결과를 찾기 전에 여러 가지 방법을 고려할 수 있음을 알았어. GPT-4에게 가능한 접근법을 묻는 것이 좋을 뿐 아니라 (이런 예시처럼) 더 나은 방법을 알고 있다면, GPT-4에게 사용하도록 명확하게 요청해.\u003c/p\u003e\n\u003cp\u003e그리고 LLM 프롬프팅 작업을 할 때 중요한 점은, GPT-4는 결과물에 변화를 주는 방식으로 설계되었기 때문에, 당신이 프롬프트로 받는 코드가 여기서 보여주는 것과 정확히 일치하지 않을 수 있다는 거야.\u003c/p\u003e\n\u003cp\u003e코멘트를 남겨서 프롬프팅이 어떻게 진행되었는지 알려줘!\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e만약 이 유형의 이야기가 당신의 취향이고 저를 작가로 지원하고 싶다면, 제 Substack에 가입해주세요.\u003c/p\u003e\n\u003cp\u003eSubstack에서는 매주 두 번 뉴스레터와 다른 플랫폼에서는 찾을 수 없는 기사들을 발행하고 있어요.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-14-BetterGPT-4PromptingForInteractivePythonPlotlyGISMaps"},"buildId":"M7pU9hOcx8u_ZIFMf95sd","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>