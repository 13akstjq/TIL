<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>로그인 시 폼 유효성 검사가 작동하지 않는 이유는 | TIL</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://13akstjq.github.io/TIL//post/2024-07-07-Whymyformvalidationwhilelogginginisnotworking" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="로그인 시 폼 유효성 검사가 작동하지 않는 이유는 | TIL" data-gatsby-head="true"/><meta property="og:title" content="로그인 시 폼 유효성 검사가 작동하지 않는 이유는 | TIL" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/TIL/assets/no-image.jpg" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://TIL.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://13akstjq.github.io/TIL//post/2024-07-07-Whymyformvalidationwhilelogginginisnotworking" data-gatsby-head="true"/><meta name="twitter:title" content="로그인 시 폼 유효성 검사가 작동하지 않는 이유는 | TIL" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/TIL/assets/no-image.jpg" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | TIL" data-gatsby-head="true"/><meta name="article:published_time" content="2024-07-07 19:18" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/TIL/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/TIL/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/TIL/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/TIL/favicons/favicon-96x96.png"/><link rel="icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/TIL/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/TIL/favicons/browserconfig.xml"/><link rel="preload" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/TIL/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/TIL/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/TIL/_next/static/chunks/webpack-21ffe88bdca56cba.js" defer=""></script><script src="/TIL/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/TIL/_next/static/chunks/main-a5eeabb286676ce6.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/TIL/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/TIL/_next/static/chunks/463-925361deb4cec4b1.js" defer=""></script><script src="/TIL/_next/static/chunks/pages/post/%5Bslug%5D-9d7ebbd29b9e08ce.js" defer=""></script><script src="/TIL/_next/static/QAkYP0lvl03W-5CKD69kb/_buildManifest.js" defer=""></script><script src="/TIL/_next/static/QAkYP0lvl03W-5CKD69kb/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/TIL">TIL</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/TIL/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">로그인 시 폼 유효성 검사가 작동하지 않는 이유는</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="로그인 시 폼 유효성 검사가 작동하지 않는 이유는" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/TIL/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">TIL</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jul 7, 2024</span><span class="posts_reading_time__f7YPP">13<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-07-07-Whymyformvalidationwhilelogginginisnotworking&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>내 ts 컴포넌트 파일:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Component</span>, inject } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HeaderComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../header/header.component"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FormBuilder</span>, <span class="hljs-title class_">Validators</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;
<span class="hljs-keyword">import</span> { timer } <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">RouterModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AuthService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../auth.service'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ReactiveFormsModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;
@<span class="hljs-title class_">Component</span>({
    <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-login'</span>,
    <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./login.component.html'</span>,
    <span class="hljs-attr">styleUrl</span>: <span class="hljs-string">'./login.component.css'</span>,
    <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">HeaderComponent</span>,<span class="hljs-title class_">CommonModule</span>,<span class="hljs-title class_">ReactiveFormsModule</span>]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginComponent</span> {
  
    <span class="hljs-attr">isLoginInProgress</span>: boolean | <span class="hljs-literal">undefined</span>;
    <span class="hljs-attr">errorMessage</span>: string | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>; 
    
    form = <span class="hljs-variable language_">this</span>.<span class="hljs-property">fb</span>.<span class="hljs-property">nonNullable</span>.<span class="hljs-title function_">group</span>({ 
      <span class="hljs-attr">email</span>: [<span class="hljs-string">''</span>, <span class="hljs-title class_">Validators</span>.<span class="hljs-property">required</span>],
      <span class="hljs-attr">password</span>: [<span class="hljs-string">''</span>, <span class="hljs-title class_">Validators</span>.<span class="hljs-property">required</span>],
    });
    
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
      private fb: FormBuilder, 
      private authService: AuthService,
      </span>) {
      
      <span class="hljs-keyword">const</span> accessToken = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'accessToken'</span>);
      <span class="hljs-keyword">if</span> (accessToken) {
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">back</span>();
      }
    }
     router = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">Router</span>);
  
    <span class="hljs-comment">// fb = inject(FormBuilder);</span>
    <span class="hljs-comment">// http = inject(HttpClient);</span>
    <span class="hljs-comment">//  authService = inject(AuthService);</span>
    <span class="hljs-attr">data</span>: any[] = [];
    
    <span class="hljs-title function_">validateEmail</span>(<span class="hljs-attr">email</span>: string): boolean {
      <span class="hljs-keyword">if</span> (!email) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// 이메일 필드가 비어있으면 유효한 것으로 간주합니다 (필요 시 조정)</span>
      }
      <span class="hljs-keyword">const</span> emailRegex = <span class="hljs-regexp">/^\S+@\S+\.\S+$/</span>; 
      <span class="hljs-keyword">return</span> emailRegex.<span class="hljs-title function_">test</span>(email);
    }
    

    noemail=<span class="hljs-literal">false</span>;
    noform=<span class="hljs-literal">false</span>;
    nopwd=<span class="hljs-literal">false</span>;
    login=<span class="hljs-literal">false</span>;
  
    <span class="hljs-title function_">onSubmit</span>(): <span class="hljs-keyword">void</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">errorMessage</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">noemail</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">noform</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">nopwd</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'폼 제출됨'</span>);
        <span class="hljs-keyword">const</span> rawform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-title function_">getRawValue</span>();
        <span class="hljs-keyword">const</span> email = rawform.<span class="hljs-property">email</span>.<span class="hljs-title function_">trim</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoginInProgress</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">authService</span>
          .<span class="hljs-title function_">login</span>(email, rawform.<span class="hljs-property">password</span>.<span class="hljs-title function_">trim</span>())
          .<span class="hljs-title function_">subscribe</span>({
            <span class="hljs-attr">next</span>: <span class="hljs-function">(<span class="hljs-params">response</span>) =></span> {
              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response!.<span class="hljs-property">user</span>!.<span class="hljs-property">uid</span>);
              <span class="hljs-keyword">const</span> accessToken = response!.<span class="hljs-property">user</span>!.<span class="hljs-property">accessToken</span>;
              <span class="hljs-keyword">const</span> user_uid = response!.<span class="hljs-property">user</span>!.<span class="hljs-property">uid</span>;
              <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'accessToken'</span>, accessToken);
              <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'user_uid'</span>, user_uid);
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">router</span>.<span class="hljs-title function_">navigateByUrl</span>(<span class="hljs-string">'/'</span>);
              <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoginInProgress</span> = <span class="hljs-literal">false</span>;
            },
            <span class="hljs-attr">error</span>: <span class="hljs-function">(<span class="hljs-params">err: any</span>) =></span> {
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleAuthError</span>(err);
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoginInProgress</span> = <span class="hljs-literal">false</span>;
            },
          });
        <span class="hljs-keyword">if</span> (!email) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noemail</span> = <span class="hljs-literal">true</span> 
  
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noform</span>=<span class="hljs-literal">false</span>
          <span class="hljs-comment">// 이메일이 입력되지 않았습니다</span>
        } 
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateEmail</span>(email)) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noemail</span>=<span class="hljs-literal">false</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">nopwd</span>=<span class="hljs-literal">false</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noform</span>=<span class="hljs-literal">true</span> 
          <span class="hljs-comment">// 유효하지 않은 이메일 형식입니다</span>
        }
        <span class="hljs-keyword">else</span>
        {
          
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noform</span>=<span class="hljs-literal">false</span>
        }
  
        
        <span class="hljs-keyword">const</span> mdp=rawform.<span class="hljs-property">password</span>.<span class="hljs-title function_">trim</span>();
        <span class="hljs-keyword">if</span>(!mdp ) 
          {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">nopwd</span>=<span class="hljs-literal">true</span>
          }  
    }
  
    <span class="hljs-title function_">handleAuthError</span>(<span class="hljs-attr">err</span>: any): <span class="hljs-keyword">void</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'인증 오류:'</span>, err); 
      <span class="hljs-keyword">const</span> rawform = <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-title function_">getRawValue</span>();<span class="hljs-comment">// 검사를 위해 오류 객체 기록</span>
      <span class="hljs-keyword">const</span> email = rawform.<span class="hljs-property">email</span>.<span class="hljs-title function_">trim</span>();
      <span class="hljs-keyword">switch</span> (err.<span class="hljs-property">code</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'auth/invalid-credential'</span>:
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">errorMessage</span> = <span class="hljs-string">'유효하지 않은 비밀번호 또는 이메일'</span>;
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">nopwd</span>=<span class="hljs-literal">false</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noemail</span>=<span class="hljs-literal">false</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noform</span>=<span class="hljs-literal">false</span>
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'auth/invalid-email'</span> :
          <span class="hljs-keyword">if</span> (email)
            {
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">nopwd</span>=<span class="hljs-literal">false</span>
              
            }
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateEmail</span>(email)  :
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noform</span>=<span class="hljs-literal">false</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">noemail</span>=<span class="hljs-literal">false</span>
          <span class="hljs-keyword">break</span>; 
      }
  
    }
  
    <span class="hljs-title function_">isLoggedIn</span>(): boolean {
      <span class="hljs-keyword">const</span> hasAccessToken = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'accessToken'</span>) !== <span class="hljs-literal">null</span>;
      
      <span class="hljs-title function_">timer</span>(<span class="hljs-number">1000</span>);
      <span class="hljs-keyword">if</span> (hasAccessToken) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      } <span class="hljs-keyword">else</span> {     
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
    }
   
    
}
</code></pre>
<p>내 html 컴포넌트 내용:</p>
<pre><code class="hljs language-js">&#x3C;app-header style=<span class="hljs-string">"background: linear-gradient(to left ,#032961,#4588ee);"</span>>&#x3C;/app-header>

&#x3C;head>
  &#x3C;meta charset="UTF-8">
  &#x3C;meta name="viewport" content="width=device-width, initial-scale=1.0">
  &#x3C;link href="/assets/css/styles.css" rel="stylesheet">
  &#x3C;link href="/assets/bootstrap/bootstrap.css" rel="stylesheet">
  
&#x3C;/head>
&#x3C;body class="form-v9" style="background: linear-gradient(to left ,#032961,#4588ee); ">
    &#x3C;div class="page-content">
        &#x3C;div class="form-v9-content" >
            &#x3C;form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-detail" action="#" method="post">
                &#x3C;h2>로그인 양식&#x3C;/h2>
                &#x3C;div class="form-row-total">
                        
                        &#x3C;div *ngIf="login" class="alert alert-success" role="alert">
                            성공적으로 로그인했습니다
                        &#x3C;/div>
                    &#x3C;div class="form-row">
                        &#x3C;input type="text" name="email" id="email" class="input-text" placeholder="이메일 주소" required pattern="[^@]+@[^@]+.[a-zA-Z]{2,6}">
                    &#x3C;/div>
                    &#x3C;div *ngIf="errorMessage" class="alert alert-danger" role="alert">
                        { errorMessage }
                      &#x3C;/div>
                          &#x3C;div *ngIf="noemail " class="alert alert-danger" role="alert">
                              이메일을 입력하세요
                          &#x3C;/div> 
                          &#x3C;div *ngIf="noform" class="alert alert-danger" role="alert">
                              올바르지 않은 이메일 형식 
                          &#x3C;/div>
                &#x3C;/div>
                &#x3C;div class="form-row-total">
                    &#x3C;div class="form-row">
                        &#x3C;input type="password" name="password" id="password" class="input-text" placeholder="비밀번호" required>
                    &#x3C;/div>
                    
                    &#x3C;div *ngIf="errorMessage" class="alert alert-danger" role="alert" >
                        { errorMessage }
                      &#x3C;/div>
                    &#x3C;div *ngIf="nopwd" class="alert alert-danger" role="alert"  style="margin-top: 90px;">
                        비밀번호를 입력하세요
                    &#x3C;/div>
                    
                &#x3C;/div>
                &#x3C;div class="form-row-last">
                    &#x3C;input type="submit" name="register" class="register" value="로그인" >
                &#x3C;/div>
            &#x3C;/form>
        &#x3C;/div>
    &#x3C;/div>
&#x3C;/body>
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h1>로그인 버튼을 누를 때 (필드가 비어있든 아니든) 표시되는 메시지가 "비밀번호를 입력하십시오" 및 "이메일을 입력하십시오"인 것 같습니다 (즉, 변수 'nopwd' 및 'noemail'의 값은 항상 true인 것처럼 보입니다). 문제가 정확히 어디에 있을까요? 그리고 무엇을 변경해야 할까요?</h1>
<h1>해결책</h1>
<p>입력란에 formControlName을 추가하는 것을 잊으신 것 같습니다.</p>
<pre><code class="hljs language-js">&#x3C;input type=<span class="hljs-string">"text"</span> formControlName=<span class="hljs-string">"email"</span> name=<span class="hljs-string">"email"</span> id=<span class="hljs-string">"email"</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"input-text"</span> placeholder=<span class="hljs-string">"이메일을 입력하세요"</span> required pattern=<span class="hljs-string">"[^@]+@[^@]+.[a-zA-Z]{2,6}"</span>>

<span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"비밀번호를 입력하세요"</span> <span class="hljs-attr">required</span>></span>
</span></code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>코드를 개선했습니다.</p>
<p>component.ts</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChangeDetectionStrategy</span>, <span class="hljs-title class_">Component</span>, inject, signal } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">RouterOutlet</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AuthService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../auth.service'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Location</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FormControl</span>, <span class="hljs-title class_">FormGroup</span>, <span class="hljs-title class_">ReactiveFormsModule</span>, <span class="hljs-title class_">Validators</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CustomValidators</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./custom-validators'</span>;
<span class="hljs-keyword">import</span> { catchError, <span class="hljs-keyword">of</span>, take, tap } <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HttpErrorResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common/http'</span>;

@<span class="hljs-title class_">Component</span>({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-login'</span>,
  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./login.component.html'</span>,
  <span class="hljs-attr">styleUrl</span>: <span class="hljs-string">'./login.component.css'</span>,
  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">RouterOutlet</span>, <span class="hljs-title class_">ReactiveFormsModule</span>],
  <span class="hljs-attr">changeDetection</span>: <span class="hljs-title class_">ChangeDetectionStrategy</span>.<span class="hljs-property">OnPush</span>,
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppComponent</span> {
  private readonly _router = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">Router</span>);
  private readonly _location = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">Location</span>);
  private readonly _authService = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">TestAuthService</span>);

  authError = signal&#x3C;boolean>(<span class="hljs-literal">false</span>);
  isLoginInProgress = signal&#x3C;boolean>(<span class="hljs-literal">false</span>);

  form = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({
    <span class="hljs-attr">email</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>&#x3C;string>(<span class="hljs-string">''</span>, { <span class="hljs-attr">nonNullable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">validators</span>: [<span class="hljs-title class_">Validators</span>.<span class="hljs-property">required</span>, <span class="hljs-title class_">CustomValidators</span>.<span class="hljs-property">email</span>] }),
    <span class="hljs-attr">password</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>&#x3C;string>(<span class="hljs-string">''</span>, { <span class="hljs-attr">nonNullable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">validators</span>: [<span class="hljs-title class_">Validators</span>.<span class="hljs-property">required</span>] }),
  });

  login = <span class="hljs-literal">false</span>; <span class="hljs-comment">// 항상 false입니다 O_o</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> accessToken = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'accessToken'</span>);
    <span class="hljs-keyword">if</span> (accessToken) <span class="hljs-variable language_">this</span>.<span class="hljs-property">_location</span>.<span class="hljs-title function_">back</span>();
  }

  <span class="hljs-title function_">onSubmit</span>(): <span class="hljs-keyword">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoginInProgress</span>.<span class="hljs-title function_">set</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_authService</span>
      .<span class="hljs-title function_">login</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-property">controls</span>.<span class="hljs-property">email</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>(), <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-property">controls</span>.<span class="hljs-property">password</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>())
      .<span class="hljs-title function_">pipe</span>(
        <span class="hljs-title function_">catchError</span>(<span class="hljs-function">(<span class="hljs-params">error: HttpErrorResponse</span>) =></span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleAuthError</span>(error);
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">of</span>(error);
        }),
        <span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">response</span> =></span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_handleLogin</span>(response)),
        <span class="hljs-title function_">finalize</span>(<span class="hljs-function">() =></span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoginInProgress</span>.<span class="hljs-title function_">set</span>(<span class="hljs-literal">false</span>))
      )
      .<span class="hljs-title function_">subscribe</span>();
  }

  private <span class="hljs-title function_">_handleLogin</span>(<span class="hljs-attr">response</span>: any): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">if</span> (!response?.<span class="hljs-property">user</span>) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">const</span> accessToken = response.<span class="hljs-property">user</span>.<span class="hljs-property">accessToken</span>;
    <span class="hljs-keyword">const</span> user_uid = response.<span class="hljs-property">user</span>.<span class="hljs-property">uid</span>;
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'accessToken'</span>, accessToken);
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'user_uid'</span>, user_uid);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_router</span>.<span class="hljs-title function_">navigateByUrl</span>(<span class="hljs-string">'/'</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();
  }

  <span class="hljs-title function_">handleAuthError</span>(<span class="hljs-attr">err</span>: <span class="hljs-title class_">HttpErrorResponse</span>): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">if</span> (!err.<span class="hljs-property">error</span>.<span class="hljs-property">code</span>) <span class="hljs-keyword">return</span>;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">authError</span>.<span class="hljs-title function_">set</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-property">valueChanges</span>
      .<span class="hljs-title function_">pipe</span>(
        <span class="hljs-title function_">take</span>(<span class="hljs-number">1</span>),
        <span class="hljs-title function_">tap</span>(<span class="hljs-function">() =></span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">authError</span>.<span class="hljs-title function_">set</span>(<span class="hljs-literal">false</span>))
      )
      .<span class="hljs-title function_">subscribe</span>();
  }

  <span class="hljs-title function_">isLoggedIn</span>(): boolean {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'accessToken'</span>) !== <span class="hljs-literal">null</span>
  }
}
</code></pre>
<p>component.html</p>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"form"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit()"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-detail"</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">h2</span>></span>Login Form<span class="hljs-tag">&#x3C;/<span class="hljs-name">h2</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-row-total"</span>></span>

    @if(login) {
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert alert-success"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"alert"</span>></span>
        Login avec succès
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    }

    <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-row"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"이메일"</span> <span class="hljs-attr">required</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">"[^@]+@[^@]+\.[a-zA-Z]{2,6}"</span>></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    @if (authError()) {
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert alert-danger"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"alert"</span>></span>
        잘못된 비밀번호 또는 이메일
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    }
    @if (form.controls.email.errors?.required) {
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert alert-danger"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"alert"</span>></span>
        이메일을 입력해주세요
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    }
    @if (form.controls.email.errors?.email) {
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert alert-danger"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"alert"</span>></span>
        잘못된 이메일 형식입니다
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    }
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>

  <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-row-total"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-row"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"비밀번호"</span> <span class="hljs-attr">required</span>></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>

    @if (authError()) {
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert alert-danger"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"alert"</span> ></span>
        잘못된 비밀번호 또는 이메일
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    }

    @if (form.controls.password.errors?.required) {
      <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert alert-danger"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"alert"</span>  <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-top: 90px;"</span>></span>
        비밀번호를 입력해주세요
      <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
    }

  <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-row-last"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"register"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"register"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"로그인"</span> [<span class="hljs-attr">disabled</span>]=<span class="hljs-string">"!form.valid"</span> ></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">form</span>></span>
</code></pre>
<p>custom-validators.ts</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AbstractControl</span>, <span class="hljs-title class_">ValidationErrors</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomValidators</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">email</span>(<span class="hljs-attr">control</span>: <span class="hljs-title class_">AbstractControl</span>&#x3C;string>): <span class="hljs-title class_">ValidationErrors</span> | <span class="hljs-literal">null</span> {
    <span class="hljs-keyword">const</span> emailRegex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-regexp">/^\S+@\S+\.\S+$/</span>);

    <span class="hljs-keyword">if</span> (!control.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> emailRegex.<span class="hljs-title function_">test</span>(control.<span class="hljs-property">value</span>) ? <span class="hljs-literal">null</span> : { <span class="hljs-attr">email</span>: <span class="hljs-literal">true</span> };
  }
}
</code></pre>
<!-- TIL 수평 -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4877378276818686" data-ad-slot="1549334788" data-ad-format="auto" data-full-width-responsive="true"></ins></p>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<p>답변 확인자 - Marie Seifert (수정 관리자)</p>
<p>이 답변은 stackoverflow에서 수집되었으며 cc by-sa 2.5, cc by-sa 3.0 및 cc by-sa 4.0의 라이센스를 따릅니다.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"로그인 시 폼 유효성 검사가 작동하지 않는 이유는","description":"","date":"2024-07-07 19:18","slug":"2024-07-07-Whymyformvalidationwhilelogginginisnotworking","content":"\n\n내 ts 컴포넌트 파일:\n\n```js\nimport { Component, inject } from '@angular/core';\nimport { HeaderComponent } from \"../header/header.component\";\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { timer } from 'rxjs';\nimport { Router, RouterModule } from '@angular/router';\nimport { AuthService } from '../../auth.service';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n@Component({\n    selector: 'app-login',\n    standalone: true,\n    templateUrl: './login.component.html',\n    styleUrl: './login.component.css',\n    imports: [HeaderComponent,CommonModule,ReactiveFormsModule]\n})\nexport class LoginComponent {\n  \n    isLoginInProgress: boolean | undefined;\n    errorMessage: string | null = null; \n    \n    form = this.fb.nonNullable.group({ \n      email: ['', Validators.required],\n      password: ['', Validators.required],\n    });\n    \n    constructor(\n      private fb: FormBuilder, \n      private authService: AuthService,\n      ) {\n      \n      const accessToken = localStorage.getItem('accessToken');\n      if (accessToken) {\n        window.history.back();\n      }\n    }\n     router = inject(Router);\n  \n    // fb = inject(FormBuilder);\n    // http = inject(HttpClient);\n    //  authService = inject(AuthService);\n    data: any[] = [];\n    \n    validateEmail(email: string): boolean {\n      if (!email) {\n        return true; // 이메일 필드가 비어있으면 유효한 것으로 간주합니다 (필요 시 조정)\n      }\n      const emailRegex = /^\\S+@\\S+\\.\\S+$/; \n      return emailRegex.test(email);\n    }\n    \n\n    noemail=false;\n    noform=false;\n    nopwd=false;\n    login=false;\n  \n    onSubmit(): void {\n      this.errorMessage = null;\n        this.noemail = false;\n        this.noform = false;\n        this.nopwd = false;\n        console.log('폼 제출됨');\n        const rawform = this.form.getRawValue();\n        const email = rawform.email.trim();\n        this.isLoginInProgress = true;\n        this.authService\n          .login(email, rawform.password.trim())\n          .subscribe({\n            next: (response) =\u003e {\n              console.log(response!.user!.uid);\n              const accessToken = response!.user!.accessToken;\n              const user_uid = response!.user!.uid;\n              localStorage.setItem('accessToken', accessToken);\n              localStorage.setItem('user_uid', user_uid);\n              this.router.navigateByUrl('/');\n              window.location.reload();\n              this.isLoginInProgress = false;\n            },\n            error: (err: any) =\u003e {\n              this.handleAuthError(err);\n              this.isLoginInProgress = false;\n            },\n          });\n        if (!email) {\n          this.noemail = true \n  \n          this.noform=false\n          // 이메일이 입력되지 않았습니다\n        } \n        if (!this.validateEmail(email)) {\n          this.noemail=false\n          this.nopwd=false\n          this.noform=true \n          // 유효하지 않은 이메일 형식입니다\n        }\n        else\n        {\n          \n          this.noform=false\n        }\n  \n        \n        const mdp=rawform.password.trim();\n        if(!mdp ) \n          {\n            this.nopwd=true\n          }  \n    }\n  \n    handleAuthError(err: any): void {\n      console.error('인증 오류:', err); \n      const rawform = this.form.getRawValue();// 검사를 위해 오류 객체 기록\n      const email = rawform.email.trim();\n      switch (err.code) {\n        case 'auth/invalid-credential':\n          this.errorMessage = '유효하지 않은 비밀번호 또는 이메일';\n          this.nopwd=false\n          this.noemail=false\n          this.noform=false\n          break;\n        case 'auth/invalid-email' :\n          if (email)\n            {\n              this.nopwd=false\n              \n            }\n          break;\n        case this.validateEmail(email)  :\n          this.noform=false\n          this.noemail=false\n          break; \n      }\n  \n    }\n  \n    isLoggedIn(): boolean {\n      const hasAccessToken = localStorage.getItem('accessToken') !== null;\n      \n      timer(1000);\n      if (hasAccessToken) {\n        return true;\n      } else {     \n        return false;\n      }\n    }\n   \n    \n}\r\n```\n\n내 html 컴포넌트 내용:\n\n```js\n\u003capp-header style=\"background: linear-gradient(to left ,#032961,#4588ee);\"\u003e\u003c/app-header\u003e\n\n\u003chead\u003e\n  \u003cmeta charset=\"UTF-8\"\u003e\n  \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n  \u003clink href=\"/assets/css/styles.css\" rel=\"stylesheet\"\u003e\n  \u003clink href=\"/assets/bootstrap/bootstrap.css\" rel=\"stylesheet\"\u003e\n  \n\u003c/head\u003e\n\u003cbody class=\"form-v9\" style=\"background: linear-gradient(to left ,#032961,#4588ee); \"\u003e\n    \u003cdiv class=\"page-content\"\u003e\n        \u003cdiv class=\"form-v9-content\" \u003e\n            \u003cform [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\" class=\"form-detail\" action=\"#\" method=\"post\"\u003e\n                \u003ch2\u003e로그인 양식\u003c/h2\u003e\n                \u003cdiv class=\"form-row-total\"\u003e\n                        \n                        \u003cdiv *ngIf=\"login\" class=\"alert alert-success\" role=\"alert\"\u003e\n                            성공적으로 로그인했습니다\n                        \u003c/div\u003e\n                    \u003cdiv class=\"form-row\"\u003e\n                        \u003cinput type=\"text\" name=\"email\" id=\"email\" class=\"input-text\" placeholder=\"이메일 주소\" required pattern=\"[^@]+@[^@]+.[a-zA-Z]{2,6}\"\u003e\n                    \u003c/div\u003e\n                    \u003cdiv *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\"\u003e\n                        { errorMessage }\n                      \u003c/div\u003e\n                          \u003cdiv *ngIf=\"noemail \" class=\"alert alert-danger\" role=\"alert\"\u003e\n                              이메일을 입력하세요\n                          \u003c/div\u003e \n                          \u003cdiv *ngIf=\"noform\" class=\"alert alert-danger\" role=\"alert\"\u003e\n                              올바르지 않은 이메일 형식 \n                          \u003c/div\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\"form-row-total\"\u003e\n                    \u003cdiv class=\"form-row\"\u003e\n                        \u003cinput type=\"password\" name=\"password\" id=\"password\" class=\"input-text\" placeholder=\"비밀번호\" required\u003e\n                    \u003c/div\u003e\n                    \n                    \u003cdiv *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\" \u003e\n                        { errorMessage }\n                      \u003c/div\u003e\n                    \u003cdiv *ngIf=\"nopwd\" class=\"alert alert-danger\" role=\"alert\"  style=\"margin-top: 90px;\"\u003e\n                        비밀번호를 입력하세요\n                    \u003c/div\u003e\n                    \n                \u003c/div\u003e\n                \u003cdiv class=\"form-row-last\"\u003e\n                    \u003cinput type=\"submit\" name=\"register\" class=\"register\" value=\"로그인\" \u003e\n                \u003c/div\u003e\n            \u003c/form\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/body\u003e\r\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n# 로그인 버튼을 누를 때 (필드가 비어있든 아니든) 표시되는 메시지가 \"비밀번호를 입력하십시오\" 및 \"이메일을 입력하십시오\"인 것 같습니다 (즉, 변수 'nopwd' 및 'noemail'의 값은 항상 true인 것처럼 보입니다). 문제가 정확히 어디에 있을까요? 그리고 무엇을 변경해야 할까요?\n\n# 해결책\n\n입력란에 formControlName을 추가하는 것을 잊으신 것 같습니다.\n\n```js\n\u003cinput type=\"text\" formControlName=\"email\" name=\"email\" id=\"email\" class=\"input-text\" placeholder=\"이메일을 입력하세요\" required pattern=\"[^@]+@[^@]+.[a-zA-Z]{2,6}\"\u003e\n\n\u003cinput type=\"password\" formControlName=\"password\" name=\"password\" id=\"password\" class=\"input-text\" placeholder=\"비밀번호를 입력하세요\" required\u003e\n```\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n코드를 개선했습니다.\n\ncomponent.ts\n\n```js\nimport { ChangeDetectionStrategy, Component, inject, signal } from '@angular/core';\nimport { Router, RouterOutlet } from '@angular/router';\nimport { AuthService } from '../../auth.service';\nimport { Location } from '@angular/common';\nimport { FormControl, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { CustomValidators } from './custom-validators';\nimport { catchError, of, take, tap } from 'rxjs';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n@Component({\n  selector: 'app-login',\n  standalone: true,\n  templateUrl: './login.component.html',\n  styleUrl: './login.component.css',\n  imports: [RouterOutlet, ReactiveFormsModule],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  private readonly _router = inject(Router);\n  private readonly _location = inject(Location);\n  private readonly _authService = inject(TestAuthService);\n\n  authError = signal\u003cboolean\u003e(false);\n  isLoginInProgress = signal\u003cboolean\u003e(false);\n\n  form = new FormGroup({\n    email: new FormControl\u003cstring\u003e('', { nonNullable: true, validators: [Validators.required, CustomValidators.email] }),\n    password: new FormControl\u003cstring\u003e('', { nonNullable: true, validators: [Validators.required] }),\n  });\n\n  login = false; // 항상 false입니다 O_o\n\n  constructor() {\n    const accessToken = localStorage.getItem('accessToken');\n    if (accessToken) this._location.back();\n  }\n\n  onSubmit(): void {\n    this.isLoginInProgress.set(true);\n    this._authService\n      .login(this.form.controls.email.value.trim(), this.form.controls.password.value.trim())\n      .pipe(\n        catchError((error: HttpErrorResponse) =\u003e {\n          this.handleAuthError(error);\n          return of(error);\n        }),\n        tap(response =\u003e this._handleLogin(response)),\n        finalize(() =\u003e this.isLoginInProgress.set(false))\n      )\n      .subscribe();\n  }\n\n  private _handleLogin(response: any): void {\n    if (!response?.user) return;\n\n    const accessToken = response.user.accessToken;\n    const user_uid = response.user.uid;\n    localStorage.setItem('accessToken', accessToken);\n    localStorage.setItem('user_uid', user_uid);\n    this._router.navigateByUrl('/');\n    window.location.reload();\n  }\n\n  handleAuthError(err: HttpErrorResponse): void {\n    if (!err.error.code) return;\n\n    this.authError.set(true);\n    this.form.valueChanges\n      .pipe(\n        take(1),\n        tap(() =\u003e this.authError.set(false))\n      )\n      .subscribe();\n  }\n\n  isLoggedIn(): boolean {\n    return localStorage.getItem('accessToken') !== null\n  }\n}\n```\n\ncomponent.html\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n\n```html\n\u003cform [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\" class=\"form-detail\"\u003e\n  \u003ch2\u003eLogin Form\u003c/h2\u003e\n  \u003cdiv class=\"form-row-total\"\u003e\n\n    @if(login) {\n      \u003cdiv class=\"alert alert-success\" role=\"alert\"\u003e\n        Login avec succès\n      \u003c/div\u003e\n    }\n\n    \u003cdiv class=\"form-row\"\u003e\n      \u003cinput type=\"text\" formControlName=\"email\" name=\"email\" id=\"email\" class=\"input-text\" placeholder=\"이메일\" required pattern=\"[^@]+@[^@]+\\.[a-zA-Z]{2,6}\"\u003e\n    \u003c/div\u003e\n    @if (authError()) {\n      \u003cdiv class=\"alert alert-danger\" role=\"alert\"\u003e\n        잘못된 비밀번호 또는 이메일\n      \u003c/div\u003e\n    }\n    @if (form.controls.email.errors?.required) {\n      \u003cdiv class=\"alert alert-danger\" role=\"alert\"\u003e\n        이메일을 입력해주세요\n      \u003c/div\u003e\n    }\n    @if (form.controls.email.errors?.email) {\n      \u003cdiv class=\"alert alert-danger\" role=\"alert\"\u003e\n        잘못된 이메일 형식입니다\n      \u003c/div\u003e\n    }\n  \u003c/div\u003e\n\n  \u003cdiv class=\"form-row-total\"\u003e\n    \u003cdiv class=\"form-row\"\u003e\n      \u003cinput type=\"password\" formControlName=\"password\" name=\"password\" id=\"password\" class=\"input-text\" placeholder=\"비밀번호\" required\u003e\n    \u003c/div\u003e\n\n    @if (authError()) {\n      \u003cdiv class=\"alert alert-danger\" role=\"alert\" \u003e\n        잘못된 비밀번호 또는 이메일\n      \u003c/div\u003e\n    }\n\n    @if (form.controls.password.errors?.required) {\n      \u003cdiv class=\"alert alert-danger\" role=\"alert\"  style=\"margin-top: 90px;\"\u003e\n        비밀번호를 입력해주세요\n      \u003c/div\u003e\n    }\n\n  \u003c/div\u003e\n  \u003cdiv class=\"form-row-last\"\u003e\n    \u003cinput type=\"submit\" name=\"register\" class=\"register\" value=\"로그인\" [disabled]=\"!form.valid\" \u003e\n  \u003c/div\u003e\n\u003c/form\u003e\n```\n\ncustom-validators.ts\n\n```js\nimport { AbstractControl, ValidationErrors } from '@angular/forms';\n\nexport class CustomValidators {\n  static email(control: AbstractControl\u003cstring\u003e): ValidationErrors | null {\n    const emailRegex = new RegExp(/^\\S+@\\S+\\.\\S+$/);\n\n    if (!control.value) return null;\n    return emailRegex.test(control.value) ? null : { email: true };\n  }\n}\n``` \n\n\n\u003c!-- TIL 수평 --\u003e\n\u003cins class=\"adsbygoogle\"\n     style=\"display:block\"\n     data-ad-client=\"ca-pub-4877378276818686\"\n     data-ad-slot=\"1549334788\"\n     data-ad-format=\"auto\"\n     data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\n답변 확인자 - Marie Seifert (수정 관리자)\n\n이 답변은 stackoverflow에서 수집되었으며 cc by-sa 2.5, cc by-sa 3.0 및 cc by-sa 4.0의 라이센스를 따릅니다.","ogImage":{"url":"/TIL/assets/no-image.jpg"},"coverImage":"/TIL/assets/no-image.jpg","tag":["Tech"],"readingTime":13},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e내 ts 컴포넌트 파일:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e, inject } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eHeaderComponent\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"../header/header.component\"\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eFormBuilder\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eValidators\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/forms'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { timer } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'rxjs'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eRouter\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eRouterModule\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/router'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eAuthService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../../auth.service'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eCommonModule\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/common'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eReactiveFormsModule\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/forms'\u003c/span\u003e;\n@\u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e({\n    \u003cspan class=\"hljs-attr\"\u003eselector\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app-login'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003estandalone\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003etemplateUrl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'./login.component.html'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003estyleUrl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'./login.component.css'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eimports\u003c/span\u003e: [\u003cspan class=\"hljs-title class_\"\u003eHeaderComponent\u003c/span\u003e,\u003cspan class=\"hljs-title class_\"\u003eCommonModule\u003c/span\u003e,\u003cspan class=\"hljs-title class_\"\u003eReactiveFormsModule\u003c/span\u003e]\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eLoginComponent\u003c/span\u003e {\n  \n    \u003cspan class=\"hljs-attr\"\u003eisLoginInProgress\u003c/span\u003e: boolean | \u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e;\n    \u003cspan class=\"hljs-attr\"\u003eerrorMessage\u003c/span\u003e: string | \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e; \n    \n    form = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003efb\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enonNullable\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egroup\u003c/span\u003e({ \n      \u003cspan class=\"hljs-attr\"\u003eemail\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eValidators\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003erequired\u003c/span\u003e],\n      \u003cspan class=\"hljs-attr\"\u003epassword\u003c/span\u003e: [\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eValidators\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003erequired\u003c/span\u003e],\n    });\n    \n    \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\n      private fb: FormBuilder, \n      private authService: AuthService,\n      \u003c/span\u003e) {\n      \n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e accessToken = \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'accessToken'\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (accessToken) {\n        \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ehistory\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eback\u003c/span\u003e();\n      }\n    }\n     router = \u003cspan class=\"hljs-title function_\"\u003einject\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eRouter\u003c/span\u003e);\n  \n    \u003cspan class=\"hljs-comment\"\u003e// fb = inject(FormBuilder);\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// http = inject(HttpClient);\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e//  authService = inject(AuthService);\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003edata\u003c/span\u003e: any[] = [];\n    \n    \u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003eemail\u003c/span\u003e: string): boolean {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!email) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 이메일 필드가 비어있으면 유효한 것으로 간주합니다 (필요 시 조정)\u003c/span\u003e\n      }\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e emailRegex = \u003cspan class=\"hljs-regexp\"\u003e/^\\S+@\\S+\\.\\S+$/\u003c/span\u003e; \n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e emailRegex.\u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(email);\n    }\n    \n\n    noemail=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n    noform=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n    nopwd=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n    login=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n  \n    \u003cspan class=\"hljs-title function_\"\u003eonSubmit\u003c/span\u003e(): \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e {\n      \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eerrorMessage\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoemail\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoform\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enopwd\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'폼 제출됨'\u003c/span\u003e);\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e rawform = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eform\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetRawValue\u003c/span\u003e();\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e email = rawform.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etrim\u003c/span\u003e();\n        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLoginInProgress\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n        \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eauthService\u003c/span\u003e\n          .\u003cspan class=\"hljs-title function_\"\u003elogin\u003c/span\u003e(email, rawform.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etrim\u003c/span\u003e())\n          .\u003cspan class=\"hljs-title function_\"\u003esubscribe\u003c/span\u003e({\n            \u003cspan class=\"hljs-attr\"\u003enext\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresponse\u003c/span\u003e) =\u003e\u003c/span\u003e {\n              \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(response!.\u003cspan class=\"hljs-property\"\u003euser\u003c/span\u003e!.\u003cspan class=\"hljs-property\"\u003euid\u003c/span\u003e);\n              \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e accessToken = response!.\u003cspan class=\"hljs-property\"\u003euser\u003c/span\u003e!.\u003cspan class=\"hljs-property\"\u003eaccessToken\u003c/span\u003e;\n              \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e user_uid = response!.\u003cspan class=\"hljs-property\"\u003euser\u003c/span\u003e!.\u003cspan class=\"hljs-property\"\u003euid\u003c/span\u003e;\n              \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'accessToken'\u003c/span\u003e, accessToken);\n              \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'user_uid'\u003c/span\u003e, user_uid);\n              \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003erouter\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003enavigateByUrl\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e);\n              \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elocation\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereload\u003c/span\u003e();\n              \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLoginInProgress\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n            },\n            \u003cspan class=\"hljs-attr\"\u003eerror\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr: any\u003c/span\u003e) =\u003e\u003c/span\u003e {\n              \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ehandleAuthError\u003c/span\u003e(err);\n              \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLoginInProgress\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n            },\n          });\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!email) {\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoemail\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e \n  \n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoform\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-comment\"\u003e// 이메일이 입력되지 않았습니다\u003c/span\u003e\n        } \n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(email)) {\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoemail\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enopwd\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoform\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e \n          \u003cspan class=\"hljs-comment\"\u003e// 유효하지 않은 이메일 형식입니다\u003c/span\u003e\n        }\n        \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e\n        {\n          \n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoform\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n        }\n  \n        \n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e mdp=rawform.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etrim\u003c/span\u003e();\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e(!mdp ) \n          {\n            \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enopwd\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e\n          }  \n    }\n  \n    \u003cspan class=\"hljs-title function_\"\u003ehandleAuthError\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003eerr\u003c/span\u003e: any): \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'인증 오류:'\u003c/span\u003e, err); \n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e rawform = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eform\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetRawValue\u003c/span\u003e();\u003cspan class=\"hljs-comment\"\u003e// 검사를 위해 오류 객체 기록\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e email = rawform.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etrim\u003c/span\u003e();\n      \u003cspan class=\"hljs-keyword\"\u003eswitch\u003c/span\u003e (err.\u003cspan class=\"hljs-property\"\u003ecode\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'auth/invalid-credential'\u003c/span\u003e:\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eerrorMessage\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e'유효하지 않은 비밀번호 또는 이메일'\u003c/span\u003e;\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enopwd\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoemail\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoform\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'auth/invalid-email'\u003c/span\u003e :\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (email)\n            {\n              \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enopwd\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n              \n            }\n          \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n        \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(email)  :\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoform\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003enoemail\u003c/span\u003e=\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e\n          \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e; \n      }\n  \n    }\n  \n    \u003cspan class=\"hljs-title function_\"\u003eisLoggedIn\u003c/span\u003e(): boolean {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e hasAccessToken = \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'accessToken'\u003c/span\u003e) !== \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n      \n      \u003cspan class=\"hljs-title function_\"\u003etimer\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (hasAccessToken) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e;\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {     \n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e;\n      }\n    }\n   \n    \n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e내 html 컴포넌트 내용:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;app-header style=\u003cspan class=\"hljs-string\"\u003e\"background: linear-gradient(to left ,#032961,#4588ee);\"\u003c/span\u003e\u003e\u0026#x3C;/app-header\u003e\n\n\u0026#x3C;head\u003e\n  \u0026#x3C;meta charset=\"UTF-8\"\u003e\n  \u0026#x3C;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n  \u0026#x3C;link href=\"/assets/css/styles.css\" rel=\"stylesheet\"\u003e\n  \u0026#x3C;link href=\"/assets/bootstrap/bootstrap.css\" rel=\"stylesheet\"\u003e\n  \n\u0026#x3C;/head\u003e\n\u0026#x3C;body class=\"form-v9\" style=\"background: linear-gradient(to left ,#032961,#4588ee); \"\u003e\n    \u0026#x3C;div class=\"page-content\"\u003e\n        \u0026#x3C;div class=\"form-v9-content\" \u003e\n            \u0026#x3C;form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\" class=\"form-detail\" action=\"#\" method=\"post\"\u003e\n                \u0026#x3C;h2\u003e로그인 양식\u0026#x3C;/h2\u003e\n                \u0026#x3C;div class=\"form-row-total\"\u003e\n                        \n                        \u0026#x3C;div *ngIf=\"login\" class=\"alert alert-success\" role=\"alert\"\u003e\n                            성공적으로 로그인했습니다\n                        \u0026#x3C;/div\u003e\n                    \u0026#x3C;div class=\"form-row\"\u003e\n                        \u0026#x3C;input type=\"text\" name=\"email\" id=\"email\" class=\"input-text\" placeholder=\"이메일 주소\" required pattern=\"[^@]+@[^@]+.[a-zA-Z]{2,6}\"\u003e\n                    \u0026#x3C;/div\u003e\n                    \u0026#x3C;div *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\"\u003e\n                        { errorMessage }\n                      \u0026#x3C;/div\u003e\n                          \u0026#x3C;div *ngIf=\"noemail \" class=\"alert alert-danger\" role=\"alert\"\u003e\n                              이메일을 입력하세요\n                          \u0026#x3C;/div\u003e \n                          \u0026#x3C;div *ngIf=\"noform\" class=\"alert alert-danger\" role=\"alert\"\u003e\n                              올바르지 않은 이메일 형식 \n                          \u0026#x3C;/div\u003e\n                \u0026#x3C;/div\u003e\n                \u0026#x3C;div class=\"form-row-total\"\u003e\n                    \u0026#x3C;div class=\"form-row\"\u003e\n                        \u0026#x3C;input type=\"password\" name=\"password\" id=\"password\" class=\"input-text\" placeholder=\"비밀번호\" required\u003e\n                    \u0026#x3C;/div\u003e\n                    \n                    \u0026#x3C;div *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\" \u003e\n                        { errorMessage }\n                      \u0026#x3C;/div\u003e\n                    \u0026#x3C;div *ngIf=\"nopwd\" class=\"alert alert-danger\" role=\"alert\"  style=\"margin-top: 90px;\"\u003e\n                        비밀번호를 입력하세요\n                    \u0026#x3C;/div\u003e\n                    \n                \u0026#x3C;/div\u003e\n                \u0026#x3C;div class=\"form-row-last\"\u003e\n                    \u0026#x3C;input type=\"submit\" name=\"register\" class=\"register\" value=\"로그인\" \u003e\n                \u0026#x3C;/div\u003e\n            \u0026#x3C;/form\u003e\n        \u0026#x3C;/div\u003e\n    \u0026#x3C;/div\u003e\n\u0026#x3C;/body\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003ch1\u003e로그인 버튼을 누를 때 (필드가 비어있든 아니든) 표시되는 메시지가 \"비밀번호를 입력하십시오\" 및 \"이메일을 입력하십시오\"인 것 같습니다 (즉, 변수 'nopwd' 및 'noemail'의 값은 항상 true인 것처럼 보입니다). 문제가 정확히 어디에 있을까요? 그리고 무엇을 변경해야 할까요?\u003c/h1\u003e\n\u003ch1\u003e해결책\u003c/h1\u003e\n\u003cp\u003e입력란에 formControlName을 추가하는 것을 잊으신 것 같습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u0026#x3C;input type=\u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e formControlName=\u003cspan class=\"hljs-string\"\u003e\"email\"\u003c/span\u003e name=\u003cspan class=\"hljs-string\"\u003e\"email\"\u003c/span\u003e id=\u003cspan class=\"hljs-string\"\u003e\"email\"\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"input-text\"\u003c/span\u003e placeholder=\u003cspan class=\"hljs-string\"\u003e\"이메일을 입력하세요\"\u003c/span\u003e required pattern=\u003cspan class=\"hljs-string\"\u003e\"[^@]+@[^@]+.[a-zA-Z]{2,6}\"\u003c/span\u003e\u003e\n\n\u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eformControlName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"input-text\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"비밀번호를 입력하세요\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erequired\u003c/span\u003e\u003e\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e코드를 개선했습니다.\u003c/p\u003e\n\u003cp\u003ecomponent.ts\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eChangeDetectionStrategy\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e, inject, signal } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/core'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eRouter\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eRouterOutlet\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/router'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eAuthService\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../../auth.service'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eLocation\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/common'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eFormControl\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eFormGroup\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eReactiveFormsModule\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eValidators\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/forms'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eCustomValidators\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'./custom-validators'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { catchError, \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e, take, tap } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'rxjs'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eHttpErrorResponse\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/common/http'\u003c/span\u003e;\n\n@\u003cspan class=\"hljs-title class_\"\u003eComponent\u003c/span\u003e({\n  \u003cspan class=\"hljs-attr\"\u003eselector\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'app-login'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003estandalone\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etemplateUrl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'./login.component.html'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003estyleUrl\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'./login.component.css'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eimports\u003c/span\u003e: [\u003cspan class=\"hljs-title class_\"\u003eRouterOutlet\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eReactiveFormsModule\u003c/span\u003e],\n  \u003cspan class=\"hljs-attr\"\u003echangeDetection\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eChangeDetectionStrategy\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eOnPush\u003c/span\u003e,\n})\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eAppComponent\u003c/span\u003e {\n  private readonly _router = \u003cspan class=\"hljs-title function_\"\u003einject\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eRouter\u003c/span\u003e);\n  private readonly _location = \u003cspan class=\"hljs-title function_\"\u003einject\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eLocation\u003c/span\u003e);\n  private readonly _authService = \u003cspan class=\"hljs-title function_\"\u003einject\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eTestAuthService\u003c/span\u003e);\n\n  authError = signal\u0026#x3C;boolean\u003e(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n  isLoginInProgress = signal\u0026#x3C;boolean\u003e(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n\n  form = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFormGroup\u003c/span\u003e({\n    \u003cspan class=\"hljs-attr\"\u003eemail\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFormControl\u003c/span\u003e\u0026#x3C;string\u003e(\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003enonNullable\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003evalidators\u003c/span\u003e: [\u003cspan class=\"hljs-title class_\"\u003eValidators\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003erequired\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eCustomValidators\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e] }),\n    \u003cspan class=\"hljs-attr\"\u003epassword\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFormControl\u003c/span\u003e\u0026#x3C;string\u003e(\u003cspan class=\"hljs-string\"\u003e''\u003c/span\u003e, { \u003cspan class=\"hljs-attr\"\u003enonNullable\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003evalidators\u003c/span\u003e: [\u003cspan class=\"hljs-title class_\"\u003eValidators\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003erequired\u003c/span\u003e] }),\n  });\n\n  login = \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// 항상 false입니다 O_o\u003c/span\u003e\n\n  \u003cspan class=\"hljs-title function_\"\u003econstructor\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e accessToken = \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'accessToken'\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (accessToken) \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e_location\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eback\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003eonSubmit\u003c/span\u003e(): \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLoginInProgress\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eset\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e_authService\u003c/span\u003e\n      .\u003cspan class=\"hljs-title function_\"\u003elogin\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eform\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econtrols\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etrim\u003c/span\u003e(), \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eform\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003econtrols\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003etrim\u003c/span\u003e())\n      .\u003cspan class=\"hljs-title function_\"\u003epipe\u003c/span\u003e(\n        \u003cspan class=\"hljs-title function_\"\u003ecatchError\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerror: HttpErrorResponse\u003c/span\u003e) =\u003e\u003c/span\u003e {\n          \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ehandleAuthError\u003c/span\u003e(error);\n          \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eof\u003c/span\u003e(error);\n        }),\n        \u003cspan class=\"hljs-title function_\"\u003etap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eresponse\u003c/span\u003e =\u003e\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003e_handleLogin\u003c/span\u003e(response)),\n        \u003cspan class=\"hljs-title function_\"\u003efinalize\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eisLoginInProgress\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eset\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e))\n      )\n      .\u003cspan class=\"hljs-title function_\"\u003esubscribe\u003c/span\u003e();\n  }\n\n  private \u003cspan class=\"hljs-title function_\"\u003e_handleLogin\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003eresponse\u003c/span\u003e: any): \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!response?.\u003cspan class=\"hljs-property\"\u003euser\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e accessToken = response.\u003cspan class=\"hljs-property\"\u003euser\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eaccessToken\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e user_uid = response.\u003cspan class=\"hljs-property\"\u003euser\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003euid\u003c/span\u003e;\n    \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'accessToken'\u003c/span\u003e, accessToken);\n    \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'user_uid'\u003c/span\u003e, user_uid);\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e_router\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003enavigateByUrl\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e);\n    \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elocation\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereload\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003ehandleAuthError\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003eerr\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eHttpErrorResponse\u003c/span\u003e): \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!err.\u003cspan class=\"hljs-property\"\u003eerror\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ecode\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eauthError\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eset\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n    \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eform\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003evalueChanges\u003c/span\u003e\n      .\u003cspan class=\"hljs-title function_\"\u003epipe\u003c/span\u003e(\n        \u003cspan class=\"hljs-title function_\"\u003etake\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e),\n        \u003cspan class=\"hljs-title function_\"\u003etap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u003e\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eauthError\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eset\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e))\n      )\n      .\u003cspan class=\"hljs-title function_\"\u003esubscribe\u003c/span\u003e();\n  }\n\n  \u003cspan class=\"hljs-title function_\"\u003eisLoggedIn\u003c/span\u003e(): boolean {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'accessToken'\u003c/span\u003e) !== \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ecomponent.html\u003c/p\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eform\u003c/span\u003e [\u003cspan class=\"hljs-attr\"\u003eformGroup\u003c/span\u003e]=\u003cspan class=\"hljs-string\"\u003e\"form\"\u003c/span\u003e (\u003cspan class=\"hljs-attr\"\u003engSubmit\u003c/span\u003e)=\u003cspan class=\"hljs-string\"\u003e\"onSubmit()\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"form-detail\"\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003eLogin Form\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eh2\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"form-row-total\"\u003c/span\u003e\u003e\u003c/span\u003e\n\n    @if(login) {\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert alert-success\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erole\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert\"\u003c/span\u003e\u003e\u003c/span\u003e\n        Login avec succès\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    }\n\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"form-row\"\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"text\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eformControlName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"email\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"email\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"email\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"input-text\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"이메일\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erequired\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003epattern\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"[^@]+@[^@]+\\.[a-zA-Z]{2,6}\"\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    @if (authError()) {\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert alert-danger\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erole\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert\"\u003c/span\u003e\u003e\u003c/span\u003e\n        잘못된 비밀번호 또는 이메일\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    }\n    @if (form.controls.email.errors?.required) {\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert alert-danger\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erole\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert\"\u003c/span\u003e\u003e\u003c/span\u003e\n        이메일을 입력해주세요\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    }\n    @if (form.controls.email.errors?.email) {\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert alert-danger\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erole\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert\"\u003c/span\u003e\u003e\u003c/span\u003e\n        잘못된 이메일 형식입니다\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    }\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"form-row-total\"\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"form-row\"\u003c/span\u003e\u003e\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eformControlName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"input-text\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eplaceholder\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"비밀번호\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erequired\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n\n    @if (authError()) {\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert alert-danger\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erole\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert\"\u003c/span\u003e \u003e\u003c/span\u003e\n        잘못된 비밀번호 또는 이메일\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    }\n\n    @if (form.controls.password.errors?.required) {\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert alert-danger\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003erole\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"alert\"\u003c/span\u003e  \u003cspan class=\"hljs-attr\"\u003estyle\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"margin-top: 90px;\"\u003c/span\u003e\u003e\u003c/span\u003e\n        비밀번호를 입력해주세요\n      \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n    }\n\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"form-row-last\"\u003c/span\u003e\u003e\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"register\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclass\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"register\"\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"로그인\"\u003c/span\u003e [\u003cspan class=\"hljs-attr\"\u003edisabled\u003c/span\u003e]=\u003cspan class=\"hljs-string\"\u003e\"!form.valid\"\u003c/span\u003e \u003e\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u003e\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026#x3C;/\u003cspan class=\"hljs-name\"\u003eform\u003c/span\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ecustom-validators.ts\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eAbstractControl\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eValidationErrors\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@angular/forms'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eCustomValidators\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eemail\u003c/span\u003e(\u003cspan class=\"hljs-attr\"\u003econtrol\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eAbstractControl\u003c/span\u003e\u0026#x3C;string\u003e): \u003cspan class=\"hljs-title class_\"\u003eValidationErrors\u003c/span\u003e | \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e emailRegex = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eRegExp\u003c/span\u003e(\u003cspan class=\"hljs-regexp\"\u003e/^\\S+@\\S+\\.\\S+$/\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!control.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e emailRegex.\u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(control.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e) ? \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e : { \u003cspan class=\"hljs-attr\"\u003eemail\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e };\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c!-- TIL 수평 --\u003e\n\u003cp\u003e\u003cins class=\"adsbygoogle\" style=\"display:block\" data-ad-client=\"ca-pub-4877378276818686\" data-ad-slot=\"1549334788\" data-ad-format=\"auto\" data-full-width-responsive=\"true\"\u003e\u003c/ins\u003e\u003c/p\u003e\n\u003cscript\u003e\n(adsbygoogle = window.adsbygoogle || []).push({});\n\u003c/script\u003e\n\u003cp\u003e답변 확인자 - Marie Seifert (수정 관리자)\u003c/p\u003e\n\u003cp\u003e이 답변은 stackoverflow에서 수집되었으며 cc by-sa 2.5, cc by-sa 3.0 및 cc by-sa 4.0의 라이센스를 따릅니다.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-07-07-Whymyformvalidationwhilelogginginisnotworking"},"buildId":"QAkYP0lvl03W-5CKD69kb","assetPrefix":"/TIL","isFallback":false,"gsp":true,"scriptLoader":[{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4877378276818686","strategy":"lazyOnload","crossOrigin":"anonymous"}]}</script></body></html>